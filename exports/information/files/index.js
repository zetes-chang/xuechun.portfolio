var g4=Object.create;var Ih=Object.defineProperty;var v4=Object.getOwnPropertyDescriptor;var y4=Object.getOwnPropertyNames;var b4=Object.getPrototypeOf,w4=Object.prototype.hasOwnProperty;var $=(t,e)=>()=>(t&&(e=t(t=0)),e);var oe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),mr=(t,e)=>{for(var r in e)Ih(t,r,{get:e[r],enumerable:!0})},hE=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of y4(e))!w4.call(t,n)&&n!==r&&Ih(t,n,{get:()=>e[n],enumerable:!(i=v4(e,n))||i.enumerable});return t};var ye=(t,e,r)=>(r=t!=null?g4(b4(t)):{},hE(e||!t||!t.__esModule?Ih(r,"default",{value:t,enumerable:!0}):r,t)),Fc=t=>hE(Ih({},"__esModule",{value:!0}),t);function So(t,e){for(var r in e)t[r]=e[r];return t}function Ry(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Bt(t,e,r){var i,n,o,s={};for(o in e)o=="key"?i=e[o]:o=="ref"?n=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?Uc.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return zc(t,s,i,n,null)}function zc(t,e,r,i,n){var o={type:t,props:e,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:n??++vE,__i:-1,__u:0};return n==null&&dt.vnode!=null&&dt.vnode(o),o}function Se(){return{current:null}}function he(t){return t.children}function me(t,e){this.props=t,this.context=e}function zl(t,e){if(e==null)return t.__?zl(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?zl(t):null}function _E(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return _E(t)}}function Ty(t){(!t.__d&&(t.__d=!0)&&Fa.push(t)&&!Th.__r++||fE!==dt.debounceRendering)&&((fE=dt.debounceRendering)||yE)(Th)}function Th(){for(var t,e,r,i,n,o,s,a=1;Fa.length;)Fa.length>a&&Fa.sort(bE),t=Fa.shift(),a=Fa.length,t.__d&&(r=void 0,n=(i=(e=t).__v).__e,o=[],s=[],e.__P&&((r=So({},i)).__v=i.__v+1,dt.vnode&&dt.vnode(r),ky(e.__P,r,i,e.__n,e.__P.namespaceURI,32&i.__u?[n]:null,o,n??zl(i),!!(32&i.__u),s),r.__v=i.__v,r.__.__k[r.__i]=r,PE(o,r,s),r.__e!=n&&_E(r)));Th.__r=0}function EE(t,e,r,i,n,o,s,a,l,p,f){var c,m,v,g,x,E,_=i&&i.__k||SE,D=e.length;for(l=S4(r,e,_,l,D),c=0;c<D;c++)(v=r.__k[c])!=null&&(m=v.__i===-1?Bc:_[v.__i]||Bc,v.__i=c,E=ky(t,v,m,n,o,s,a,l,p,f),g=v.__e,v.ref&&m.ref!=v.ref&&(m.ref&&Ny(m.ref,null,v),f.push(v.ref,v.__c||g,v)),x==null&&g!=null&&(x=g),4&v.__u||m.__k===v.__k?l=CE(v,l,t):typeof v.type=="function"&&E!==void 0?l=E:g&&(l=g.nextSibling),v.__u&=-7);return r.__e=x,l}function S4(t,e,r,i,n){var o,s,a,l,p,f=r.length,c=f,m=0;for(t.__k=new Array(n),o=0;o<n;o++)(s=e[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(l=o+m,(s=t.__k[o]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?zc(null,s,null,null,null):Hc(s)?zc(he,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?zc(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,a=null,(p=s.__i=_4(s,r,l,c))!==-1&&(c--,(a=r[p])&&(a.__u|=2)),a==null||a.__v===null?(p==-1&&(n>f?m--:n<f&&m++),typeof s.type!="function"&&(s.__u|=4)):p!=l&&(p==l-1?m--:p==l+1?m++:(p>l?m--:m++,s.__u|=4))):t.__k[o]=null;if(c)for(o=0;o<f;o++)(a=r[o])!=null&&!(2&a.__u)&&(a.__e==i&&(i=zl(a)),AE(a,a));return i}function CE(t,e,r){var i,n;if(typeof t.type=="function"){for(i=t.__k,n=0;i&&n<i.length;n++)i[n]&&(i[n].__=t,e=CE(i[n],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=zl(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function _o(t,e){return e=e||[],t==null||typeof t=="boolean"||(Hc(t)?t.some(function(r){_o(r,e)}):e.push(t)),e}function _4(t,e,r,i){var n,o,s=t.key,a=t.type,l=e[r];if(l===null&&t.key==null||l&&s==l.key&&a===l.type&&!(2&l.__u))return r;if(i>(l!=null&&!(2&l.__u)?1:0))for(n=r-1,o=r+1;n>=0||o<e.length;){if(n>=0){if((l=e[n])&&!(2&l.__u)&&s==l.key&&a===l.type)return n;n--}if(o<e.length){if((l=e[o])&&!(2&l.__u)&&s==l.key&&a===l.type)return o;o++}}return-1}function mE(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||x4.test(e)?r:r+"px"}function Ah(t,e,r,i,n){var o;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)r&&e in r||mE(t.style,e,"");if(r)for(e in r)i&&r[e]===i[e]||mE(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(wE,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?i?r.t=i.t:(r.t=My,t.addEventListener(e,o?Ay:Iy,o)):t.removeEventListener(e,o?Ay:Iy,o);else{if(n=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function gE(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.u==null)e.u=My++;else if(e.u<r.t)return;return r(dt.event?dt.event(e):e)}}}function ky(t,e,r,i,n,o,s,a,l,p){var f,c,m,v,g,x,E,_,D,M,P,L,I,q,N,F,W,U=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(l=!!(32&r.__u),o=[a=e.__e=r.__e]),(f=dt.__b)&&f(e);e:if(typeof U=="function")try{if(_=e.props,D="prototype"in U&&U.prototype.render,M=(f=U.contextType)&&i[f.__c],P=f?M?M.props.value:f.__:i,r.__c?E=(c=e.__c=r.__c).__=c.__E:(D?e.__c=c=new U(_,P):(e.__c=c=new me(_,P),c.constructor=U,c.render=C4),M&&M.sub(c),c.props=_,c.state||(c.state={}),c.context=P,c.__n=i,m=c.__d=!0,c.__h=[],c._sb=[]),D&&c.__s==null&&(c.__s=c.state),D&&U.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=So({},c.__s)),So(c.__s,U.getDerivedStateFromProps(_,c.__s))),v=c.props,g=c.state,c.__v=e,m)D&&U.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),D&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(D&&U.getDerivedStateFromProps==null&&_!==v&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(_,P),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(_,c.__s,P)===!1||e.__v==r.__v)){for(e.__v!=r.__v&&(c.props=_,c.state=c.__s,c.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(Z){Z&&(Z.__=e)}),L=0;L<c._sb.length;L++)c.__h.push(c._sb[L]);c._sb=[],c.__h.length&&s.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(_,c.__s,P),D&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(v,g,x)})}if(c.context=P,c.props=_,c.__P=t,c.__e=!1,I=dt.__r,q=0,D){for(c.state=c.__s,c.__d=!1,I&&I(e),f=c.render(c.props,c.state,c.context),N=0;N<c._sb.length;N++)c.__h.push(c._sb[N]);c._sb=[]}else do c.__d=!1,I&&I(e),f=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++q<25);c.state=c.__s,c.getChildContext!=null&&(i=So(So({},i),c.getChildContext())),D&&!m&&c.getSnapshotBeforeUpdate!=null&&(x=c.getSnapshotBeforeUpdate(v,g)),F=f,f!=null&&f.type===he&&f.key==null&&(F=IE(f.props.children)),a=EE(t,Hc(F)?F:[F],e,r,i,n,o,s,a,l,p),c.base=e.__e,e.__u&=-161,c.__h.length&&s.push(c),E&&(c.__E=c.__=null)}catch(Z){if(e.__v=null,l||o!=null)if(Z.then){for(e.__u|=l?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,e.__e=a}else for(W=o.length;W--;)Ry(o[W]);else e.__e=r.__e,e.__k=r.__k;dt.__e(Z,e,r)}else o==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):a=e.__e=E4(r.__e,e,r,i,n,o,s,l,p);return(f=dt.diffed)&&f(e),128&e.__u?void 0:a}function PE(t,e,r){for(var i=0;i<r.length;i++)Ny(r[i],r[++i],r[++i]);dt.__c&&dt.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(o){o.call(n)})}catch(o){dt.__e(o,n.__v)}})}function IE(t){return typeof t!="object"||t==null?t:Hc(t)?t.map(IE):So({},t)}function E4(t,e,r,i,n,o,s,a,l){var p,f,c,m,v,g,x,E=r.props,_=e.props,D=e.type;if(D=="svg"?n="http://www.w3.org/2000/svg":D=="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),o!=null){for(p=0;p<o.length;p++)if((v=o[p])&&"setAttribute"in v==!!D&&(D?v.localName==D:v.nodeType==3)){t=v,o[p]=null;break}}if(t==null){if(D==null)return document.createTextNode(_);t=document.createElementNS(n,D,_.is&&_),a&&(dt.__m&&dt.__m(e,o),a=!1),o=null}if(D===null)E===_||a&&t.data===_||(t.data=_);else{if(o=o&&Uc.call(t.childNodes),E=r.props||Bc,!a&&o!=null)for(E={},p=0;p<t.attributes.length;p++)E[(v=t.attributes[p]).name]=v.value;for(p in E)if(v=E[p],p!="children"){if(p=="dangerouslySetInnerHTML")c=v;else if(!(p in _)){if(p=="value"&&"defaultValue"in _||p=="checked"&&"defaultChecked"in _)continue;Ah(t,p,null,v,n)}}for(p in _)v=_[p],p=="children"?m=v:p=="dangerouslySetInnerHTML"?f=v:p=="value"?g=v:p=="checked"?x=v:a&&typeof v!="function"||E[p]===v||Ah(t,p,v,E[p],n);if(f)a||c&&(f.__html===c.__html||f.__html===t.innerHTML)||(t.innerHTML=f.__html),e.__k=[];else if(c&&(t.innerHTML=""),EE(e.type==="template"?t.content:t,Hc(m)?m:[m],e,r,i,D=="foreignObject"?"http://www.w3.org/1999/xhtml":n,o,s,o?o[0]:r.__k&&zl(r,0),a,l),o!=null)for(p=o.length;p--;)Ry(o[p]);a||(p="value",D=="progress"&&g==null?t.removeAttribute("value"):g!==void 0&&(g!==t[p]||D=="progress"&&!g||D=="option"&&g!==E[p])&&Ah(t,p,g,E[p],n),p="checked",x!==void 0&&x!==t[p]&&Ah(t,p,x,E[p],n))}return t}function Ny(t,e,r){try{if(typeof t=="function"){var i=typeof t.__u=="function";i&&t.__u(),i&&e==null||(t.__u=t(e))}else t.current=e}catch(n){dt.__e(n,r)}}function AE(t,e,r){var i,n;if(dt.unmount&&dt.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||Ny(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){dt.__e(o,e)}i.base=i.__P=null}if(i=t.__k)for(n=0;n<i.length;n++)i[n]&&AE(i[n],e,r||typeof t.type!="function");r||Ry(t.__e),t.__c=t.__=t.__e=void 0}function C4(t,e,r){return this.constructor(t,r)}function Ws(t,e,r){var i,n,o,s;e==document&&(e=document.documentElement),dt.__&&dt.__(t,e),n=(i=typeof r=="function")?null:r&&r.__k||e.__k,o=[],s=[],ky(e,t=(!i&&r||e).__k=Bt(he,null,[t]),n||Bc,Bc,e.namespaceURI,!i&&r?[r]:n?null:e.firstChild?Uc.call(e.childNodes):null,o,!i&&r?r:n?n.__e:e.firstChild,i,s),PE(o,t,s)}function Wc(t,e){Ws(t,e,Wc)}function TE(t,e,r){var i,n,o,s,a=So({},t.props);for(o in t.type&&t.type.defaultProps&&(s=t.type.defaultProps),e)o=="key"?i=e[o]:o=="ref"?n=e[o]:a[o]=e[o]===void 0&&s!==void 0?s[o]:e[o];return arguments.length>2&&(a.children=arguments.length>3?Uc.call(arguments,2):r),zc(t.type,a,i||t.key,n||t.ref,null)}function Mn(t){function e(r){var i,n;return this.getChildContext||(i=new Set,(n={})[e.__c]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.forEach(function(s){s.__e=!0,Ty(s)})},this.sub=function(o){i.add(o);var s=o.componentWillUnmount;o.componentWillUnmount=function(){i&&i.delete(o),s&&s.call(o)}}),r.children}return e.__c="__cC"+xE++,e.__=t,e.Provider=e.__l=(e.Consumer=function(r,i){return r.children(i)}).contextType=e,e}var Uc,dt,vE,qc,Fa,fE,yE,bE,wE,My,Iy,Ay,xE,Bc,SE,x4,Hc,ke=$(()=>{Bc={},SE=[],x4=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Hc=Array.isArray;Uc=SE.slice,dt={__e:function(t,e,r,i){for(var n,o,s;e=e.__;)if((n=e.__c)&&!n.__)try{if((o=n.constructor)&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(t)),s=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t,i||{}),s=n.__d),s)return n.__E=n}catch(a){t=a}throw t}},vE=0,qc=function(t){return t!=null&&t.constructor==null},me.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=So({},this.state),typeof t=="function"&&(t=t(So({},r),this.props)),t&&So(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ty(this))},me.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ty(this))},me.prototype.render=he,Fa=[],yE=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,bE=function(t,e){return t.__v.__b-e.__v.__b},Th.__r=0,wE=/(PointerCapture)$|Capture$/i,My=0,Iy=gE(!1),Ay=gE(!0),xE=0});function za(t,e){br.__h&&br.__h(or,t,Bl||e),Bl=0;var r=or.__H||(or.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function _i(t){return Bl=1,$n(BE,t)}function $n(t,e,r){var i=za(ns++,2);if(i.t=t,!i.__c&&(i.__=[r?r(e):BE(void 0,e),function(a){var l=i.__N?i.__N[0]:i.__[0],p=i.t(l,a);l!==p&&(i.__N=[p,i.__[1]],i.__c.setState({}))}],i.__c=or,!or.__f)){var n=function(a,l,p){if(!i.__c.__H)return!0;var f=i.__c.__H.__.filter(function(m){return!!m.__c});if(f.every(function(m){return!m.__N}))return!o||o.call(this,a,l,p);var c=i.__c.props!==a;return f.forEach(function(m){if(m.__N){var v=m.__[0];m.__=m.__N,m.__N=void 0,v!==m.__[0]&&(c=!0)}}),o&&o.call(this,a,l,p)||c};or.__f=!0;var o=or.shouldComponentUpdate,s=or.componentWillUpdate;or.componentWillUpdate=function(a,l,p){if(this.__e){var f=o;o=void 0,n(a,l,p),o=f}s&&s.call(this,a,l,p)},or.shouldComponentUpdate=n}return i.__N||i.__}function Ht(t,e){var r=za(ns++,3);!br.__s&&Ly(r.__H,e)&&(r.__=t,r.u=e,or.__H.__h.push(r))}function zi(t,e){var r=za(ns++,4);!br.__s&&Ly(r.__H,e)&&(r.__=t,r.u=e,or.__h.push(r))}function Ei(t){return Bl=5,er(function(){return{current:t}},[])}function Vs(t,e,r){Bl=6,zi(function(){if(typeof t=="function"){var i=t(e());return function(){t(null),i&&typeof i=="function"&&i()}}if(t)return t.current=e(),function(){return t.current=null}},r==null?r:r.concat(t))}function er(t,e){var r=za(ns++,7);return Ly(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function $s(t,e){return Bl=8,er(function(){return t},e)}function Ur(t){var e=or.context[t.__c],r=za(ns++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(or)),e.props.value):t.__}function Vc(t,e){br.useDebugValue&&br.useDebugValue(e?e(t):t)}function P4(t){var e=za(ns++,10),r=_i();return e.__=t,or.componentDidCatch||(or.componentDidCatch=function(i,n){e.__&&e.__(i,n),r[1](i)}),[r[0],function(){r[1](void 0)}]}function Rh(){var t=za(ns++,11);if(!t.__){for(var e=or.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function I4(){for(var t;t=zE.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Mh),t.__H.__h.forEach(Dy),t.__H.__h=[]}catch(e){t.__H.__h=[],br.__e(e,t.__v)}}function A4(t){var e,r=function(){clearTimeout(i),FE&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(r,100);FE&&(e=requestAnimationFrame(r))}function Mh(t){var e=or,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),or=e}function Dy(t){var e=or;t.__c=t.__(),or=e}function Ly(t,e){return!t||t.length!==e.length||e.some(function(r,i){return r!==t[i]})}function BE(t,e){return typeof e=="function"?e(t):e}var ns,or,Oy,ME,Bl,zE,br,RE,kE,NE,OE,DE,LE,FE,js=$(()=>{ke();Bl=0,zE=[],br=dt,RE=br.__b,kE=br.__r,NE=br.diffed,OE=br.__c,DE=br.unmount,LE=br.__;br.__b=function(t){or=null,RE&&RE(t)},br.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),LE&&LE(t,e)},br.__r=function(t){kE&&kE(t),ns=0;var e=(or=t.__c).__H;e&&(Oy===or?(e.__h=[],or.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(Mh),e.__h.forEach(Dy),e.__h=[],ns=0)),Oy=or},br.diffed=function(t){NE&&NE(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(zE.push(e)!==1&&ME===br.requestAnimationFrame||((ME=br.requestAnimationFrame)||A4)(I4)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),Oy=or=null},br.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Mh),r.__h=r.__h.filter(function(i){return!i.__||Dy(i)})}catch(i){e.some(function(n){n.__h&&(n.__h=[])}),e=[],br.__e(i,r.__v)}}),OE&&OE(t,e)},br.unmount=function(t){DE&&DE(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(i){try{Mh(i)}catch(n){e=n}}),r.__H=void 0,e&&br.__e(e,r.__v))};FE=typeof requestAnimationFrame=="function"});var hC={};mr(hC,{Children:()=>Ba,Component:()=>me,Fragment:()=>he,PureComponent:()=>Or,StrictMode:()=>dC,Suspense:()=>$c,SuspenseList:()=>Ul,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>iC,cloneElement:()=>aC,createContext:()=>Mn,createElement:()=>Bt,createFactory:()=>nC,createPortal:()=>it,createRef:()=>Se,default:()=>ze,findDOMNode:()=>uC,flushSync:()=>cC,forwardRef:()=>Bi,hydrate:()=>rC,isElement:()=>pC,isFragment:()=>oC,isMemo:()=>sC,isValidElement:()=>jc,lazy:()=>JE,memo:()=>YE,render:()=>tC,startTransition:()=>Uy,unmountComponentAtNode:()=>lC,unstable_batchedUpdates:()=>Gc,useCallback:()=>$s,useContext:()=>Ur,useDebugValue:()=>Vc,useDeferredValue:()=>qy,useEffect:()=>Ht,useErrorBoundary:()=>P4,useId:()=>Rh,useImperativeHandle:()=>Vs,useInsertionEffect:()=>Wy,useLayoutEffect:()=>zi,useMemo:()=>er,useReducer:()=>$n,useRef:()=>Ei,useState:()=>_i,useSyncExternalStore:()=>By,useTransition:()=>Hy,version:()=>H4});function KE(t,e){for(var r in e)t[r]=e[r];return t}function zy(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function By(t,e){var r=e(),i=_i({t:{__:r,u:e}}),n=i[0].t,o=i[1];return zi(function(){n.__=r,n.u=e,Fy(n)&&o({t:n})},[t,r,e]),Ht(function(){return Fy(n)&&o({t:n}),t(function(){Fy(n)&&o({t:n})})},[t]),r}function Fy(t){var e,r,i=t.u,n=t.__;try{var o=i();return!((e=n)===(r=o)&&(e!==0||1/e==1/r)||e!=e&&r!=r)}catch{return!0}}function Uy(t){t()}function qy(t){return t}function Hy(){return[!1,Uy]}function Or(t,e){this.props=t,this.context=e}function YE(t,e){function r(n){var o=this.props.ref,s=o==n.ref;return!s&&o&&(o.call?o(null):o.current=null),e?!e(this.props,n)||!s:zy(this.props,n)}function i(n){return this.shouldComponentUpdate=r,Bt(t,n)}return i.displayName="Memo("+(t.displayName||t.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}function Bi(t){function e(r){var i=KE({},r);return delete i.ref,t(i,r.ref||null)}return e.$$typeof=T4,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}function XE(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),t.__c.__H=null),(t=KE({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(i){return XE(i,e,r)})),t}function ZE(t,e,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(i){return ZE(i,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=r)),t}function $c(){this.__u=0,this.o=null,this.__b=null}function QE(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function JE(t){var e,r,i;function n(o){if(e||(e=t()).then(function(s){r=s.default||s},function(s){i=s}),i)throw i;if(!r)throw e;return Bt(r,o)}return n.displayName="Lazy",n.__f=!0,n}function Ul(){this.i=null,this.l=null}function R4(t){return this.getChildContext=function(){return t.context},t.children}function k4(t){var e=this,r=t.h;e.componentWillUnmount=function(){Ws(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),e.v||(e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),e.h.appendChild(i)},insertBefore:function(i,n){this.childNodes.push(i),e.h.insertBefore(i,n)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.h.removeChild(i)}}),Ws(Bt(R4,{context:e.context},t.__v),e.v)}function it(t,e){var r=Bt(k4,{__v:t,h:e});return r.containerInfo=e,r}function tC(t,e,r){return e.__k==null&&(e.textContent=""),Ws(t,e),typeof r=="function"&&r(),t?t.__c:null}function rC(t,e,r){return Wc(t,e),typeof r=="function"&&r(),t?t.__c:null}function z4(){}function B4(){return this.cancelBubble}function U4(){return this.defaultPrevented}function nC(t){return Bt.bind(null,t)}function jc(t){return!!t&&t.$$typeof===eC}function oC(t){return jc(t)&&t.type===he}function sC(t){return!!t&&!!t.displayName&&(typeof t.displayName=="string"||t.displayName instanceof String)&&t.displayName.startsWith("Memo(")}function aC(t){return jc(t)?TE.apply(null,arguments):t}function lC(t){return!!t.__k&&(Ws(null,t),!0)}function uC(t){return t&&(t.base||t.nodeType===1&&t)||null}var Wy,UE,T4,qE,Ba,M4,HE,WE,eC,N4,O4,D4,L4,F4,VE,Vy,q4,$E,jE,GE,iC,H4,Gc,cC,dC,pC,ze,Ye=$(()=>{ke();ke();js();js();Wy=zi;(Or.prototype=new me).isPureReactComponent=!0,Or.prototype.shouldComponentUpdate=function(t,e){return zy(this.props,t)||zy(this.state,e)};UE=dt.__b;dt.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),UE&&UE(t)};T4=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;qE=function(t,e){return t==null?null:_o(_o(t).map(e))},Ba={map:qE,forEach:qE,count:function(t){return t?_o(t).length:0},only:function(t){var e=_o(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:_o},M4=dt.__e;dt.__e=function(t,e,r,i){if(t.then){for(var n,o=e;o=o.__;)if((n=o.__c)&&n.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),n.__c(t,e)}M4(t,e,r,i)};HE=dt.unmount;dt.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),HE&&HE(t)},($c.prototype=new me).__c=function(t,e){var r=e.__c,i=this;i.o==null&&(i.o=[]),i.o.push(r);var n=QE(i.__v),o=!1,s=function(){o||(o=!0,r.__R=null,n?n(a):a())};r.__R=s;var a=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=ZE(l,l.__c.__P,l.__c.__O)}var p;for(i.setState({__a:i.__b=null});p=i.o.pop();)p.forceUpdate()}};i.__u++||32&e.__u||i.setState({__a:i.__b=i.__v.__k[0]}),t.then(s,s)},$c.prototype.componentWillUnmount=function(){this.o=[]},$c.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=XE(this.__b,r,i.__O=i.__P)}this.__b=null}var n=e.__a&&Bt(he,null,t.fallback);return n&&(n.__u&=-33),[Bt(he,null,e.__a?null:t.children),n]};WE=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};(Ul.prototype=new me).__a=function(t){var e=this,r=QE(e.__v),i=e.l.get(t);return i[0]++,function(n){var o=function(){e.props.revealOrder?(i.push(n),WE(e,t,i)):n()};r?r(o):o()}},Ul.prototype.render=function(t){this.i=null,this.l=new Map;var e=_o(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},Ul.prototype.componentDidUpdate=Ul.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,r){WE(t,r,e)})};eC=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,N4=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,O4=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,D4=/[A-Z0-9]/g,L4=typeof document<"u",F4=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};me.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(me.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});VE=dt.event;dt.event=function(t){return VE&&(t=VE(t)),t.persist=z4,t.isPropagationStopped=B4,t.isDefaultPrevented=U4,t.nativeEvent=t};q4={enumerable:!1,configurable:!0,get:function(){return this.class}},$E=dt.vnode;dt.vnode=function(t){typeof t.type=="string"&&function(e){var r=e.props,i=e.type,n={},o=i.indexOf("-")===-1;for(var s in r){var a=r[s];if(!(s==="value"&&"defaultValue"in r&&a==null||L4&&s==="children"&&i==="noscript"||s==="class"||s==="className")){var l=s.toLowerCase();s==="defaultValue"&&"value"in r&&r.value==null?s="value":s==="download"&&a===!0?a="":l==="translate"&&a==="no"?a=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?s="ondblclick":l!=="onchange"||i!=="input"&&i!=="textarea"||F4(r.type)?l==="onfocus"?s="onfocusin":l==="onblur"?s="onfocusout":O4.test(s)&&(s=l):l=s="oninput":o&&N4.test(s)?s=s.replace(D4,"-$&").toLowerCase():a===null&&(a=void 0),l==="oninput"&&n[s=l]&&(s="oninputCapture"),n[s]=a}}i=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=_o(r.children).forEach(function(p){p.props.selected=n.value.indexOf(p.props.value)!=-1})),i=="select"&&n.defaultValue!=null&&(n.value=_o(r.children).forEach(function(p){p.props.selected=n.multiple?n.defaultValue.indexOf(p.props.value)!=-1:n.defaultValue==p.props.value})),r.class&&!r.className?(n.class=r.class,Object.defineProperty(n,"className",q4)):(r.className&&!r.class||r.class&&r.className)&&(n.class=n.className=r.className),e.props=n}(t),t.$$typeof=eC,$E&&$E(t)};jE=dt.__r;dt.__r=function(t){jE&&jE(t),Vy=t.__c};GE=dt.diffed;dt.diffed=function(t){GE&&GE(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value),Vy=null};iC={ReactCurrentDispatcher:{current:{readContext:function(t){return Vy.__n[t.__c].props.value},useCallback:$s,useContext:Ur,useDebugValue:Vc,useDeferredValue:qy,useEffect:Ht,useId:Rh,useImperativeHandle:Vs,useInsertionEffect:Wy,useLayoutEffect:zi,useMemo:er,useReducer:$n,useRef:Ei,useState:_i,useSyncExternalStore:By,useTransition:Hy}}},H4="18.3.1";Gc=function(t,e){return t(e)},cC=function(t,e){return t(e)},dC=he,pC=jc,ze={useState:_i,useId:Rh,useReducer:$n,useEffect:Ht,useLayoutEffect:zi,useInsertionEffect:Wy,useTransition:Hy,useDeferredValue:qy,useSyncExternalStore:By,startTransition:Uy,useRef:Ei,useImperativeHandle:Vs,useMemo:er,useCallback:$s,useContext:Ur,useDebugValue:Vc,version:"18.3.1",Children:Ba,render:tC,hydrate:rC,unmountComponentAtNode:lC,createPortal:it,createElement:Bt,createContext:Mn,createFactory:nC,cloneElement:aC,createRef:Se,Fragment:he,isValidElement:jc,isElement:pC,isFragment:oC,isMemo:sC,findDOMNode:uC,Component:me,PureComponent:Or,memo:YE,forwardRef:Bi,flushSync:cC,unstable_batchedUpdates:Gc,StrictMode:dC,Suspense:$c,SuspenseList:Ul,lazy:JE,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:iC}});var mC=oe((oce,fC)=>{"use strict";var W4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";fC.exports=W4});var bC=oe((sce,yC)=>{"use strict";var V4=mC();function gC(){}function vC(){}vC.resetWarningCache=gC;yC.exports=function(){function t(i,n,o,s,a,l){if(l!==V4){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:vC,resetWarningCache:gC};return r.PropTypes=r,r}});var $y=oe((uce,wC)=>{wC.exports=bC()();var ace,lce});var Rn,Gs=$(()=>{Ye();Rn=ze.createContext(null)});function $4(t){t()}var xC,SC,_C,jy=$(()=>{xC=$4,SC=function(e){return xC=e},_C=function(){return xC}});function j4(){var t=_C(),e=null,r=null;return{clear:function(){e=null,r=null},notify:function(){t(function(){for(var n=e;n;)n.callback(),n=n.next})},get:function(){for(var n=[],o=e;o;)n.push(o),o=o.next;return n},subscribe:function(n){var o=!0,s=r={callback:n,next:null,prev:r};return s.prev?s.prev.next=s:e=s,function(){!o||e===null||(o=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}function Kc(t,e){var r,i=EC;function n(c){return l(),i.subscribe(c)}function o(){i.notify()}function s(){f.onStateChange&&f.onStateChange()}function a(){return!!r}function l(){r||(r=e?e.addNestedSub(s):t.subscribe(s),i=j4())}function p(){r&&(r(),r=void 0,i.clear(),i=EC)}var f={addNestedSub:n,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:p,getListeners:function(){return i}};return f}var EC,kh=$(()=>{jy();EC={notify:function(){},get:function(){return[]}}});var Yc,Nh=$(()=>{Ye();Yc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?zi:Ht});function G4(t){var e=t.store,r=t.context,i=t.children,n=er(function(){var a=Kc(e);return{store:e,subscription:a}},[e]),o=er(function(){return e.getState()},[e]);Yc(function(){var a=n.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[n,o]);var s=r||Rn;return ze.createElement(s.Provider,{value:n},i)}var Gy,CC=$(()=>{Ye();Gs();kh();Nh();Gy=G4});function Xt(){return Xt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Xt.apply(this,arguments)}var Ua=$(()=>{});function Ui(t,e){if(t==null)return{};var r={},i=Object.keys(t),n,o;for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}var ql=$(()=>{});var IC=oe(Zt=>{"use strict";var Kr=typeof Symbol=="function"&&Symbol.for,Ky=Kr?Symbol.for("react.element"):60103,Yy=Kr?Symbol.for("react.portal"):60106,Oh=Kr?Symbol.for("react.fragment"):60107,Dh=Kr?Symbol.for("react.strict_mode"):60108,Lh=Kr?Symbol.for("react.profiler"):60114,Fh=Kr?Symbol.for("react.provider"):60109,zh=Kr?Symbol.for("react.context"):60110,Xy=Kr?Symbol.for("react.async_mode"):60111,Bh=Kr?Symbol.for("react.concurrent_mode"):60111,Uh=Kr?Symbol.for("react.forward_ref"):60112,qh=Kr?Symbol.for("react.suspense"):60113,K4=Kr?Symbol.for("react.suspense_list"):60120,Hh=Kr?Symbol.for("react.memo"):60115,Wh=Kr?Symbol.for("react.lazy"):60116,Y4=Kr?Symbol.for("react.block"):60121,X4=Kr?Symbol.for("react.fundamental"):60117,Z4=Kr?Symbol.for("react.responder"):60118,Q4=Kr?Symbol.for("react.scope"):60119;function hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ky:switch(t=t.type,t){case Xy:case Bh:case Oh:case Lh:case Dh:case qh:return t;default:switch(t=t&&t.$$typeof,t){case zh:case Uh:case Wh:case Hh:case Fh:return t;default:return e}}case Yy:return e}}}function PC(t){return hn(t)===Bh}Zt.AsyncMode=Xy;Zt.ConcurrentMode=Bh;Zt.ContextConsumer=zh;Zt.ContextProvider=Fh;Zt.Element=Ky;Zt.ForwardRef=Uh;Zt.Fragment=Oh;Zt.Lazy=Wh;Zt.Memo=Hh;Zt.Portal=Yy;Zt.Profiler=Lh;Zt.StrictMode=Dh;Zt.Suspense=qh;Zt.isAsyncMode=function(t){return PC(t)||hn(t)===Xy};Zt.isConcurrentMode=PC;Zt.isContextConsumer=function(t){return hn(t)===zh};Zt.isContextProvider=function(t){return hn(t)===Fh};Zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ky};Zt.isForwardRef=function(t){return hn(t)===Uh};Zt.isFragment=function(t){return hn(t)===Oh};Zt.isLazy=function(t){return hn(t)===Wh};Zt.isMemo=function(t){return hn(t)===Hh};Zt.isPortal=function(t){return hn(t)===Yy};Zt.isProfiler=function(t){return hn(t)===Lh};Zt.isStrictMode=function(t){return hn(t)===Dh};Zt.isSuspense=function(t){return hn(t)===qh};Zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Oh||t===Bh||t===Lh||t===Dh||t===qh||t===K4||typeof t=="object"&&t!==null&&(t.$$typeof===Wh||t.$$typeof===Hh||t.$$typeof===Fh||t.$$typeof===zh||t.$$typeof===Uh||t.$$typeof===X4||t.$$typeof===Z4||t.$$typeof===Q4||t.$$typeof===Y4)};Zt.typeOf=hn});var Zy=oe((Cce,AC)=>{"use strict";AC.exports=IC()});var Vh=oe((Pce,OC)=>{"use strict";var Qy=Zy(),J4={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},e$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},t$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Jy={};Jy[Qy.ForwardRef]=t$;Jy[Qy.Memo]=kC;function TC(t){return Qy.isMemo(t)?kC:Jy[t.$$typeof]||J4}var r$=Object.defineProperty,i$=Object.getOwnPropertyNames,MC=Object.getOwnPropertySymbols,n$=Object.getOwnPropertyDescriptor,o$=Object.getPrototypeOf,RC=Object.prototype;function NC(t,e,r){if(typeof e!="string"){if(RC){var i=o$(e);i&&i!==RC&&NC(t,i,r)}var n=i$(e);MC&&(n=n.concat(MC(e)));for(var o=TC(t),s=TC(e),a=0;a<n.length;++a){var l=n[a];if(!e$[l]&&!(r&&r[l])&&!(s&&s[l])&&!(o&&o[l])){var p=n$(e,l);try{r$(t,l,p)}catch{}}}}return t}OC.exports=NC});var UC=oe(sr=>{"use strict";var $h=60103,jh=60106,Xc=60107,Zc=60108,Qc=60114,Jc=60109,ed=60110,td=60112,rd=60113,eb=60120,id=60115,nd=60116,DC=60121,LC=60122,FC=60117,zC=60129,BC=60131;typeof Symbol=="function"&&Symbol.for&&(Yr=Symbol.for,$h=Yr("react.element"),jh=Yr("react.portal"),Xc=Yr("react.fragment"),Zc=Yr("react.strict_mode"),Qc=Yr("react.profiler"),Jc=Yr("react.provider"),ed=Yr("react.context"),td=Yr("react.forward_ref"),rd=Yr("react.suspense"),eb=Yr("react.suspense_list"),id=Yr("react.memo"),nd=Yr("react.lazy"),DC=Yr("react.block"),LC=Yr("react.server.block"),FC=Yr("react.fundamental"),zC=Yr("react.debug_trace_mode"),BC=Yr("react.legacy_hidden"));var Yr;function jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $h:switch(t=t.type,t){case Xc:case Qc:case Zc:case rd:case eb:return t;default:switch(t=t&&t.$$typeof,t){case ed:case td:case nd:case id:case Jc:return t;default:return e}}case jh:return e}}}var s$=Jc,a$=$h,l$=td,u$=Xc,c$=nd,d$=id,p$=jh,h$=Qc,f$=Zc,m$=rd;sr.ContextConsumer=ed;sr.ContextProvider=s$;sr.Element=a$;sr.ForwardRef=l$;sr.Fragment=u$;sr.Lazy=c$;sr.Memo=d$;sr.Portal=p$;sr.Profiler=h$;sr.StrictMode=f$;sr.Suspense=m$;sr.isAsyncMode=function(){return!1};sr.isConcurrentMode=function(){return!1};sr.isContextConsumer=function(t){return jn(t)===ed};sr.isContextProvider=function(t){return jn(t)===Jc};sr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$h};sr.isForwardRef=function(t){return jn(t)===td};sr.isFragment=function(t){return jn(t)===Xc};sr.isLazy=function(t){return jn(t)===nd};sr.isMemo=function(t){return jn(t)===id};sr.isPortal=function(t){return jn(t)===jh};sr.isProfiler=function(t){return jn(t)===Qc};sr.isStrictMode=function(t){return jn(t)===Zc};sr.isSuspense=function(t){return jn(t)===rd};sr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xc||t===Qc||t===zC||t===Zc||t===rd||t===eb||t===BC||typeof t=="object"&&t!==null&&(t.$$typeof===nd||t.$$typeof===id||t.$$typeof===Jc||t.$$typeof===ed||t.$$typeof===td||t.$$typeof===FC||t.$$typeof===DC||t[0]===LC)};sr.typeOf=jn});var HC=oe((Ace,qC)=>{"use strict";qC.exports=UC()});function w$(t,e){var r=t[1];return[e.payload,r+1]}function WC(t,e,r){Yc(function(){return t.apply(void 0,e)},r)}function x$(t,e,r,i,n,o,s){t.current=i,e.current=n,r.current=!1,o.current&&(o.current=null,s())}function S$(t,e,r,i,n,o,s,a,l,p){if(t){var f=!1,c=null,m=function(){if(!f){var x=e.getState(),E,_;try{E=i(x,n.current)}catch(D){_=D,c=D}_||(c=null),E===o.current?s.current||l():(o.current=E,a.current=E,s.current=!0,p({type:"STORE_UPDATED",payload:{error:_}}))}};r.onStateChange=m,r.trySubscribe(),m();var v=function(){if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,c)throw c};return v}}function Gh(t,e){e===void 0&&(e={});var r=e,i=r.getDisplayName,n=i===void 0?function(I){return"ConnectAdvanced("+I+")"}:i,o=r.methodName,s=o===void 0?"connectAdvanced":o,a=r.renderCountProp,l=a===void 0?void 0:a,p=r.shouldHandleStateChanges,f=p===void 0?!0:p,c=r.storeKey,m=c===void 0?"store":c,v=r.withRef,g=v===void 0?!1:v,x=r.forwardRef,E=x===void 0?!1:x,_=r.context,D=_===void 0?Rn:_,M=Ui(r,g$);if(0)var P;var L=D;return function(q){var N=q.displayName||q.name||"Component",F=n(N),W=Xt({},M,{getDisplayName:n,methodName:s,renderCountProp:l,shouldHandleStateChanges:f,storeKey:m,displayName:F,wrappedComponentName:N,WrappedComponent:q}),U=M.pure;function Z(K){return t(K.dispatch,W)}var J=U?er:function(K){return K()};function ie(K){var Q=er(function(){var Tt=K.reactReduxForwardedRef,ri=Ui(K,v$);return[K.context,Tt,ri]},[K]),re=Q[0],ee=Q[1],ae=Q[2],se=er(function(){return re&&re.Consumer&&(0,VC.isContextConsumer)(ze.createElement(re.Consumer,null))?re:L},[re,L]),ce=Ur(se),_e=!!K.store&&!!K.store.getState&&!!K.store.dispatch,Ie=!!ce&&!!ce.store,ge=_e?K.store:ce.store,Re=er(function(){return Z(ge)},[ge]),Qe=er(function(){if(!f)return b$;var Tt=Kc(ge,_e?null:ce.subscription),ri=Tt.notifyNestedSubs.bind(Tt);return[Tt,ri]},[ge,_e,ce]),Me=Qe[0],$e=Qe[1],Ne=er(function(){return _e?ce:Xt({},ce,{subscription:Me})},[_e,ce,Me]),He=$n(w$,y$,_$),ft=He[0],at=ft[0],tt=He[1];if(at&&at.error)throw at.error;var Xe=Ei(),ct=Ei(ae),Rt=Ei(),Ze=Ei(!1),Dt=J(function(){return Rt.current&&ae===ct.current?Rt.current:Re(ge.getState(),ae)},[ge,at,ae]);WC(x$,[ct,Xe,Ze,ae,Dt,Rt,$e]),WC(S$,[f,ge,Me,Re,ct,Xe,Ze,Rt,$e,tt],[ge,Me,Re]);var _t=er(function(){return ze.createElement(q,Xt({},Dt,{ref:ee}))},[ee,q,Dt]),Ot=er(function(){return f?ze.createElement(se.Provider,{value:Ne},_t):_t},[se,_t,Ne]);return Ot}var le=U?ze.memo(ie):ie;if(le.WrappedComponent=q,le.displayName=ie.displayName=F,E){var G=ze.forwardRef(function(Q,re){return ze.createElement(le,Xt({},Q,{reactReduxForwardedRef:re}))});return G.displayName=F,G.WrappedComponent=q,(0,tb.default)(G,q)}return(0,tb.default)(le,q)}}var tb,VC,g$,v$,y$,b$,_$,rb=$(()=>{Ua();ql();tb=ye(Vh());Ye();VC=ye(HC());kh();Nh();Gs();g$=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],v$=["reactReduxForwardedRef"],y$=[],b$=[null,null];_$=function(){return[null,0]}});function $C(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Hl(t,e){if($C(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(e,r[n])||!$C(t[r[n]],e[r[n]]))return!1;return!0}var ib=$(()=>{});function nb(t,e){var r={},i=function(s){var a=t[s];typeof a=="function"&&(r[s]=function(){return e(a.apply(void 0,arguments))})};for(var n in t)i(n);return r}var jC=$(()=>{});var GC=$(()=>{});var ob=$(()=>{});var sb=$(()=>{GC();ob()});function od(t){return function(r,i){var n=t(r,i);function o(){return n}return o.dependsOnOwnProps=!1,o}}function KC(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function Kh(t,e){return function(i,n){var o=n.displayName,s=function(l,p){return s.dependsOnOwnProps?s.mapToProps(l,p):s.mapToProps(l)};return s.dependsOnOwnProps=!0,s.mapToProps=function(l,p){s.mapToProps=t,s.dependsOnOwnProps=KC(t);var f=s(l,p);return typeof f=="function"&&(s.mapToProps=f,s.dependsOnOwnProps=KC(f),f=s(l,p)),f},s}}var ab=$(()=>{sb()});function C$(t){return typeof t=="function"?Kh(t,"mapDispatchToProps"):void 0}function P$(t){return t?void 0:od(function(e){return{dispatch:e}})}function I$(t){return t&&typeof t=="object"?od(function(e){return nb(t,e)}):void 0}var YC,XC=$(()=>{jC();ab();YC=[C$,P$,I$]});function A$(t){return typeof t=="function"?Kh(t,"mapStateToProps"):void 0}function T$(t){return t?void 0:od(function(){return{}})}var ZC,QC=$(()=>{ab();ZC=[A$,T$]});function M$(t,e,r){return Xt({},r,t,e)}function R$(t){return function(r,i){var n=i.displayName,o=i.pure,s=i.areMergedPropsEqual,a=!1,l;return function(f,c,m){var v=t(f,c,m);return a?(!o||!s(v,l))&&(l=v):(a=!0,l=v),l}}}function k$(t){return typeof t=="function"?R$(t):void 0}function N$(t){return t?void 0:function(){return M$}}var JC,eP=$(()=>{Ua();sb();JC=[k$,N$]});var tP=$(()=>{ob()});function D$(t,e,r,i){return function(o,s){return r(t(o,s),e(i,s),s)}}function L$(t,e,r,i,n){var o=n.areStatesEqual,s=n.areOwnPropsEqual,a=n.areStatePropsEqual,l=!1,p,f,c,m,v;function g(M,P){return p=M,f=P,c=t(p,f),m=e(i,f),v=r(c,m,f),l=!0,v}function x(){return c=t(p,f),e.dependsOnOwnProps&&(m=e(i,f)),v=r(c,m,f),v}function E(){return t.dependsOnOwnProps&&(c=t(p,f)),e.dependsOnOwnProps&&(m=e(i,f)),v=r(c,m,f),v}function _(){var M=t(p,f),P=!a(M,c);return c=M,P&&(v=r(c,m,f)),v}function D(M,P){var L=!s(P,f),I=!o(M,p,P,f);return p=M,f=P,L&&I?x():L?E():I?_():v}return function(P,L){return l?D(P,L):g(P,L)}}function lb(t,e){var r=e.initMapStateToProps,i=e.initMapDispatchToProps,n=e.initMergeProps,o=Ui(e,O$),s=r(t,o),a=i(t,o),l=n(t,o),p=o.pure?L$:D$;return p(s,a,l,t,o)}var O$,rP=$(()=>{ql();tP();O$=["initMapStateToProps","initMapDispatchToProps","initMergeProps"]});function ub(t,e,r){for(var i=e.length-1;i>=0;i--){var n=e[i](t);if(n)return n}return function(o,s){throw new Error("Invalid value of type "+typeof t+" for "+r+" argument when connecting component "+s.wrappedComponentName+".")}}function z$(t,e){return t===e}function B$(t){var e=t===void 0?{}:t,r=e.connectHOC,i=r===void 0?Gh:r,n=e.mapStateToPropsFactories,o=n===void 0?ZC:n,s=e.mapDispatchToPropsFactories,a=s===void 0?YC:s,l=e.mergePropsFactories,p=l===void 0?JC:l,f=e.selectorFactory,c=f===void 0?lb:f;return function(v,g,x,E){E===void 0&&(E={});var _=E,D=_.pure,M=D===void 0?!0:D,P=_.areStatesEqual,L=P===void 0?z$:P,I=_.areOwnPropsEqual,q=I===void 0?Hl:I,N=_.areStatePropsEqual,F=N===void 0?Hl:N,W=_.areMergedPropsEqual,U=W===void 0?Hl:W,Z=Ui(_,F$),J=ub(v,o,"mapStateToProps"),ie=ub(g,a,"mapDispatchToProps"),le=ub(x,p,"mergeProps");return i(c,Xt({methodName:"connect",getDisplayName:function(K){return"Connect("+K+")"},shouldHandleStateChanges:!!v,initMapStateToProps:J,initMapDispatchToProps:ie,initMergeProps:le,pure:M,areStatesEqual:L,areOwnPropsEqual:q,areStatePropsEqual:F,areMergedPropsEqual:U},Z))}}var F$,Ue,iP=$(()=>{Ua();ql();rb();ib();XC();QC();eP();rP();F$=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];Ue=B$()});function cb(){var t=Ur(Rn);return t}var db=$(()=>{Ye();Gs()});function pb(t){t===void 0&&(t=Rn);var e=t===Rn?cb:function(){return Ur(t)};return function(){var i=e(),n=i.store;return n}}var Yh,hb=$(()=>{Ye();Gs();db();Yh=pb()});var nP=$(()=>{Gs();hb()});var oP=$(()=>{Ye();db();kh();Nh();Gs()});var sP=$(()=>{CC();rb();Gs();iP();nP();oP();hb();ib()});var aP=$(()=>{Ye()});var gt=$(()=>{sP();aP();jy();SC(Gc)});var Xh=oe(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.frontloadConnect=Ha.Frontload=void 0;var fb=function(){function t(e,r){for(var i=0;i<r.length;i++){var n=r[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();Ha.frontloadServerRender=X$;var U$=(Ye(),Fc(hC)),sd=uP(U$),q$=$y(),lP=uP(q$);function uP(t){return t&&t.__esModule?t:{default:t}}function cP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dP(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var H$=function(){return typeof window>"u"||!window.document||!window.document.createElement},W$=H$(),Wl=[],qa={MOUNT:0,UPDATE:1},V$=!1,hP=function(e,r){for(var i=[],n=0;n<e.length;n++)i.push(r(e[n],n));return i};function $$(t,e){var r=e.withLogging,i=e.continueRenderingOnError,n=void 0;return Promise.all(hP(t,function(o){return o.catch(function(s){return n||(n=s),r&&V$("frontloadServerRender info","ERROR:",s),s})})).then(function(){if(i!==!0&&n)throw n})}var j$=Ha.Frontload=function(t){pP(e,t),fb(e,[{key:"getChildContext",value:function(){var i=this;return{frontload:{isServer:this.isServer,firstClientRenderDone:this.isServer?!0:this.firstClientRenderDone,pushFrontload:function(o,s,a,l,p){var f=a===qa.MOUNT,c=a===qa.UPDATE,m=i.props.noServerRender||s.noServerRender;i.isServer&&m||f&&s.onMount===!1||c&&!s.onUpdate||(i.isServer?Wl.unshift({fn:function(){return o(l,{isMount:f,isUpdate:c})},options:s,componentDisplayName:l.displayName}):(m||i.firstClientRenderDone)&&o(l,{isMount:f,isUpdate:c}))}}}}}]);function e(r,i){cP(this,e);var n=dP(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,i));return n.isServer=r.isServer===void 0?W$:r.isServer,n.componentDidMount=function(){n.firstClientRenderDone=!0},n}return fb(e,[{key:"render",value:function(){return sd.default.Children.only(this.props.children)}}]),e}(sd.default.Component);j$.childContextTypes={frontload:lP.default.object};var fP=function(t){pP(e,t);function e(r,i){cP(this,e);var n=dP(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,i));return n.pushFrontload=function(o){return function(s){if(o===qa.UPDATE){var a=n.props.options._experimental_updateFunc;if(a&&!a(s.componentProps,n.props.componentProps))return}var l="for component: ["+(n.props.component.displayName||"anonymous")+"] on ["+(o===qa.MOUNT?"mount":"update")+"]";n.context.frontload.pushFrontload(n.props.frontload,n.props.options,o,n.props.componentProps,l)}},i.frontload.isServer?n.componentWillMount=n.pushFrontload(qa.MOUNT):(n.componentDidMount=n.pushFrontload(qa.MOUNT),n.componentDidUpdate=n.pushFrontload(qa.UPDATE)),n}return fb(e,[{key:"render",value:function(){return sd.default.createElement(this.props.component,this.props.componentProps)}}]),e}(sd.default.Component);fP.contextTypes={frontload:lP.default.object};var Jde=Ha.frontloadConnect=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(i){return function(n){return sd.default.createElement(fP,{frontload:e,component:i,componentProps:n,options:r})}}};function G$(t){t(!0);var e=Wl;return Wl=[],e}function K$(t,e){return $$(hP(t,function(r){return r.fn()}),e)}function Y$(t){var e=t(!1);return Wl=[],e}function mP(t,e){var r=e.withLogging,i=e.maxNestedFrontloadComponents,n=e.continueRenderingOnError,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=G$(t),l=a.length+0,p=l-s;if(!p){var f=Y$(t);return Promise.resolve(f)}var c=r&&Date.now();return K$(a,{withLogging:r,continueRenderingOnError:n}).then(function(){if(o===i){var m=t(!1),v=Wl.length+0,g=v-l;return Wl=[],m}return mP(t,{withLogging:r,maxNestedFrontloadComponents:i,continueRenderingOnError:n},o+1,l)})}function X$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.maxNestedFrontloadComponents||(e.maxNestedFrontloadComponents=1),mP(t,e)}});function ad(t,e){return ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},ad(t,e)}var gP=$(()=>{});function Zi(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ad(t,e)}var Zh=$(()=>{gP()});function Qh(t){return t.charAt(0)==="/"}function mb(t,e){for(var r=e,i=r+1,n=t.length;i<n;r+=1,i+=1)t[r]=t[i];t.pop()}function Z$(t,e){e===void 0&&(e="");var r=t&&t.split("/")||[],i=e&&e.split("/")||[],n=t&&Qh(t),o=e&&Qh(e),s=n||o;if(t&&Qh(t)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";var a;if(i.length){var l=i[i.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var p=0,f=i.length;f>=0;f--){var c=i[f];c==="."?mb(i,f):c===".."?(mb(i,f),p++):p&&(mb(i,f),p--)}if(!s)for(;p--;p)i.unshift("..");s&&i[0]!==""&&(!i[0]||!Qh(i[0]))&&i.unshift("");var m=i.join("/");return a&&m.substr(-1)!=="/"&&(m+="/"),m}var vP,yP=$(()=>{vP=Z$});var bP=$(()=>{});function J$(t,e){if(!Q$){if(t)return;var r="Warning: "+e;typeof console<"u"&&console.warn(r);try{throw Error(r)}catch{}}}var Q$,gb,wP=$(()=>{Q$=!0;gb=J$});function Gn(t,e){if(!t){if(e9)throw new Error(vb);var r=typeof e=="function"?e():e,i=r?"".concat(vb,": ").concat(r):vb;throw new Error(i)}}var e9,vb,Jh=$(()=>{e9=!0,vb="Invariant failed"});function ud(t){return t.charAt(0)==="/"?t:"/"+t}function xP(t){return t.charAt(0)==="/"?t.substr(1):t}function t9(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function IP(t,e){return t9(t,e)?t.substr(e.length):t}function AP(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function r9(t){var e=t||"/",r="",i="",n=e.indexOf("#");n!==-1&&(i=e.substr(n),e=e.substr(0,n));var o=e.indexOf("?");return o!==-1&&(r=e.substr(o),e=e.substr(0,o)),{pathname:e,search:r==="?"?"":r,hash:i==="#"?"":i}}function Ci(t){var e=t.pathname,r=t.search,i=t.hash,n=e||"/";return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function qi(t,e,r,i){var n;typeof t=="string"?(n=r9(t),n.state=e):(n=Xt({},t),n.pathname===void 0&&(n.pathname=""),n.search?n.search.charAt(0)!=="?"&&(n.search="?"+n.search):n.search="",n.hash?n.hash.charAt(0)!=="#"&&(n.hash="#"+n.hash):n.hash="",e!==void 0&&n.state===void 0&&(n.state=e));try{n.pathname=decodeURI(n.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+n.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return r&&(n.key=r),i?n.pathname?n.pathname.charAt(0)!=="/"&&(n.pathname=vP(n.pathname,i.pathname)):n.pathname=i.pathname:n.pathname||(n.pathname="/"),n}function bb(){var t=null;function e(s){return t=s,function(){t===s&&(t=null)}}function r(s,a,l,p){if(t!=null){var f=typeof t=="function"?t(s,a):t;typeof f=="string"?typeof l=="function"?l(f,p):p(!0):p(f!==!1)}else p(!0)}var i=[];function n(s){var a=!0;function l(){a&&s.apply(void 0,arguments)}return i.push(l),function(){a=!1,i=i.filter(function(p){return p!==l})}}function o(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];i.forEach(function(p){return p.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:r,appendListener:n,notifyListeners:o}}function MP(t,e){e(window.confirm(t))}function i9(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function n9(){return window.navigator.userAgent.indexOf("Trident")===-1}function o9(){return window.navigator.userAgent.indexOf("Firefox")===-1}function s9(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}function EP(){try{return window.history.state||{}}catch{return{}}}function ef(t){t===void 0&&(t={}),TP||Gn(!1);var e=window.history,r=i9(),i=!n9(),n=t,o=n.forceRefresh,s=o===void 0?!1:o,a=n.getUserConfirmation,l=a===void 0?MP:a,p=n.keyLength,f=p===void 0?6:p,c=t.basename?AP(ud(t.basename)):"";function m(re){var ee=re||{},ae=ee.key,se=ee.state,ce=window.location,_e=ce.pathname,Ie=ce.search,ge=ce.hash,Re=_e+Ie+ge;return c&&(Re=IP(Re,c)),qi(Re,se,ae)}function v(){return Math.random().toString(36).substr(2,f)}var g=bb();function x(re){Xt(Q,re),Q.length=e.length,g.notifyListeners(Q.location,Q.action)}function E(re){s9(re)||M(m(re.state))}function _(){M(m(EP()))}var D=!1;function M(re){if(D)D=!1,x();else{var ee="POP";g.confirmTransitionTo(re,ee,l,function(ae){ae?x({action:ee,location:re}):P(re)})}}function P(re){var ee=Q.location,ae=I.indexOf(ee.key);ae===-1&&(ae=0);var se=I.indexOf(re.key);se===-1&&(se=0);var ce=ae-se;ce&&(D=!0,W(ce))}var L=m(EP()),I=[L.key];function q(re){return c+Ci(re)}function N(re,ee){var ae="PUSH",se=qi(re,ee,v(),Q.location);g.confirmTransitionTo(se,ae,l,function(ce){if(ce){var _e=q(se),Ie=se.key,ge=se.state;if(r)if(e.pushState({key:Ie,state:ge},null,_e),s)window.location.href=_e;else{var Re=I.indexOf(Q.location.key),Qe=I.slice(0,Re+1);Qe.push(se.key),I=Qe,x({action:ae,location:se})}else window.location.href=_e}})}function F(re,ee){var ae="REPLACE",se=qi(re,ee,v(),Q.location);g.confirmTransitionTo(se,ae,l,function(ce){if(ce){var _e=q(se),Ie=se.key,ge=se.state;if(r)if(e.replaceState({key:Ie,state:ge},null,_e),s)window.location.replace(_e);else{var Re=I.indexOf(Q.location.key);Re!==-1&&(I[Re]=se.key),x({action:ae,location:se})}else window.location.replace(_e)}})}function W(re){e.go(re)}function U(){W(-1)}function Z(){W(1)}var J=0;function ie(re){J+=re,J===1&&re===1?(window.addEventListener(SP,E),i&&window.addEventListener(_P,_)):J===0&&(window.removeEventListener(SP,E),i&&window.removeEventListener(_P,_))}var le=!1;function G(re){re===void 0&&(re=!1);var ee=g.setPrompt(re);return le||(ie(1),le=!0),function(){return le&&(le=!1,ie(-1)),ee()}}function K(re){var ee=g.appendListener(re);return ie(1),function(){ie(-1),ee()}}var Q={length:e.length,action:"POP",location:L,createHref:q,push:N,replace:F,go:W,goBack:U,goForward:Z,block:G,listen:K};return Q}function RP(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function ld(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function l9(t){window.location.hash=t}function yb(t){window.location.replace(RP(window.location.href)+"#"+t)}function kP(t){t===void 0&&(t={}),TP||Gn(!1);var e=window.history,r=o9(),i=t,n=i.getUserConfirmation,o=n===void 0?MP:n,s=i.hashType,a=s===void 0?"slash":s,l=t.basename?AP(ud(t.basename)):"",p=a9[a],f=p.encodePath,c=p.decodePath;function m(){var ae=c(ld());return l&&(ae=IP(ae,l)),qi(ae)}var v=bb();function g(ae){Xt(ee,ae),ee.length=e.length,v.notifyListeners(ee.location,ee.action)}var x=!1,E=null;function _(ae,se){return ae.pathname===se.pathname&&ae.search===se.search&&ae.hash===se.hash}function D(){var ae=ld(),se=f(ae);if(ae!==se)yb(se);else{var ce=m(),_e=ee.location;if(!x&&_(_e,ce)||E===Ci(ce))return;E=null,M(ce)}}function M(ae){if(x)x=!1,g();else{var se="POP";v.confirmTransitionTo(ae,se,o,function(ce){ce?g({action:se,location:ae}):P(ae)})}}function P(ae){var se=ee.location,ce=N.lastIndexOf(Ci(se));ce===-1&&(ce=0);var _e=N.lastIndexOf(Ci(ae));_e===-1&&(_e=0);var Ie=ce-_e;Ie&&(x=!0,Z(Ie))}var L=ld(),I=f(L);L!==I&&yb(I);var q=m(),N=[Ci(q)];function F(ae){var se=document.querySelector("base"),ce="";return se&&se.getAttribute("href")&&(ce=RP(window.location.href)),ce+"#"+f(l+Ci(ae))}function W(ae,se){var ce="PUSH",_e=qi(ae,void 0,void 0,ee.location);v.confirmTransitionTo(_e,ce,o,function(Ie){if(Ie){var ge=Ci(_e),Re=f(l+ge),Qe=ld()!==Re;if(Qe){E=ge,l9(Re);var Me=N.lastIndexOf(Ci(ee.location)),$e=N.slice(0,Me+1);$e.push(ge),N=$e,g({action:ce,location:_e})}else g()}})}function U(ae,se){var ce="REPLACE",_e=qi(ae,void 0,void 0,ee.location);v.confirmTransitionTo(_e,ce,o,function(Ie){if(Ie){var ge=Ci(_e),Re=f(l+ge),Qe=ld()!==Re;Qe&&(E=ge,yb(Re));var Me=N.indexOf(Ci(ee.location));Me!==-1&&(N[Me]=ge),g({action:ce,location:_e})}})}function Z(ae){e.go(ae)}function J(){Z(-1)}function ie(){Z(1)}var le=0;function G(ae){le+=ae,le===1&&ae===1?window.addEventListener(CP,D):le===0&&window.removeEventListener(CP,D)}var K=!1;function Q(ae){ae===void 0&&(ae=!1);var se=v.setPrompt(ae);return K||(G(1),K=!0),function(){return K&&(K=!1,G(-1)),se()}}function re(ae){var se=v.appendListener(ae);return G(1),function(){G(-1),se()}}var ee={length:e.length,action:"POP",location:q,createHref:F,push:W,replace:U,go:Z,goBack:J,goForward:ie,block:Q,listen:re};return ee}function PP(t,e,r){return Math.min(Math.max(t,e),r)}function NP(t){t===void 0&&(t={});var e=t,r=e.getUserConfirmation,i=e.initialEntries,n=i===void 0?["/"]:i,o=e.initialIndex,s=o===void 0?0:o,a=e.keyLength,l=a===void 0?6:a,p=bb();function f(N){Xt(q,N),q.length=q.entries.length,p.notifyListeners(q.location,q.action)}function c(){return Math.random().toString(36).substr(2,l)}var m=PP(s,0,n.length-1),v=n.map(function(N){return typeof N=="string"?qi(N,void 0,c()):qi(N,void 0,N.key||c())}),g=Ci;function x(N,F){var W="PUSH",U=qi(N,F,c(),q.location);p.confirmTransitionTo(U,W,r,function(Z){if(Z){var J=q.index,ie=J+1,le=q.entries.slice(0);le.length>ie?le.splice(ie,le.length-ie,U):le.push(U),f({action:W,location:U,index:ie,entries:le})}})}function E(N,F){var W="REPLACE",U=qi(N,F,c(),q.location);p.confirmTransitionTo(U,W,r,function(Z){Z&&(q.entries[q.index]=U,f({action:W,location:U}))})}function _(N){var F=PP(q.index+N,0,q.entries.length-1),W="POP",U=q.entries[F];p.confirmTransitionTo(U,W,r,function(Z){Z?f({action:W,location:U,index:F}):f()})}function D(){_(-1)}function M(){_(1)}function P(N){var F=q.index+N;return F>=0&&F<q.entries.length}function L(N){return N===void 0&&(N=!1),p.setPrompt(N)}function I(N){return p.appendListener(N)}var q={length:v.length,action:"POP",location:v[m],index:m,entries:v,createHref:g,push:x,replace:E,go:_,goBack:D,goForward:M,canGo:P,block:L,listen:I};return q}var TP,SP,_P,CP,a9,tf=$(()=>{Ua();yP();bP();Jh();TP=!!(typeof window<"u"&&window.document&&window.document.createElement);SP="popstate",_P="hashchange";CP="hashchange",a9={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+xP(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:xP,decodePath:ud},slash:{encodePath:ud,decodePath:ud}}});function u9(){var t="__global_unique_id__";return OP[t]=(OP[t]||0)+1}function c9(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function d9(t){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(n){return n!==i})},get:function(){return t},set:function(i,n){t=i,e.forEach(function(o){return o(t,n)})}}}function p9(t){return Array.isArray(t)?t[0]:t}function h9(t,e){var r,i,n="__create-react-context-"+u9()+"__",o=function(a){Zi(l,a);function l(){var f;return f=a.apply(this,arguments)||this,f.emitter=d9(f.props.value),f}var p=l.prototype;return p.getChildContext=function(){var c;return c={},c[n]=this.emitter,c},p.componentWillReceiveProps=function(c){if(this.props.value!==c.value){var m=this.props.value,v=c.value,g;c9(m,v)?g=0:(g=typeof e=="function"?e(m,v):wb,g|=0,g!==0&&this.emitter.set(c.value,g))}},p.render=function(){return this.props.children},l}(me);o.childContextTypes=(r={},r[n]=xb.default.object.isRequired,r);var s=function(a){Zi(l,a);function l(){var f;return f=a.apply(this,arguments)||this,f.state={value:f.getValue()},f.onUpdate=function(c,m){var v=f.observedBits|0;v&m&&f.setState({value:f.getValue()})},f}var p=l.prototype;return p.componentWillReceiveProps=function(c){var m=c.observedBits;this.observedBits=m??wb},p.componentDidMount=function(){this.context[n]&&this.context[n].on(this.onUpdate);var c=this.props.observedBits;this.observedBits=c??wb},p.componentWillUnmount=function(){this.context[n]&&this.context[n].off(this.onUpdate)},p.getValue=function(){return this.context[n]?this.context[n].get():t},p.render=function(){return p9(this.props.children)(this.state.value)},l}(me);return s.contextTypes=(i={},i[n]=xb.default.object,i),{Provider:o,Consumer:s}}var xb,wb,OP,f9,DP,LP=$(()=>{Ye();Zh();xb=ye($y()),wb=1073741823,OP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};f9=ze.createContext||h9,DP=f9});var zP=oe((vpe,FP)=>{FP.exports=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"}});var HP=oe((ype,Vl)=>{var nf=zP();Vl.exports=qP;Vl.exports.parse=Sb;Vl.exports.compile=g9;Vl.exports.tokensToFunction=BP;Vl.exports.tokensToRegExp=UP;var m9=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Sb(t,e){for(var r=[],i=0,n=0,o="",s=e&&e.delimiter||"/",a;(a=m9.exec(t))!=null;){var l=a[0],p=a[1],f=a.index;if(o+=t.slice(n,f),n=f+l.length,p){o+=p[1];continue}var c=t[n],m=a[2],v=a[3],g=a[4],x=a[5],E=a[6],_=a[7];o&&(r.push(o),o="");var D=m!=null&&c!=null&&c!==m,M=E==="+"||E==="*",P=E==="?"||E==="*",L=a[2]||s,I=g||x;r.push({name:v||i++,prefix:m||"",delimiter:L,optional:P,repeat:M,partial:D,asterisk:!!_,pattern:I?b9(I):_?".*":"[^"+rf(L)+"]+?"})}return n<t.length&&(o+=t.substr(n)),o&&r.push(o),r}function g9(t,e){return BP(Sb(t,e),e)}function v9(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function y9(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function BP(t,e){for(var r=new Array(t.length),i=0;i<t.length;i++)typeof t[i]=="object"&&(r[i]=new RegExp("^(?:"+t[i].pattern+")$",Eb(e)));return function(n,o){for(var s="",a=n||{},l=o||{},p=l.pretty?v9:encodeURIComponent,f=0;f<t.length;f++){var c=t[f];if(typeof c=="string"){s+=c;continue}var m=a[c.name],v;if(m==null)if(c.optional){c.partial&&(s+=c.prefix);continue}else throw new TypeError('Expected "'+c.name+'" to be defined');if(nf(m)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(m)+"`");if(m.length===0){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var g=0;g<m.length;g++){if(v=p(m[g]),!r[f].test(v))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(v)+"`");s+=(g===0?c.prefix:c.delimiter)+v}continue}if(v=c.asterisk?y9(m):p(m),!r[f].test(v))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+v+'"');s+=c.prefix+v}return s}}function rf(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function b9(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function _b(t,e){return t.keys=e,t}function Eb(t){return t&&t.sensitive?"":"i"}function w9(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var i=0;i<r.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return _b(t,e)}function x9(t,e,r){for(var i=[],n=0;n<t.length;n++)i.push(qP(t[n],e,r).source);var o=new RegExp("(?:"+i.join("|")+")",Eb(r));return _b(o,e)}function S9(t,e,r){return UP(Sb(t,r),e,r)}function UP(t,e,r){nf(e)||(r=e||r,e=[]),r=r||{};for(var i=r.strict,n=r.end!==!1,o="",s=0;s<t.length;s++){var a=t[s];if(typeof a=="string")o+=rf(a);else{var l=rf(a.prefix),p="(?:"+a.pattern+")";e.push(a),a.repeat&&(p+="(?:"+l+p+")*"),a.optional?a.partial?p=l+"("+p+")?":p="(?:"+l+"("+p+"))?":p=l+"("+p+")",o+=p}}var f=rf(r.delimiter||"/"),c=o.slice(-f.length)===f;return i||(o=(c?o.slice(0,-f.length):o)+"(?:"+f+"(?=$))?"),n?o+="$":o+=i&&c?"":"(?="+f+"|$)",_b(new RegExp("^"+o,Eb(r)),e)}function qP(t,e,r){return nf(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?w9(t,e):nf(t)?x9(t,e,r):S9(t,e,r)}});function P9(t,e){var r=""+e.end+e.strict+e.sensitive,i=WP[r]||(WP[r]={});if(i[t])return i[t];var n=[],o=(0,GP.default)(t,n,e),s={regexp:o,keys:n};return VP<C9&&(i[t]=s,VP++),s}function os(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var r=e,i=r.path,n=r.exact,o=n===void 0?!1:n,s=r.strict,a=s===void 0?!1:s,l=r.sensitive,p=l===void 0?!1:l,f=[].concat(i);return f.reduce(function(c,m){if(!m&&m!=="")return null;if(c)return c;var v=P9(m,{end:o,strict:a,sensitive:p}),g=v.regexp,x=v.keys,E=g.exec(t);if(!E)return null;var _=E[0],D=E.slice(1),M=t===_;return o&&!M?null:{path:m,url:m==="/"&&_===""?"/":_,isExact:M,params:x.reduce(function(P,L,I){return P[L.name]=D[I],P},{})}},null)}function I9(t){return ze.Children.count(t)===0}function Pb(t){return t.charAt(0)==="/"?t:"/"+t}function A9(t,e){return t?Xt({},e,{pathname:Pb(t)+e.pathname}):e}function T9(t,e){if(!t)return e;var r=Pb(t);return e.pathname.indexOf(r)!==0?e:Xt({},e,{pathname:e.pathname.substr(r.length)})}function $P(t){return typeof t=="string"?t:Ci(t)}function Cb(t){return function(){Gn(!1)}}function jP(){}function Kn(t){var e="withRouter("+(t.displayName||t.name)+")",r=function(n){var o=n.wrappedComponentRef,s=Ui(n,["wrappedComponentRef"]);return ze.createElement(Ks.Consumer,null,function(a){return a||Gn(!1),ze.createElement(t,Xt({},s,a,{ref:o}))})};return r.displayName=e,r.WrappedComponent=t,(0,KP.default)(r,t)}var GP,Ppe,KP,YP,_9,Ks,Ys,E9,Tpe,WP,C9,VP,kn,M9,of,Mpe,ss=$(()=>{Zh();Ye();tf();LP();Jh();Ua();GP=ye(HP()),Ppe=ye(Zy());ql();KP=ye(Vh()),YP=function(e){var r=DP();return r.displayName=e,r},_9=YP("Router-History"),Ks=YP("Router"),Ys=function(t){Zi(e,t),e.computeRootMatch=function(n){return{path:"/",url:"/",params:{},isExact:n==="/"}};function e(i){var n;return n=t.call(this,i)||this,n.state={location:i.history.location},n._isMounted=!1,n._pendingLocation=null,i.staticContext||(n.unlisten=i.history.listen(function(o){n._pendingLocation=o})),n}var r=e.prototype;return r.componentDidMount=function(){var n=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){n._isMounted&&n.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return ze.createElement(Ks.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},ze.createElement(_9.Provider,{children:this.props.children||null,value:this.props.history}))},e}(ze.Component),E9=function(t){Zi(e,t);function e(){for(var i,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,i.history=NP(i.props),i}var r=e.prototype;return r.render=function(){return ze.createElement(Ys,{history:this.history,children:this.props.children})},e}(ze.Component),Tpe=function(t){Zi(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(n){this.props.onUpdate&&this.props.onUpdate.call(this,this,n)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},e}(ze.Component),WP={},C9=1e4,VP=0;kn=function(t){Zi(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.render=function(){var n=this;return ze.createElement(Ks.Consumer,null,function(o){o||Gn(!1);var s=n.props.location||o.location,a=n.props.computedMatch?n.props.computedMatch:n.props.path?os(s.pathname,n.props):o.match,l=Xt({},o,{location:s,match:a}),p=n.props,f=p.children,c=p.component,m=p.render;return Array.isArray(f)&&I9(f)&&(f=null),ze.createElement(Ks.Provider,{value:l},l.match?f?typeof f=="function"?f(l):f:c?ze.createElement(c,l):m?m(l):null:typeof f=="function"?f(l):null)})},e}(ze.Component);M9=function(t){Zi(e,t);function e(){for(var i,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,i.handlePush=function(a){return i.navigateTo(a,"PUSH")},i.handleReplace=function(a){return i.navigateTo(a,"REPLACE")},i.handleListen=function(){return jP},i.handleBlock=function(){return jP},i}var r=e.prototype;return r.navigateTo=function(n,o){var s=this.props,a=s.basename,l=a===void 0?"":a,p=s.context,f=p===void 0?{}:p;f.action=o,f.location=A9(l,qi(n)),f.url=$P(f.location)},r.render=function(){var n=this.props,o=n.basename,s=o===void 0?"":o,a=n.context,l=a===void 0?{}:a,p=n.location,f=p===void 0?"/":p,c=Ui(n,["basename","context","location"]),m={createHref:function(g){return Pb(s+$P(g))},action:"POP",location:T9(s,qi(f)),push:this.handlePush,replace:this.handleReplace,go:Cb("go"),goBack:Cb("goBack"),goForward:Cb("goForward"),listen:this.handleListen,block:this.handleBlock};return ze.createElement(Ys,Xt({},c,{history:m,staticContext:l}))},e}(ze.Component),of=function(t){Zi(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.render=function(){var n=this;return ze.createElement(Ks.Consumer,null,function(o){o||Gn(!1);var s=n.props.location||o.location,a,l;return ze.Children.forEach(n.props.children,function(p){if(l==null&&ze.isValidElement(p)){a=p;var f=p.props.path||p.props.from;l=f?os(s.pathname,Xt({},p.props,{path:f})):o.match}}),l?ze.cloneElement(a,{location:s,computedMatch:l}):null})},e}(ze.Component);Mpe=ze.useContext});var Pe=oe(($l,cd)=>{(function(){var t,e="4.17.21",r=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",n="Expected a function",o="Invalid `variable` option passed into `_.template`",s="__lodash_hash_undefined__",a=500,l="__lodash_placeholder__",p=1,f=2,c=4,m=1,v=2,g=1,x=2,E=4,_=8,D=16,M=32,P=64,L=128,I=256,q=512,N=30,F="...",W=800,U=16,Z=1,J=2,ie=3,le=1/0,G=9007199254740991,K=17976931348623157e292,Q=NaN,re=4294967295,ee=re-1,ae=re>>>1,se=[["ary",L],["bind",g],["bindKey",x],["curry",_],["curryRight",D],["flip",q],["partial",M],["partialRight",P],["rearg",I]],ce="[object Arguments]",_e="[object Array]",Ie="[object AsyncFunction]",ge="[object Boolean]",Re="[object Date]",Qe="[object DOMException]",Me="[object Error]",$e="[object Function]",Ne="[object GeneratorFunction]",He="[object Map]",ft="[object Number]",at="[object Null]",tt="[object Object]",Xe="[object Promise]",ct="[object Proxy]",Rt="[object RegExp]",Ze="[object Set]",Dt="[object String]",_t="[object Symbol]",Ot="[object Undefined]",Tt="[object WeakMap]",ri="[object WeakSet]",Mi="[object ArrayBuffer]",Lt="[object DataView]",cr="[object Float32Array]",mt="[object Float64Array]",Wi="[object Int8Array]",Ri="[object Int16Array]",yl="[object Int32Array]",vr="[object Uint8Array]",co="[object Uint8ClampedArray]",po="[object Uint16Array]",Cs="[object Uint32Array]",ic=/\b__p \+= '';/g,pi=/\b(__p \+=) '' \+/g,Tp=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bl=/&(?:amp|lt|gt|quot|#39);/g,wl=/[&<>"']/g,mv=RegExp(bl.source),gv=RegExp(wl.source),nc=/<%-([\s\S]+?)%>/g,Mp=/<%([\s\S]+?)%>/g,oc=/<%=([\s\S]+?)%>/g,Rp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vv=/^\w*$/,yv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sc=/[\\^$.*+?()[\]{}|]/g,kp=RegExp(sc.source),ii=/^\s+/,Bo=/\s/,ga=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ac=/\{\n\/\* \[wrapped with (.+)\] \*/,va=/,? & /,Ps=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,bv=/[()=,{}\[\]\/\s]/,Np=/\\(\\)?/g,lc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,uc=/\w*$/,xl=/^[-+]0x[0-9a-f]+$/i,hi=/^0b[01]+$/i,Uo=/^\[object .+?Constructor\]$/,fi=/^0o[0-7]+$/i,Vr=/^(?:0|[1-9]\d*)$/,qo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,on=/($^)/,Ho=/['\n\r\u2028\u2029\\]/g,ho="\\ud800-\\udfff",Wo="\\u0300-\\u036f",Is="\\ufe20-\\ufe2f",cc="\\u20d0-\\u20ff",As=Wo+Is+cc,Ts="\\u2700-\\u27bf",ya="a-z\\xdf-\\xf6\\xf8-\\xff",Sl="\\xac\\xb1\\xd7\\xf7",dc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vi="\\u2000-\\u206f",pc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fo="A-Z\\xc0-\\xd6\\xd8-\\xde",mo="\\ufe0e\\ufe0f",ba=Sl+dc+Vi+pc,bn="['\u2019]",ki="["+ho+"]",wn="["+ba+"]",wa="["+As+"]",hc="\\d+",xt="["+Ts+"]",xn="["+ya+"]",mi="[^"+ho+ba+hc+Ts+ya+fo+"]",$r="\\ud83c[\\udffb-\\udfff]",xa="(?:"+wa+"|"+$r+")",Vo="[^"+ho+"]",$i="(?:\\ud83c[\\udde6-\\uddff]){2}",Sa="[\\ud800-\\udbff][\\udc00-\\udfff]",Un="["+fo+"]",Ms="\\u200d",_a="(?:"+xn+"|"+mi+")",wv="(?:"+Un+"|"+mi+")",Op="(?:"+bn+"(?:d|ll|m|re|s|t|ve))?",fc="(?:"+bn+"(?:D|LL|M|RE|S|T|VE))?",_l=xa+"?",mc="["+mo+"]?",xv="(?:"+Ms+"(?:"+[Vo,$i,Sa].join("|")+")"+mc+_l+")*",Dp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",vc=mc+_l+xv,Lp="(?:"+[xt,$i,Sa].join("|")+")"+vc,Fp="(?:"+[Vo+wa+"?",wa,$i,Sa,ki].join("|")+")",Sv=RegExp(bn,"g"),zp=RegExp(wa,"g"),go=RegExp($r+"(?="+$r+")|"+Fp+vc,"g"),_v=RegExp([Un+"?"+xn+"+"+Op+"(?="+[wn,Un,"$"].join("|")+")",wv+"+"+fc+"(?="+[wn,Un+_a,"$"].join("|")+")",Un+"?"+_a+"+"+Op,Un+"+"+fc,gc,Dp,hc,Lp].join("|"),"g"),vo=RegExp("["+Ms+ho+As+mo+"]"),El=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Bp=-1,Qt={};Qt[cr]=Qt[mt]=Qt[Wi]=Qt[Ri]=Qt[yl]=Qt[vr]=Qt[co]=Qt[po]=Qt[Cs]=!0,Qt[ce]=Qt[_e]=Qt[Mi]=Qt[ge]=Qt[Lt]=Qt[Re]=Qt[Me]=Qt[$e]=Qt[He]=Qt[ft]=Qt[tt]=Qt[Rt]=Qt[Ze]=Qt[Dt]=Qt[Tt]=!1;var Jt={};Jt[ce]=Jt[_e]=Jt[Mi]=Jt[Lt]=Jt[ge]=Jt[Re]=Jt[cr]=Jt[mt]=Jt[Wi]=Jt[Ri]=Jt[yl]=Jt[He]=Jt[ft]=Jt[tt]=Jt[Rt]=Jt[Ze]=Jt[Dt]=Jt[_t]=Jt[vr]=Jt[co]=Jt[po]=Jt[Cs]=!0,Jt[Me]=Jt[$e]=Jt[Tt]=!1;var Ev={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Cv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Iv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Av=parseFloat,Tv=parseInt,Up=typeof global=="object"&&global&&global.Object===Object&&global,Mv=typeof self=="object"&&self&&self.Object===Object&&self,ir=Up||Mv||Function("return this")(),Ea=typeof $l=="object"&&$l&&!$l.nodeType&&$l,ji=Ea&&typeof cd=="object"&&cd&&!cd.nodeType&&cd,Fr=ji&&ji.exports===Ea,qn=Fr&&Up.process,gi=function(){try{var ue=ji&&ji.require&&ji.require("util").types;return ue||qn&&qn.binding&&qn.binding("util")}catch{}}(),$o=gi&&gi.isArrayBuffer,qp=gi&&gi.isDate,Sn=gi&&gi.isMap,vi=gi&&gi.isRegExp,Hp=gi&&gi.isSet,Wp=gi&&gi.isTypedArray;function Ni(ue,we,ve){switch(ve.length){case 0:return ue.call(we);case 1:return ue.call(we,ve[0]);case 2:return ue.call(we,ve[0],ve[1]);case 3:return ue.call(we,ve[0],ve[1],ve[2])}return ue.apply(we,ve)}function Rs(ue,we,ve,je){for(var vt=-1,qt=ue==null?0:ue.length;++vt<qt;){var zr=ue[vt];we(je,zr,ve(zr),ue)}return je}function ni(ue,we){for(var ve=-1,je=ue==null?0:ue.length;++ve<je&&we(ue[ve],ve,ue)!==!1;);return ue}function Vp(ue,we){for(var ve=ue==null?0:ue.length;ve--&&we(ue[ve],ve,ue)!==!1;);return ue}function bc(ue,we){for(var ve=-1,je=ue==null?0:ue.length;++ve<je;)if(!we(ue[ve],ve,ue))return!1;return!0}function oi(ue,we){for(var ve=-1,je=ue==null?0:ue.length,vt=0,qt=[];++ve<je;){var zr=ue[ve];we(zr,ve,ue)&&(qt[vt++]=zr)}return qt}function Ca(ue,we){var ve=ue==null?0:ue.length;return!!ve&&sn(ue,we,0)>-1}function Cl(ue,we,ve){for(var je=-1,vt=ue==null?0:ue.length;++je<vt;)if(ve(we,ue[je]))return!0;return!1}function Ft(ue,we){for(var ve=-1,je=ue==null?0:ue.length,vt=Array(je);++ve<je;)vt[ve]=we(ue[ve],ve,ue);return vt}function _n(ue,we){for(var ve=-1,je=we.length,vt=ue.length;++ve<je;)ue[vt+ve]=we[ve];return ue}function Pa(ue,we,ve,je){var vt=-1,qt=ue==null?0:ue.length;for(je&&qt&&(ve=ue[++vt]);++vt<qt;)ve=we(ve,ue[vt],vt,ue);return ve}function Pl(ue,we,ve,je){var vt=ue==null?0:ue.length;for(je&&vt&&(ve=ue[--vt]);vt--;)ve=we(ve,ue[vt],vt,ue);return ve}function jo(ue,we){for(var ve=-1,je=ue==null?0:ue.length;++ve<je;)if(we(ue[ve],ve,ue))return!0;return!1}var wc=Ia("length");function yi(ue){return ue.split("")}function xc(ue){return ue.match(Ps)||[]}function Go(ue,we,ve){var je;return ve(ue,function(vt,qt,zr){if(we(vt,qt,zr))return je=qt,!1}),je}function bi(ue,we,ve,je){for(var vt=ue.length,qt=ve+(je?1:-1);je?qt--:++qt<vt;)if(we(ue[qt],qt,ue))return qt;return-1}function sn(ue,we,ve){return we===we?Er(ue,we,ve):bi(ue,Il,ve)}function ks(ue,we,ve,je){for(var vt=ve-1,qt=ue.length;++vt<qt;)if(je(ue[vt],we))return vt;return-1}function Il(ue){return ue!==ue}function Ns(ue,we){var ve=ue==null?0:ue.length;return ve?Al(ue,we)/ve:Q}function Ia(ue){return function(we){return we==null?t:we[ue]}}function Aa(ue){return function(we){return ue==null?t:ue[we]}}function yo(ue,we,ve,je,vt){return vt(ue,function(qt,zr,nr){ve=je?(je=!1,qt):we(ve,qt,zr,nr)}),ve}function Sc(ue,we){var ve=ue.length;for(ue.sort(we);ve--;)ue[ve]=ue[ve].value;return ue}function Al(ue,we){for(var ve,je=-1,vt=ue.length;++je<vt;){var qt=we(ue[je]);qt!==t&&(ve=ve===t?qt:ve+qt)}return ve}function Os(ue,we){for(var ve=-1,je=Array(ue);++ve<ue;)je[ve]=we(ve);return je}function Rv(ue,we){return Ft(we,function(ve){return[ve,ue[ve]]})}function an(ue){return ue&&ue.slice(0,Ls(ue)+1).replace(ii,"")}function Gt(ue){return function(we){return ue(we)}}function O(ue,we){return Ft(we,function(ve){return ue[ve]})}function H(ue,we){return ue.has(we)}function X(ue,we){for(var ve=-1,je=ue.length;++ve<je&&sn(we,ue[ve],0)>-1;);return ve}function Y(ue,we){for(var ve=ue.length;ve--&&sn(we,ue[ve],0)>-1;);return ve}function xe(ue,we){for(var ve=ue.length,je=0;ve--;)ue[ve]===we&&++je;return je}var Te=Aa(Ev),Le=Aa(Cv);function rt(ue){return"\\"+Iv[ue]}function ht(ue,we){return ue==null?t:ue[we]}function St(ue){return vo.test(ue)}function Ve(ue){return El.test(ue)}function Et(ue){for(var we,ve=[];!(we=ue.next()).done;)ve.push(we.value);return ve}function Kt(ue){var we=-1,ve=Array(ue.size);return ue.forEach(function(je,vt){ve[++we]=[vt,je]}),ve}function si(ue,we){return function(ve){return ue(we(ve))}}function fr(ue,we){for(var ve=-1,je=ue.length,vt=0,qt=[];++ve<je;){var zr=ue[ve];(zr===we||zr===l)&&(ue[ve]=l,qt[vt++]=ve)}return qt}function zt(ue){var we=-1,ve=Array(ue.size);return ue.forEach(function(je){ve[++we]=je}),ve}function _r(ue){var we=-1,ve=Array(ue.size);return ue.forEach(function(je){ve[++we]=[je,je]}),ve}function Er(ue,we,ve){for(var je=ve-1,vt=ue.length;++je<vt;)if(ue[je]===we)return je;return-1}function Ds(ue,we,ve){for(var je=ve+1;je--;)if(ue[je]===we)return je;return je}function Nr(ue){return St(ue)?ln(ue):wc(ue)}function ai(ue){return St(ue)?wi(ue):yi(ue)}function Ls(ue){for(var we=ue.length;we--&&Bo.test(ue.charAt(we)););return we}var Oi=Aa(Pv);function ln(ue){for(var we=go.lastIndex=0;go.test(ue);)++we;return we}function wi(ue){return ue.match(go)||[]}function Ko(ue){return ue.match(_v)||[]}var kv=function ue(we){we=we==null?ir:jr.defaults(ir.Object(),we,jr.pick(ir,yc));var ve=we.Array,je=we.Date,vt=we.Error,qt=we.Function,zr=we.Math,nr=we.Object,Nv=we.RegExp,uU=we.String,En=we.TypeError,$p=ve.prototype,cU=qt.prototype,Tl=nr.prototype,jp=we["__core-js_shared__"],Gp=cU.toString,Yt=Tl.hasOwnProperty,dU=0,ES=function(){var u=/[^.]+$/.exec(jp&&jp.keys&&jp.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Kp=Tl.toString,pU=Gp.call(nr),hU=ir._,fU=Nv("^"+Gp.call(Yt).replace(sc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yp=Fr?we.Buffer:t,Fs=we.Symbol,Xp=we.Uint8Array,CS=Yp?Yp.allocUnsafe:t,Zp=si(nr.getPrototypeOf,nr),PS=nr.create,IS=Tl.propertyIsEnumerable,Qp=$p.splice,AS=Fs?Fs.isConcatSpreadable:t,_c=Fs?Fs.iterator:t,Ta=Fs?Fs.toStringTag:t,Jp=function(){try{var u=Oa(nr,"defineProperty");return u({},"",{}),u}catch{}}(),mU=we.clearTimeout!==ir.clearTimeout&&we.clearTimeout,gU=je&&je.now!==ir.Date.now&&je.now,vU=we.setTimeout!==ir.setTimeout&&we.setTimeout,eh=zr.ceil,th=zr.floor,Ov=nr.getOwnPropertySymbols,yU=Yp?Yp.isBuffer:t,TS=we.isFinite,bU=$p.join,wU=si(nr.keys,nr),Br=zr.max,xi=zr.min,xU=je.now,SU=we.parseInt,MS=zr.random,_U=$p.reverse,Dv=Oa(we,"DataView"),Ec=Oa(we,"Map"),Lv=Oa(we,"Promise"),Ml=Oa(we,"Set"),Cc=Oa(we,"WeakMap"),Pc=Oa(nr,"create"),rh=Cc&&new Cc,Rl={},EU=Da(Dv),CU=Da(Ec),PU=Da(Lv),IU=Da(Ml),AU=Da(Cc),ih=Fs?Fs.prototype:t,Ic=ih?ih.valueOf:t,RS=ih?ih.toString:t;function V(u){if(Cr(u)&&!bt(u)&&!(u instanceof kt)){if(u instanceof Cn)return u;if(Yt.call(u,"__wrapped__"))return k_(u)}return new Cn(u)}var kl=function(){function u(){}return function(d){if(!yr(d))return{};if(PS)return PS(d);u.prototype=d;var b=new u;return u.prototype=t,b}}();function nh(){}function Cn(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}V.templateSettings={escape:nc,evaluate:Mp,interpolate:oc,variable:"",imports:{_:V}},V.prototype=nh.prototype,V.prototype.constructor=V,Cn.prototype=kl(nh.prototype),Cn.prototype.constructor=Cn;function kt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function TU(){var u=new kt(this.__wrapped__);return u.__actions__=Gi(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Gi(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Gi(this.__views__),u}function MU(){if(this.__filtered__){var u=new kt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function RU(){var u=this.__wrapped__.value(),d=this.__dir__,b=bt(u),R=d<0,z=b?u.length:0,j=Wq(0,z,this.__views__),te=j.start,ne=j.end,pe=ne-te,Ee=R?ne:te-1,Ce=this.__iteratees__,Ae=Ce.length,Be=0,Je=xi(pe,this.__takeCount__);if(!b||!R&&z==pe&&Je==pe)return t_(u,this.__actions__);var lt=[];e:for(;pe--&&Be<Je;){Ee+=d;for(var It=-1,ut=u[Ee];++It<Ae;){var Mt=Ce[It],Nt=Mt.iteratee,dn=Mt.type,Fi=Nt(ut);if(dn==J)ut=Fi;else if(!Fi){if(dn==Z)continue e;break e}}lt[Be++]=ut}return lt}kt.prototype=kl(nh.prototype),kt.prototype.constructor=kt;function Ma(u){var d=-1,b=u==null?0:u.length;for(this.clear();++d<b;){var R=u[d];this.set(R[0],R[1])}}function kU(){this.__data__=Pc?Pc(null):{},this.size=0}function NU(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d}function OU(u){var d=this.__data__;if(Pc){var b=d[u];return b===s?t:b}return Yt.call(d,u)?d[u]:t}function DU(u){var d=this.__data__;return Pc?d[u]!==t:Yt.call(d,u)}function LU(u,d){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=Pc&&d===t?s:d,this}Ma.prototype.clear=kU,Ma.prototype.delete=NU,Ma.prototype.get=OU,Ma.prototype.has=DU,Ma.prototype.set=LU;function Yo(u){var d=-1,b=u==null?0:u.length;for(this.clear();++d<b;){var R=u[d];this.set(R[0],R[1])}}function FU(){this.__data__=[],this.size=0}function zU(u){var d=this.__data__,b=oh(d,u);if(b<0)return!1;var R=d.length-1;return b==R?d.pop():Qp.call(d,b,1),--this.size,!0}function BU(u){var d=this.__data__,b=oh(d,u);return b<0?t:d[b][1]}function UU(u){return oh(this.__data__,u)>-1}function qU(u,d){var b=this.__data__,R=oh(b,u);return R<0?(++this.size,b.push([u,d])):b[R][1]=d,this}Yo.prototype.clear=FU,Yo.prototype.delete=zU,Yo.prototype.get=BU,Yo.prototype.has=UU,Yo.prototype.set=qU;function Xo(u){var d=-1,b=u==null?0:u.length;for(this.clear();++d<b;){var R=u[d];this.set(R[0],R[1])}}function HU(){this.size=0,this.__data__={hash:new Ma,map:new(Ec||Yo),string:new Ma}}function WU(u){var d=vh(this,u).delete(u);return this.size-=d?1:0,d}function VU(u){return vh(this,u).get(u)}function $U(u){return vh(this,u).has(u)}function jU(u,d){var b=vh(this,u),R=b.size;return b.set(u,d),this.size+=b.size==R?0:1,this}Xo.prototype.clear=HU,Xo.prototype.delete=WU,Xo.prototype.get=VU,Xo.prototype.has=$U,Xo.prototype.set=jU;function Ra(u){var d=-1,b=u==null?0:u.length;for(this.__data__=new Xo;++d<b;)this.add(u[d])}function GU(u){return this.__data__.set(u,s),this}function KU(u){return this.__data__.has(u)}Ra.prototype.add=Ra.prototype.push=GU,Ra.prototype.has=KU;function Hn(u){var d=this.__data__=new Yo(u);this.size=d.size}function YU(){this.__data__=new Yo,this.size=0}function XU(u){var d=this.__data__,b=d.delete(u);return this.size=d.size,b}function ZU(u){return this.__data__.get(u)}function QU(u){return this.__data__.has(u)}function JU(u,d){var b=this.__data__;if(b instanceof Yo){var R=b.__data__;if(!Ec||R.length<r-1)return R.push([u,d]),this.size=++b.size,this;b=this.__data__=new Xo(R)}return b.set(u,d),this.size=b.size,this}Hn.prototype.clear=YU,Hn.prototype.delete=XU,Hn.prototype.get=ZU,Hn.prototype.has=QU,Hn.prototype.set=JU;function kS(u,d){var b=bt(u),R=!b&&La(u),z=!b&&!R&&Hs(u),j=!b&&!R&&!z&&Ll(u),te=b||R||z||j,ne=te?Os(u.length,uU):[],pe=ne.length;for(var Ee in u)(d||Yt.call(u,Ee))&&!(te&&(Ee=="length"||z&&(Ee=="offset"||Ee=="parent")||j&&(Ee=="buffer"||Ee=="byteLength"||Ee=="byteOffset")||es(Ee,pe)))&&ne.push(Ee);return ne}function NS(u){var d=u.length;return d?u[Gv(0,d-1)]:t}function eq(u,d){return yh(Gi(u),ka(d,0,u.length))}function tq(u){return yh(Gi(u))}function Fv(u,d,b){(b!==t&&!Wn(u[d],b)||b===t&&!(d in u))&&Zo(u,d,b)}function Ac(u,d,b){var R=u[d];(!(Yt.call(u,d)&&Wn(R,b))||b===t&&!(d in u))&&Zo(u,d,b)}function oh(u,d){for(var b=u.length;b--;)if(Wn(u[b][0],d))return b;return-1}function rq(u,d,b,R){return zs(u,function(z,j,te){d(R,z,b(z),te)}),R}function OS(u,d){return u&&wo(d,Gr(d),u)}function iq(u,d){return u&&wo(d,Yi(d),u)}function Zo(u,d,b){d=="__proto__"&&Jp?Jp(u,d,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[d]=b}function zv(u,d){for(var b=-1,R=d.length,z=ve(R),j=u==null;++b<R;)z[b]=j?t:yy(u,d[b]);return z}function ka(u,d,b){return u===u&&(b!==t&&(u=u<=b?u:b),d!==t&&(u=u>=d?u:d)),u}function Pn(u,d,b,R,z,j){var te,ne=d&p,pe=d&f,Ee=d&c;if(b&&(te=z?b(u,R,z,j):b(u)),te!==t)return te;if(!yr(u))return u;var Ce=bt(u);if(Ce){if(te=$q(u),!ne)return Gi(u,te)}else{var Ae=Si(u),Be=Ae==$e||Ae==Ne;if(Hs(u))return n_(u,ne);if(Ae==tt||Ae==ce||Be&&!z){if(te=pe||Be?{}:__(u),!ne)return pe?Oq(u,iq(te,u)):Nq(u,OS(te,u))}else{if(!Jt[Ae])return z?u:{};te=jq(u,Ae,ne)}}j||(j=new Hn);var Je=j.get(u);if(Je)return Je;j.set(u,te),Q_(u)?u.forEach(function(ut){te.add(Pn(ut,d,b,ut,u,j))}):X_(u)&&u.forEach(function(ut,Mt){te.set(Mt,Pn(ut,d,b,Mt,u,j))});var lt=Ee?pe?ny:iy:pe?Yi:Gr,It=Ce?t:lt(u);return ni(It||u,function(ut,Mt){It&&(Mt=ut,ut=u[Mt]),Ac(te,Mt,Pn(ut,d,b,Mt,u,j))}),te}function nq(u){var d=Gr(u);return function(b){return DS(b,u,d)}}function DS(u,d,b){var R=b.length;if(u==null)return!R;for(u=nr(u);R--;){var z=b[R],j=d[z],te=u[z];if(te===t&&!(z in u)||!j(te))return!1}return!0}function LS(u,d,b){if(typeof u!="function")throw new En(n);return Dc(function(){u.apply(t,b)},d)}function Tc(u,d,b,R){var z=-1,j=Ca,te=!0,ne=u.length,pe=[],Ee=d.length;if(!ne)return pe;b&&(d=Ft(d,Gt(b))),R?(j=Cl,te=!1):d.length>=r&&(j=H,te=!1,d=new Ra(d));e:for(;++z<ne;){var Ce=u[z],Ae=b==null?Ce:b(Ce);if(Ce=R||Ce!==0?Ce:0,te&&Ae===Ae){for(var Be=Ee;Be--;)if(d[Be]===Ae)continue e;pe.push(Ce)}else j(d,Ae,R)||pe.push(Ce)}return pe}var zs=u_(bo),FS=u_(Uv,!0);function oq(u,d){var b=!0;return zs(u,function(R,z,j){return b=!!d(R,z,j),b}),b}function sh(u,d,b){for(var R=-1,z=u.length;++R<z;){var j=u[R],te=d(j);if(te!=null&&(ne===t?te===te&&!cn(te):b(te,ne)))var ne=te,pe=j}return pe}function sq(u,d,b,R){var z=u.length;for(b=Ct(b),b<0&&(b=-b>z?0:z+b),R=R===t||R>z?z:Ct(R),R<0&&(R+=z),R=b>R?0:eE(R);b<R;)u[b++]=d;return u}function zS(u,d){var b=[];return zs(u,function(R,z,j){d(R,z,j)&&b.push(R)}),b}function li(u,d,b,R,z){var j=-1,te=u.length;for(b||(b=Kq),z||(z=[]);++j<te;){var ne=u[j];d>0&&b(ne)?d>1?li(ne,d-1,b,R,z):_n(z,ne):R||(z[z.length]=ne)}return z}var Bv=c_(),BS=c_(!0);function bo(u,d){return u&&Bv(u,d,Gr)}function Uv(u,d){return u&&BS(u,d,Gr)}function ah(u,d){return oi(d,function(b){return ts(u[b])})}function Na(u,d){d=Us(d,u);for(var b=0,R=d.length;u!=null&&b<R;)u=u[xo(d[b++])];return b&&b==R?u:t}function US(u,d,b){var R=d(u);return bt(u)?R:_n(R,b(u))}function Di(u){return u==null?u===t?Ot:at:Ta&&Ta in nr(u)?Hq(u):tH(u)}function qv(u,d){return u>d}function aq(u,d){return u!=null&&Yt.call(u,d)}function lq(u,d){return u!=null&&d in nr(u)}function uq(u,d,b){return u>=xi(d,b)&&u<Br(d,b)}function Hv(u,d,b){for(var R=b?Cl:Ca,z=u[0].length,j=u.length,te=j,ne=ve(j),pe=1/0,Ee=[];te--;){var Ce=u[te];te&&d&&(Ce=Ft(Ce,Gt(d))),pe=xi(Ce.length,pe),ne[te]=!b&&(d||z>=120&&Ce.length>=120)?new Ra(te&&Ce):t}Ce=u[0];var Ae=-1,Be=ne[0];e:for(;++Ae<z&&Ee.length<pe;){var Je=Ce[Ae],lt=d?d(Je):Je;if(Je=b||Je!==0?Je:0,!(Be?H(Be,lt):R(Ee,lt,b))){for(te=j;--te;){var It=ne[te];if(!(It?H(It,lt):R(u[te],lt,b)))continue e}Be&&Be.push(lt),Ee.push(Je)}}return Ee}function cq(u,d,b,R){return bo(u,function(z,j,te){d(R,b(z),j,te)}),R}function Mc(u,d,b){d=Us(d,u),u=I_(u,d);var R=u==null?u:u[xo(An(d))];return R==null?t:Ni(R,u,b)}function qS(u){return Cr(u)&&Di(u)==ce}function dq(u){return Cr(u)&&Di(u)==Mi}function pq(u){return Cr(u)&&Di(u)==Re}function Rc(u,d,b,R,z){return u===d?!0:u==null||d==null||!Cr(u)&&!Cr(d)?u!==u&&d!==d:hq(u,d,b,R,Rc,z)}function hq(u,d,b,R,z,j){var te=bt(u),ne=bt(d),pe=te?_e:Si(u),Ee=ne?_e:Si(d);pe=pe==ce?tt:pe,Ee=Ee==ce?tt:Ee;var Ce=pe==tt,Ae=Ee==tt,Be=pe==Ee;if(Be&&Hs(u)){if(!Hs(d))return!1;te=!0,Ce=!1}if(Be&&!Ce)return j||(j=new Hn),te||Ll(u)?w_(u,d,b,R,z,j):Uq(u,d,pe,b,R,z,j);if(!(b&m)){var Je=Ce&&Yt.call(u,"__wrapped__"),lt=Ae&&Yt.call(d,"__wrapped__");if(Je||lt){var It=Je?u.value():u,ut=lt?d.value():d;return j||(j=new Hn),z(It,ut,b,R,j)}}return Be?(j||(j=new Hn),qq(u,d,b,R,z,j)):!1}function fq(u){return Cr(u)&&Si(u)==He}function Wv(u,d,b,R){var z=b.length,j=z,te=!R;if(u==null)return!j;for(u=nr(u);z--;){var ne=b[z];if(te&&ne[2]?ne[1]!==u[ne[0]]:!(ne[0]in u))return!1}for(;++z<j;){ne=b[z];var pe=ne[0],Ee=u[pe],Ce=ne[1];if(te&&ne[2]){if(Ee===t&&!(pe in u))return!1}else{var Ae=new Hn;if(R)var Be=R(Ee,Ce,pe,u,d,Ae);if(!(Be===t?Rc(Ce,Ee,m|v,R,Ae):Be))return!1}}return!0}function HS(u){if(!yr(u)||Xq(u))return!1;var d=ts(u)?fU:Uo;return d.test(Da(u))}function mq(u){return Cr(u)&&Di(u)==Rt}function gq(u){return Cr(u)&&Si(u)==Ze}function vq(u){return Cr(u)&&Eh(u.length)&&!!Qt[Di(u)]}function WS(u){return typeof u=="function"?u:u==null?Xi:typeof u=="object"?bt(u)?jS(u[0],u[1]):$S(u):dE(u)}function Vv(u){if(!Oc(u))return wU(u);var d=[];for(var b in nr(u))Yt.call(u,b)&&b!="constructor"&&d.push(b);return d}function yq(u){if(!yr(u))return eH(u);var d=Oc(u),b=[];for(var R in u)R=="constructor"&&(d||!Yt.call(u,R))||b.push(R);return b}function $v(u,d){return u<d}function VS(u,d){var b=-1,R=Ki(u)?ve(u.length):[];return zs(u,function(z,j,te){R[++b]=d(z,j,te)}),R}function $S(u){var d=sy(u);return d.length==1&&d[0][2]?C_(d[0][0],d[0][1]):function(b){return b===u||Wv(b,u,d)}}function jS(u,d){return ly(u)&&E_(d)?C_(xo(u),d):function(b){var R=yy(b,u);return R===t&&R===d?by(b,u):Rc(d,R,m|v)}}function lh(u,d,b,R,z){u!==d&&Bv(d,function(j,te){if(z||(z=new Hn),yr(j))bq(u,d,te,b,lh,R,z);else{var ne=R?R(cy(u,te),j,te+"",u,d,z):t;ne===t&&(ne=j),Fv(u,te,ne)}},Yi)}function bq(u,d,b,R,z,j,te){var ne=cy(u,b),pe=cy(d,b),Ee=te.get(pe);if(Ee){Fv(u,b,Ee);return}var Ce=j?j(ne,pe,b+"",u,d,te):t,Ae=Ce===t;if(Ae){var Be=bt(pe),Je=!Be&&Hs(pe),lt=!Be&&!Je&&Ll(pe);Ce=pe,Be||Je||lt?bt(ne)?Ce=ne:Tr(ne)?Ce=Gi(ne):Je?(Ae=!1,Ce=n_(pe,!0)):lt?(Ae=!1,Ce=o_(pe,!0)):Ce=[]:Lc(pe)||La(pe)?(Ce=ne,La(ne)?Ce=tE(ne):(!yr(ne)||ts(ne))&&(Ce=__(pe))):Ae=!1}Ae&&(te.set(pe,Ce),z(Ce,pe,R,j,te),te.delete(pe)),Fv(u,b,Ce)}function GS(u,d){var b=u.length;if(b)return d+=d<0?b:0,es(d,b)?u[d]:t}function KS(u,d,b){d.length?d=Ft(d,function(j){return bt(j)?function(te){return Na(te,j.length===1?j[0]:j)}:j}):d=[Xi];var R=-1;d=Ft(d,Gt(ot()));var z=VS(u,function(j,te,ne){var pe=Ft(d,function(Ee){return Ee(j)});return{criteria:pe,index:++R,value:j}});return Sc(z,function(j,te){return kq(j,te,b)})}function wq(u,d){return YS(u,d,function(b,R){return by(u,R)})}function YS(u,d,b){for(var R=-1,z=d.length,j={};++R<z;){var te=d[R],ne=Na(u,te);b(ne,te)&&kc(j,Us(te,u),ne)}return j}function xq(u){return function(d){return Na(d,u)}}function jv(u,d,b,R){var z=R?ks:sn,j=-1,te=d.length,ne=u;for(u===d&&(d=Gi(d)),b&&(ne=Ft(u,Gt(b)));++j<te;)for(var pe=0,Ee=d[j],Ce=b?b(Ee):Ee;(pe=z(ne,Ce,pe,R))>-1;)ne!==u&&Qp.call(ne,pe,1),Qp.call(u,pe,1);return u}function XS(u,d){for(var b=u?d.length:0,R=b-1;b--;){var z=d[b];if(b==R||z!==j){var j=z;es(z)?Qp.call(u,z,1):Xv(u,z)}}return u}function Gv(u,d){return u+th(MS()*(d-u+1))}function Sq(u,d,b,R){for(var z=-1,j=Br(eh((d-u)/(b||1)),0),te=ve(j);j--;)te[R?j:++z]=u,u+=b;return te}function Kv(u,d){var b="";if(!u||d<1||d>G)return b;do d%2&&(b+=u),d=th(d/2),d&&(u+=u);while(d);return b}function At(u,d){return dy(P_(u,d,Xi),u+"")}function _q(u){return NS(Fl(u))}function Eq(u,d){var b=Fl(u);return yh(b,ka(d,0,b.length))}function kc(u,d,b,R){if(!yr(u))return u;d=Us(d,u);for(var z=-1,j=d.length,te=j-1,ne=u;ne!=null&&++z<j;){var pe=xo(d[z]),Ee=b;if(pe==="__proto__"||pe==="constructor"||pe==="prototype")return u;if(z!=te){var Ce=ne[pe];Ee=R?R(Ce,pe,ne):t,Ee===t&&(Ee=yr(Ce)?Ce:es(d[z+1])?[]:{})}Ac(ne,pe,Ee),ne=ne[pe]}return u}var ZS=rh?function(u,d){return rh.set(u,d),u}:Xi,Cq=Jp?function(u,d){return Jp(u,"toString",{configurable:!0,enumerable:!1,value:xy(d),writable:!0})}:Xi;function Pq(u){return yh(Fl(u))}function In(u,d,b){var R=-1,z=u.length;d<0&&(d=-d>z?0:z+d),b=b>z?z:b,b<0&&(b+=z),z=d>b?0:b-d>>>0,d>>>=0;for(var j=ve(z);++R<z;)j[R]=u[R+d];return j}function Iq(u,d){var b;return zs(u,function(R,z,j){return b=d(R,z,j),!b}),!!b}function uh(u,d,b){var R=0,z=u==null?R:u.length;if(typeof d=="number"&&d===d&&z<=ae){for(;R<z;){var j=R+z>>>1,te=u[j];te!==null&&!cn(te)&&(b?te<=d:te<d)?R=j+1:z=j}return z}return Yv(u,d,Xi,b)}function Yv(u,d,b,R){var z=0,j=u==null?0:u.length;if(j===0)return 0;d=b(d);for(var te=d!==d,ne=d===null,pe=cn(d),Ee=d===t;z<j;){var Ce=th((z+j)/2),Ae=b(u[Ce]),Be=Ae!==t,Je=Ae===null,lt=Ae===Ae,It=cn(Ae);if(te)var ut=R||lt;else Ee?ut=lt&&(R||Be):ne?ut=lt&&Be&&(R||!Je):pe?ut=lt&&Be&&!Je&&(R||!It):Je||It?ut=!1:ut=R?Ae<=d:Ae<d;ut?z=Ce+1:j=Ce}return xi(j,ee)}function QS(u,d){for(var b=-1,R=u.length,z=0,j=[];++b<R;){var te=u[b],ne=d?d(te):te;if(!b||!Wn(ne,pe)){var pe=ne;j[z++]=te===0?0:te}}return j}function JS(u){return typeof u=="number"?u:cn(u)?Q:+u}function un(u){if(typeof u=="string")return u;if(bt(u))return Ft(u,un)+"";if(cn(u))return RS?RS.call(u):"";var d=u+"";return d=="0"&&1/u==-le?"-0":d}function Bs(u,d,b){var R=-1,z=Ca,j=u.length,te=!0,ne=[],pe=ne;if(b)te=!1,z=Cl;else if(j>=r){var Ee=d?null:zq(u);if(Ee)return zt(Ee);te=!1,z=H,pe=new Ra}else pe=d?[]:ne;e:for(;++R<j;){var Ce=u[R],Ae=d?d(Ce):Ce;if(Ce=b||Ce!==0?Ce:0,te&&Ae===Ae){for(var Be=pe.length;Be--;)if(pe[Be]===Ae)continue e;d&&pe.push(Ae),ne.push(Ce)}else z(pe,Ae,b)||(pe!==ne&&pe.push(Ae),ne.push(Ce))}return ne}function Xv(u,d){return d=Us(d,u),u=I_(u,d),u==null||delete u[xo(An(d))]}function e_(u,d,b,R){return kc(u,d,b(Na(u,d)),R)}function ch(u,d,b,R){for(var z=u.length,j=R?z:-1;(R?j--:++j<z)&&d(u[j],j,u););return b?In(u,R?0:j,R?j+1:z):In(u,R?j+1:0,R?z:j)}function t_(u,d){var b=u;return b instanceof kt&&(b=b.value()),Pa(d,function(R,z){return z.func.apply(z.thisArg,_n([R],z.args))},b)}function Zv(u,d,b){var R=u.length;if(R<2)return R?Bs(u[0]):[];for(var z=-1,j=ve(R);++z<R;)for(var te=u[z],ne=-1;++ne<R;)ne!=z&&(j[z]=Tc(j[z]||te,u[ne],d,b));return Bs(li(j,1),d,b)}function r_(u,d,b){for(var R=-1,z=u.length,j=d.length,te={};++R<z;){var ne=R<j?d[R]:t;b(te,u[R],ne)}return te}function Qv(u){return Tr(u)?u:[]}function Jv(u){return typeof u=="function"?u:Xi}function Us(u,d){return bt(u)?u:ly(u,d)?[u]:R_($t(u))}var Aq=At;function qs(u,d,b){var R=u.length;return b=b===t?R:b,!d&&b>=R?u:In(u,d,b)}var i_=mU||function(u){return ir.clearTimeout(u)};function n_(u,d){if(d)return u.slice();var b=u.length,R=CS?CS(b):new u.constructor(b);return u.copy(R),R}function ey(u){var d=new u.constructor(u.byteLength);return new Xp(d).set(new Xp(u)),d}function Tq(u,d){var b=d?ey(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function Mq(u){var d=new u.constructor(u.source,uc.exec(u));return d.lastIndex=u.lastIndex,d}function Rq(u){return Ic?nr(Ic.call(u)):{}}function o_(u,d){var b=d?ey(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function s_(u,d){if(u!==d){var b=u!==t,R=u===null,z=u===u,j=cn(u),te=d!==t,ne=d===null,pe=d===d,Ee=cn(d);if(!ne&&!Ee&&!j&&u>d||j&&te&&pe&&!ne&&!Ee||R&&te&&pe||!b&&pe||!z)return 1;if(!R&&!j&&!Ee&&u<d||Ee&&b&&z&&!R&&!j||ne&&b&&z||!te&&z||!pe)return-1}return 0}function kq(u,d,b){for(var R=-1,z=u.criteria,j=d.criteria,te=z.length,ne=b.length;++R<te;){var pe=s_(z[R],j[R]);if(pe){if(R>=ne)return pe;var Ee=b[R];return pe*(Ee=="desc"?-1:1)}}return u.index-d.index}function a_(u,d,b,R){for(var z=-1,j=u.length,te=b.length,ne=-1,pe=d.length,Ee=Br(j-te,0),Ce=ve(pe+Ee),Ae=!R;++ne<pe;)Ce[ne]=d[ne];for(;++z<te;)(Ae||z<j)&&(Ce[b[z]]=u[z]);for(;Ee--;)Ce[ne++]=u[z++];return Ce}function l_(u,d,b,R){for(var z=-1,j=u.length,te=-1,ne=b.length,pe=-1,Ee=d.length,Ce=Br(j-ne,0),Ae=ve(Ce+Ee),Be=!R;++z<Ce;)Ae[z]=u[z];for(var Je=z;++pe<Ee;)Ae[Je+pe]=d[pe];for(;++te<ne;)(Be||z<j)&&(Ae[Je+b[te]]=u[z++]);return Ae}function Gi(u,d){var b=-1,R=u.length;for(d||(d=ve(R));++b<R;)d[b]=u[b];return d}function wo(u,d,b,R){var z=!b;b||(b={});for(var j=-1,te=d.length;++j<te;){var ne=d[j],pe=R?R(b[ne],u[ne],ne,b,u):t;pe===t&&(pe=u[ne]),z?Zo(b,ne,pe):Ac(b,ne,pe)}return b}function Nq(u,d){return wo(u,ay(u),d)}function Oq(u,d){return wo(u,x_(u),d)}function dh(u,d){return function(b,R){var z=bt(b)?Rs:rq,j=d?d():{};return z(b,u,ot(R,2),j)}}function Nl(u){return At(function(d,b){var R=-1,z=b.length,j=z>1?b[z-1]:t,te=z>2?b[2]:t;for(j=u.length>3&&typeof j=="function"?(z--,j):t,te&&Li(b[0],b[1],te)&&(j=z<3?t:j,z=1),d=nr(d);++R<z;){var ne=b[R];ne&&u(d,ne,R,j)}return d})}function u_(u,d){return function(b,R){if(b==null)return b;if(!Ki(b))return u(b,R);for(var z=b.length,j=d?z:-1,te=nr(b);(d?j--:++j<z)&&R(te[j],j,te)!==!1;);return b}}function c_(u){return function(d,b,R){for(var z=-1,j=nr(d),te=R(d),ne=te.length;ne--;){var pe=te[u?ne:++z];if(b(j[pe],pe,j)===!1)break}return d}}function Dq(u,d,b){var R=d&g,z=Nc(u);function j(){var te=this&&this!==ir&&this instanceof j?z:u;return te.apply(R?b:this,arguments)}return j}function d_(u){return function(d){d=$t(d);var b=St(d)?ai(d):t,R=b?b[0]:d.charAt(0),z=b?qs(b,1).join(""):d.slice(1);return R[u]()+z}}function Ol(u){return function(d){return Pa(uE(lE(d).replace(Sv,"")),u,"")}}function Nc(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var b=kl(u.prototype),R=u.apply(b,d);return yr(R)?R:b}}function Lq(u,d,b){var R=Nc(u);function z(){for(var j=arguments.length,te=ve(j),ne=j,pe=Dl(z);ne--;)te[ne]=arguments[ne];var Ee=j<3&&te[0]!==pe&&te[j-1]!==pe?[]:fr(te,pe);if(j-=Ee.length,j<b)return g_(u,d,ph,z.placeholder,t,te,Ee,t,t,b-j);var Ce=this&&this!==ir&&this instanceof z?R:u;return Ni(Ce,this,te)}return z}function p_(u){return function(d,b,R){var z=nr(d);if(!Ki(d)){var j=ot(b,3);d=Gr(d),b=function(ne){return j(z[ne],ne,z)}}var te=u(d,b,R);return te>-1?z[j?d[te]:te]:t}}function h_(u){return Jo(function(d){var b=d.length,R=b,z=Cn.prototype.thru;for(u&&d.reverse();R--;){var j=d[R];if(typeof j!="function")throw new En(n);if(z&&!te&&gh(j)=="wrapper")var te=new Cn([],!0)}for(R=te?R:b;++R<b;){j=d[R];var ne=gh(j),pe=ne=="wrapper"?oy(j):t;pe&&uy(pe[0])&&pe[1]==(L|_|M|I)&&!pe[4].length&&pe[9]==1?te=te[gh(pe[0])].apply(te,pe[3]):te=j.length==1&&uy(j)?te[ne]():te.thru(j)}return function(){var Ee=arguments,Ce=Ee[0];if(te&&Ee.length==1&&bt(Ce))return te.plant(Ce).value();for(var Ae=0,Be=b?d[Ae].apply(this,Ee):Ce;++Ae<b;)Be=d[Ae].call(this,Be);return Be}})}function ph(u,d,b,R,z,j,te,ne,pe,Ee){var Ce=d&L,Ae=d&g,Be=d&x,Je=d&(_|D),lt=d&q,It=Be?t:Nc(u);function ut(){for(var Mt=arguments.length,Nt=ve(Mt),dn=Mt;dn--;)Nt[dn]=arguments[dn];if(Je)var Fi=Dl(ut),pn=xe(Nt,Fi);if(R&&(Nt=a_(Nt,R,z,Je)),j&&(Nt=l_(Nt,j,te,Je)),Mt-=pn,Je&&Mt<Ee){var Mr=fr(Nt,Fi);return g_(u,d,ph,ut.placeholder,b,Nt,Mr,ne,pe,Ee-Mt)}var Vn=Ae?b:this,is=Be?Vn[u]:u;return Mt=Nt.length,ne?Nt=rH(Nt,ne):lt&&Mt>1&&Nt.reverse(),Ce&&pe<Mt&&(Nt.length=pe),this&&this!==ir&&this instanceof ut&&(is=It||Nc(is)),is.apply(Vn,Nt)}return ut}function f_(u,d){return function(b,R){return cq(b,u,d(R),{})}}function hh(u,d){return function(b,R){var z;if(b===t&&R===t)return d;if(b!==t&&(z=b),R!==t){if(z===t)return R;typeof b=="string"||typeof R=="string"?(b=un(b),R=un(R)):(b=JS(b),R=JS(R)),z=u(b,R)}return z}}function ty(u){return Jo(function(d){return d=Ft(d,Gt(ot())),At(function(b){var R=this;return u(d,function(z){return Ni(z,R,b)})})})}function fh(u,d){d=d===t?" ":un(d);var b=d.length;if(b<2)return b?Kv(d,u):d;var R=Kv(d,eh(u/Nr(d)));return St(d)?qs(ai(R),0,u).join(""):R.slice(0,u)}function Fq(u,d,b,R){var z=d&g,j=Nc(u);function te(){for(var ne=-1,pe=arguments.length,Ee=-1,Ce=R.length,Ae=ve(Ce+pe),Be=this&&this!==ir&&this instanceof te?j:u;++Ee<Ce;)Ae[Ee]=R[Ee];for(;pe--;)Ae[Ee++]=arguments[++ne];return Ni(Be,z?b:this,Ae)}return te}function m_(u){return function(d,b,R){return R&&typeof R!="number"&&Li(d,b,R)&&(b=R=t),d=rs(d),b===t?(b=d,d=0):b=rs(b),R=R===t?d<b?1:-1:rs(R),Sq(d,b,R,u)}}function mh(u){return function(d,b){return typeof d=="string"&&typeof b=="string"||(d=Tn(d),b=Tn(b)),u(d,b)}}function g_(u,d,b,R,z,j,te,ne,pe,Ee){var Ce=d&_,Ae=Ce?te:t,Be=Ce?t:te,Je=Ce?j:t,lt=Ce?t:j;d|=Ce?M:P,d&=~(Ce?P:M),d&E||(d&=~(g|x));var It=[u,d,z,Je,Ae,lt,Be,ne,pe,Ee],ut=b.apply(t,It);return uy(u)&&A_(ut,It),ut.placeholder=R,T_(ut,u,d)}function ry(u){var d=zr[u];return function(b,R){if(b=Tn(b),R=R==null?0:xi(Ct(R),292),R&&TS(b)){var z=($t(b)+"e").split("e"),j=d(z[0]+"e"+(+z[1]+R));return z=($t(j)+"e").split("e"),+(z[0]+"e"+(+z[1]-R))}return d(b)}}var zq=Ml&&1/zt(new Ml([,-0]))[1]==le?function(u){return new Ml(u)}:Ey;function v_(u){return function(d){var b=Si(d);return b==He?Kt(d):b==Ze?_r(d):Rv(d,u(d))}}function Qo(u,d,b,R,z,j,te,ne){var pe=d&x;if(!pe&&typeof u!="function")throw new En(n);var Ee=R?R.length:0;if(Ee||(d&=~(M|P),R=z=t),te=te===t?te:Br(Ct(te),0),ne=ne===t?ne:Ct(ne),Ee-=z?z.length:0,d&P){var Ce=R,Ae=z;R=z=t}var Be=pe?t:oy(u),Je=[u,d,b,R,z,Ce,Ae,j,te,ne];if(Be&&Jq(Je,Be),u=Je[0],d=Je[1],b=Je[2],R=Je[3],z=Je[4],ne=Je[9]=Je[9]===t?pe?0:u.length:Br(Je[9]-Ee,0),!ne&&d&(_|D)&&(d&=~(_|D)),!d||d==g)var lt=Dq(u,d,b);else d==_||d==D?lt=Lq(u,d,ne):(d==M||d==(g|M))&&!z.length?lt=Fq(u,d,b,R):lt=ph.apply(t,Je);var It=Be?ZS:A_;return T_(It(lt,Je),u,d)}function y_(u,d,b,R){return u===t||Wn(u,Tl[b])&&!Yt.call(R,b)?d:u}function b_(u,d,b,R,z,j){return yr(u)&&yr(d)&&(j.set(d,u),lh(u,d,t,b_,j),j.delete(d)),u}function Bq(u){return Lc(u)?t:u}function w_(u,d,b,R,z,j){var te=b&m,ne=u.length,pe=d.length;if(ne!=pe&&!(te&&pe>ne))return!1;var Ee=j.get(u),Ce=j.get(d);if(Ee&&Ce)return Ee==d&&Ce==u;var Ae=-1,Be=!0,Je=b&v?new Ra:t;for(j.set(u,d),j.set(d,u);++Ae<ne;){var lt=u[Ae],It=d[Ae];if(R)var ut=te?R(It,lt,Ae,d,u,j):R(lt,It,Ae,u,d,j);if(ut!==t){if(ut)continue;Be=!1;break}if(Je){if(!jo(d,function(Mt,Nt){if(!H(Je,Nt)&&(lt===Mt||z(lt,Mt,b,R,j)))return Je.push(Nt)})){Be=!1;break}}else if(!(lt===It||z(lt,It,b,R,j))){Be=!1;break}}return j.delete(u),j.delete(d),Be}function Uq(u,d,b,R,z,j,te){switch(b){case Lt:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case Mi:return!(u.byteLength!=d.byteLength||!j(new Xp(u),new Xp(d)));case ge:case Re:case ft:return Wn(+u,+d);case Me:return u.name==d.name&&u.message==d.message;case Rt:case Dt:return u==d+"";case He:var ne=Kt;case Ze:var pe=R&m;if(ne||(ne=zt),u.size!=d.size&&!pe)return!1;var Ee=te.get(u);if(Ee)return Ee==d;R|=v,te.set(u,d);var Ce=w_(ne(u),ne(d),R,z,j,te);return te.delete(u),Ce;case _t:if(Ic)return Ic.call(u)==Ic.call(d)}return!1}function qq(u,d,b,R,z,j){var te=b&m,ne=iy(u),pe=ne.length,Ee=iy(d),Ce=Ee.length;if(pe!=Ce&&!te)return!1;for(var Ae=pe;Ae--;){var Be=ne[Ae];if(!(te?Be in d:Yt.call(d,Be)))return!1}var Je=j.get(u),lt=j.get(d);if(Je&&lt)return Je==d&&lt==u;var It=!0;j.set(u,d),j.set(d,u);for(var ut=te;++Ae<pe;){Be=ne[Ae];var Mt=u[Be],Nt=d[Be];if(R)var dn=te?R(Nt,Mt,Be,d,u,j):R(Mt,Nt,Be,u,d,j);if(!(dn===t?Mt===Nt||z(Mt,Nt,b,R,j):dn)){It=!1;break}ut||(ut=Be=="constructor")}if(It&&!ut){var Fi=u.constructor,pn=d.constructor;Fi!=pn&&"constructor"in u&&"constructor"in d&&!(typeof Fi=="function"&&Fi instanceof Fi&&typeof pn=="function"&&pn instanceof pn)&&(It=!1)}return j.delete(u),j.delete(d),It}function Jo(u){return dy(P_(u,t,D_),u+"")}function iy(u){return US(u,Gr,ay)}function ny(u){return US(u,Yi,x_)}var oy=rh?function(u){return rh.get(u)}:Ey;function gh(u){for(var d=u.name+"",b=Rl[d],R=Yt.call(Rl,d)?b.length:0;R--;){var z=b[R],j=z.func;if(j==null||j==u)return z.name}return d}function Dl(u){var d=Yt.call(V,"placeholder")?V:u;return d.placeholder}function ot(){var u=V.iteratee||Sy;return u=u===Sy?WS:u,arguments.length?u(arguments[0],arguments[1]):u}function vh(u,d){var b=u.__data__;return Yq(d)?b[typeof d=="string"?"string":"hash"]:b.map}function sy(u){for(var d=Gr(u),b=d.length;b--;){var R=d[b],z=u[R];d[b]=[R,z,E_(z)]}return d}function Oa(u,d){var b=ht(u,d);return HS(b)?b:t}function Hq(u){var d=Yt.call(u,Ta),b=u[Ta];try{u[Ta]=t;var R=!0}catch{}var z=Kp.call(u);return R&&(d?u[Ta]=b:delete u[Ta]),z}var ay=Ov?function(u){return u==null?[]:(u=nr(u),oi(Ov(u),function(d){return IS.call(u,d)}))}:Cy,x_=Ov?function(u){for(var d=[];u;)_n(d,ay(u)),u=Zp(u);return d}:Cy,Si=Di;(Dv&&Si(new Dv(new ArrayBuffer(1)))!=Lt||Ec&&Si(new Ec)!=He||Lv&&Si(Lv.resolve())!=Xe||Ml&&Si(new Ml)!=Ze||Cc&&Si(new Cc)!=Tt)&&(Si=function(u){var d=Di(u),b=d==tt?u.constructor:t,R=b?Da(b):"";if(R)switch(R){case EU:return Lt;case CU:return He;case PU:return Xe;case IU:return Ze;case AU:return Tt}return d});function Wq(u,d,b){for(var R=-1,z=b.length;++R<z;){var j=b[R],te=j.size;switch(j.type){case"drop":u+=te;break;case"dropRight":d-=te;break;case"take":d=xi(d,u+te);break;case"takeRight":u=Br(u,d-te);break}}return{start:u,end:d}}function Vq(u){var d=u.match(ac);return d?d[1].split(va):[]}function S_(u,d,b){d=Us(d,u);for(var R=-1,z=d.length,j=!1;++R<z;){var te=xo(d[R]);if(!(j=u!=null&&b(u,te)))break;u=u[te]}return j||++R!=z?j:(z=u==null?0:u.length,!!z&&Eh(z)&&es(te,z)&&(bt(u)||La(u)))}function $q(u){var d=u.length,b=new u.constructor(d);return d&&typeof u[0]=="string"&&Yt.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function __(u){return typeof u.constructor=="function"&&!Oc(u)?kl(Zp(u)):{}}function jq(u,d,b){var R=u.constructor;switch(d){case Mi:return ey(u);case ge:case Re:return new R(+u);case Lt:return Tq(u,b);case cr:case mt:case Wi:case Ri:case yl:case vr:case co:case po:case Cs:return o_(u,b);case He:return new R;case ft:case Dt:return new R(u);case Rt:return Mq(u);case Ze:return new R;case _t:return Rq(u)}}function Gq(u,d){var b=d.length;if(!b)return u;var R=b-1;return d[R]=(b>1?"& ":"")+d[R],d=d.join(b>2?", ":" "),u.replace(ga,`{
/* [wrapped with `+d+`] */
`)}function Kq(u){return bt(u)||La(u)||!!(AS&&u&&u[AS])}function es(u,d){var b=typeof u;return d=d??G,!!d&&(b=="number"||b!="symbol"&&Vr.test(u))&&u>-1&&u%1==0&&u<d}function Li(u,d,b){if(!yr(b))return!1;var R=typeof d;return(R=="number"?Ki(b)&&es(d,b.length):R=="string"&&d in b)?Wn(b[d],u):!1}function ly(u,d){if(bt(u))return!1;var b=typeof u;return b=="number"||b=="symbol"||b=="boolean"||u==null||cn(u)?!0:vv.test(u)||!Rp.test(u)||d!=null&&u in nr(d)}function Yq(u){var d=typeof u;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?u!=="__proto__":u===null}function uy(u){var d=gh(u),b=V[d];if(typeof b!="function"||!(d in kt.prototype))return!1;if(u===b)return!0;var R=oy(b);return!!R&&u===R[0]}function Xq(u){return!!ES&&ES in u}var Zq=jp?ts:Py;function Oc(u){var d=u&&u.constructor,b=typeof d=="function"&&d.prototype||Tl;return u===b}function E_(u){return u===u&&!yr(u)}function C_(u,d){return function(b){return b==null?!1:b[u]===d&&(d!==t||u in nr(b))}}function Qq(u){var d=Sh(u,function(R){return b.size===a&&b.clear(),R}),b=d.cache;return d}function Jq(u,d){var b=u[1],R=d[1],z=b|R,j=z<(g|x|L),te=R==L&&b==_||R==L&&b==I&&u[7].length<=d[8]||R==(L|I)&&d[7].length<=d[8]&&b==_;if(!(j||te))return u;R&g&&(u[2]=d[2],z|=b&g?0:E);var ne=d[3];if(ne){var pe=u[3];u[3]=pe?a_(pe,ne,d[4]):ne,u[4]=pe?fr(u[3],l):d[4]}return ne=d[5],ne&&(pe=u[5],u[5]=pe?l_(pe,ne,d[6]):ne,u[6]=pe?fr(u[5],l):d[6]),ne=d[7],ne&&(u[7]=ne),R&L&&(u[8]=u[8]==null?d[8]:xi(u[8],d[8])),u[9]==null&&(u[9]=d[9]),u[0]=d[0],u[1]=z,u}function eH(u){var d=[];if(u!=null)for(var b in nr(u))d.push(b);return d}function tH(u){return Kp.call(u)}function P_(u,d,b){return d=Br(d===t?u.length-1:d,0),function(){for(var R=arguments,z=-1,j=Br(R.length-d,0),te=ve(j);++z<j;)te[z]=R[d+z];z=-1;for(var ne=ve(d+1);++z<d;)ne[z]=R[z];return ne[d]=b(te),Ni(u,this,ne)}}function I_(u,d){return d.length<2?u:Na(u,In(d,0,-1))}function rH(u,d){for(var b=u.length,R=xi(d.length,b),z=Gi(u);R--;){var j=d[R];u[R]=es(j,b)?z[j]:t}return u}function cy(u,d){if(!(d==="constructor"&&typeof u[d]=="function")&&d!="__proto__")return u[d]}var A_=M_(ZS),Dc=vU||function(u,d){return ir.setTimeout(u,d)},dy=M_(Cq);function T_(u,d,b){var R=d+"";return dy(u,Gq(R,iH(Vq(R),b)))}function M_(u){var d=0,b=0;return function(){var R=xU(),z=U-(R-b);if(b=R,z>0){if(++d>=W)return arguments[0]}else d=0;return u.apply(t,arguments)}}function yh(u,d){var b=-1,R=u.length,z=R-1;for(d=d===t?R:d;++b<d;){var j=Gv(b,z),te=u[j];u[j]=u[b],u[b]=te}return u.length=d,u}var R_=Qq(function(u){var d=[];return u.charCodeAt(0)===46&&d.push(""),u.replace(yv,function(b,R,z,j){d.push(z?j.replace(Np,"$1"):R||b)}),d});function xo(u){if(typeof u=="string"||cn(u))return u;var d=u+"";return d=="0"&&1/u==-le?"-0":d}function Da(u){if(u!=null){try{return Gp.call(u)}catch{}try{return u+""}catch{}}return""}function iH(u,d){return ni(se,function(b){var R="_."+b[0];d&b[1]&&!Ca(u,R)&&u.push(R)}),u.sort()}function k_(u){if(u instanceof kt)return u.clone();var d=new Cn(u.__wrapped__,u.__chain__);return d.__actions__=Gi(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}function nH(u,d,b){(b?Li(u,d,b):d===t)?d=1:d=Br(Ct(d),0);var R=u==null?0:u.length;if(!R||d<1)return[];for(var z=0,j=0,te=ve(eh(R/d));z<R;)te[j++]=In(u,z,z+=d);return te}function oH(u){for(var d=-1,b=u==null?0:u.length,R=0,z=[];++d<b;){var j=u[d];j&&(z[R++]=j)}return z}function sH(){var u=arguments.length;if(!u)return[];for(var d=ve(u-1),b=arguments[0],R=u;R--;)d[R-1]=arguments[R];return _n(bt(b)?Gi(b):[b],li(d,1))}var aH=At(function(u,d){return Tr(u)?Tc(u,li(d,1,Tr,!0)):[]}),lH=At(function(u,d){var b=An(d);return Tr(b)&&(b=t),Tr(u)?Tc(u,li(d,1,Tr,!0),ot(b,2)):[]}),uH=At(function(u,d){var b=An(d);return Tr(b)&&(b=t),Tr(u)?Tc(u,li(d,1,Tr,!0),t,b):[]});function cH(u,d,b){var R=u==null?0:u.length;return R?(d=b||d===t?1:Ct(d),In(u,d<0?0:d,R)):[]}function dH(u,d,b){var R=u==null?0:u.length;return R?(d=b||d===t?1:Ct(d),d=R-d,In(u,0,d<0?0:d)):[]}function pH(u,d){return u&&u.length?ch(u,ot(d,3),!0,!0):[]}function hH(u,d){return u&&u.length?ch(u,ot(d,3),!0):[]}function fH(u,d,b,R){var z=u==null?0:u.length;return z?(b&&typeof b!="number"&&Li(u,d,b)&&(b=0,R=z),sq(u,d,b,R)):[]}function N_(u,d,b){var R=u==null?0:u.length;if(!R)return-1;var z=b==null?0:Ct(b);return z<0&&(z=Br(R+z,0)),bi(u,ot(d,3),z)}function O_(u,d,b){var R=u==null?0:u.length;if(!R)return-1;var z=R-1;return b!==t&&(z=Ct(b),z=b<0?Br(R+z,0):xi(z,R-1)),bi(u,ot(d,3),z,!0)}function D_(u){var d=u==null?0:u.length;return d?li(u,1):[]}function mH(u){var d=u==null?0:u.length;return d?li(u,le):[]}function gH(u,d){var b=u==null?0:u.length;return b?(d=d===t?1:Ct(d),li(u,d)):[]}function vH(u){for(var d=-1,b=u==null?0:u.length,R={};++d<b;){var z=u[d];R[z[0]]=z[1]}return R}function L_(u){return u&&u.length?u[0]:t}function yH(u,d,b){var R=u==null?0:u.length;if(!R)return-1;var z=b==null?0:Ct(b);return z<0&&(z=Br(R+z,0)),sn(u,d,z)}function bH(u){var d=u==null?0:u.length;return d?In(u,0,-1):[]}var wH=At(function(u){var d=Ft(u,Qv);return d.length&&d[0]===u[0]?Hv(d):[]}),xH=At(function(u){var d=An(u),b=Ft(u,Qv);return d===An(b)?d=t:b.pop(),b.length&&b[0]===u[0]?Hv(b,ot(d,2)):[]}),SH=At(function(u){var d=An(u),b=Ft(u,Qv);return d=typeof d=="function"?d:t,d&&b.pop(),b.length&&b[0]===u[0]?Hv(b,t,d):[]});function _H(u,d){return u==null?"":bU.call(u,d)}function An(u){var d=u==null?0:u.length;return d?u[d-1]:t}function EH(u,d,b){var R=u==null?0:u.length;if(!R)return-1;var z=R;return b!==t&&(z=Ct(b),z=z<0?Br(R+z,0):xi(z,R-1)),d===d?Ds(u,d,z):bi(u,Il,z,!0)}function CH(u,d){return u&&u.length?GS(u,Ct(d)):t}var PH=At(F_);function F_(u,d){return u&&u.length&&d&&d.length?jv(u,d):u}function IH(u,d,b){return u&&u.length&&d&&d.length?jv(u,d,ot(b,2)):u}function AH(u,d,b){return u&&u.length&&d&&d.length?jv(u,d,t,b):u}var TH=Jo(function(u,d){var b=u==null?0:u.length,R=zv(u,d);return XS(u,Ft(d,function(z){return es(z,b)?+z:z}).sort(s_)),R});function MH(u,d){var b=[];if(!(u&&u.length))return b;var R=-1,z=[],j=u.length;for(d=ot(d,3);++R<j;){var te=u[R];d(te,R,u)&&(b.push(te),z.push(R))}return XS(u,z),b}function py(u){return u==null?u:_U.call(u)}function RH(u,d,b){var R=u==null?0:u.length;return R?(b&&typeof b!="number"&&Li(u,d,b)?(d=0,b=R):(d=d==null?0:Ct(d),b=b===t?R:Ct(b)),In(u,d,b)):[]}function kH(u,d){return uh(u,d)}function NH(u,d,b){return Yv(u,d,ot(b,2))}function OH(u,d){var b=u==null?0:u.length;if(b){var R=uh(u,d);if(R<b&&Wn(u[R],d))return R}return-1}function DH(u,d){return uh(u,d,!0)}function LH(u,d,b){return Yv(u,d,ot(b,2),!0)}function FH(u,d){var b=u==null?0:u.length;if(b){var R=uh(u,d,!0)-1;if(Wn(u[R],d))return R}return-1}function zH(u){return u&&u.length?QS(u):[]}function BH(u,d){return u&&u.length?QS(u,ot(d,2)):[]}function UH(u){var d=u==null?0:u.length;return d?In(u,1,d):[]}function qH(u,d,b){return u&&u.length?(d=b||d===t?1:Ct(d),In(u,0,d<0?0:d)):[]}function HH(u,d,b){var R=u==null?0:u.length;return R?(d=b||d===t?1:Ct(d),d=R-d,In(u,d<0?0:d,R)):[]}function WH(u,d){return u&&u.length?ch(u,ot(d,3),!1,!0):[]}function VH(u,d){return u&&u.length?ch(u,ot(d,3)):[]}var $H=At(function(u){return Bs(li(u,1,Tr,!0))}),jH=At(function(u){var d=An(u);return Tr(d)&&(d=t),Bs(li(u,1,Tr,!0),ot(d,2))}),GH=At(function(u){var d=An(u);return d=typeof d=="function"?d:t,Bs(li(u,1,Tr,!0),t,d)});function KH(u){return u&&u.length?Bs(u):[]}function YH(u,d){return u&&u.length?Bs(u,ot(d,2)):[]}function XH(u,d){return d=typeof d=="function"?d:t,u&&u.length?Bs(u,t,d):[]}function hy(u){if(!(u&&u.length))return[];var d=0;return u=oi(u,function(b){if(Tr(b))return d=Br(b.length,d),!0}),Os(d,function(b){return Ft(u,Ia(b))})}function z_(u,d){if(!(u&&u.length))return[];var b=hy(u);return d==null?b:Ft(b,function(R){return Ni(d,t,R)})}var ZH=At(function(u,d){return Tr(u)?Tc(u,d):[]}),QH=At(function(u){return Zv(oi(u,Tr))}),JH=At(function(u){var d=An(u);return Tr(d)&&(d=t),Zv(oi(u,Tr),ot(d,2))}),eW=At(function(u){var d=An(u);return d=typeof d=="function"?d:t,Zv(oi(u,Tr),t,d)}),tW=At(hy);function rW(u,d){return r_(u||[],d||[],Ac)}function iW(u,d){return r_(u||[],d||[],kc)}var nW=At(function(u){var d=u.length,b=d>1?u[d-1]:t;return b=typeof b=="function"?(u.pop(),b):t,z_(u,b)});function B_(u){var d=V(u);return d.__chain__=!0,d}function oW(u,d){return d(u),u}function bh(u,d){return d(u)}var sW=Jo(function(u){var d=u.length,b=d?u[0]:0,R=this.__wrapped__,z=function(j){return zv(j,u)};return d>1||this.__actions__.length||!(R instanceof kt)||!es(b)?this.thru(z):(R=R.slice(b,+b+(d?1:0)),R.__actions__.push({func:bh,args:[z],thisArg:t}),new Cn(R,this.__chain__).thru(function(j){return d&&!j.length&&j.push(t),j}))});function aW(){return B_(this)}function lW(){return new Cn(this.value(),this.__chain__)}function uW(){this.__values__===t&&(this.__values__=J_(this.value()));var u=this.__index__>=this.__values__.length,d=u?t:this.__values__[this.__index__++];return{done:u,value:d}}function cW(){return this}function dW(u){for(var d,b=this;b instanceof nh;){var R=k_(b);R.__index__=0,R.__values__=t,d?z.__wrapped__=R:d=R;var z=R;b=b.__wrapped__}return z.__wrapped__=u,d}function pW(){var u=this.__wrapped__;if(u instanceof kt){var d=u;return this.__actions__.length&&(d=new kt(this)),d=d.reverse(),d.__actions__.push({func:bh,args:[py],thisArg:t}),new Cn(d,this.__chain__)}return this.thru(py)}function hW(){return t_(this.__wrapped__,this.__actions__)}var fW=dh(function(u,d,b){Yt.call(u,b)?++u[b]:Zo(u,b,1)});function mW(u,d,b){var R=bt(u)?bc:oq;return b&&Li(u,d,b)&&(d=t),R(u,ot(d,3))}function gW(u,d){var b=bt(u)?oi:zS;return b(u,ot(d,3))}var vW=p_(N_),yW=p_(O_);function bW(u,d){return li(wh(u,d),1)}function wW(u,d){return li(wh(u,d),le)}function xW(u,d,b){return b=b===t?1:Ct(b),li(wh(u,d),b)}function U_(u,d){var b=bt(u)?ni:zs;return b(u,ot(d,3))}function q_(u,d){var b=bt(u)?Vp:FS;return b(u,ot(d,3))}var SW=dh(function(u,d,b){Yt.call(u,b)?u[b].push(d):Zo(u,b,[d])});function _W(u,d,b,R){u=Ki(u)?u:Fl(u),b=b&&!R?Ct(b):0;var z=u.length;return b<0&&(b=Br(z+b,0)),Ch(u)?b<=z&&u.indexOf(d,b)>-1:!!z&&sn(u,d,b)>-1}var EW=At(function(u,d,b){var R=-1,z=typeof d=="function",j=Ki(u)?ve(u.length):[];return zs(u,function(te){j[++R]=z?Ni(d,te,b):Mc(te,d,b)}),j}),CW=dh(function(u,d,b){Zo(u,b,d)});function wh(u,d){var b=bt(u)?Ft:VS;return b(u,ot(d,3))}function PW(u,d,b,R){return u==null?[]:(bt(d)||(d=d==null?[]:[d]),b=R?t:b,bt(b)||(b=b==null?[]:[b]),KS(u,d,b))}var IW=dh(function(u,d,b){u[b?0:1].push(d)},function(){return[[],[]]});function AW(u,d,b){var R=bt(u)?Pa:yo,z=arguments.length<3;return R(u,ot(d,4),b,z,zs)}function TW(u,d,b){var R=bt(u)?Pl:yo,z=arguments.length<3;return R(u,ot(d,4),b,z,FS)}function MW(u,d){var b=bt(u)?oi:zS;return b(u,_h(ot(d,3)))}function RW(u){var d=bt(u)?NS:_q;return d(u)}function kW(u,d,b){(b?Li(u,d,b):d===t)?d=1:d=Ct(d);var R=bt(u)?eq:Eq;return R(u,d)}function NW(u){var d=bt(u)?tq:Pq;return d(u)}function OW(u){if(u==null)return 0;if(Ki(u))return Ch(u)?Nr(u):u.length;var d=Si(u);return d==He||d==Ze?u.size:Vv(u).length}function DW(u,d,b){var R=bt(u)?jo:Iq;return b&&Li(u,d,b)&&(d=t),R(u,ot(d,3))}var LW=At(function(u,d){if(u==null)return[];var b=d.length;return b>1&&Li(u,d[0],d[1])?d=[]:b>2&&Li(d[0],d[1],d[2])&&(d=[d[0]]),KS(u,li(d,1),[])}),xh=gU||function(){return ir.Date.now()};function FW(u,d){if(typeof d!="function")throw new En(n);return u=Ct(u),function(){if(--u<1)return d.apply(this,arguments)}}function H_(u,d,b){return d=b?t:d,d=u&&d==null?u.length:d,Qo(u,L,t,t,t,t,d)}function W_(u,d){var b;if(typeof d!="function")throw new En(n);return u=Ct(u),function(){return--u>0&&(b=d.apply(this,arguments)),u<=1&&(d=t),b}}var fy=At(function(u,d,b){var R=g;if(b.length){var z=fr(b,Dl(fy));R|=M}return Qo(u,R,d,b,z)}),V_=At(function(u,d,b){var R=g|x;if(b.length){var z=fr(b,Dl(V_));R|=M}return Qo(d,R,u,b,z)});function $_(u,d,b){d=b?t:d;var R=Qo(u,_,t,t,t,t,t,d);return R.placeholder=$_.placeholder,R}function j_(u,d,b){d=b?t:d;var R=Qo(u,D,t,t,t,t,t,d);return R.placeholder=j_.placeholder,R}function G_(u,d,b){var R,z,j,te,ne,pe,Ee=0,Ce=!1,Ae=!1,Be=!0;if(typeof u!="function")throw new En(n);d=Tn(d)||0,yr(b)&&(Ce=!!b.leading,Ae="maxWait"in b,j=Ae?Br(Tn(b.maxWait)||0,d):j,Be="trailing"in b?!!b.trailing:Be);function Je(Mr){var Vn=R,is=z;return R=z=t,Ee=Mr,te=u.apply(is,Vn),te}function lt(Mr){return Ee=Mr,ne=Dc(Mt,d),Ce?Je(Mr):te}function It(Mr){var Vn=Mr-pe,is=Mr-Ee,pE=d-Vn;return Ae?xi(pE,j-is):pE}function ut(Mr){var Vn=Mr-pe,is=Mr-Ee;return pe===t||Vn>=d||Vn<0||Ae&&is>=j}function Mt(){var Mr=xh();if(ut(Mr))return Nt(Mr);ne=Dc(Mt,It(Mr))}function Nt(Mr){return ne=t,Be&&R?Je(Mr):(R=z=t,te)}function dn(){ne!==t&&i_(ne),Ee=0,R=pe=z=ne=t}function Fi(){return ne===t?te:Nt(xh())}function pn(){var Mr=xh(),Vn=ut(Mr);if(R=arguments,z=this,pe=Mr,Vn){if(ne===t)return lt(pe);if(Ae)return i_(ne),ne=Dc(Mt,d),Je(pe)}return ne===t&&(ne=Dc(Mt,d)),te}return pn.cancel=dn,pn.flush=Fi,pn}var zW=At(function(u,d){return LS(u,1,d)}),BW=At(function(u,d,b){return LS(u,Tn(d)||0,b)});function UW(u){return Qo(u,q)}function Sh(u,d){if(typeof u!="function"||d!=null&&typeof d!="function")throw new En(n);var b=function(){var R=arguments,z=d?d.apply(this,R):R[0],j=b.cache;if(j.has(z))return j.get(z);var te=u.apply(this,R);return b.cache=j.set(z,te)||j,te};return b.cache=new(Sh.Cache||Xo),b}Sh.Cache=Xo;function _h(u){if(typeof u!="function")throw new En(n);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}function qW(u){return W_(2,u)}var HW=Aq(function(u,d){d=d.length==1&&bt(d[0])?Ft(d[0],Gt(ot())):Ft(li(d,1),Gt(ot()));var b=d.length;return At(function(R){for(var z=-1,j=xi(R.length,b);++z<j;)R[z]=d[z].call(this,R[z]);return Ni(u,this,R)})}),my=At(function(u,d){var b=fr(d,Dl(my));return Qo(u,M,t,d,b)}),K_=At(function(u,d){var b=fr(d,Dl(K_));return Qo(u,P,t,d,b)}),WW=Jo(function(u,d){return Qo(u,I,t,t,t,d)});function VW(u,d){if(typeof u!="function")throw new En(n);return d=d===t?d:Ct(d),At(u,d)}function $W(u,d){if(typeof u!="function")throw new En(n);return d=d==null?0:Br(Ct(d),0),At(function(b){var R=b[d],z=qs(b,0,d);return R&&_n(z,R),Ni(u,this,z)})}function jW(u,d,b){var R=!0,z=!0;if(typeof u!="function")throw new En(n);return yr(b)&&(R="leading"in b?!!b.leading:R,z="trailing"in b?!!b.trailing:z),G_(u,d,{leading:R,maxWait:d,trailing:z})}function GW(u){return H_(u,1)}function KW(u,d){return my(Jv(d),u)}function YW(){if(!arguments.length)return[];var u=arguments[0];return bt(u)?u:[u]}function XW(u){return Pn(u,c)}function ZW(u,d){return d=typeof d=="function"?d:t,Pn(u,c,d)}function QW(u){return Pn(u,p|c)}function JW(u,d){return d=typeof d=="function"?d:t,Pn(u,p|c,d)}function eV(u,d){return d==null||DS(u,d,Gr(d))}function Wn(u,d){return u===d||u!==u&&d!==d}var tV=mh(qv),rV=mh(function(u,d){return u>=d}),La=qS(function(){return arguments}())?qS:function(u){return Cr(u)&&Yt.call(u,"callee")&&!IS.call(u,"callee")},bt=ve.isArray,iV=$o?Gt($o):dq;function Ki(u){return u!=null&&Eh(u.length)&&!ts(u)}function Tr(u){return Cr(u)&&Ki(u)}function nV(u){return u===!0||u===!1||Cr(u)&&Di(u)==ge}var Hs=yU||Py,oV=qp?Gt(qp):pq;function sV(u){return Cr(u)&&u.nodeType===1&&!Lc(u)}function aV(u){if(u==null)return!0;if(Ki(u)&&(bt(u)||typeof u=="string"||typeof u.splice=="function"||Hs(u)||Ll(u)||La(u)))return!u.length;var d=Si(u);if(d==He||d==Ze)return!u.size;if(Oc(u))return!Vv(u).length;for(var b in u)if(Yt.call(u,b))return!1;return!0}function lV(u,d){return Rc(u,d)}function uV(u,d,b){b=typeof b=="function"?b:t;var R=b?b(u,d):t;return R===t?Rc(u,d,t,b):!!R}function gy(u){if(!Cr(u))return!1;var d=Di(u);return d==Me||d==Qe||typeof u.message=="string"&&typeof u.name=="string"&&!Lc(u)}function cV(u){return typeof u=="number"&&TS(u)}function ts(u){if(!yr(u))return!1;var d=Di(u);return d==$e||d==Ne||d==Ie||d==ct}function Y_(u){return typeof u=="number"&&u==Ct(u)}function Eh(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=G}function yr(u){var d=typeof u;return u!=null&&(d=="object"||d=="function")}function Cr(u){return u!=null&&typeof u=="object"}var X_=Sn?Gt(Sn):fq;function dV(u,d){return u===d||Wv(u,d,sy(d))}function pV(u,d,b){return b=typeof b=="function"?b:t,Wv(u,d,sy(d),b)}function hV(u){return Z_(u)&&u!=+u}function fV(u){if(Zq(u))throw new vt(i);return HS(u)}function mV(u){return u===null}function gV(u){return u==null}function Z_(u){return typeof u=="number"||Cr(u)&&Di(u)==ft}function Lc(u){if(!Cr(u)||Di(u)!=tt)return!1;var d=Zp(u);if(d===null)return!0;var b=Yt.call(d,"constructor")&&d.constructor;return typeof b=="function"&&b instanceof b&&Gp.call(b)==pU}var vy=vi?Gt(vi):mq;function vV(u){return Y_(u)&&u>=-G&&u<=G}var Q_=Hp?Gt(Hp):gq;function Ch(u){return typeof u=="string"||!bt(u)&&Cr(u)&&Di(u)==Dt}function cn(u){return typeof u=="symbol"||Cr(u)&&Di(u)==_t}var Ll=Wp?Gt(Wp):vq;function yV(u){return u===t}function bV(u){return Cr(u)&&Si(u)==Tt}function wV(u){return Cr(u)&&Di(u)==ri}var xV=mh($v),SV=mh(function(u,d){return u<=d});function J_(u){if(!u)return[];if(Ki(u))return Ch(u)?ai(u):Gi(u);if(_c&&u[_c])return Et(u[_c]());var d=Si(u),b=d==He?Kt:d==Ze?zt:Fl;return b(u)}function rs(u){if(!u)return u===0?u:0;if(u=Tn(u),u===le||u===-le){var d=u<0?-1:1;return d*K}return u===u?u:0}function Ct(u){var d=rs(u),b=d%1;return d===d?b?d-b:d:0}function eE(u){return u?ka(Ct(u),0,re):0}function Tn(u){if(typeof u=="number")return u;if(cn(u))return Q;if(yr(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=yr(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=an(u);var b=hi.test(u);return b||fi.test(u)?Tv(u.slice(2),b?2:8):xl.test(u)?Q:+u}function tE(u){return wo(u,Yi(u))}function _V(u){return u?ka(Ct(u),-G,G):u===0?u:0}function $t(u){return u==null?"":un(u)}var EV=Nl(function(u,d){if(Oc(d)||Ki(d)){wo(d,Gr(d),u);return}for(var b in d)Yt.call(d,b)&&Ac(u,b,d[b])}),rE=Nl(function(u,d){wo(d,Yi(d),u)}),Ph=Nl(function(u,d,b,R){wo(d,Yi(d),u,R)}),CV=Nl(function(u,d,b,R){wo(d,Gr(d),u,R)}),PV=Jo(zv);function IV(u,d){var b=kl(u);return d==null?b:OS(b,d)}var AV=At(function(u,d){u=nr(u);var b=-1,R=d.length,z=R>2?d[2]:t;for(z&&Li(d[0],d[1],z)&&(R=1);++b<R;)for(var j=d[b],te=Yi(j),ne=-1,pe=te.length;++ne<pe;){var Ee=te[ne],Ce=u[Ee];(Ce===t||Wn(Ce,Tl[Ee])&&!Yt.call(u,Ee))&&(u[Ee]=j[Ee])}return u}),TV=At(function(u){return u.push(t,b_),Ni(iE,t,u)});function MV(u,d){return Go(u,ot(d,3),bo)}function RV(u,d){return Go(u,ot(d,3),Uv)}function kV(u,d){return u==null?u:Bv(u,ot(d,3),Yi)}function NV(u,d){return u==null?u:BS(u,ot(d,3),Yi)}function OV(u,d){return u&&bo(u,ot(d,3))}function DV(u,d){return u&&Uv(u,ot(d,3))}function LV(u){return u==null?[]:ah(u,Gr(u))}function FV(u){return u==null?[]:ah(u,Yi(u))}function yy(u,d,b){var R=u==null?t:Na(u,d);return R===t?b:R}function zV(u,d){return u!=null&&S_(u,d,aq)}function by(u,d){return u!=null&&S_(u,d,lq)}var BV=f_(function(u,d,b){d!=null&&typeof d.toString!="function"&&(d=Kp.call(d)),u[d]=b},xy(Xi)),UV=f_(function(u,d,b){d!=null&&typeof d.toString!="function"&&(d=Kp.call(d)),Yt.call(u,d)?u[d].push(b):u[d]=[b]},ot),qV=At(Mc);function Gr(u){return Ki(u)?kS(u):Vv(u)}function Yi(u){return Ki(u)?kS(u,!0):yq(u)}function HV(u,d){var b={};return d=ot(d,3),bo(u,function(R,z,j){Zo(b,d(R,z,j),R)}),b}function WV(u,d){var b={};return d=ot(d,3),bo(u,function(R,z,j){Zo(b,z,d(R,z,j))}),b}var VV=Nl(function(u,d,b){lh(u,d,b)}),iE=Nl(function(u,d,b,R){lh(u,d,b,R)}),$V=Jo(function(u,d){var b={};if(u==null)return b;var R=!1;d=Ft(d,function(j){return j=Us(j,u),R||(R=j.length>1),j}),wo(u,ny(u),b),R&&(b=Pn(b,p|f|c,Bq));for(var z=d.length;z--;)Xv(b,d[z]);return b});function jV(u,d){return nE(u,_h(ot(d)))}var GV=Jo(function(u,d){return u==null?{}:wq(u,d)});function nE(u,d){if(u==null)return{};var b=Ft(ny(u),function(R){return[R]});return d=ot(d),YS(u,b,function(R,z){return d(R,z[0])})}function KV(u,d,b){d=Us(d,u);var R=-1,z=d.length;for(z||(z=1,u=t);++R<z;){var j=u==null?t:u[xo(d[R])];j===t&&(R=z,j=b),u=ts(j)?j.call(u):j}return u}function YV(u,d,b){return u==null?u:kc(u,d,b)}function XV(u,d,b,R){return R=typeof R=="function"?R:t,u==null?u:kc(u,d,b,R)}var oE=v_(Gr),sE=v_(Yi);function ZV(u,d,b){var R=bt(u),z=R||Hs(u)||Ll(u);if(d=ot(d,4),b==null){var j=u&&u.constructor;z?b=R?new j:[]:yr(u)?b=ts(j)?kl(Zp(u)):{}:b={}}return(z?ni:bo)(u,function(te,ne,pe){return d(b,te,ne,pe)}),b}function QV(u,d){return u==null?!0:Xv(u,d)}function JV(u,d,b){return u==null?u:e_(u,d,Jv(b))}function e6(u,d,b,R){return R=typeof R=="function"?R:t,u==null?u:e_(u,d,Jv(b),R)}function Fl(u){return u==null?[]:O(u,Gr(u))}function t6(u){return u==null?[]:O(u,Yi(u))}function r6(u,d,b){return b===t&&(b=d,d=t),b!==t&&(b=Tn(b),b=b===b?b:0),d!==t&&(d=Tn(d),d=d===d?d:0),ka(Tn(u),d,b)}function i6(u,d,b){return d=rs(d),b===t?(b=d,d=0):b=rs(b),u=Tn(u),uq(u,d,b)}function n6(u,d,b){if(b&&typeof b!="boolean"&&Li(u,d,b)&&(d=b=t),b===t&&(typeof d=="boolean"?(b=d,d=t):typeof u=="boolean"&&(b=u,u=t)),u===t&&d===t?(u=0,d=1):(u=rs(u),d===t?(d=u,u=0):d=rs(d)),u>d){var R=u;u=d,d=R}if(b||u%1||d%1){var z=MS();return xi(u+z*(d-u+Av("1e-"+((z+"").length-1))),d)}return Gv(u,d)}var o6=Ol(function(u,d,b){return d=d.toLowerCase(),u+(b?aE(d):d)});function aE(u){return wy($t(u).toLowerCase())}function lE(u){return u=$t(u),u&&u.replace(qo,Te).replace(zp,"")}function s6(u,d,b){u=$t(u),d=un(d);var R=u.length;b=b===t?R:ka(Ct(b),0,R);var z=b;return b-=d.length,b>=0&&u.slice(b,z)==d}function a6(u){return u=$t(u),u&&gv.test(u)?u.replace(wl,Le):u}function l6(u){return u=$t(u),u&&kp.test(u)?u.replace(sc,"\\$&"):u}var u6=Ol(function(u,d,b){return u+(b?"-":"")+d.toLowerCase()}),c6=Ol(function(u,d,b){return u+(b?" ":"")+d.toLowerCase()}),d6=d_("toLowerCase");function p6(u,d,b){u=$t(u),d=Ct(d);var R=d?Nr(u):0;if(!d||R>=d)return u;var z=(d-R)/2;return fh(th(z),b)+u+fh(eh(z),b)}function h6(u,d,b){u=$t(u),d=Ct(d);var R=d?Nr(u):0;return d&&R<d?u+fh(d-R,b):u}function f6(u,d,b){u=$t(u),d=Ct(d);var R=d?Nr(u):0;return d&&R<d?fh(d-R,b)+u:u}function m6(u,d,b){return b||d==null?d=0:d&&(d=+d),SU($t(u).replace(ii,""),d||0)}function g6(u,d,b){return(b?Li(u,d,b):d===t)?d=1:d=Ct(d),Kv($t(u),d)}function v6(){var u=arguments,d=$t(u[0]);return u.length<3?d:d.replace(u[1],u[2])}var y6=Ol(function(u,d,b){return u+(b?"_":"")+d.toLowerCase()});function b6(u,d,b){return b&&typeof b!="number"&&Li(u,d,b)&&(d=b=t),b=b===t?re:b>>>0,b?(u=$t(u),u&&(typeof d=="string"||d!=null&&!vy(d))&&(d=un(d),!d&&St(u))?qs(ai(u),0,b):u.split(d,b)):[]}var w6=Ol(function(u,d,b){return u+(b?" ":"")+wy(d)});function x6(u,d,b){return u=$t(u),b=b==null?0:ka(Ct(b),0,u.length),d=un(d),u.slice(b,b+d.length)==d}function S6(u,d,b){var R=V.templateSettings;b&&Li(u,d,b)&&(d=t),u=$t(u),d=Ph({},d,R,y_);var z=Ph({},d.imports,R.imports,y_),j=Gr(z),te=O(z,j),ne,pe,Ee=0,Ce=d.interpolate||on,Ae="__p += '",Be=Nv((d.escape||on).source+"|"+Ce.source+"|"+(Ce===oc?lc:on).source+"|"+(d.evaluate||on).source+"|$","g"),Je="//# sourceURL="+(Yt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Bp+"]")+`
`;u.replace(Be,function(ut,Mt,Nt,dn,Fi,pn){return Nt||(Nt=dn),Ae+=u.slice(Ee,pn).replace(Ho,rt),Mt&&(ne=!0,Ae+=`' +
__e(`+Mt+`) +
'`),Fi&&(pe=!0,Ae+=`';
`+Fi+`;
__p += '`),Nt&&(Ae+=`' +
((__t = (`+Nt+`)) == null ? '' : __t) +
'`),Ee=pn+ut.length,ut}),Ae+=`';
`;var lt=Yt.call(d,"variable")&&d.variable;if(!lt)Ae=`with (obj) {
`+Ae+`
}
`;else if(bv.test(lt))throw new vt(o);Ae=(pe?Ae.replace(ic,""):Ae).replace(pi,"$1").replace(Tp,"$1;"),Ae="function("+(lt||"obj")+`) {
`+(lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ne?", __e = _.escape":"")+(pe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ae+`return __p
}`;var It=cE(function(){return qt(j,Je+"return "+Ae).apply(t,te)});if(It.source=Ae,gy(It))throw It;return It}function _6(u){return $t(u).toLowerCase()}function E6(u){return $t(u).toUpperCase()}function C6(u,d,b){if(u=$t(u),u&&(b||d===t))return an(u);if(!u||!(d=un(d)))return u;var R=ai(u),z=ai(d),j=X(R,z),te=Y(R,z)+1;return qs(R,j,te).join("")}function P6(u,d,b){if(u=$t(u),u&&(b||d===t))return u.slice(0,Ls(u)+1);if(!u||!(d=un(d)))return u;var R=ai(u),z=Y(R,ai(d))+1;return qs(R,0,z).join("")}function I6(u,d,b){if(u=$t(u),u&&(b||d===t))return u.replace(ii,"");if(!u||!(d=un(d)))return u;var R=ai(u),z=X(R,ai(d));return qs(R,z).join("")}function A6(u,d){var b=N,R=F;if(yr(d)){var z="separator"in d?d.separator:z;b="length"in d?Ct(d.length):b,R="omission"in d?un(d.omission):R}u=$t(u);var j=u.length;if(St(u)){var te=ai(u);j=te.length}if(b>=j)return u;var ne=b-Nr(R);if(ne<1)return R;var pe=te?qs(te,0,ne).join(""):u.slice(0,ne);if(z===t)return pe+R;if(te&&(ne+=pe.length-ne),vy(z)){if(u.slice(ne).search(z)){var Ee,Ce=pe;for(z.global||(z=Nv(z.source,$t(uc.exec(z))+"g")),z.lastIndex=0;Ee=z.exec(Ce);)var Ae=Ee.index;pe=pe.slice(0,Ae===t?ne:Ae)}}else if(u.indexOf(un(z),ne)!=ne){var Be=pe.lastIndexOf(z);Be>-1&&(pe=pe.slice(0,Be))}return pe+R}function T6(u){return u=$t(u),u&&mv.test(u)?u.replace(bl,Oi):u}var M6=Ol(function(u,d,b){return u+(b?" ":"")+d.toUpperCase()}),wy=d_("toUpperCase");function uE(u,d,b){return u=$t(u),d=b?t:d,d===t?Ve(u)?Ko(u):xc(u):u.match(d)||[]}var cE=At(function(u,d){try{return Ni(u,t,d)}catch(b){return gy(b)?b:new vt(b)}}),R6=Jo(function(u,d){return ni(d,function(b){b=xo(b),Zo(u,b,fy(u[b],u))}),u});function k6(u){var d=u==null?0:u.length,b=ot();return u=d?Ft(u,function(R){if(typeof R[1]!="function")throw new En(n);return[b(R[0]),R[1]]}):[],At(function(R){for(var z=-1;++z<d;){var j=u[z];if(Ni(j[0],this,R))return Ni(j[1],this,R)}})}function N6(u){return nq(Pn(u,p))}function xy(u){return function(){return u}}function O6(u,d){return u==null||u!==u?d:u}var D6=h_(),L6=h_(!0);function Xi(u){return u}function Sy(u){return WS(typeof u=="function"?u:Pn(u,p))}function F6(u){return $S(Pn(u,p))}function z6(u,d){return jS(u,Pn(d,p))}var B6=At(function(u,d){return function(b){return Mc(b,u,d)}}),U6=At(function(u,d){return function(b){return Mc(u,b,d)}});function _y(u,d,b){var R=Gr(d),z=ah(d,R);b==null&&!(yr(d)&&(z.length||!R.length))&&(b=d,d=u,u=this,z=ah(d,Gr(d)));var j=!(yr(b)&&"chain"in b)||!!b.chain,te=ts(u);return ni(z,function(ne){var pe=d[ne];u[ne]=pe,te&&(u.prototype[ne]=function(){var Ee=this.__chain__;if(j||Ee){var Ce=u(this.__wrapped__),Ae=Ce.__actions__=Gi(this.__actions__);return Ae.push({func:pe,args:arguments,thisArg:u}),Ce.__chain__=Ee,Ce}return pe.apply(u,_n([this.value()],arguments))})}),u}function q6(){return ir._===this&&(ir._=hU),this}function Ey(){}function H6(u){return u=Ct(u),At(function(d){return GS(d,u)})}var W6=ty(Ft),V6=ty(bc),$6=ty(jo);function dE(u){return ly(u)?Ia(xo(u)):xq(u)}function j6(u){return function(d){return u==null?t:Na(u,d)}}var G6=m_(),K6=m_(!0);function Cy(){return[]}function Py(){return!1}function Y6(){return{}}function X6(){return""}function Z6(){return!0}function Q6(u,d){if(u=Ct(u),u<1||u>G)return[];var b=re,R=xi(u,re);d=ot(d),u-=re;for(var z=Os(R,d);++b<u;)d(b);return z}function J6(u){return bt(u)?Ft(u,xo):cn(u)?[u]:Gi(R_($t(u)))}function e4(u){var d=++dU;return $t(u)+d}var t4=hh(function(u,d){return u+d},0),r4=ry("ceil"),i4=hh(function(u,d){return u/d},1),n4=ry("floor");function o4(u){return u&&u.length?sh(u,Xi,qv):t}function s4(u,d){return u&&u.length?sh(u,ot(d,2),qv):t}function a4(u){return Ns(u,Xi)}function l4(u,d){return Ns(u,ot(d,2))}function u4(u){return u&&u.length?sh(u,Xi,$v):t}function c4(u,d){return u&&u.length?sh(u,ot(d,2),$v):t}var d4=hh(function(u,d){return u*d},1),p4=ry("round"),h4=hh(function(u,d){return u-d},0);function f4(u){return u&&u.length?Al(u,Xi):0}function m4(u,d){return u&&u.length?Al(u,ot(d,2)):0}return V.after=FW,V.ary=H_,V.assign=EV,V.assignIn=rE,V.assignInWith=Ph,V.assignWith=CV,V.at=PV,V.before=W_,V.bind=fy,V.bindAll=R6,V.bindKey=V_,V.castArray=YW,V.chain=B_,V.chunk=nH,V.compact=oH,V.concat=sH,V.cond=k6,V.conforms=N6,V.constant=xy,V.countBy=fW,V.create=IV,V.curry=$_,V.curryRight=j_,V.debounce=G_,V.defaults=AV,V.defaultsDeep=TV,V.defer=zW,V.delay=BW,V.difference=aH,V.differenceBy=lH,V.differenceWith=uH,V.drop=cH,V.dropRight=dH,V.dropRightWhile=pH,V.dropWhile=hH,V.fill=fH,V.filter=gW,V.flatMap=bW,V.flatMapDeep=wW,V.flatMapDepth=xW,V.flatten=D_,V.flattenDeep=mH,V.flattenDepth=gH,V.flip=UW,V.flow=D6,V.flowRight=L6,V.fromPairs=vH,V.functions=LV,V.functionsIn=FV,V.groupBy=SW,V.initial=bH,V.intersection=wH,V.intersectionBy=xH,V.intersectionWith=SH,V.invert=BV,V.invertBy=UV,V.invokeMap=EW,V.iteratee=Sy,V.keyBy=CW,V.keys=Gr,V.keysIn=Yi,V.map=wh,V.mapKeys=HV,V.mapValues=WV,V.matches=F6,V.matchesProperty=z6,V.memoize=Sh,V.merge=VV,V.mergeWith=iE,V.method=B6,V.methodOf=U6,V.mixin=_y,V.negate=_h,V.nthArg=H6,V.omit=$V,V.omitBy=jV,V.once=qW,V.orderBy=PW,V.over=W6,V.overArgs=HW,V.overEvery=V6,V.overSome=$6,V.partial=my,V.partialRight=K_,V.partition=IW,V.pick=GV,V.pickBy=nE,V.property=dE,V.propertyOf=j6,V.pull=PH,V.pullAll=F_,V.pullAllBy=IH,V.pullAllWith=AH,V.pullAt=TH,V.range=G6,V.rangeRight=K6,V.rearg=WW,V.reject=MW,V.remove=MH,V.rest=VW,V.reverse=py,V.sampleSize=kW,V.set=YV,V.setWith=XV,V.shuffle=NW,V.slice=RH,V.sortBy=LW,V.sortedUniq=zH,V.sortedUniqBy=BH,V.split=b6,V.spread=$W,V.tail=UH,V.take=qH,V.takeRight=HH,V.takeRightWhile=WH,V.takeWhile=VH,V.tap=oW,V.throttle=jW,V.thru=bh,V.toArray=J_,V.toPairs=oE,V.toPairsIn=sE,V.toPath=J6,V.toPlainObject=tE,V.transform=ZV,V.unary=GW,V.union=$H,V.unionBy=jH,V.unionWith=GH,V.uniq=KH,V.uniqBy=YH,V.uniqWith=XH,V.unset=QV,V.unzip=hy,V.unzipWith=z_,V.update=JV,V.updateWith=e6,V.values=Fl,V.valuesIn=t6,V.without=ZH,V.words=uE,V.wrap=KW,V.xor=QH,V.xorBy=JH,V.xorWith=eW,V.zip=tW,V.zipObject=rW,V.zipObjectDeep=iW,V.zipWith=nW,V.entries=oE,V.entriesIn=sE,V.extend=rE,V.extendWith=Ph,_y(V,V),V.add=t4,V.attempt=cE,V.camelCase=o6,V.capitalize=aE,V.ceil=r4,V.clamp=r6,V.clone=XW,V.cloneDeep=QW,V.cloneDeepWith=JW,V.cloneWith=ZW,V.conformsTo=eV,V.deburr=lE,V.defaultTo=O6,V.divide=i4,V.endsWith=s6,V.eq=Wn,V.escape=a6,V.escapeRegExp=l6,V.every=mW,V.find=vW,V.findIndex=N_,V.findKey=MV,V.findLast=yW,V.findLastIndex=O_,V.findLastKey=RV,V.floor=n4,V.forEach=U_,V.forEachRight=q_,V.forIn=kV,V.forInRight=NV,V.forOwn=OV,V.forOwnRight=DV,V.get=yy,V.gt=tV,V.gte=rV,V.has=zV,V.hasIn=by,V.head=L_,V.identity=Xi,V.includes=_W,V.indexOf=yH,V.inRange=i6,V.invoke=qV,V.isArguments=La,V.isArray=bt,V.isArrayBuffer=iV,V.isArrayLike=Ki,V.isArrayLikeObject=Tr,V.isBoolean=nV,V.isBuffer=Hs,V.isDate=oV,V.isElement=sV,V.isEmpty=aV,V.isEqual=lV,V.isEqualWith=uV,V.isError=gy,V.isFinite=cV,V.isFunction=ts,V.isInteger=Y_,V.isLength=Eh,V.isMap=X_,V.isMatch=dV,V.isMatchWith=pV,V.isNaN=hV,V.isNative=fV,V.isNil=gV,V.isNull=mV,V.isNumber=Z_,V.isObject=yr,V.isObjectLike=Cr,V.isPlainObject=Lc,V.isRegExp=vy,V.isSafeInteger=vV,V.isSet=Q_,V.isString=Ch,V.isSymbol=cn,V.isTypedArray=Ll,V.isUndefined=yV,V.isWeakMap=bV,V.isWeakSet=wV,V.join=_H,V.kebabCase=u6,V.last=An,V.lastIndexOf=EH,V.lowerCase=c6,V.lowerFirst=d6,V.lt=xV,V.lte=SV,V.max=o4,V.maxBy=s4,V.mean=a4,V.meanBy=l4,V.min=u4,V.minBy=c4,V.stubArray=Cy,V.stubFalse=Py,V.stubObject=Y6,V.stubString=X6,V.stubTrue=Z6,V.multiply=d4,V.nth=CH,V.noConflict=q6,V.noop=Ey,V.now=xh,V.pad=p6,V.padEnd=h6,V.padStart=f6,V.parseInt=m6,V.random=n6,V.reduce=AW,V.reduceRight=TW,V.repeat=g6,V.replace=v6,V.result=KV,V.round=p4,V.runInContext=ue,V.sample=RW,V.size=OW,V.snakeCase=y6,V.some=DW,V.sortedIndex=kH,V.sortedIndexBy=NH,V.sortedIndexOf=OH,V.sortedLastIndex=DH,V.sortedLastIndexBy=LH,V.sortedLastIndexOf=FH,V.startCase=w6,V.startsWith=x6,V.subtract=h4,V.sum=f4,V.sumBy=m4,V.template=S6,V.times=Q6,V.toFinite=rs,V.toInteger=Ct,V.toLength=eE,V.toLower=_6,V.toNumber=Tn,V.toSafeInteger=_V,V.toString=$t,V.toUpper=E6,V.trim=C6,V.trimEnd=P6,V.trimStart=I6,V.truncate=A6,V.unescape=T6,V.uniqueId=e4,V.upperCase=M6,V.upperFirst=wy,V.each=U_,V.eachRight=q_,V.first=L_,_y(V,function(){var u={};return bo(V,function(d,b){Yt.call(V.prototype,b)||(u[b]=d)}),u}(),{chain:!1}),V.VERSION=e,ni(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){V[u].placeholder=V}),ni(["drop","take"],function(u,d){kt.prototype[u]=function(b){b=b===t?1:Br(Ct(b),0);var R=this.__filtered__&&!d?new kt(this):this.clone();return R.__filtered__?R.__takeCount__=xi(b,R.__takeCount__):R.__views__.push({size:xi(b,re),type:u+(R.__dir__<0?"Right":"")}),R},kt.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),ni(["filter","map","takeWhile"],function(u,d){var b=d+1,R=b==Z||b==ie;kt.prototype[u]=function(z){var j=this.clone();return j.__iteratees__.push({iteratee:ot(z,3),type:b}),j.__filtered__=j.__filtered__||R,j}}),ni(["head","last"],function(u,d){var b="take"+(d?"Right":"");kt.prototype[u]=function(){return this[b](1).value()[0]}}),ni(["initial","tail"],function(u,d){var b="drop"+(d?"":"Right");kt.prototype[u]=function(){return this.__filtered__?new kt(this):this[b](1)}}),kt.prototype.compact=function(){return this.filter(Xi)},kt.prototype.find=function(u){return this.filter(u).head()},kt.prototype.findLast=function(u){return this.reverse().find(u)},kt.prototype.invokeMap=At(function(u,d){return typeof u=="function"?new kt(this):this.map(function(b){return Mc(b,u,d)})}),kt.prototype.reject=function(u){return this.filter(_h(ot(u)))},kt.prototype.slice=function(u,d){u=Ct(u);var b=this;return b.__filtered__&&(u>0||d<0)?new kt(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),d!==t&&(d=Ct(d),b=d<0?b.dropRight(-d):b.take(d-u)),b)},kt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},kt.prototype.toArray=function(){return this.take(re)},bo(kt.prototype,function(u,d){var b=/^(?:filter|find|map|reject)|While$/.test(d),R=/^(?:head|last)$/.test(d),z=V[R?"take"+(d=="last"?"Right":""):d],j=R||/^find/.test(d);z&&(V.prototype[d]=function(){var te=this.__wrapped__,ne=R?[1]:arguments,pe=te instanceof kt,Ee=ne[0],Ce=pe||bt(te),Ae=function(Mt){var Nt=z.apply(V,_n([Mt],ne));return R&&Be?Nt[0]:Nt};Ce&&b&&typeof Ee=="function"&&Ee.length!=1&&(pe=Ce=!1);var Be=this.__chain__,Je=!!this.__actions__.length,lt=j&&!Be,It=pe&&!Je;if(!j&&Ce){te=It?te:new kt(this);var ut=u.apply(te,ne);return ut.__actions__.push({func:bh,args:[Ae],thisArg:t}),new Cn(ut,Be)}return lt&&It?u.apply(this,ne):(ut=this.thru(Ae),lt?R?ut.value()[0]:ut.value():ut)})}),ni(["pop","push","shift","sort","splice","unshift"],function(u){var d=$p[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",R=/^(?:pop|shift)$/.test(u);V.prototype[u]=function(){var z=arguments;if(R&&!this.__chain__){var j=this.value();return d.apply(bt(j)?j:[],z)}return this[b](function(te){return d.apply(bt(te)?te:[],z)})}}),bo(kt.prototype,function(u,d){var b=V[d];if(b){var R=b.name+"";Yt.call(Rl,R)||(Rl[R]=[]),Rl[R].push({name:d,func:b})}}),Rl[ph(t,x).name]=[{name:"wrapper",func:t}],kt.prototype.clone=TU,kt.prototype.reverse=MU,kt.prototype.value=RU,V.prototype.at=sW,V.prototype.chain=aW,V.prototype.commit=lW,V.prototype.next=uW,V.prototype.plant=dW,V.prototype.reverse=pW,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=hW,V.prototype.first=V.prototype.head,_c&&(V.prototype[_c]=cW),V},jr=kv();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(ir._=jr,define(function(){return jr})):ji?((ji.exports=jr)._=jr,Ea._=jr):ir._=jr}).call($l)});var Ge={};mr(Ge,{adjustedBoundingRect:()=>hd,closest:()=>Wa,collapseOptions:()=>pt,constrain:()=>t8,contentIsIndexable:()=>uf,convertDateToISO:()=>p8,convertToEpoch:()=>u8,convertTransformIntoMatrixStyleString:()=>W9,decompose:()=>sf,deviceType:()=>Tb,easeInCubic:()=>j9,easeInOutCirc:()=>X9,easeInOutCubic:()=>kb,easeInOutQuint:()=>Db,easeInOutSine:()=>Nb,easeInQuadratic:()=>K9,easeInSine:()=>$9,easeOutCubic:()=>Ob,easeOutExponential:()=>Y9,easeOutQuadratic:()=>G9,easeOutQuint:()=>cf,easeOutSine:()=>V9,filterZoomLinks:()=>i8,formatDate:()=>l8,formatDate3LetterMonth:()=>d8,getCSSValueAndUnit:()=>dr,getCorrectRenderContextForGivenPID:()=>Fb,getFiletypeAndOembedFromURL:()=>Z9,getHeight:()=>e8,getWidth:()=>J9,handleHomePageScrollLock:()=>a8,isAdminEdit:()=>Dr,isAlphanumeric:()=>c8,isChrome:()=>Rb,isDateInFuture:()=>s8,isDevEnv:()=>R9,isEdge:()=>F9,isFirefox:()=>L9,isIE:()=>JP,isIE8:()=>z9,isIOS:()=>pd,isIOSWebView:()=>B9,isInDocumentOrShadowRoot:()=>Lb,isInstagram:()=>Mb,isLocalEnv:()=>Ib,isMac:()=>dd,isMobile:()=>O9,isMobileWindowSize:()=>q9,isProduction:()=>lf,isProductionTestingAcct:()=>k9,isPromoCodeTransitionPeriod:()=>r8,isSafari:()=>ui,isServer:()=>de,isServerRendered:()=>N9,isSitePreview:()=>as,mergeRefs:()=>Q9,parseMatrixStyleString:()=>H9,selectAllText:()=>o8,sitePreviewHostname:()=>Ab,stringReplaceMultiple:()=>U9,stripTLD:()=>n8,viewportOrientation:()=>D9});var af,Ib,R9,lf,k9,de,N9,XP,Dr,ZP,QP,as,Ab,O9,D9,Tb,dd,L9,Mb,ui,Rb,JP,F9,z9,pd,B9,U9,uf,q9,H9,W9,sf,hd,dr,kb,V9,$9,Nb,Ob,j9,G9,K9,cf,Db,Y9,X9,pt,Z9,Q9,J9,e8,Wa,Lb,t8,r8,i8,n8,o8,s8,Fb,a8,l8,u8,c8,d8,p8,Fe=$(()=>{af=ye(Pe()),Ib=/^local.*/.test("production"),R9=/^dev.*/.test("production"),lf=!0,k9=(t,e)=>{let r=[1,15139111,12,14494300,14502618,18,39,75,13933487,14497410,14065331,14229062,14313249];return e==="newsletter"&&(r=[13933487,39]),r.includes(t)||!1},de=!(typeof window<"u"&&window.document&&window.document.createElement),N9=!de&&window.hasOwnProperty("__PRELOADED_STATE__"),XP=!1;try{window.parent!==window&&window.location.host===window.parent.location.host&&window.parent.location.pathname.startsWith("/edit")&&(XP=!0)}catch{}Dr=XP,ZP=!1;try{if(typeof window<"u"&&window.location.pathname.match("site.preview")!==null){let t=window.location.pathname.match(/^\/site\.preview\/(?<hostname>[^\/]+)/i);t?.groups?.hostname&&(QP=t.groups?.hostname,ZP=!0)}}catch{}as=ZP,Ab=QP,O9=function(){if(de)return!1;var t=!1,e=window.navigator.userAgent||window.navigator.vendor||window.opera;return function(r){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))&&(t=!0)}(e),t=t||!t&&/(android)/i.test(e.substr(0,40)),t}(),D9=()=>de?!1:window.matchMedia("(max-aspect-ratio: 1:1)")?"portrait":"landscape",Tb=()=>{if(de)return"mouse";let t=window.matchMedia("(hover:hover)"),e=window.matchMedia("(any-pointer:fine)");return t.matches&&e.matches?"mouse":"touch"},dd=()=>de?!1:navigator?.userAgent?.includes("Mac"),L9=()=>de?!1:/Firefox\/\d+\.\d+/.test(navigator.userAgent),Mb=()=>de?!1:navigator.userAgent.indexOf("Instagram")!=-1,ui=()=>de?!1:navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,Rb=()=>de?!1:window.chrome!==null&&navigator.userAgent.indexOf("Chrome")!=-1&&navigator.vendor==="Google Inc."&&typeof window.opr>"u"&&navigator.userAgent.indexOf("Edg")==-1,JP=()=>de?!1:/MSIE (\d+\.\d+);/.test(navigator.userAgent),F9=()=>de?!1:/Edge/.test(navigator.userAgent),z9=()=>{if(de)return!1;var t=-1;if(JP()){var e=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");e.exec(navigator.userAgent)!=null&&(t=parseFloat(RegExp.$1))}return t<9&&t>0},pd=()=>de?!1:!!navigator.userAgent.match(/i(Phone|Pod|Pad)/i),B9=()=>{if(de)return!1;var t=window.navigator.standalone,e=window.navigator.userAgent.toLowerCase(),r=/safari/.test(e),i=/iphone|ipod|ipad/.test(e);if(i){if(!t&&r)return!1;if(t&&!r)return!1;if(!t&&!r)return!0}return!1},U9=(t,e)=>{for(var r in e)t=t.replace(new RegExp(r,"g"),e[r]);return t},uf=t=>t?t.page_type==="set"?!0:!(t.display===!1||t.pin||t.overlay):!1,q9=t=>t<770,H9=t=>{let e=t.indexOf("matrix(")>-1,r=t.indexOf("matrix3d(")>-1,i,n;return e?(i=t.replace("matrix(","").replace(")").split(", ").map(o=>parseFloat(o)),n=sf(i[0],i[1],i[2],i[3],i[4],i[5],!1)):r?(i=t.replace("matrix3d(","").replace(")").split(", ").map(o=>parseFloat(o)),n=sf(i[0],i[1],i[4],i[5],i[12],i[13],!1),n.translate.z=i[14]):n=sf(0,0,0,0,0,0,!1),n},W9=t=>{let e=t.hasOwnProperty("translate"),r=t.hasOwnProperty("scale"),i=r&&t.scale.x||1,n=r&&t.scale.y||1,o=e&&t.translate.x||0,s=e&&t.translate.y||0,a=e&&t.translate.z||0,l=t.rotation||0,p=e&&t.translate.hasOwnProperty("z"),f;if(p){let c=[Math.cos(l)/i,-Math.sin(l),0,o,Math.sin(l),Math.cos(l)/n,0,s,0,0,1,a,0,0,0,1];f=`matrix3d(${c[0]}, ${c[4]}, ${c[8]}, ${c[12]}, ${c[1]}, ${c[5]}, ${c[9]}, ${c[13]}, ${c[2]}, ${c[6]}, ${c[10]}, ${c[14]}, ${c[3]}, ${c[7]}, ${c[11]}, ${c[15]})`}else{let c=[Math.cos(l)/i,-Math.sin(l),o,Math.sin(l),Math.cos(l)/n,s,0,0,1];f=`matrix(${c[0]}, ${c[3]}, ${c[1]}, ${c[4]}, ${c[2]}, ${c[5]})`}return f},sf=(t=0,e=0,r=0,i=0,n=0,o=0,s=!1)=>{var a=Math.acos,l=Math.atan,p=Math.sqrt,f=Math.PI,c={x:n,y:o},m=0,v={x:1,y:1},g={x:0,y:0},x=t*i-e*r;if(s)t?(g={x:l(r/t),y:l(e/t)},v={x:t,y:x/t}):e?(m=f*.5,v={x:e,y:x/e},g.x=l(i/e)):(v={x:r,y:i},g.x=f*.25);else if(t||e){var E=p(t*t+e*e);m=e>0?a(t/E):-a(t/E),v={x:E,y:x/E},g.x=l((t*r+e*i)/(E*E))}else if(r||i){var _=p(r*r+i*i);m=f*.5-(i>0?a(-r/_):-a(r/_)),v={x:x/_,y:_},g.y=l((t*r+e*i)/(_*_))}else v={x:0,y:0};return{scale:v,translate:c,rotation:m,skew:g}},hd=t=>{var e=t.getBoundingClientRect(),r=getComputedStyle(t),i=r.transform;if(i){var n,o,s,a;if(i.startsWith("matrix3d(")){var l=i.slice(9,-1).split(/, /);n=+l[0],o=+l[5],s=+l[12],a=+l[13]}else if(i.startsWith("matrix(")){var l=i.slice(7,-1).split(/, /);n=+l[0],o=+l[3],s=+l[4],a=+l[5]}else return e;var p=r.transformOrigin,f=e.x-s-(1-n)*parseFloat(p),c=e.y-a-(1-o)*parseFloat(p.slice(p.indexOf(" ")+1)),m=n?e.width/n:t.offsetWidth,v=o?e.height/o:t.offsetHeight;return{x:f,y:c,width:m,height:v,top:c,right:f+m,bottom:c+v,left:f}}else return e},dr=(t,e)=>{t=t?.toString()||"",t=t.replace(/^\.(\d+)/,"0.$1");let r=t.replace(/[^\d.-]/g,""),i=t.replace(r+"","").trim();return r=parseFloat(r),i===""&&e!==void 0?i=e:(i.indexOf("var(")>-1||i.indexOf("calc(")>-1)&&(r="",i=t),[r,i]},kb=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,V9=t=>Math.sin(t*Math.PI/2),$9=t=>1-Math.cos(t*Math.PI/2),Nb=t=>t>=1?1:-(Math.cos(Math.PI*t)-1)/2,Ob=t=>1-Math.pow(-1*t+1,3),j9=t=>Math.pow(t,3),G9=t=>1-Math.pow(-1*t+1,4),K9=t=>Math.pow(t,4),cf=t=>1-Math.pow(-1*t+1,5),Db=t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,Y9=t=>t===1?1:1-Math.pow(2,-10*t),X9=t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,pt=t=>{let e={},r=i=>{i.forEach(n=>{if(n.type=="color"&&n.tabs?n.tabs.forEach(o=>{e[o.name]=o.value}):n.type=="checkbox-color"&&r([n.checkbox,n.color]),n.value!=null&&n.value!=null){e[n.name]={value:n.value},n.values&&(n.type==="radio"||n.type==="select")&&(e[n.name].values=n.values.map(s=>s.value)),e[n.name].type=n.type,n.excludeFromShuffle!==void 0&&(e[n.name].excludeFromShuffle=n.excludeFromShuffle);let o;n.defaultUnit!==void 0&&(o=e.unit=n.defaultUnit),n.min!==void 0&&(typeof n.min=="object"?e[n.name].min=n.min[o]??n.min.etc??0:e[n.name].min=n.min),n.max!==void 0&&(typeof n.max=="object"?e[n.name].max=n.max[o]??n.max.etc??0:e[n.name].max=n.max),typeof n.step=="object"?e[n.name].step=n.step[o]??n.step.etc??1:e[n.name].step=n.step,n.inheritsFrom&&(e[n.name].inheritsFrom=n.inheritsFrom),n.unit&&(e[n.name].unit=n.unit)}n.toggle&&r([n.toggle]),n.children&&r(n.children)})};return r(t),e},Z9=(t,e={width:250})=>{let r=null,i=null,n=t.toLowerCase();if(n.endsWith(".mov")||n.endsWith(".mp4")||n.endsWith(".webm"))return{fileType:"video",oembedURL:null,id:null};if(n.endsWith(".png")||n.endsWith(".webp")||n.endsWith(".jpg")||n.endsWith(".jpeg")||n.endsWith(".gif")||n.endsWith(".avif")||n.endsWith(".apng")||n.endsWith(".svg"))return{fileType:"image",oembedURL:null,id:null};r="url";var o="",s="",a="",l=/(?:<iframe [^>]*src=")?(?:https?:\/\/(?:[\w]+\.)*vimeo\.com(?:[\/\w:]*(?:\/videos)?)?\/([0-9]+)[^\s]*)"?(?:[^>]*><\/iframe>)?(?:<p>.*<\/p>)?/,c=t.match(l);if(c&&c[0]){let m=c[0].split(/\/|\?h=|&|\?/);for(var p=0;p<m.length;p++)!m[p].includes(":")&&!m[p].includes(".")&&!m[p].includes("vimeo")&&!m[p].includes("=")&&!m[p].includes("video")&&!m[p].includes("showcase")&&!m[p].includes("player")&&m[p].length>3&&(o.length==0?o=m[p]:o+="/"+m[p]);r="vimeo",i="https://vimeo.com/api/oembed.json?url=https://vimeo.com/"+o+"&width="+e.width}var f=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(shorts\/)|(watch\?))\??v?=?([^#\&\?]*).*/,c=t.match(f);return c&&c[0].match(/(youtube.com|youtu.be)/)&&(c[7]&&c[7].length==11?(o=c[7],i="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+o):c[8]&&c[8].length==11?(o=c[8],i="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url=https://www.youtube.com/shorts/"+o):i="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+(t.indexOf("?")>-1?t.split("?")[0]:t),r="youtube"),{fileType:r,oembedURL:i,id:o}},Q9=(...t)=>{let e=t.filter(Boolean);return e.length?e.length===0?e[0]:r=>{for(let i of e)typeof i=="function"?i(r):i&&(i.current=r)}:null},J9=t=>{var e=getComputedStyle(t,null);return e.getPropertyValue("box-sizing")==="border-box"?parseFloat(e.width)-((parseFloat(e.paddingLeft)||0)+(parseFloat(e.paddingRight)||0)+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0)):parseFloat(e.width)},e8=t=>{var e=getComputedStyle(t,null);return e.getPropertyValue("box-sizing")==="border-box"?parseFloat(e.height)-((parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)):parseFloat(e.height)},Wa=(t,e)=>{var r=t&&(e(t)?t:Wa(t.parentNode,e));return r||null},Lb=t=>{for(var e=t;e&&e.parentNode;){if(e.parentNode===document)return!0;e.parentNode instanceof DocumentFragment?e=e.parentNode.host:e=e.parentNode}return!1},t8=(t,e,r)=>t>r?r:t<e?e:t,r8=t=>{let e=new Date,r=new Date(t);if(isNaN(r.getTime()))return!1;let i=r.getTime()-e.getTime();return Math.floor(i/(1e3*60*60*24))<=15},i8=t=>(t=af.default.filter(t,e=>{var r=e.getAttribute("href");return!(r&&(r===""||r=="#"||r.indexOf("mailto:")==0||r.indexOf("tel:")==0))}),t),n8=t=>{if(!t)return[null,null];let e=/(\.[^.]+)$/,r=t.match(e);if(r){let i=r[1],n=t.slice(0,-i.length);return[i,n]}else return[null,t]},o8=t=>{t.preventDefault();let e=window.getSelection(),r=document.createRange();r.selectNodeContents(t.currentTarget),e.removeAllRanges(),e.addRange(r)},s8=t=>{if(!t)return!0;let e=new Date(t),r=Math.floor(e.getTime()/1e3),n=Math.floor(Date.now()/1e3)-15*24*60*60;return r>=n},Fb=(t,e,r)=>{let i=t.pages.byId[r],n=e.getHomepageId(t),o=e.getHiddenHomepageId(t),s=t.sets.byId[af.default.findKey(t.structure.byParent,p=>p.includes(n))],a=t.sets.byId[af.default.findKey(t.structure.byParent,p=>p.includes(r))],l=r;if(t.sets.byId.root?.stack===!0)i?.display===!1?l=i.id:l=a?.id||"root";else if(i){if(i.pin||i.overlay||a?.stack)if(l=a?.id,(i.pin||i.overlay)&&a?.stack===!1){if(a?.id===s?.id&&(l="root"),a.page_count>=1){let p=t.structure.byParent[a.id]?.filter(f=>t.structure.indexById[f]!==null&&t.sets.byId[f]===void 0&&t.pages.byId[f]?.password_enabled!==!0&&f!==o).sort((f,c)=>t.structure.bySort[f]-t.structure.bySort[c]);p.length>0&&(p.includes(n)?l=n:l=p[0])}}else i?.display===!1&&a?.stack===!0&&(l=i.id);else l=i.id;l==="root"&&n&&(l=n)}return l},a8=(t=!0,e=!1)=>{if(de)return;document.querySelectorAll("html, body, #templates, #siteslist").forEach(i=>{if(i.scrollHeight>i.clientHeight)if(t){if(e&&(i.dataset.scrollPos=i.scrollTop),i.style.overflow==="hidden")return;!i.dataset.originalOverflow&&i.style.overflow!==""&&(i.dataset.originalOverflow=i.style.overflow),i.style.overflow="hidden"}else{if(i.dataset.originalOverflow!==void 0)i.style.overflow=i.dataset.originalOverflow,delete i.dataset.originalOverflow;else{if(i.style.overflow!=="hidden")return;i.style.removeProperty("overflow")}e||delete i.dataset.scrollPos,i.dataset.scrollPos!==void 0&&requestAnimationFrame(()=>{i.scrollTop=i.dataset.scrollPos})}else i.style.overflow=="hidden"&&!t&&(i.style.overflow=null)})},l8=(t,e=!0)=>{let r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(!t)return;let i=new Date(t),n=i.getDate(),o=parseInt(i.getMonth()),s=r[o],a=i.getFullYear(),l=i.getHours()%12===0?12:i.getHours()%12,p=i.getMinutes().toString().match(/\d/g).length===1?"0"+i.getMinutes():i.getMinutes(),f="0"+i.getSeconds(),c=i.getHours()>=12?"pm":"am",m=new Date().setHours(0,0,0,0),v=m-864e5,g=null;return t>=m&&(g="today"),t<=m&&t>=v&&(g="yesterday"),e?g!==null?g+", "+l+":"+p+c:s+" "+n+" "+a+", "+l+":"+p+c:(a=a.toString().slice(2),s+" "+n+" \u2018"+a)},u8=t=>{if(!isNaN(Number(t))&&Number(t)>1e9)return Math.floor(Number(t));typeof t=="string"&&t.includes(".")&&(t=t.split(".")[0]+"Z");let e=new Date(t);return isNaN(e.getTime())?(console.warn("Invalid timestamp format"),0):Math.floor(e.getTime()/1e3)},c8=t=>/^(?=.*[a-z0-9])[a-z0-9\s]+$/i.test(t),d8=t=>{if(t==null)return null;let e=new Date(t);return isNaN(e.getTime())?(console.error("Invalid date format:",t),t):`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]} ${e.getDate()} ${e.getFullYear()}`},p8=t=>{let e={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},[r,i,n]=t.split(" ");if(!e[r])throw new Error(`Invalid month abbreviation: "${r}"`);let o=i.padStart(2,"0"),s=parseInt(n,10);return`${n.length===2?2e3+s:s}-${e[r]}-${o}`}});var zb=oe((kpe,eI)=>{"use strict";eI.exports=function(e,r){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(r,n)}}});var Xr=oe((Npe,iI)=>{"use strict";var h8=zb(),Ub=Object.prototype.toString,qb=function(t){return function(e){var r=Ub.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Va(t){return t=t.toLowerCase(),function(r){return qb(r)===t}}function Hb(t){return Array.isArray(t)}function pf(t){return typeof t>"u"}function f8(t){return t!==null&&!pf(t)&&t.constructor!==null&&!pf(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var tI=Va("ArrayBuffer");function m8(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&tI(t.buffer),e}function g8(t){return typeof t=="string"}function v8(t){return typeof t=="number"}function rI(t){return t!==null&&typeof t=="object"}function df(t){if(qb(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var y8=Va("Date"),b8=Va("File"),w8=Va("Blob"),x8=Va("FileList");function Wb(t){return Ub.call(t)==="[object Function]"}function S8(t){return rI(t)&&Wb(t.pipe)}function _8(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||Ub.call(t)===e||Wb(t.toString)&&t.toString()===e)}var E8=Va("URLSearchParams");function C8(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function P8(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Vb(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Hb(t))for(var r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}function Bb(){var t={};function e(n,o){df(t[o])&&df(n)?t[o]=Bb(t[o],n):df(n)?t[o]=Bb({},n):Hb(n)?t[o]=n.slice():t[o]=n}for(var r=0,i=arguments.length;r<i;r++)Vb(arguments[r],e);return t}function I8(t,e,r){return Vb(e,function(n,o){r&&typeof n=="function"?t[o]=h8(n,r):t[o]=n}),t}function A8(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function T8(t,e,r,i){t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)}function M8(t,e,r){var i,n,o,s={};e=e||{};do{for(i=Object.getOwnPropertyNames(t),n=i.length;n-- >0;)o=i[n],s[o]||(e[o]=t[o],s[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e}function R8(t,e,r){t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;var i=t.indexOf(e,r);return i!==-1&&i===r}function k8(t){if(!t)return null;var e=t.length;if(pf(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r}var N8=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));iI.exports={isArray:Hb,isArrayBuffer:tI,isBuffer:f8,isFormData:_8,isArrayBufferView:m8,isString:g8,isNumber:v8,isObject:rI,isPlainObject:df,isUndefined:pf,isDate:y8,isFile:b8,isBlob:w8,isFunction:Wb,isStream:S8,isURLSearchParams:E8,isStandardBrowserEnv:P8,forEach:Vb,merge:Bb,extend:I8,trim:C8,stripBOM:A8,inherits:T8,toFlatObject:M8,kindOf:qb,kindOfTest:Va,endsWith:R8,toArray:k8,isTypedArray:N8,isFileList:x8}});var $b=oe((Ope,oI)=>{"use strict";var jl=Xr();function nI(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}oI.exports=function(e,r,i){if(!r)return e;var n;if(i)n=i(r);else if(jl.isURLSearchParams(r))n=r.toString();else{var o=[];jl.forEach(r,function(l,p){l===null||typeof l>"u"||(jl.isArray(l)?p=p+"[]":l=[l],jl.forEach(l,function(c){jl.isDate(c)?c=c.toISOString():jl.isObject(c)&&(c=JSON.stringify(c)),o.push(nI(p)+"="+nI(c))}))}),n=o.join("&")}if(n){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}});var aI=oe((Dpe,sI)=>{"use strict";var O8=Xr();function hf(){this.handlers=[]}hf.prototype.use=function(e,r,i){return this.handlers.push({fulfilled:e,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};hf.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};hf.prototype.forEach=function(e){O8.forEach(this.handlers,function(i){i!==null&&e(i)})};sI.exports=hf});var uI=oe((Lpe,lI)=>{"use strict";var D8=Xr();lI.exports=function(e,r){D8.forEach(e,function(n,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(e[r]=n,delete e[o])})}});var $a=oe((Fpe,hI)=>{"use strict";var cI=Xr();function Gl(t,e,r,i,n){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),i&&(this.request=i),n&&(this.response=n)}cI.inherits(Gl,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var dI=Gl.prototype,pI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){pI[t]={value:t}});Object.defineProperties(Gl,pI);Object.defineProperty(dI,"isAxiosError",{value:!0});Gl.from=function(t,e,r,i,n,o){var s=Object.create(dI);return cI.toFlatObject(t,s,function(l){return l!==Error.prototype}),Gl.call(s,t.message,e,r,i,n),s.name=t.name,o&&Object.assign(s,o),s};hI.exports=Gl});var jb=oe((zpe,fI)=>{"use strict";fI.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var Gb=oe((Bpe,mI)=>{"use strict";var Yn=Xr();function L8(t,e){e=e||new FormData;var r=[];function i(o){return o===null?"":Yn.isDate(o)?o.toISOString():Yn.isArrayBuffer(o)||Yn.isTypedArray(o)?typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function n(o,s){if(Yn.isPlainObject(o)||Yn.isArray(o)){if(r.indexOf(o)!==-1)throw Error("Circular reference detected in "+s);r.push(o),Yn.forEach(o,function(l,p){if(!Yn.isUndefined(l)){var f=s?s+"."+p:p,c;if(l&&!s&&typeof l=="object"){if(Yn.endsWith(p,"{}"))l=JSON.stringify(l);else if(Yn.endsWith(p,"[]")&&(c=Yn.toArray(l))){c.forEach(function(m){!Yn.isUndefined(m)&&e.append(f,i(m))});return}}n(l,f)}}),r.pop()}else e.append(s,i(o))}return n(t),e}mI.exports=L8});var vI=oe((Upe,gI)=>{"use strict";var Kb=$a();gI.exports=function(e,r,i){var n=i.config.validateStatus;!i.status||!n||n(i.status)?e(i):r(new Kb("Request failed with status code "+i.status,[Kb.ERR_BAD_REQUEST,Kb.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}});var bI=oe((qpe,yI)=>{"use strict";var ff=Xr();yI.exports=ff.isStandardBrowserEnv()?function(){return{write:function(r,i,n,o,s,a){var l=[];l.push(r+"="+encodeURIComponent(i)),ff.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ff.isString(o)&&l.push("path="+o),ff.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var xI=oe((Hpe,wI)=>{"use strict";wI.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}});var _I=oe((Wpe,SI)=>{"use strict";SI.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}});var Yb=oe((Vpe,EI)=>{"use strict";var F8=xI(),z8=_I();EI.exports=function(e,r){return e&&!F8(r)?z8(e,r):r}});var PI=oe(($pe,CI)=>{"use strict";var Xb=Xr(),B8=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];CI.exports=function(e){var r={},i,n,o;return e&&Xb.forEach(e.split(`
`),function(a){if(o=a.indexOf(":"),i=Xb.trim(a.substr(0,o)).toLowerCase(),n=Xb.trim(a.substr(o+1)),i){if(r[i]&&B8.indexOf(i)>=0)return;i==="set-cookie"?r[i]=(r[i]?r[i]:[]).concat([n]):r[i]=r[i]?r[i]+", "+n:n}}),r}});var TI=oe((jpe,AI)=>{"use strict";var II=Xr();AI.exports=II.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function n(o){var s=o;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=n(window.location.href),function(s){var a=II.isString(s)?n(s):s;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}()});var fd=oe((Gpe,RI)=>{"use strict";var Zb=$a(),U8=Xr();function MI(t){Zb.call(this,t??"canceled",Zb.ERR_CANCELED),this.name="CanceledError"}U8.inherits(MI,Zb,{__CANCEL__:!0});RI.exports=MI});var NI=oe((Kpe,kI)=>{"use strict";kI.exports=function(e){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}});var Qb=oe((Ype,OI)=>{"use strict";var md=Xr(),q8=vI(),H8=bI(),W8=$b(),V8=Yb(),$8=PI(),j8=TI(),G8=jb(),ls=$a(),K8=fd(),Y8=NI();OI.exports=function(e){return new Promise(function(i,n){var o=e.data,s=e.headers,a=e.responseType,l;function p(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}md.isFormData(o)&&md.isStandardBrowserEnv()&&delete s["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.Authorization="Basic "+btoa(c+":"+m)}var v=V8(e.baseURL,e.url);f.open(e.method.toUpperCase(),W8(v,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function g(){if(f){var _="getAllResponseHeaders"in f?$8(f.getAllResponseHeaders()):null,D=!a||a==="text"||a==="json"?f.responseText:f.response,M={data:D,status:f.status,statusText:f.statusText,headers:_,config:e,request:f};q8(function(L){i(L),p()},function(L){n(L),p()},M),f=null}}if("onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(g)},f.onabort=function(){f&&(n(new ls("Request aborted",ls.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new ls("Network Error",ls.ERR_NETWORK,e,f,f)),f=null},f.ontimeout=function(){var D=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",M=e.transitional||G8;e.timeoutErrorMessage&&(D=e.timeoutErrorMessage),n(new ls(D,M.clarifyTimeoutError?ls.ETIMEDOUT:ls.ECONNABORTED,e,f)),f=null},md.isStandardBrowserEnv()){var x=(e.withCredentials||j8(v))&&e.xsrfCookieName?H8.read(e.xsrfCookieName):void 0;x&&(s[e.xsrfHeaderName]=x)}"setRequestHeader"in f&&md.forEach(s,function(D,M){typeof o>"u"&&M.toLowerCase()==="content-type"?delete s[M]:f.setRequestHeader(M,D)}),md.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),a&&a!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(l=function(_){f&&(n(!_||_&&_.type?new K8:_),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l))),o||(o=null);var E=Y8(v);if(E&&["http","https","file"].indexOf(E)===-1){n(new ls("Unsupported protocol "+E+":",ls.ERR_BAD_REQUEST,e));return}f.send(o)})}});var LI=oe((Xpe,DI)=>{DI.exports=null});var gf=oe((Zpe,UI)=>{"use strict";var Zr=Xr(),FI=uI(),zI=$a(),X8=jb(),Z8=Gb(),Q8={"Content-Type":"application/x-www-form-urlencoded"};function BI(t,e){!Zr.isUndefined(t)&&Zr.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function J8(){var t;return typeof XMLHttpRequest<"u"?t=Qb():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(t=Qb()),t}function ej(t,e,r){if(Zr.isString(t))try{return(e||JSON.parse)(t),Zr.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(t)}var mf={transitional:X8,adapter:J8(),transformRequest:[function(e,r){if(FI(r,"Accept"),FI(r,"Content-Type"),Zr.isFormData(e)||Zr.isArrayBuffer(e)||Zr.isBuffer(e)||Zr.isStream(e)||Zr.isFile(e)||Zr.isBlob(e))return e;if(Zr.isArrayBufferView(e))return e.buffer;if(Zr.isURLSearchParams(e))return BI(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var i=Zr.isObject(e),n=r&&r["Content-Type"],o;if((o=Zr.isFileList(e))||i&&n==="multipart/form-data"){var s=this.env&&this.env.FormData;return Z8(o?{"files[]":e}:e,s&&new s)}else if(i||n==="application/json")return BI(r,"application/json"),ej(e);return e}],transformResponse:[function(e){var r=this.transitional||mf.transitional,i=r&&r.silentJSONParsing,n=r&&r.forcedJSONParsing,o=!i&&this.responseType==="json";if(o||n&&Zr.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?zI.from(s,zI.ERR_BAD_RESPONSE,this,null,this.response):s}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:LI()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Zr.forEach(["delete","get","head"],function(e){mf.headers[e]={}});Zr.forEach(["post","put","patch"],function(e){mf.headers[e]=Zr.merge(Q8)});UI.exports=mf});var HI=oe((Qpe,qI)=>{"use strict";var tj=Xr(),rj=gf();qI.exports=function(e,r,i){var n=this||rj;return tj.forEach(i,function(s){e=s.call(n,e,r)}),e}});var Jb=oe((Jpe,WI)=>{"use strict";WI.exports=function(e){return!!(e&&e.__CANCEL__)}});var jI=oe((ehe,$I)=>{"use strict";var VI=Xr(),e0=HI(),ij=Jb(),nj=gf(),oj=fd();function t0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new oj}$I.exports=function(e){t0(e),e.headers=e.headers||{},e.data=e0.call(e,e.data,e.headers,e.transformRequest),e.headers=VI.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),VI.forEach(["delete","get","head","post","put","patch","common"],function(n){delete e.headers[n]});var r=e.adapter||nj.adapter;return r(e).then(function(n){return t0(e),n.data=e0.call(e,n.data,n.headers,e.transformResponse),n},function(n){return ij(n)||(t0(e),n&&n.response&&(n.response.data=e0.call(e,n.response.data,n.response.headers,e.transformResponse))),Promise.reject(n)})}});var r0=oe((the,GI)=>{"use strict";var fn=Xr();GI.exports=function(e,r){r=r||{};var i={};function n(f,c){return fn.isPlainObject(f)&&fn.isPlainObject(c)?fn.merge(f,c):fn.isPlainObject(c)?fn.merge({},c):fn.isArray(c)?c.slice():c}function o(f){if(fn.isUndefined(r[f])){if(!fn.isUndefined(e[f]))return n(void 0,e[f])}else return n(e[f],r[f])}function s(f){if(!fn.isUndefined(r[f]))return n(void 0,r[f])}function a(f){if(fn.isUndefined(r[f])){if(!fn.isUndefined(e[f]))return n(void 0,e[f])}else return n(void 0,r[f])}function l(f){if(f in r)return n(e[f],r[f]);if(f in e)return n(void 0,e[f])}var p={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return fn.forEach(Object.keys(e).concat(Object.keys(r)),function(c){var m=p[c]||o,v=m(c);fn.isUndefined(v)&&m!==l||(i[c]=v)}),i}});var i0=oe((rhe,KI)=>{KI.exports={version:"0.27.2"}});var ZI=oe((ihe,XI)=>{"use strict";var sj=i0().version,Xs=$a(),n0={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){n0[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});var YI={};n0.transitional=function(e,r,i){function n(o,s){return"[Axios v"+sj+"] Transitional option '"+o+"'"+s+(i?". "+i:"")}return function(o,s,a){if(e===!1)throw new Xs(n(s," has been removed"+(r?" in "+r:"")),Xs.ERR_DEPRECATED);return r&&!YI[s]&&(YI[s]=!0,console.warn(n(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};function aj(t,e,r){if(typeof t!="object")throw new Xs("options must be an object",Xs.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(t),n=i.length;n-- >0;){var o=i[n],s=e[o];if(s){var a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new Xs("option "+o+" must be "+l,Xs.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Xs("Unknown option "+o,Xs.ERR_BAD_OPTION)}}XI.exports={assertOptions:aj,validators:n0}});var iA=oe((nhe,rA)=>{"use strict";var eA=Xr(),lj=$b(),QI=aI(),JI=jI(),vf=r0(),uj=Yb(),tA=ZI(),Kl=tA.validators;function Yl(t){this.defaults=t,this.interceptors={request:new QI,response:new QI}}Yl.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=vf(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var i=r.transitional;i!==void 0&&tA.assertOptions(i,{silentJSONParsing:Kl.transitional(Kl.boolean),forcedJSONParsing:Kl.transitional(Kl.boolean),clarifyTimeoutError:Kl.transitional(Kl.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(o=o&&v.synchronous,n.unshift(v.fulfilled,v.rejected))});var s=[];this.interceptors.response.forEach(function(v){s.push(v.fulfilled,v.rejected)});var a;if(!o){var l=[JI,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(s),a=Promise.resolve(r);l.length;)a=a.then(l.shift(),l.shift());return a}for(var p=r;n.length;){var f=n.shift(),c=n.shift();try{p=f(p)}catch(m){c(m);break}}try{a=JI(p)}catch(m){return Promise.reject(m)}for(;s.length;)a=a.then(s.shift(),s.shift());return a};Yl.prototype.getUri=function(e){e=vf(this.defaults,e);var r=uj(e.baseURL,e.url);return lj(r,e.params,e.paramsSerializer)};eA.forEach(["delete","get","head","options"],function(e){Yl.prototype[e]=function(r,i){return this.request(vf(i||{},{method:e,url:r,data:(i||{}).data}))}});eA.forEach(["post","put","patch"],function(e){function r(i){return function(o,s,a){return this.request(vf(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Yl.prototype[e]=r(),Yl.prototype[e+"Form"]=r(!0)});rA.exports=Yl});var oA=oe((ohe,nA)=>{"use strict";var cj=fd();function Xl(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(n){e=n});var r=this;this.promise.then(function(i){if(r._listeners){var n,o=r._listeners.length;for(n=0;n<o;n++)r._listeners[n](i);r._listeners=null}}),this.promise.then=function(i){var n,o=new Promise(function(s){r.subscribe(s),n=s}).then(i);return o.cancel=function(){r.unsubscribe(n)},o},t(function(n){r.reason||(r.reason=new cj(n),e(r.reason))})}Xl.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Xl.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};Xl.prototype.unsubscribe=function(e){if(this._listeners){var r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}};Xl.source=function(){var e,r=new Xl(function(n){e=n});return{token:r,cancel:e}};nA.exports=Xl});var aA=oe((she,sA)=>{"use strict";sA.exports=function(e){return function(i){return e.apply(null,i)}}});var uA=oe((ahe,lA)=>{"use strict";var dj=Xr();lA.exports=function(e){return dj.isObject(e)&&e.isAxiosError===!0}});var pA=oe((lhe,o0)=>{"use strict";var cA=Xr(),pj=zb(),yf=iA(),hj=r0(),fj=gf();function dA(t){var e=new yf(t),r=pj(yf.prototype.request,e);return cA.extend(r,yf.prototype,e),cA.extend(r,e),r.create=function(n){return dA(hj(t,n))},r}var Qi=dA(fj);Qi.Axios=yf;Qi.CanceledError=fd();Qi.CancelToken=oA();Qi.isCancel=Jb();Qi.VERSION=i0().version;Qi.toFormData=Gb();Qi.AxiosError=$a();Qi.Cancel=Qi.CanceledError;Qi.all=function(e){return Promise.all(e)};Qi.spread=aA();Qi.isAxiosError=uA();o0.exports=Qi;o0.exports.default=Qi});var Nn=oe((uhe,hA)=>{hA.exports=pA()});function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}var s0=$(()=>{});function a0(t,e){if(Zs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(Zs(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fA=$(()=>{s0()});function l0(t){var e=a0(t,"string");return Zs(e)=="symbol"?e:String(e)}var mA=$(()=>{s0();fA()});function u0(t,e,r){return e=l0(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var gA=$(()=>{mA()});function vA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function bf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vA(Object(r),!0).forEach(function(i){u0(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var yA=$(()=>{gA()});var xA={};mr(xA,{__DO_NOT_USE__ActionTypes:()=>gd,applyMiddleware:()=>d0,bindActionCreators:()=>Wt,combineReducers:()=>Xn,compose:()=>wf,createStore:()=>vd,legacy_createStore:()=>gj});function ci(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}function mj(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function vd(t,e,r){var i;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ci(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ci(1));return r(vd)(t,e)}if(typeof t!="function")throw new Error(ci(2));var n=t,o=e,s=[],a=s,l=!1;function p(){a===s&&(a=s.slice())}function f(){if(l)throw new Error(ci(3));return o}function c(x){if(typeof x!="function")throw new Error(ci(4));if(l)throw new Error(ci(5));var E=!0;return p(),a.push(x),function(){if(E){if(l)throw new Error(ci(6));E=!1,p();var D=a.indexOf(x);a.splice(D,1),s=null}}}function m(x){if(!mj(x))throw new Error(ci(7));if(typeof x.type>"u")throw new Error(ci(8));if(l)throw new Error(ci(9));try{l=!0,o=n(o,x)}finally{l=!1}for(var E=s=a,_=0;_<E.length;_++){var D=E[_];D()}return x}function v(x){if(typeof x!="function")throw new Error(ci(10));n=x,m({type:gd.REPLACE})}function g(){var x,E=c;return x={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(ci(11));function M(){D.next&&D.next(f())}M();var P=E(M);return{unsubscribe:P}}},x[bA]=function(){return this},x}return m({type:gd.INIT}),i={dispatch:m,subscribe:c,getState:f,replaceReducer:v},i[bA]=g,i}function vj(t){Object.keys(t).forEach(function(e){var r=t[e],i=r(void 0,{type:gd.INIT});if(typeof i>"u")throw new Error(ci(12));if(typeof r(void 0,{type:gd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ci(13))})}function Xn(t){for(var e=Object.keys(t),r={},i=0;i<e.length;i++){var n=e[i];typeof t[n]=="function"&&(r[n]=t[n])}var o=Object.keys(r),s,a;try{vj(r)}catch(l){a=l}return function(p,f){if(p===void 0&&(p={}),a)throw a;if(0)var c;for(var m=!1,v={},g=0;g<o.length;g++){var x=o[g],E=r[x],_=p[x],D=E(_,f);if(typeof D>"u"){var M=f&&f.type;throw new Error(ci(14))}v[x]=D,m=m||D!==_}return m=m||o.length!==Object.keys(p).length,m?v:p}}function wA(t,e){return function(){return e(t.apply(this,arguments))}}function Wt(t,e){if(typeof t=="function")return wA(t,e);if(typeof t!="object"||t===null)throw new Error(ci(16));var r={};for(var i in t){var n=t[i];typeof n=="function"&&(r[i]=wA(n,e))}return r}function wf(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(i){return i}:e.length===1?e[0]:e.reduce(function(i,n){return function(){return i(n.apply(void 0,arguments))}})}function d0(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(i){return function(){var n=i.apply(void 0,arguments),o=function(){throw new Error(ci(15))},s={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(l){return l(s)});return o=wf.apply(void 0,a)(n.dispatch),bf(bf({},n),{},{dispatch:o})}}}var bA,c0,gd,gj,Pr=$(()=>{yA();bA=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),c0=function(){return Math.random().toString(36).substring(7).split("").join(".")},gd={INIT:"@@redux/INIT"+c0(),REPLACE:"@@redux/REPLACE"+c0(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c0()}};gj=vd});var p0=oe(Zn=>{"use strict";Zn.__esModule=!0;Zn.createDynamicMiddlewares=Zn.resetMiddlewares=Zn.removeMiddleware=Zn.addMiddleware=void 0;var yj=(Pr(),Fc(xA)),SA=function(){var e=[],r=[],i=void 0,n=function(p){return i=p,function(f){return function(c){return yj.compose.apply(void 0,r)(f)(c)}}},o=function(){for(var p,f,c=arguments.length,m=Array(c),v=0;v<c;v++)m[v]=arguments[v];(p=r).push.apply(p,m.map(function(g){return g(i)})),(f=e).push.apply(f,m)},s=function(p){var f=e.findIndex(function(c){return c===p});if(f===-1){console.error("Middleware does not exist!",p);return}e=e.filter(function(c,m){return m!==f}),r=r.filter(function(c,m){return m!==f})},a=function(){r=[],e=[]};return{enhancer:n,addMiddleware:o,removeMiddleware:s,resetMiddlewares:a}},xf=SA();Zn.default=xf.enhancer;var bj=xf.addMiddleware,wj=xf.removeMiddleware,xj=xf.resetMiddlewares;Zn.addMiddleware=bj;Zn.removeMiddleware=wj;Zn.resetMiddlewares=xj;Zn.createDynamicMiddlewares=SA});function _A(t){var e=function(i){var n=i.dispatch,o=i.getState;return function(s){return function(a){return typeof a=="function"?a(n,o,t):s(a)}}};return e}var EA,CA,PA=$(()=>{EA=_A();EA.withExtraArgument=_A;CA=EA});var AA=oe((_he,IA)=>{function Sj(){this.__data__=[],this.size=0}IA.exports=Sj});var Zl=oe((Ehe,TA)=>{function _j(t,e){return t===e||t!==t&&e!==e}TA.exports=_j});var yd=oe((Che,MA)=>{var Ej=Zl();function Cj(t,e){for(var r=t.length;r--;)if(Ej(t[r][0],e))return r;return-1}MA.exports=Cj});var kA=oe((Phe,RA)=>{var Pj=yd(),Ij=Array.prototype,Aj=Ij.splice;function Tj(t){var e=this.__data__,r=Pj(e,t);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():Aj.call(e,r,1),--this.size,!0}RA.exports=Tj});var OA=oe((Ihe,NA)=>{var Mj=yd();function Rj(t){var e=this.__data__,r=Mj(e,t);return r<0?void 0:e[r][1]}NA.exports=Rj});var LA=oe((Ahe,DA)=>{var kj=yd();function Nj(t){return kj(this.__data__,t)>-1}DA.exports=Nj});var zA=oe((The,FA)=>{var Oj=yd();function Dj(t,e){var r=this.__data__,i=Oj(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}FA.exports=Dj});var bd=oe((Mhe,BA)=>{var Lj=AA(),Fj=kA(),zj=OA(),Bj=LA(),Uj=zA();function Ql(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Ql.prototype.clear=Lj;Ql.prototype.delete=Fj;Ql.prototype.get=zj;Ql.prototype.has=Bj;Ql.prototype.set=Uj;BA.exports=Ql});var qA=oe((Rhe,UA)=>{var qj=bd();function Hj(){this.__data__=new qj,this.size=0}UA.exports=Hj});var WA=oe((khe,HA)=>{function Wj(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}HA.exports=Wj});var $A=oe((Nhe,VA)=>{function Vj(t){return this.__data__.get(t)}VA.exports=Vj});var GA=oe((Ohe,jA)=>{function $j(t){return this.__data__.has(t)}jA.exports=$j});var h0=oe((Dhe,KA)=>{var jj=typeof global=="object"&&global&&global.Object===Object&&global;KA.exports=jj});var Qn=oe((Lhe,YA)=>{var Gj=h0(),Kj=typeof self=="object"&&self&&self.Object===Object&&self,Yj=Gj||Kj||Function("return this")();YA.exports=Yj});var wd=oe((Fhe,XA)=>{var Xj=Qn(),Zj=Xj.Symbol;XA.exports=Zj});var eT=oe((zhe,JA)=>{var ZA=wd(),QA=Object.prototype,Qj=QA.hasOwnProperty,Jj=QA.toString,xd=ZA?ZA.toStringTag:void 0;function e7(t){var e=Qj.call(t,xd),r=t[xd];try{t[xd]=void 0;var i=!0}catch{}var n=Jj.call(t);return i&&(e?t[xd]=r:delete t[xd]),n}JA.exports=e7});var rT=oe((Bhe,tT)=>{var t7=Object.prototype,r7=t7.toString;function i7(t){return r7.call(t)}tT.exports=i7});var ja=oe((Uhe,oT)=>{var iT=wd(),n7=eT(),o7=rT(),s7="[object Null]",a7="[object Undefined]",nT=iT?iT.toStringTag:void 0;function l7(t){return t==null?t===void 0?a7:s7:nT&&nT in Object(t)?n7(t):o7(t)}oT.exports=l7});var Eo=oe((qhe,sT)=>{function u7(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}sT.exports=u7});var Sf=oe((Hhe,aT)=>{var c7=ja(),d7=Eo(),p7="[object AsyncFunction]",h7="[object Function]",f7="[object GeneratorFunction]",m7="[object Proxy]";function g7(t){if(!d7(t))return!1;var e=c7(t);return e==h7||e==f7||e==p7||e==m7}aT.exports=g7});var uT=oe((Whe,lT)=>{var v7=Qn(),y7=v7["__core-js_shared__"];lT.exports=y7});var pT=oe((Vhe,dT)=>{var f0=uT(),cT=function(){var t=/[^.]+$/.exec(f0&&f0.keys&&f0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function b7(t){return!!cT&&cT in t}dT.exports=b7});var m0=oe(($he,hT)=>{var w7=Function.prototype,x7=w7.toString;function S7(t){if(t!=null){try{return x7.call(t)}catch{}try{return t+""}catch{}}return""}hT.exports=S7});var mT=oe((jhe,fT)=>{var _7=Sf(),E7=pT(),C7=Eo(),P7=m0(),I7=/[\\^$.*+?()[\]{}|]/g,A7=/^\[object .+?Constructor\]$/,T7=Function.prototype,M7=Object.prototype,R7=T7.toString,k7=M7.hasOwnProperty,N7=RegExp("^"+R7.call(k7).replace(I7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function O7(t){if(!C7(t)||E7(t))return!1;var e=_7(t)?N7:A7;return e.test(P7(t))}fT.exports=O7});var vT=oe((Ghe,gT)=>{function D7(t,e){return t?.[e]}gT.exports=D7});var Qs=oe((Khe,yT)=>{var L7=mT(),F7=vT();function z7(t,e){var r=F7(t,e);return L7(r)?r:void 0}yT.exports=z7});var _f=oe((Yhe,bT)=>{var B7=Qs(),U7=Qn(),q7=B7(U7,"Map");bT.exports=q7});var Sd=oe((Xhe,wT)=>{var H7=Qs(),W7=H7(Object,"create");wT.exports=W7});var _T=oe((Zhe,ST)=>{var xT=Sd();function V7(){this.__data__=xT?xT(null):{},this.size=0}ST.exports=V7});var CT=oe((Qhe,ET)=>{function $7(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}ET.exports=$7});var IT=oe((Jhe,PT)=>{var j7=Sd(),G7="__lodash_hash_undefined__",K7=Object.prototype,Y7=K7.hasOwnProperty;function X7(t){var e=this.__data__;if(j7){var r=e[t];return r===G7?void 0:r}return Y7.call(e,t)?e[t]:void 0}PT.exports=X7});var TT=oe((efe,AT)=>{var Z7=Sd(),Q7=Object.prototype,J7=Q7.hasOwnProperty;function eG(t){var e=this.__data__;return Z7?e[t]!==void 0:J7.call(e,t)}AT.exports=eG});var RT=oe((tfe,MT)=>{var tG=Sd(),rG="__lodash_hash_undefined__";function iG(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=tG&&e===void 0?rG:e,this}MT.exports=iG});var NT=oe((rfe,kT)=>{var nG=_T(),oG=CT(),sG=IT(),aG=TT(),lG=RT();function Jl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Jl.prototype.clear=nG;Jl.prototype.delete=oG;Jl.prototype.get=sG;Jl.prototype.has=aG;Jl.prototype.set=lG;kT.exports=Jl});var LT=oe((ife,DT)=>{var OT=NT(),uG=bd(),cG=_f();function dG(){this.size=0,this.__data__={hash:new OT,map:new(cG||uG),string:new OT}}DT.exports=dG});var zT=oe((nfe,FT)=>{function pG(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}FT.exports=pG});var _d=oe((ofe,BT)=>{var hG=zT();function fG(t,e){var r=t.__data__;return hG(e)?r[typeof e=="string"?"string":"hash"]:r.map}BT.exports=fG});var qT=oe((sfe,UT)=>{var mG=_d();function gG(t){var e=mG(this,t).delete(t);return this.size-=e?1:0,e}UT.exports=gG});var WT=oe((afe,HT)=>{var vG=_d();function yG(t){return vG(this,t).get(t)}HT.exports=yG});var $T=oe((lfe,VT)=>{var bG=_d();function wG(t){return bG(this,t).has(t)}VT.exports=wG});var GT=oe((ufe,jT)=>{var xG=_d();function SG(t,e){var r=xG(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}jT.exports=SG});var Ef=oe((cfe,KT)=>{var _G=LT(),EG=qT(),CG=WT(),PG=$T(),IG=GT();function eu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}eu.prototype.clear=_G;eu.prototype.delete=EG;eu.prototype.get=CG;eu.prototype.has=PG;eu.prototype.set=IG;KT.exports=eu});var ZT=oe((dfe,XT)=>{var AG=bd(),TG=_f(),MG=Ef(),RG=200;function kG(t,e){var r=this.__data__;if(r instanceof AG){var i=r.__data__;if(!TG||i.length<RG-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new MG(i)}return r.set(t,e),this.size=r.size,this}XT.exports=kG});var Cf=oe((pfe,QT)=>{var NG=bd(),OG=qA(),DG=WA(),LG=$A(),FG=GA(),zG=ZT();function tu(t){var e=this.__data__=new NG(t);this.size=e.size}tu.prototype.clear=OG;tu.prototype.delete=DG;tu.prototype.get=LG;tu.prototype.has=FG;tu.prototype.set=zG;QT.exports=tu});var g0=oe((hfe,JT)=>{var BG=Qs(),UG=function(){try{var t=BG(Object,"defineProperty");return t({},"",{}),t}catch{}}();JT.exports=UG});var Pf=oe((ffe,tM)=>{var eM=g0();function qG(t,e,r){e=="__proto__"&&eM?eM(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}tM.exports=qG});var v0=oe((mfe,rM)=>{var HG=Pf(),WG=Zl();function VG(t,e,r){(r!==void 0&&!WG(t[e],r)||r===void 0&&!(e in t))&&HG(t,e,r)}rM.exports=VG});var nM=oe((gfe,iM)=>{function $G(t){return function(e,r,i){for(var n=-1,o=Object(e),s=i(e),a=s.length;a--;){var l=s[t?a:++n];if(r(o[l],l,o)===!1)break}return e}}iM.exports=$G});var sM=oe((vfe,oM)=>{var jG=nM(),GG=jG();oM.exports=GG});var dM=oe((Ed,ru)=>{var KG=Qn(),cM=typeof Ed=="object"&&Ed&&!Ed.nodeType&&Ed,aM=cM&&typeof ru=="object"&&ru&&!ru.nodeType&&ru,YG=aM&&aM.exports===cM,lM=YG?KG.Buffer:void 0,uM=lM?lM.allocUnsafe:void 0;function XG(t,e){if(e)return t.slice();var r=t.length,i=uM?uM(r):new t.constructor(r);return t.copy(i),i}ru.exports=XG});var y0=oe((yfe,pM)=>{var ZG=Qn(),QG=ZG.Uint8Array;pM.exports=QG});var mM=oe((bfe,fM)=>{var hM=y0();function JG(t){var e=new t.constructor(t.byteLength);return new hM(e).set(new hM(t)),e}fM.exports=JG});var vM=oe((wfe,gM)=>{var eK=mM();function tK(t,e){var r=e?eK(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}gM.exports=tK});var bM=oe((xfe,yM)=>{function rK(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}yM.exports=rK});var SM=oe((Sfe,xM)=>{var iK=Eo(),wM=Object.create,nK=function(){function t(){}return function(e){if(!iK(e))return{};if(wM)return wM(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();xM.exports=nK});var b0=oe((_fe,_M)=>{function oK(t,e){return function(r){return t(e(r))}}_M.exports=oK});var If=oe((Efe,EM)=>{var sK=b0(),aK=sK(Object.getPrototypeOf,Object);EM.exports=aK});var Af=oe((Cfe,CM)=>{var lK=Object.prototype;function uK(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||lK;return t===r}CM.exports=uK});var IM=oe((Pfe,PM)=>{var cK=SM(),dK=If(),pK=Af();function hK(t){return typeof t.constructor=="function"&&!pK(t)?cK(dK(t)):{}}PM.exports=hK});var Js=oe((Ife,AM)=>{function fK(t){return t!=null&&typeof t=="object"}AM.exports=fK});var MM=oe((Afe,TM)=>{var mK=ja(),gK=Js(),vK="[object Arguments]";function yK(t){return gK(t)&&mK(t)==vK}TM.exports=yK});var Tf=oe((Tfe,NM)=>{var RM=MM(),bK=Js(),kM=Object.prototype,wK=kM.hasOwnProperty,xK=kM.propertyIsEnumerable,SK=RM(function(){return arguments}())?RM:function(t){return bK(t)&&wK.call(t,"callee")&&!xK.call(t,"callee")};NM.exports=SK});var Co=oe((Mfe,OM)=>{var _K=Array.isArray;OM.exports=_K});var Mf=oe((Rfe,DM)=>{var EK=9007199254740991;function CK(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=EK}DM.exports=CK});var Cd=oe((kfe,LM)=>{var PK=Sf(),IK=Mf();function AK(t){return t!=null&&IK(t.length)&&!PK(t)}LM.exports=AK});var zM=oe((Nfe,FM)=>{var TK=Cd(),MK=Js();function RK(t){return MK(t)&&TK(t)}FM.exports=RK});var UM=oe((Ofe,BM)=>{function kK(){return!1}BM.exports=kK});var Rf=oe((Pd,iu)=>{var NK=Qn(),OK=UM(),WM=typeof Pd=="object"&&Pd&&!Pd.nodeType&&Pd,qM=WM&&typeof iu=="object"&&iu&&!iu.nodeType&&iu,DK=qM&&qM.exports===WM,HM=DK?NK.Buffer:void 0,LK=HM?HM.isBuffer:void 0,FK=LK||OK;iu.exports=FK});var jM=oe((Dfe,$M)=>{var zK=ja(),BK=If(),UK=Js(),qK="[object Object]",HK=Function.prototype,WK=Object.prototype,VM=HK.toString,VK=WK.hasOwnProperty,$K=VM.call(Object);function jK(t){if(!UK(t)||zK(t)!=qK)return!1;var e=BK(t);if(e===null)return!0;var r=VK.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&VM.call(r)==$K}$M.exports=jK});var KM=oe((Lfe,GM)=>{var GK=ja(),KK=Mf(),YK=Js(),XK="[object Arguments]",ZK="[object Array]",QK="[object Boolean]",JK="[object Date]",eY="[object Error]",tY="[object Function]",rY="[object Map]",iY="[object Number]",nY="[object Object]",oY="[object RegExp]",sY="[object Set]",aY="[object String]",lY="[object WeakMap]",uY="[object ArrayBuffer]",cY="[object DataView]",dY="[object Float32Array]",pY="[object Float64Array]",hY="[object Int8Array]",fY="[object Int16Array]",mY="[object Int32Array]",gY="[object Uint8Array]",vY="[object Uint8ClampedArray]",yY="[object Uint16Array]",bY="[object Uint32Array]",pr={};pr[dY]=pr[pY]=pr[hY]=pr[fY]=pr[mY]=pr[gY]=pr[vY]=pr[yY]=pr[bY]=!0;pr[XK]=pr[ZK]=pr[uY]=pr[QK]=pr[cY]=pr[JK]=pr[eY]=pr[tY]=pr[rY]=pr[iY]=pr[nY]=pr[oY]=pr[sY]=pr[aY]=pr[lY]=!1;function wY(t){return YK(t)&&KK(t.length)&&!!pr[GK(t)]}GM.exports=wY});var XM=oe((Ffe,YM)=>{function xY(t){return function(e){return t(e)}}YM.exports=xY});var QM=oe((Id,nu)=>{var SY=h0(),ZM=typeof Id=="object"&&Id&&!Id.nodeType&&Id,Ad=ZM&&typeof nu=="object"&&nu&&!nu.nodeType&&nu,_Y=Ad&&Ad.exports===ZM,w0=_Y&&SY.process,EY=function(){try{var t=Ad&&Ad.require&&Ad.require("util").types;return t||w0&&w0.binding&&w0.binding("util")}catch{}}();nu.exports=EY});var kf=oe((zfe,tR)=>{var CY=KM(),PY=XM(),JM=QM(),eR=JM&&JM.isTypedArray,IY=eR?PY(eR):CY;tR.exports=IY});var x0=oe((Bfe,rR)=>{function AY(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}rR.exports=AY});var S0=oe((Ufe,iR)=>{var TY=Pf(),MY=Zl(),RY=Object.prototype,kY=RY.hasOwnProperty;function NY(t,e,r){var i=t[e];(!(kY.call(t,e)&&MY(i,r))||r===void 0&&!(e in t))&&TY(t,e,r)}iR.exports=NY});var oR=oe((qfe,nR)=>{var OY=S0(),DY=Pf();function LY(t,e,r,i){var n=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=i?i(r[a],t[a],a,r,t):void 0;l===void 0&&(l=t[a]),n?DY(r,a,l):OY(r,a,l)}return r}nR.exports=LY});var aR=oe((Hfe,sR)=>{function FY(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}sR.exports=FY});var Td=oe((Wfe,lR)=>{var zY=9007199254740991,BY=/^(?:0|[1-9]\d*)$/;function UY(t,e){var r=typeof t;return e=e??zY,!!e&&(r=="number"||r!="symbol"&&BY.test(t))&&t>-1&&t%1==0&&t<e}lR.exports=UY});var _0=oe((Vfe,uR)=>{var qY=aR(),HY=Tf(),WY=Co(),VY=Rf(),$Y=Td(),jY=kf(),GY=Object.prototype,KY=GY.hasOwnProperty;function YY(t,e){var r=WY(t),i=!r&&HY(t),n=!r&&!i&&VY(t),o=!r&&!i&&!n&&jY(t),s=r||i||n||o,a=s?qY(t.length,String):[],l=a.length;for(var p in t)(e||KY.call(t,p))&&!(s&&(p=="length"||n&&(p=="offset"||p=="parent")||o&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||$Y(p,l)))&&a.push(p);return a}uR.exports=YY});var dR=oe(($fe,cR)=>{function XY(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}cR.exports=XY});var hR=oe((jfe,pR)=>{var ZY=Eo(),QY=Af(),JY=dR(),eX=Object.prototype,tX=eX.hasOwnProperty;function rX(t){if(!ZY(t))return JY(t);var e=QY(t),r=[];for(var i in t)i=="constructor"&&(e||!tX.call(t,i))||r.push(i);return r}pR.exports=rX});var Nf=oe((Gfe,fR)=>{var iX=_0(),nX=hR(),oX=Cd();function sX(t){return oX(t)?iX(t,!0):nX(t)}fR.exports=sX});var gR=oe((Kfe,mR)=>{var aX=oR(),lX=Nf();function uX(t){return aX(t,lX(t))}mR.exports=uX});var SR=oe((Yfe,xR)=>{var vR=v0(),cX=dM(),dX=vM(),pX=bM(),hX=IM(),yR=Tf(),bR=Co(),fX=zM(),mX=Rf(),gX=Sf(),vX=Eo(),yX=jM(),bX=kf(),wR=x0(),wX=gR();function xX(t,e,r,i,n,o,s){var a=wR(t,r),l=wR(e,r),p=s.get(l);if(p){vR(t,r,p);return}var f=o?o(a,l,r+"",t,e,s):void 0,c=f===void 0;if(c){var m=bR(l),v=!m&&mX(l),g=!m&&!v&&bX(l);f=l,m||v||g?bR(a)?f=a:fX(a)?f=pX(a):v?(c=!1,f=cX(l,!0)):g?(c=!1,f=dX(l,!0)):f=[]:yX(l)||yR(l)?(f=a,yR(a)?f=wX(a):(!vX(a)||gX(a))&&(f=hX(l))):c=!1}c&&(s.set(l,f),n(f,l,i,o,s),s.delete(l)),vR(t,r,f)}xR.exports=xX});var CR=oe((Xfe,ER)=>{var SX=Cf(),_X=v0(),EX=sM(),CX=SR(),PX=Eo(),IX=Nf(),AX=x0();function _R(t,e,r,i,n){t!==e&&EX(e,function(o,s){if(n||(n=new SX),PX(o))CX(t,e,s,r,_R,i,n);else{var a=i?i(AX(t,s),o,s+"",t,e,n):void 0;a===void 0&&(a=o),_X(t,s,a)}},IX)}ER.exports=_R});var Of=oe((Zfe,PR)=>{function TX(t){return t}PR.exports=TX});var AR=oe((Qfe,IR)=>{function MX(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}IR.exports=MX});var RR=oe((Jfe,MR)=>{var RX=AR(),TR=Math.max;function kX(t,e,r){return e=TR(e===void 0?t.length-1:e,0),function(){for(var i=arguments,n=-1,o=TR(i.length-e,0),s=Array(o);++n<o;)s[n]=i[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=i[n];return a[e]=r(s),RX(t,this,a)}}MR.exports=kX});var NR=oe((eme,kR)=>{function NX(t){return function(){return t}}kR.exports=NX});var LR=oe((tme,DR)=>{var OX=NR(),OR=g0(),DX=Of(),LX=OR?function(t,e){return OR(t,"toString",{configurable:!0,enumerable:!1,value:OX(e),writable:!0})}:DX;DR.exports=LX});var zR=oe((rme,FR)=>{var FX=800,zX=16,BX=Date.now;function UX(t){var e=0,r=0;return function(){var i=BX(),n=zX-(i-r);if(r=i,n>0){if(++e>=FX)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}FR.exports=UX});var UR=oe((ime,BR)=>{var qX=LR(),HX=zR(),WX=HX(qX);BR.exports=WX});var HR=oe((nme,qR)=>{var VX=Of(),$X=RR(),jX=UR();function GX(t,e){return jX($X(t,e,VX),t+"")}qR.exports=GX});var VR=oe((ome,WR)=>{var KX=Zl(),YX=Cd(),XX=Td(),ZX=Eo();function QX(t,e,r){if(!ZX(r))return!1;var i=typeof e;return(i=="number"?YX(r)&&XX(e,r.length):i=="string"&&e in r)?KX(r[e],t):!1}WR.exports=QX});var jR=oe((sme,$R)=>{var JX=HR(),eZ=VR();function tZ(t){return JX(function(e,r){var i=-1,n=r.length,o=n>1?r[n-1]:void 0,s=n>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(n--,o):void 0,s&&eZ(r[0],r[1],s)&&(o=n<3?void 0:o,n=1),e=Object(e);++i<n;){var a=r[i];a&&t(e,a,i,o)}return e})}$R.exports=tZ});var KR=oe((ame,GR)=>{var rZ=CR(),iZ=jR(),nZ=iZ(function(t,e,r){rZ(t,e,r)});GR.exports=nZ});function Ga(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}var E0=$(()=>{});function C0(t={}){let e=t.promiseTypeSuffixes||oZ,r=t.promiseTypeDelimiter||"_";return i=>{let{dispatch:n}=i;return o=>s=>{let a,l;if(s.payload){let _=s.payload;if(Ga(_))a=_;else if(Ga(_.promise))a=_.promise,l=_.data;else if(typeof _=="function"||typeof _.promise=="function"){if(a=_.promise?_.promise():_(),l=_.promise?_.data:void 0,!Ga(a))return o({...s,payload:a})}else return o(s)}else return o(s);let p=s.type,f=s.meta,[c,m,v]=e,g=(_,D)=>({type:[p,D?v:m].join(r),..._===null||typeof _>"u"?{}:{payload:_},...f!==void 0?{meta:f}:{},...D?{error:!0}:{}}),x=_=>{let D=g(_,!0);n(D)},E=(_=null)=>{let D=g(_,!1);return n(D),{value:_,action:D}};return o({type:[p,c].join(r),...l!==void 0?{payload:l}:{},...f!==void 0?{meta:f}:{}}),a.then(E,x).catch(_=>{if(de&&_.response)console.error("Request to",_.response.config.url,"failed with code",_.response.status);else{if(_&&_.response&&_.response.status===401){console.warn("No auth for request to",_.response.config.url);return}console.error(_)}}),a}}}var Df,Lf,Ff,oZ,P0=$(()=>{E0();Fe();Df="PENDING",Lf="FULFILLED",Ff="REJECTED",oZ=[Df,Lf,Ff]});var Ka,zf,ou,ar,Bf,Uf,On,qf,Hf,Wf,Vf,sZ,YR=$(()=>{Ka="cargo.site",zf="wss://w.s.cargo.site",ou="https://cargo.site",ar="https://api.cargo.site/v1",Bf="https://vpn.api.cargo.site/v1",Uf="https://cargo.site/_api",On="https://cargo.site",qf="https://cargo.site/_api/v1-p",Hf="yjhpd2ug",Wf="https://admin.workspace.cargo.site",Vf="https://admin.cargo.site",sZ=typeof window<"u"?"production":process?.env?.CARGO_ENV;switch(sZ){case"localhost":case"local-ssr":Ka="local.dev.cargo.site",zf="wss://ws.dev.cargo.site",ou="https://local.dev.cargo.site",ar="https://api.dev.cargo.site/v1",Bf="https://api.dev.cargo.site/v1",Uf="https://dev.cargo.site/_api",On="https://dev.cargo.site",qf="https://dev.cargo.site/_api/v1-p",Hf="na91uuyv",Wf="https://workspace.local.dev.cargo.site",Vf="https://admin.local.dev.cargo.site";break;case"local-crdt":Ka="local.dev.cargo.site",zf="wss://ws.local.dev.cargo.site:4443",ou="https://local.dev.cargo.site",ar="https://api.dev.cargo.site/v1",Bf="https://api.dev.cargo.site/v1",Uf="https://dev.cargo.site/_api",On="https://dev.cargo.site",qf="https://dev.cargo.site/_api/v1-p",Hf="na91uuyv",Wf="https://workspace.local.dev.cargo.site",Vf="https://admin.local.dev.cargo.site";break;case"dev":Ka="dev.cargo.site",zf="wss://ws.dev.cargo.site",ou="https://dev.cargo.site",ar="https://api.dev.cargo.site/v1",Bf="https://api.dev.cargo.site/v1",Uf="https://dev.cargo.site/_api",On="https://dev.cargo.site",qf="https://dev.cargo.site/_api/v1-p",Hf="na91uuyv",Wf="https://admin.workspace.dev.cargo.site",Vf="https://admin.dev.cargo.site";break;case"qa":Ka="qa.cargo.site",zf="wss://ws.qa.cargo.site",ou="https://qa.cargo.site",ar="https://api.qa.cargo.site/v1",Bf="https://api.qa.cargo.site/v1",Uf="https://qa.cargo.site/_api",On="https://qa.cargo.site",qf="https://qa.cargo.site/_api/v1-p",Hf="na91uuyv",Wf="https://admin.workspace.qa.cargo.site",Vf="https://admin.qa.cargo.site";break}});var ea=$(()=>{YR()});function aZ(t){var e;return{get:function(i){return e&&t(e.key,i)?e.value:$f},put:function(i,n){e={key:i,value:n}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function lZ(t,e){var r=[];function i(a){var l=r.findIndex(function(f){return e(a,f.key)});if(l>-1){var p=r[l];return l>0&&(r.splice(l,1),r.unshift(p)),p.value}return $f}function n(a,l){i(a)===$f&&(r.unshift({key:a,value:l}),r.length>t&&r.pop())}function o(){return r}function s(){r=[]}return{get:i,put:n,getEntries:o,clear:s}}function uZ(t){return function(r,i){if(r===null||i===null||r.length!==i.length)return!1;for(var n=r.length,o=0;o<n;o++)if(!t(r[o],i[o]))return!1;return!0}}function ZR(t,e){var r=typeof e=="object"?e:{equalityCheck:e},i=r.equalityCheck,n=i===void 0?XR:i,o=r.maxSize,s=o===void 0?1:o,a=r.resultEqualityCheck,l=uZ(n),p=s===1?aZ(l):lZ(s,l);function f(){var c=p.get(arguments);if(c===$f){if(c=t.apply(null,arguments),a){var m=p.getEntries(),v=m.find(function(g){return a(g.value,c)});v&&(c=v.value)}p.put(arguments,c)}return c}return f.clearCache=function(){return p.clear()},f}var $f,XR,QR=$(()=>{$f="NOT_FOUND";XR=function(e,r){return e===r}});function cZ(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(i){return typeof i=="function"})){var r=e.map(function(i){return typeof i=="function"?"function "+(i.name||"unnamed")+"()":typeof i}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return e}function I0(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var n=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var p=0,f,c={memoizeOptions:void 0},m=a.pop();if(typeof m=="object"&&(c=m,m=a.pop()),typeof m!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof m+"]");var v=c,g=v.memoizeOptions,x=g===void 0?r:g,E=Array.isArray(x)?x:[x],_=cZ(a),D=t.apply(void 0,[function(){return p++,m.apply(null,arguments)}].concat(E)),M=t(function(){for(var L=[],I=_.length,q=0;q<I;q++)L.push(_[q].apply(null,arguments));return f=D.apply(null,L),f});return Object.assign(M,{resultFunc:m,memoizedResultFunc:D,dependencies:_,lastResult:function(){return f},recomputations:function(){return p},resetRecomputations:function(){return p=0}}),M};return n}var JR,ek=$(()=>{QR();JR=I0(ZR)});var A0={};mr(A0,{ADMIN_FRAME:()=>be,CRDTState:()=>tr,FRONTEND_DATA:()=>jf});var be,jf,tr,Ut=$(()=>{be={adminWindow:null},jf={},tr=Object.freeze({New:0,Published:1,Draft:2,Deleted:3})});var Rr,st,Ir,We,kr=$(()=>{ek();Rr=ye(Pe(),1);Fe();Ut();st={};de?Ir=I0(t=>t):Ir=function(){return JR.apply(this,[...arguments,{memoizeOptions:{maxSize:10}}])};st.getItemParentId=(t,e)=>st.flatByParentList(t)[e];st.getHomepageId=t=>t.frontendState.isMobile?t.site?.mobile_homepage_id:t.site?.homepage_id;st.getHomepagePurl=t=>st.getContentById(t,st.getHomepageId(t))?.purl?.toLowerCase();st.getHiddenHomepageId=t=>{let e=t.site?.mobile_homepage_id,r=t.site?.homepage_id;return e===r?null:t.frontendState.isMobile?r:e};st.flatByParentList=Ir(t=>t.structure.byParent,t=>{let e={};for(let r in t)for(let i in t[r])e[t[r][i]]=r;return e});st.getSetsByParent=Ir(t=>t.structure.byParent,t=>t.sets.byId,(t,e)=>{let r={};for(let i in t)r[i]=t[i].filter(n=>e.hasOwnProperty(n));return r});st.getPagesByParent=Ir(t=>t.structure.byParent,t=>t.pages.byId,(t,e)=>{let r={};for(let i in t)r[i]=t[i].filter(n=>e.hasOwnProperty(n));return r});st.getParentSetList=Ir(st.getItemParentId,st.flatByParentList,(t,e)=>{let r=[];for(;t;)r.push(t),t=t!==e[t]?e[t]:null;return r});st.getSetContents=Ir((t,e)=>e,st.getHomepageId,(t,e,r)=>r,(t,e,r)=>t.structure.bySort,(t,e)=>t.structure.byParent[e],t=>t.pages.byId,t=>t.sets.byId,(t,e,r={},i,n=[],o,s)=>{let a;return Rr.default.without(n.map(l=>{if(a=o[l]||s[l],r.includeNotIndexable===!0||a&&(a.id===e||uf(a)))return a}).sort((l,p)=>i[l.id]-i[p.id]),void 0)});st.getSetContentsByIndex=Ir(st.getSetContents,(t,e,r)=>t.structure.indexById,(t,e)=>t.reduce((r,i)=>(r[e[i.id]]=i,r),{}));st.getSetDepthsById=Ir(t=>t.sets.byId,st.flatByParentList,(t,e)=>{let r={};return Object.keys(t).forEach(i=>{let n=0,o=i;for(;e[o];)n++,o=e[o];r[i]=n}),r});st.getPinsForSet=Ir(st.getParentSetList,st.getSetDepthsById,(t,e,r,i)=>e,(t,e,r,i)=>r,(t,e,r,i)=>i,(t,e,r,i)=>t.structure.bySort,(t,e,r,i)=>t.pages.byId,st.getPagesByParent,t=>t.frontendState.isMobile,(t,e,r,i,n,o,s={},a={},l)=>{if(!r)return[];let p=r,f=0,c={},m=[];return t.concat([r]).forEach(g=>{a[g]&&a[g].forEach(x=>{if(s[x]&&s[x].pin&&s[x].pin_options&&s[x].pin_options.position===i){if(x!==n&&(s[x].pin_options.screen_visibility==="mobile"&&!l||s[x].pin_options.screen_visibility==="desktop"&&l))return;m.push(s[x]),c[x]=s[x].pin_options.fixed?0:e[g]}})}),m.sort((g,x)=>{let E=o[g.id],_=o[x.id];return g.pin_options.fixed?E+=i==="bottom"?9e9:-9e9:g.pin_options.overlay&&(E+=i==="bottom"?9e5:-9e5),x.pin_options.fixed?_+=i==="bottom"?9e9:-9e9:x.pin_options.overlay&&(_+=i==="bottom"?9e5:-9e5),E-_}),m.sort((g,x)=>i==="bottom"?c[x.id]-c[g.id]:c[g.id]-c[x.id]),m});st.getAutoRenderableOverlaysForSet=Ir(st.getParentSetList,st.getSetDepthsById,(t,e,r)=>e,(t,e,r)=>r,(t,e,r)=>t.pages.byId,(t,e,r)=>t.frontendState.PIDToEdit,st.getPagesByParent,(t,e,r,i,n={},o,s={})=>{if(!r||de)return[];let a=r,l=0,p=[];return t.concat([r]).forEach(c=>{s[c]&&s[c].forEach(m=>{n[m]&&n[m].overlay&&(n[m].id===o||n[m].overlay_options?.openOnLoad||n[m].purl?.toLowerCase()===i?.toLowerCase())&&p.push(n[m])})}),p});st.getContentById=Ir((t,e)=>e,(t,e)=>t.pages.byId[e]||t.sets.byId[e],(t,e)=>e);st.getContentByPurl=Ir((t,e)=>e?.replace("#",""),(t,e)=>(e=e?.replace("#",""),t.pages.byId[st.getPagesByUrl(t)[e?.toLowerCase()]]||t.sets.byId[st.getSetsByUrl(t)[e?.toLowerCase()]]),(t,e)=>e);st.getLoadedIndexesForSet=Ir(st.getSetContents,t=>t.structure.indexById,(t,e)=>Rr.default.without(t.map(r=>{if(uf(r))return e[r.id]}),void 0));st.getMissingIndexesForSet=Ir((t,e)=>t.sets.byId[e],st.getLoadedIndexesForSet,(t,e)=>t?Rr.default.difference([...Array(Math.max(t.page_count||0,0)).keys()],e):[]);st.getSortedListOfIndexPairs=Ir(t=>t,(t,e)=>e,(t,e)=>t.sets.byId,(t,e)=>t.structure.indexById,st.getSetsByParent,(t,e,r,i,n)=>{let o=s=>{let a=st.getContentById(t,s);if(!a)return[];let l=[...Array(Math.max(a.page_count||0,0)).keys()].map(p=>[a.id,p]);return n[a.id]&&(n[a.id]||[]).map(p=>r[p]).forEach(p=>{let f=l.findIndex(([c,m])=>m===i[p.id]);l.splice(f+1,0,o(p.id))}),l};return Rr.default.chunk(Rr.default.flattenDeep(o(e)),2)});st.getSortedListOfMissingIndexPairs=Ir(t=>t,st.getSortedListOfIndexPairs,(t,e)=>t.sets.byId,st.getSetsByParent,(t,e,r,i)=>{let n=[];return Rr.default.uniq(e.map(o=>o[0])).forEach(o=>{n=n.concat(st.getLoadedIndexesForSet(t,o).map(s=>[o,s]))}),Rr.default.differenceWith(e,n,Rr.default.isEqual)});st.getGappedSetMap=Ir(t=>t,st.getSortedListOfIndexPairs,st.getSortedListOfMissingIndexPairs,(t,e,r)=>{let i=r[0];if(i){let n=Rr.default.uniq(e.map(a=>a[0])).reduce((a,l)=>(a[l]=0,a),{}),o=Rr.default.findIndex(e,a=>Rr.default.isEqual(a,i)),s=Rr.default.fromPairs(e.slice(0,o));return Rr.default.merge(n,s)}return{}});st.getPagesByUrl=Ir(t=>t.pages.byId,t=>Rr.default.transform(Rr.default.omitBy(t,e=>e.crdt_state===tr.Deleted),function(e,r){e[r.purl?.toLowerCase()]=r.id},{}));st.getSetsByUrl=Ir(t=>t.sets.byId,t=>Rr.default.transform(Rr.default.omitBy(t,e=>e.crdt_state===tr.Deleted),function(e,r){e[r.purl?.toLowerCase()]=r.id},{}));st.getMediaByHash=t=>{let e={};return Rr.default.each(t.pages.byId,r=>{Rr.default.each(r.media,i=>{i.crdt_state!==tr.Deleted&&(e[i.hash]=i)})}),e};st.getMediaByParent=Ir(t=>t.pages.byId,t=>{let e={};return Rr.default.each(t,r=>{e[r.id]=r.media?.filter(i=>i.crdt_state!==tr.Deleted)}),e});st.getRenderedPageModels=Ir(t=>t.pages.byId,t=>t.frontendState.renderedPages,(t,e)=>e.map(r=>t[r.id]).filter(r=>r!==void 0));We=st});var R0={};mr(R0,{actionTypes:()=>Oe,actions:()=>Ke});var mn,Za,M0,Ke,dZ,tk,Oe,Gf,T0,Ya,Xa,rr=$(()=>{mn=ye(Nn(),1),Za=ye(Pe(),1);P0();Fe();ea();kr();M0=ye(Pe(),1),Ke={},dZ=de?3e4:1e4,tk={AUTHENTICATE_USER:"AUTHENTICATE_USER",FETCH_SITEDESIGN_MODEL:"FETCH_SITEDESIGN_MODEL",FETCH_SCAFFOLDING:"FETCH_SCAFFOLDING",FETCH_SITE_PACKAGE:"FETCH_SITE_PACKAGE",FETCH_SITE_MODEL:"FETCH_SITE_MODEL",FETCH_SITE_CSS:"FETCH_SITE_CSS",FETCH_MEDIA:"FETCH_MEDIA",FETCH_CONTENT:"FETCH_CONTENT",DELETE_CONTENT:"DELETE_CONTENT",FETCH_COMMERCE_PRODUCTS:"FETCH_COMMERCE_PRODUCTS",FETCH_SHOP_MODEL:"FETCH_SHOP_MODEL"};(0,Za.each)(tk,function(t,e,r){r[t+"_"+Lf]=e+"_"+Lf,r[t+"_"+Df]=e+"_"+Df,r[t+"_"+Ff]=e+"_"+Ff});Oe=(0,Za.merge)({ADD_COMMERCE_PRODUCT_TO_CART:"ADD_COMMERCE_PRODUCT_TO_CART",RESET_COMMERCE_CART:"RESET_COMMERCE_CART",SET_INITIAL_AUTH:"SET_INITIAL_AUTH",PAGES_MOUNTED:"PAGES_MOUNTED",PAGES_UNMOUNTED:"PAGES_UNMOUNTED",UPDATE_FRONTEND_STATE:"UPDATE_FRONTEND_STATE",UPDATE_SITE_DESIGN:"UPDATE_SITE_DESIGN",COMMERCE_PRODUCT_DESTROYED:"COMMERCE_PRODUCT_DESTROYED",COMMERCE_PRODUCT_UPDATED:"COMMERCE_PRODUCT_UPDATED",SHOP_MODEL_UPDATED:"SHOP_MODEL_UPDATED"},tk);Ke.getAuthToken=function(t={}){let e=new Promise((r,i)=>{if(t.reverse_bounce_jwt){parent.location.href=On+"/accesstoken/bounce?jwt="+t.reverse_bounce_jwt;return}if(t.bounce){parent.location.href=On+"/accesstoken/bounce?site_url="+t.site_url;return}let n={};t.site_url&&(n.site_url=t.site_url),t.site_id&&(n.site_id=t.site_id),t.jwt&&(n.jwt=t.jwt);let o={};t.nonce&&(o["x-cargo-access-token-nonce"]=t.nonce),mn.default.get(On+"/accesstoken",{use_auth:!1,withCredentials:!0,params:n,headers:o,timeout:t?.timeout||dZ}).then(function(s){if(!s||s.token===null)return i("No token found.");r(s)}).catch(s=>{i(s)})});return{type:Oe.AUTHENTICATE_USER,payload:e}};Ke.setAuthentication=t=>({type:Oe.AUTHENTICATE_USER_FULFILLED,payload:t});Ke.rejectAuthentication=()=>({type:Oe.AUTHENTICATE_USER_REJECTED,payload:{}});Ke.fetchScaffolding=function(){return function(t,e){let i=`/pages/${e().site.id}/scaffolding`;return t({type:Oe.FETCH_SCAFFOLDING,payload:mn.default.get(ar+i)})}};Ke.fetchFiles=function(){return function(t,e){let i=`/sites/${e().site.id}/media/files`;return t({type:Oe.FETCH_MEDIA,payload:mn.default.get(ar+i)})}};Ke.fetchCommerceProducts=function(t={}){return t=M0.default.defaults(t,{orderBy:"date_added",orderDir:"asc",idArray:null,onlyNew:!0}),function(e,r){let i=r(),n=`/commerce/${i.site.id}/products`,o;if(t.idArray){n+="/list";let s=new FormData;if(t.idArray){let a=t.idArray.filter(l=>!(t.onlyNew===!0&&i.commerce.products.hasOwnProperty(l)));if(a.length===0)return Promise.resolve();a.forEach(l=>{s.append("ids[]",l)})}o=mn.default.post(ar+n,s,{use_auth:!1})}else o=mn.default.get(ar+n,{use_auth:!1,params:{order_by:t.orderBy,order_dir:t.orderDir,limit:t.limit}});return e({type:Oe.FETCH_COMMERCE_PRODUCTS,payload:o,meta:{options:t}})}};Ke.fetchShopModel=function(t={}){return function(e,r){let i=r();if(!i.site.shop_id)return Promise.resolve();let n=`/commerce/${i.site.id}/shop/${i.site.shop_id}`;return e({type:Oe.FETCH_SHOP_MODEL,payload:mn.default.get(ar+n,{use_cache:t.force!==!0})})}};Ke.resetCommerceCart=function(){return{type:Oe.RESET_COMMERCE_CART,payload:{}}};Ke.addCommerceProductToCart=function(t,e,r={}){return function(i,n){let o=n(),s=o.commerce.products[t],a=s?.variants.find(l=>l.variant_id==e);if(!s||!a){r.failureCallback?.("Product not found");return}if((r.amount===void 0||isNaN(r.amount))&&(r.amount=1),a.inventory!==null&&r.amount>a.inventory)if(a.inventory<=0){r.failureCallback?.("Product is out of stock");return}else r.amount=a.inventory;return typeof r.callback=="function"&&r.callback(),i({type:Oe.ADD_COMMERCE_PRODUCT_TO_CART,payload:{product_id:a.product_id,variant_id:a.variant_id,quantity:r.amount},meta:{is_template:o.site.is_template}})}};Gf=null,T0=!1,Ya=[],Xa=[];Ke.pageMounted=function(t){if(Xa.includes(t)&&(Xa=Xa.filter(e=>e!==t)),!Ya.includes(t))return(e,r)=>(Ya.push(t),Gf||(Gf=new Promise(i=>{requestAnimationFrame(()=>{e({type:Oe.PAGES_MOUNTED,payload:{pages:[...Ya]}}),i(),Gf=null,Ya=[]})})),Gf)};Ke.pageUnMounted=function(t){if(Ya.includes(t)&&(Ya=Ya.filter(e=>e!==t)),!Xa.includes(t))return(e,r)=>{if(r().frontendState.PIDBeingEdited===t?.id)return e({type:Oe.PAGES_UNMOUNTED,payload:{pages:[t]}});Xa.push(t),T0||(T0=!0,requestAnimationFrame(()=>{e({type:Oe.PAGES_UNMOUNTED,payload:{pages:[...Xa]}}),T0=!1,Xa=[]}))}};Ke.fetchSiteModel=function(){return function(t,e){let i=`/sites/${e().site.id}`,n=mn.default.get(ar+i);return t({type:Oe.FETCH_SITE_MODEL,payload:n})}};Ke.fetchSiteCSS=function(){return function(t,e){let i=`/sites/${e().site.id}/css`,n=mn.default.get(ar+i);return t({type:Oe.FETCH_SITE_CSS,payload:n})}};Ke.fetchSitePackage=function(){return function(t,e){let r=e(),i;de?i=r.frontendState.hostname:i=as?Ab:window.location.hostname,Ib&&(i=i.replace("local.dev.cargo.site","dev.cargo.site"));let n=mn.default.get(ar+`/package/${i}`);return t({type:Oe.FETCH_SITE_PACKAGE,payload:n})}};Ke.fetchSiteDesignModel=function(){return function(t,e){let i=`/sites/${e().site.id}/design`,n=mn.default.get(ar+i);return t({type:Oe.FETCH_SITEDESIGN_MODEL,payload:n})}};Ke.fetchPagesByTag=function(t,e={}){return function(r,i){let n=store.getState(),o=mn.default.get(ar+`/pages/${n.site.id}/tag/${t}`,{withCredentials:!0,use_cache:e.force!==!0});return r({type:Oe.FETCH_CONTENT,payload:o})}};Ke.fetchContent=function(t,e={}){return e.idType||(e.idType="pid"),function(r,i){let n=i(),o;if(e.indexes&&n.frontendState.inAdminFrame===!0){let f=n.structure.byParent[t]?.reduce((c,m)=>(c[n.structure.indexById[m]]=m,c),{});f&&(o={},e.indexes.forEach(c=>{let m=f[c],v=n.structure.liveIndexes[m];if(v){let[g,x]=v.split("/");o[g]||(o[g]=[]),o[g].push(parseInt(x))}}),o=M0.default.map(o,(c,m)=>({set_id:m,index:c})))}if(e.force!==!0&&(e.idType==="purl"?We.getContentByPurl(n,t):We.getContentById(n,t)||t==="root")&&(e.indexes===void 0||e.indexes.length===0)&&e.prev!==!0&&e.next!==!0)return r({type:Oe.FETCH_CONTENT,payload:Promise.resolve()});let s=`/pages/${n.site.id}/url/${t}`;e.next===!0?s=`/pages/${n.site.id}/next/${t}`:e.prev===!0?s=`/pages/${n.site.id}/prev/${t}`:e.idType==="pid"&&(s=`/pages/${n.site.id}/id/${t}`);let a={};(0,Za.isArray)(e.indexes)&&(s=`/pages/${n.site.id}/filter/`,o&&Object.keys(o).length>0?a.indexBySet=JSON.stringify(o):a.indexBySet=JSON.stringify([{set_id:t,index:e.indexes}]));let l=mn.default.get(ar+s,{withCredentials:!0,use_cache:e.force!==!0,params:a,validateStatus:function(f){return f>=200&&f<300&&f!==204},contentIdentifier:{idType:e.idType,id:t}}),p=new Promise((f,c)=>{l.then(m=>{(0,Za.isArray)(m.data)||(m.data=[m.data]),e.cb?.(m),f(m)}).catch(c)});return r({type:Oe.FETCH_CONTENT,payload:p})}};Ke.updateFrontendState=function(t){return function(e,r){return e({type:Oe.UPDATE_FRONTEND_STATE,payload:t})}};Ke.deleteContent=function(t){return function(e,r){let i=new Promise().resolve({id:t});return{type:Oe.DELETE_CONTENT,payload:i}}};de||(window.actions=Ke)});function k0(){return t=>e=>(Ga(e.payload)&&e.payload.catch(function(r){if(de&&r.response)console.error("Request to",r.response.config.url,"failed with code",r.response.status);else{if(r&&r.response&&r.response.status===401){console.warn("No auth for request to",r.response.config.url);return}console.error(r)}return r}),t(e))}var Eme,rk=$(()=>{E0();Eme=ye(Pe(),1);Fe()});function ik(t={},e){if(!e.payload)return t;switch(e.type){case Oe.FETCH_SITE_MODEL_FULFILLED:case Oe.FETCH_SITE_PACKAGE_FULFILLED:let r=e.payload.data;if(e.type===Oe.FETCH_SITE_PACKAGE_FULFILLED&&(r=r.site),r){if(as&&(r.domain_active=!1),!de)try{localStorage.setItem("c3-site",JSON.stringify({id:r.id,host:window.location.host}))}catch(i){console.error(i)}return{...t,...r,crdt_state:tr.Published}}break}return t}var Tme,nk=$(()=>{rr();Fe();Ut();Tme=ye(Pe(),1)});function pZ(t={},e){if(!e.payload)return t;switch(e.type){case Oe.FETCH_SCAFFOLDING_FULFILLED:case Oe.FETCH_ADMIN_LIST_FULFILLED:case Oe.FETCH_CONTENT_FULFILLED:case Oe.FETCH_SITE_PACKAGE_FULFILLED:let r=e.payload.data;if(e.type===Oe.FETCH_SITE_PACKAGE_FULFILLED&&(r=r.scaffolding),r)return Kf.default.isArray(r)||(r=[r]),{...t,...r.reduce((i,n)=>(n.page_type!=="page"||de&&n.access_level!=="public"||(n={...n},delete n.index,delete n.sort,delete n.set_id,delete n.is_homepage,n.purl&&(n.purl=n.purl.toLowerCase()),n.crdt_state=tr.Published,i[n.id]=n),i),{})};break;case Oe.DELETE_CONTENT:if(t[e.payload.id]){let i={...t};return delete i[e.payload.id],i}break;case Oe.UPDATE_PAGE:return{...t,[e.meta.id]:Kf.default.merge({},Kf.default.cloneDeep(t[e.meta.id]),e.payload)}}return t}var Kf,N0,ok,sk=$(()=>{rr();Pr();Ut();Kf=ye(Pe(),1);Fe();N0={byId:pZ},ok=Xn(N0)});function hZ(t={},e){if(!e.payload)return t;switch(e.type){case Oe.FETCH_SCAFFOLDING_FULFILLED:case Oe.FETCH_ADMIN_LIST_FULFILLED:case Oe.FETCH_CONTENT_FULFILLED:case Oe.FETCH_SITE_PACKAGE_FULFILLED:let r=e.payload.data;if(e.type===Oe.FETCH_SITE_PACKAGE_FULFILLED&&(r=r.scaffolding),r)return{...t,...r.reduce((i,n)=>(n.page_type!=="set"||de&&n.access_level!=="public"||(n={...n},delete n.index,delete n.sort,delete n.set_id,delete n.is_homepage,n.purl&&(n.purl=n.purl.toLowerCase()),n.crdt_state=tr.Published,i[n.id]=n),i),{})};break}return t}var O0,ak,lk=$(()=>{rr();Pr();Ut();Fe();O0={byId:hZ},ak=Xn(O0)});function fZ(t=ck,e){switch(e.type){case Oe.RESET_COMMERCE_CART:try{localStorage.removeItem("cargo-commerce-cart")}catch(n){console.error("Unable to store cart",n)}return{};case Oe.ADD_COMMERCE_PRODUCT_TO_CART:let r=e.payload,i;r.quantity===null?(i={...t},delete i[r.variant_id]):(t[r.variant_id]&&(r={...t[r.variant_id],quantity:Math.max(0,(t[r.variant_id].quantity||0)+r.quantity)}),i={...t,[r.variant_id]:r});try{e.meta?.is_template!==!0&&localStorage.setItem("cargo-commerce-cart",JSON.stringify(i))}catch(n){console.error("Unable to store cart",n)}return i}return t}function mZ(t={},e){if(!e.payload)return t;switch(e.type){case Oe.FETCH_COMMERCE_PRODUCTS_FULFILLED:let r=e.meta?.options||{},i=(e.payload.data?.data||[]).reduce((o,s,a)=>{let l=t[s?.product_id];return r.onlyNew&&l?(r.idArray===null&&l.sort_index===void 0&&(l.sort_index=a),o):(r.idArray===null&&(s.sort_index=a),uk(s),{...o,[s.product_id]:s})},{});return{...t,...i};case Oe.COMMERCE_PRODUCT_UPDATED:return uk(e.payload),{...t,[e.payload.product_id]:e.payload};break;case Oe.COMMERCE_PRODUCT_DESTROYED:let n={...t};return delete n[e.payload.product_id],n;break}return t}function gZ(t={},e){if(!e.payload)return t;switch(e.type){case Oe.FETCH_SHOP_MODEL_FULFILLED:return{...t,...e.payload.data};case Oe.SHOP_MODEL_UPDATED:return{...t,...e.payload}}return t}var ta,ck,uk,D0,dk,pk=$(()=>{ta=ye(Pe(),1);Pr();rr();Fe();ck={};if(!de)try{ck=JSON.parse(localStorage.getItem("cargo-commerce-cart"))||{},window.__PRELOADED_STATE__&&window.__PRELOADED_STATE__.commerce&&window.__PRELOADED_STATE__.commerce.cart&&delete window.__PRELOADED_STATE__.commerce.cart}catch{}uk=t=>{t.name&&(t.name=ta.default.unescape(t.name)),t.variants?.forEach(e=>{ta.default.each(e.attributes,(r,i)=>{let n=ta.default.unescape(r);delete e.attributes[i],e.attributes[ta.default.unescape(i)]=n})}),ta.default.each(t.attributes,(e,r)=>{let i=e.map(n=>ta.default.unescape(n));delete t.attributes[r],t.attributes[ta.default.unescape(r)]=i})};D0={products:mZ,cart:fZ,shop:gZ},dk=Xn(D0)});function fk(t=vZ,e){if(!e.payload)return t;switch(e.type){case Oe.FETCH_MEDIA_FULFILLED:let r=e.payload.data;if(r)return{...t,data:hk.default.uniqBy([...t.data,...r],"id")};break}return t}var hk,vZ,mk=$(()=>{rr();Ut();hk=ye(Pe(),1),vZ={data:[],crdt_state:tr.Published}});function gk(t={},e){if(!e.payload)return t;switch(e.type){case Oe.FETCH_SITE_CSS_FULFILLED:case Oe.FETCH_SITE_PACKAGE_FULFILLED:let r=e.payload.data;if(e.type===Oe.FETCH_SITE_PACKAGE_FULFILLED&&(r=r.css),r)return{...t,...r,crdt_state:tr.Published};break}return t}var Xme,vk=$(()=>{rr();Ut();Xme=ye(Pe(),1)});function L0(t=yZ,e){if(!e.payload)return t;switch(e.type){case Oe.FETCH_SCAFFOLDING_FULFILLED:case Oe.FETCH_ADMIN_LIST_FULFILLED:case Oe.FETCH_CONTENT_FULFILLED:case Oe.FETCH_SITE_PACKAGE_FULFILLED:let r=e.payload.data;if(e.type===Oe.FETCH_SITE_PACKAGE_FULFILLED&&(r=r.scaffolding),r){let i={...t},n={};return(0,ra.each)(r,function(o){o.page_type==="set"&&(n.hasOwnProperty(o.id)||(n[o.id]=[])),o.id!=="root"&&o.hasOwnProperty("set_id")&&(n.hasOwnProperty(o.set_id)||(n[o.set_id]=[]),n[o.set_id].push(o.id))}),i.byParent=(0,ra.mergeWith)({},t.byParent,n,(o,s)=>{if((0,ra.isArray)(o))return(0,ra.uniq)(o.concat(s))}),i.bySort={...t.bySort,...r.reduce((o,s)=>(s.id!=="root"&&s.hasOwnProperty("sort")&&(o[s.id]=s.sort),o),{})},i.indexById={...t.indexById,...r.reduce((o,s)=>(s.id!=="root"&&s.hasOwnProperty("index")&&(o[s.id]=s.index),o),{})},i}break}return t}var ra,yZ,yk=$(()=>{rr();ra=ye(Pe(),1);Ut();yZ={byParent:{root:[]},bySort:{},indexById:{},liveIndexes:{},crdt_state:tr.Published}});function wZ(t=bZ,e){switch(e.type){case Oe.AUTHENTICATE_USER_PENDING:return{...t,authenticating:!0};case Oe.AUTHENTICATE_USER_FULFILLED:if(e.payload?.data?.access_token){if(!de)try{localStorage.setItem("c3-auth",JSON.stringify(e.payload.data))}catch(r){console.error(r)}return{...t,authenticating:!1,authenticated:!0,data:e.payload.data}}else{if(!de)try{localStorage.removeItem("c3-auth")}catch(r){console.error(r)}return{...t,authenticating:!1,authenticated:!1}}case Oe.AUTHENTICATE_USER_REJECTED:if(!de)try{localStorage.removeItem("c3-auth")}catch(r){console.error(r)}return{...t,authenticating:!1,authenticated:!1}}return t}var rge,bZ,bk,wk=$(()=>{rge=ye(Pe(),1);Fe();rr();bZ={authenticating:!1,authenticated:!1};bk=wZ});function xZ(t=xk,e){if(!e.payload)return t;switch(e.type){case Oe.FETCH_SITEDESIGN_MODEL_FULFILLED:case Oe.FETCH_SITE_PACKAGE_FULFILLED:let r=e.payload.data;if(e.type===Oe.FETCH_SITE_PACKAGE_FULFILLED&&(r=r.design),r)return Yf.default.merge(Yf.default.cloneDeep(t),r.site_design);break;case Oe.UPDATE_SITE_DESIGN:let i=Yf.default.mergeWith({},xk,t,e.payload,(n,o,s,a,l)=>{o===void 0&&l.hasOwnProperty(s)&&delete a[s]});return console.log(">>>>",t,i),i;break}return t}var Yf,xk,Sk,_k=$(()=>{rr();Yf=ye(Pe(),1);Ut();xk={images:{},quick_view:{},site:{enableColorFilter:!1,enableHomeLinkActiveStates:!1},cart:{theme:"light"},contact_form:{theme:"light"},crdt_state:tr.Published};Sk=xZ});function Ck(t=Ek,e){if(!e.payload)return t;let r;switch(e.type){case Oe.UPDATE_FRONTEND_STATE:return F0.default.mergeWith({},Ek,t,e.payload,(i,n,o,s,a)=>{n===void 0&&a.hasOwnProperty(o)&&delete s[o]});case Oe.FETCH_SITE_PACKAGE_FULFILLED:return{...t,hasSiteModel:!0,hasScaffolding:!0,hasSiteDesign:!0,hasSiteCSS:!0,hasSitePackage:!0};case Oe.FETCH_SCAFFOLDING_FULFILLED:return{...t,hasScaffolding:!0};case Oe.FETCH_SITE_MODEL_FULFILLED:return{...t,hasSiteModel:!0};case Oe.FETCH_SHOP_MODEL_FULFILLED:return{...t,hasShopModel:!0};case Oe.FETCH_SITE_CSS_FULFILLED:return{...t,hasSiteCSS:!0};case Oe.FETCH_SITEDESIGN_MODEL_FULFILLED:return{...t,hasSiteDesign:!0};case Oe.PAGES_MOUNTED:return r=[...t.renderedPages,...e.payload.pages],{...t,renderedPages:r};case Oe.PAGES_UNMOUNTED:return{...t,renderedPages:F0.default.difference(t.renderedPages,e.payload.pages)};case Oe.FETCH_CONTENT_REJECTED:return{...t,networkErrors:[...t.networkErrors,{...e.payload.config?.contentIdentifier,code:e.payload.response?.status}]}}return t}var F0,dge,Ek,Pk=$(()=>{rr();Fe();Fe();F0=ye(Pe(),1),dge=Tb(),Ek={hasSiteModel:!1,hasScaffolding:!1,hasSiteDesign:!1,hasSiteCSS:!1,hasShopModel:!1,hasSitePackage:!1,pointerType:"mouse",quickView:{mode:"default",inited:!1,autoScrolling:!1,elementArray:!1,activeIndex:0,startingIndex:0},contactForm:{transition:!1,inited:!1},adminMode:Dr,inAdminFrame:Dr,renderedPages:[],networkErrors:[],pageNotFound:!1,fontsLoaded:[],activeHashPurl:"",lastVisiblePid:null}});var B0={};mr(B0,{default:()=>z0,rawReducers:()=>SZ});var z0,SZ,U0=$(()=>{nk();sk();lk();pk();mk();vk();yk();wk();_k();Pk();rr();z0={structure:L0,site:ik,pages:ok,sets:ak,media:fk,css:gk,auth:bk,siteDesign:Sk,frontendState:Ck,commerce:dk},SZ={pages:N0,sets:O0,commerce:D0}});var Ik,Ige,Ak,Tk=$(()=>{Ik=ye(p0(),1);Pr();PA();Ige=ye(KR(),1);rr();rk();P0();U0();Fe();Ak=()=>{let t=[],e=(0,Ik.createDynamicMiddlewares)(),r=[CA,k0,C0(),e.enhancer],i=wf(d0(...r),...t),n=de?{}:window.__PRELOADED_STATE__||{},o=vd(Xn(z0),n,i);return de||(window.store=o,delete window.__PRELOADED_STATE__),{store:o}}});function S(t,e,r,i,n,o){e||(e={});var s,a,l=e;if("ref"in l)for(a in l={},e)a=="ref"?s=e[a]:l[a]=e[a];var p={type:t,props:l,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--_Z,__i:-1,__u:0,__source:n,__self:o};if(typeof t=="function"&&(s=t.defaultProps))for(a in s)l[a]===void 0&&(l[a]=s[a]);return dt.vnode&&dt.vnode(p),p}var _Z,Lge,fe=$(()=>{ke();ke();_Z=0,Lge=Array.isArray});var Mk=$(()=>{ke();fe()});var Rk=$(()=>{});var us,Xf=$(()=>{Ye();Rk();fe();us=({customStyle:t,className:e})=>S("div",{style:t,className:`caution-processing${e?" "+e:""}`})});var kk=$(()=>{});var Nk,Ok,q0,Dk,Lk=$(()=>{Ye();gt();Pr();ea();Xf();kk();fe();Nk=0,Ok=!(typeof window<"u"&&window.document&&window.document.createElement),q0=class extends me{constructor(e){if(super(e),Ok)return;let r=new URLSearchParams(window.location.search.replace(/\+/g,"%2B")),i=["cargo.site","local.dev.cargo.site","local.dev.cargo.site","dev.cargo.site"];this.state={error:null,loading:!1,checkingAutomatedAuth:!0,formView:"login",resetEmail:null,prevFormState:null,prefilledEmail:r.get("email"),isHomePageLogin:i.includes(window.location.hostname)},e.canCreateNewAccount?this.state.formView="newAcct":e.magicEmailLogin&&(this.state.formView="magicEmail"),this.containerRef=ze.createRef();let n=r.get("t");if(this.redirectURL=r.get("rd"),r.has("t")){r.delete("t");let o=r.toString();o.length>0&&(o="?"+o),window.history.replaceState({},document.title,window.location.origin+window.location.pathname+o)}if(this.props.loginToUdotCargoOnly){this.state.checkingAutomatedAuth=!1;return}if(Nk>=1){this.state.checkingAutomatedAuth=!1;return}if(n==="")this.state.checkingAutomatedAuth=!1;else if(r.has("c")&&r.has("signature"))fetch(`${ar}/auth/verify?${r.toString()}`,{method:"get"}).then(async s=>{let a=await s.json();a.access_token&&a.id?(this.props.setAuthData(a.access_token,a.id),this.props.onLoginSuccess?.(a),window.history.replaceState({},document.title,window.location.origin+window.location.pathname)):this.setState({checkingAutomatedAuth:!1,error:"Something went wrong. Please try again later."}),requestAnimationFrame(()=>{this.setState({checkingAutomatedAuth:!1})})}).catch(s=>{console.log(s),this.setState({checkingAutomatedAuth:!1,error:"Something went wrong. Please try again later."})});else{let s=!1;this.props.domain_active&&n===null&&(s=!0);let a={timeout:3e3,jwt:n,bounce:s};this.props.site_url&&(a.site_url=this.props.site_url),this.props.site_id&&(a.site_id=this.props.site_id),this.props.getAuthToken(a).catch(l=>{console.log("Failed to fetch auth token.")}).finally(()=>{Nk++,!s&&requestAnimationFrame(()=>{this.props.onCookieAuthComplete?.(),this.setState({checkingAutomatedAuth:!1})})})}}handleInitialTab=e=>{if(e.key!=="Tab")return;let r=this.containerRef.current;if(!r||r.contains(document.activeElement))return;let i=r.querySelector('input, select, textarea, button, [tabindex]:not([tabindex="-1"])');i&&(e.preventDefault(),i.focus())};ForgotButton=()=>{let e=this.state.loading?{display:"inline-block",pointerEvents:"none"}:{display:"inline-block"};return this.state.formView==="newAcct"?null:S("button",{className:"forgot",style:e,type:"button",onClick:r=>{r.preventDefault(),this.setState({formView:"forgot",error:null,prevFormState:"login"})},children:"Forgot?"})};createOrLogin=()=>{if(!this.state.isHomePageLogin)return this.ForgotButton();let e=this.state.loading?{display:"inline-block",pointerEvents:"none"}:{display:"inline-block"};return S("button",{className:"account",type:"button",style:e,onClick:r=>{r.preventDefault(),this.state.formView==="login"&&this.setState({formView:"newAcct",error:null,prevFormState:"login"}),this.state.formView==="newAcct"&&this.setState({formView:"login",error:null,prevFormState:"newAcct"})},children:[this.state.formView==="newAcct"?"Login to an existing account":null,this.state.formView==="login"?"New Account":null]})};render(){if(Ok||this.state.checkingAutomatedAuth||this.props.cookieAuthOnly)return null;let e=this.state.loading?{display:"inline-block",pointerEvents:"none"}:{display:"inline-block"},r="Cargo Login";return this.state.formView==="newAcct"?r="New Account":this.state.formView==="forgot"&&(r="Reset Password"),S("div",{id:"login",className:`login-window${this.props.noOverlay===!0?" not-overlaid":""}`,ref:this.containerRef,onMouseUp:i=>{if(this.props.canClickout&&!i.target.closest(".login-modal")){let n=new CustomEvent("remove-login-form");document.dispatchEvent(n),this.props.onClickout&&!this.state.loading&&this.props.onClickout()}},children:S("div",{className:"login-modal custom login-frame",children:[S("div",{className:"login-header",children:[S("div",{className:"logo-box"}),S("div",{className:"title",children:r})]}),this.state.formView==="newAcct"?S("form",{children:[S("div",{className:"input-fields new",children:[this.state.prefilledEmail?null:S("div",{className:"text-input bars",children:S("input",{type:"text",name:"email",id:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),S("div",{className:"text-input bars",children:S("input",{type:"password",name:"password",placeholder:"Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error?S("div",{className:"under-input-row",children:S("span",{style:{color:"#FF0000",marginLeft:"5px"},children:[this.state.error,"\xA0"]})}):null]}),this.state.formView==="newAcct"?S("div",{className:"terms",children:["By creating an account, you agree to our ",S("a",{href:"https://cargo.site/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"}),S("br",{}),"and ",S("a",{href:"https://cargo.site/privacy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]}):null,S("div",{className:"login-options",children:[S("button",{className:"login",type:"submit",style:e,onClick:i=>{i.preventDefault(),this.setState({error:null,loading:!0});let n=new FormData(this.containerRef.current.querySelector("form"));this.validateLogin(n)&&this.login(n)},children:[this.state.loading&&S(us,{className:"accent default-border-radius"}),"OK"]}),this.createOrLogin()]})]}):null,this.state.formView==="login"||this.state.formView==="magicEmail"?S("form",{children:[S("div",{className:"input-fields",children:[this.state.prefilledEmail?null:S("div",{className:"text-input bars",children:this.state.formView==="magicEmail"?S("input",{type:"text",name:"cargoMagicField",id:"cargoMagicField",autoComplete:"email",placeholder:"Enter your e\u200Cma\u200Cil a\u200Cdd\u200Cres\u200Cs",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}}):S("input",{type:"text",name:"email",id:"email",placeholder:this.state.formView==="magicEmail"?"Enter your e\u200Cma\u200Cil address":"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.formView!=="magicEmail"&&S("div",{className:"text-input bars",children:S("input",{type:"password",name:"password",placeholder:"Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.isHomePageLogin?S("div",{className:"under-input-row",children:[this.state.error?S(he,{children:S("span",{style:{color:"#FF0000",marginLeft:"5px"},children:[this.state.error,"\xA0"]})}):null,S("span",{children:this.ForgotButton()})]}):S(he,{children:this.state.error?S("div",{className:"under-input-row",children:[S("span",{style:{color:"#FF0000",marginLeft:"5px"},children:this.state.error}),S("span",{})]}):null})]}),S("div",{className:"login-options",children:[S("button",{className:"login",type:"submit",style:e,onClick:i=>{i.preventDefault(),this.setState({error:null,loading:!0});let n=!0,o=new FormData(this.containerRef.current.querySelector("form"));this.state.formView==="magicEmail"&&(n=this.validateMagicLogin(o)),n&&this.login(o)},children:[this.state.loading&&S(us,{className:"accent default-border-radius"}),"OK"]}),this.state.formView!=="magicEmail"&&this.createOrLogin()]})]}):null,this.state.formView==="forgot"?S(he,{children:S("form",{children:[S("div",{className:"enter-email",children:"Enter an email address associated with your Cargo Account:"}),S("div",{className:"input-fields",children:[S("div",{className:"text-input bars",children:S("input",{type:"text",name:"email",id:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error?S("div",{className:"under-input-row",children:S("span",{style:{color:"#FF0000",marginLeft:"5px"},children:[this.state.error,"\xA0"]})}):null]}),S("div",{className:"login-options",children:[S("button",{className:"login",type:"submit",style:e,onClick:i=>{i.preventDefault(),this.setState({error:null,loading:!0});let n=new FormData(this.containerRef.current.querySelector("form"));this.forgot(n)},children:[this.state.loading&&S(us,{className:"accent default-border-radius"}),"Submit"]}),S("button",{className:"forgot",style:e,type:"button",onClick:i=>{i.preventDefault(),this.setState({formView:this.state.prevFormState?this.state.prevFormState:"login",error:null})},children:"Cancel"})]})]})}):null,this.state.formView==="reset"?S(he,{children:S("form",{children:[S("div",{className:"enter-email",children:[this.state.resetEmail?S(he,{children:["We\u2019ve sent a reset code to ",S("br",{}),this.state.resetEmail]}):S(he,{children:"We\u2019ve sent a reset code to the email associated with your Cargo Account:"})," 							"]}),S("div",{className:"input-fields",children:[S("div",{className:"text-input bars",children:S("input",{type:"text",name:"pwreset",placeholder:"Enter Reset Code",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),S("div",{className:"text-input bars",children:S("input",{type:"password",name:"password",autoComplete:"new-password",placeholder:"Enter a new Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),S("div",{className:"text-input bars",children:S("input",{type:"password",name:"password_reset_confirm",autoComplete:"new-password",placeholder:"Confirm new Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error?S("div",{className:"under-input-row",children:S("span",{style:{color:"#FF0000",marginLeft:"5px"},children:[this.state.error,"\xA0"]})}):null]}),S("div",{className:"login-options",children:[S("button",{className:"login",type:"submit",style:e,onClick:i=>{i.preventDefault();let n=new FormData(this.containerRef.current.querySelector("form")),o=this.validateForm(n);o&&(this.setState({error:null,loading:!0}),this.forgot(n)),o||this.setState({loading:!1})},children:[this.state.loading&&S(us,{className:"accent default-border-radius"}),"OK"]}),S("button",{className:"forgot",type:"button",style:e,onClick:i=>{i.preventDefault(),this.setState({formView:"login",error:null})},children:"Cancel"})]})]})}):null,this.state.formView==="magicEmailSent"?S("form",{children:[S("div",{className:"input-fields",children:S("div",{className:"field-message",style:{paddingTop:"20px"},children:S("span",{children:"We\u2019ve emailed you a login link"})})}),S("div",{className:"login-options",children:S("button",{className:"login",type:"submit",style:{visibility:"hidden"},onClick:i=>{i.preventDefault(),i.target.closest(".login-modal").style.display="none"},children:"OK"})})]}):null]})})}login=e=>{if(this.props.site_url&&e.append("site_url",this.props.site_url),this.props.templateID&&e.append("site_id",this.props.templateID),this.state.prefilledEmail&&e.append("email",this.state.prefilledEmail),this.state.formView==="magicEmail"){let n=e.get("cargoMagicField");e.append("email",n),e.delete("cargoMagicField"),fetch(`${ar}/auth/send`,{method:"post",body:e,credentials:"include"}).then(async o=>{if(o.ok)this.setState({formView:"magicEmailSent",loading:!1});else{let s=await o.json();this.setState({error:s.message||"Something went wrong. Please try again later.",loading:!1})}}).catch(o=>{console.log(o),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.setState({loading:!1})});return}let i=this.state.formView==="newAcct"?"/dispatch/admin/loginCreate":"/dispatch/admin/login";if(e.append("network","c3"),!this.props.site_url&&!this.props.templateID&&this.state.formView==="newAcct"){let n=window.store.getState(),o=On==="https://cargo.site"?1597765:1791886;if(n){let s=n.templates?n.templates.flatMap(a=>a.sites):[];if(s.length>0){let a=s.length-1,l=Math.floor(Math.random()*a),p=s[l];p&&(o=p?.id?p.id:o)}}e.append("site_id",o)}fetch(On+i,{method:"post",body:e,credentials:"include"}).then(async n=>{let o=await n.json(),{access_token:s,id:a,bounce_jwt:l}=o.jdata||{};s&&a?(this.props.loginToUdotCargoOnly!==!0&&this.props.setAuthData(s,a),this.props.domain_active&&l?this.props.getAuthToken({reverse_bounce_jwt:l}).then(()=>{this.redirectURL?window.location.href=this.redirectURL:this.props.onLoginSuccess?.(o.jdata)}):this.redirectURL?window.location.href=this.redirectURL:this.props.onLoginSuccess?.(o.jdata)):this.setState({error:o?.error||"Something went wrong. Please try again later.",loading:!1})}).catch(n=>{console.log(n),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.props.loadingTillFormRemoval!==!0&&this.setState({loading:!1})})};forgot=e=>{e.append("network","c3"),this.props.site_url&&e.append("site_url",this.props.site_url),fetch(On+"/dispatch/auth/handleResetFormPost",{method:"post",body:e,credentials:"include"}).then(async r=>{let i=await r.json();if(i.error&&i.error?.[0]?.length>0)this.setState({error:i.error[0],loading:!1});else if(this.state.formView==="forgot")this.setState({formView:"reset",resetEmail:e.get("email")});else{let n=new FormData;n.set("email",this.state.resetEmail),n.set("password",e.get("password")),this.login(n)}}).catch(r=>{console.log(r),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.setState({loading:!1})})};validateMagicLogin(e){let r=null;for(let i of e.entries()){let[n,o]=i;n==="cargoMagicField"&&(o===""||!o)&&this.state.formView==="magicEmail"&&(o===""||!o)&&(r="Field cannot be empty.")}return r?(this.setState({error:r,loading:!1}),!1):!0}validateLogin(e){let r=null;for(let i of e.entries()){let[n,o]=i;n==="email"&&(o===""||!o)&&!this.state.prefilledEmail&&(this.state.formView==="newAcct"&&(o===""||!o)?r="Fields cannot be empty.":r="Incorrect Username or Password."),n==="password"&&(o===""||!o)&&r===null&&(r="Fields cannot be empty.")}return r?(this.setState({error:r,loading:!1}),!1):!0}validateForm(e){var r=e.get("pwreset").trim(),i=e.get("password").trim(),n=e.get("password_reset_confirm").trim();return r==""?(this.setState({error:"Reset code cannot be empty."}),!1):i==""||n==""?(this.setState({error:"Password cannot be empty."}),!1):i!=n?(this.setState({error:"Passwords do not match."}),!1):!0}componentDidMount=()=>{this.animateContainer(),document.addEventListener("keydown",this.handleInitialTab,!0)};componentDidUpdate=()=>{this.animateContainer()};componentWillUnmount(){document.removeEventListener("keydown",this.handleInitialTab,!0)}animateContainer=()=>{this.props.animateIn===!1?requestAnimationFrame(()=>{this.containerRef.current&&this.containerRef.current?.classList?.add("active-immediate")}):this.containerRef.current&&!this.containerRef.current.classList.contains("active")&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.containerRef?.current&&this.containerRef?.current?.classList.add("active")})})}},Dk=Ue(t=>({site_url:t.site?.site_url,site_id:t.site?.id,domain_active:t.site?.domain_active}),(t,e)=>Wt({getAuthToken:e.getAuthTokenAction,setAuthData:(r,i)=>({type:"AUTHENTICATE_USER_FULFILLED",payload:{data:{access_token:r,id:i}}})},t))(q0)});var Dn,Qa=$(()=>{gt();fe();Dn=t=>e=>S(t,{store:Yh(),...e})});function EZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IZ(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.filter(function(i){return i}).join(" ")}var Sve,_ve,H0,W0,V0,su,CZ,PZ,Fk,Zf,Eve,zk=$(()=>{ss();ss();Zh();Ye();tf();Ua();ql();Jh();Sve=function(t){Zi(e,t);function e(){for(var i,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,i.history=ef(i.props),i}var r=e.prototype;return r.render=function(){return ze.createElement(Ys,{history:this.history,children:this.props.children})},e}(ze.Component),_ve=function(t){Zi(e,t);function e(){for(var i,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,i.history=kP(i.props),i}var r=e.prototype;return r.render=function(){return ze.createElement(Ys,{history:this.history,children:this.props.children})},e}(ze.Component),H0=function(e,r){return typeof e=="function"?e(r):e},W0=function(e,r){return typeof e=="string"?qi(e,null,null,r):e},V0=function(e){return e},su=ze.forwardRef;typeof su>"u"&&(su=V0);CZ=su(function(t,e){var r=t.innerRef,i=t.navigate,n=t.onClick,o=Ui(t,["innerRef","navigate","onClick"]),s=o.target,a=Xt({},o,{onClick:function(p){try{n&&n(p)}catch(f){throw p.preventDefault(),f}!p.defaultPrevented&&p.button===0&&(!s||s==="_self")&&!EZ(p)&&(p.preventDefault(),i())}});return V0!==su?a.ref=e||r:a.ref=r,ze.createElement("a",a)}),PZ=su(function(t,e){var r=t.component,i=r===void 0?CZ:r,n=t.replace,o=t.to,s=t.innerRef,a=Ui(t,["component","replace","to","innerRef"]);return ze.createElement(Ks.Consumer,null,function(l){l||Gn(!1);var p=l.history,f=W0(H0(o,l.location),l.location),c=f?p.createHref(f):"",m=Xt({},a,{href:c,navigate:function(){var g=H0(o,l.location),x=Ci(l.location)===Ci(W0(g)),E=n||x?p.replace:p.push;E(g)}});return V0!==su?m.ref=e||s:m.innerRef=s,ze.createElement(i,m)})}),Fk=function(e){return e},Zf=ze.forwardRef;typeof Zf>"u"&&(Zf=Fk);Eve=Zf(function(t,e){var r=t["aria-current"],i=r===void 0?"page":r,n=t.activeClassName,o=n===void 0?"active":n,s=t.activeStyle,a=t.className,l=t.exact,p=t.isActive,f=t.location,c=t.sensitive,m=t.strict,v=t.style,g=t.to,x=t.innerRef,E=Ui(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return ze.createElement(Ks.Consumer,null,function(_){_||Gn(!1);var D=f||_.location,M=W0(H0(g,D),D),P=M.pathname,L=P&&P.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),I=L?os(D.pathname,{path:L,exact:l,sensitive:c,strict:m}):null,q=!!(p?p(I,D):I),N=typeof a=="function"?a(q):a,F=typeof v=="function"?v(q):v;q&&(N=IZ(N,o),F=Xt({},F,s));var W=Xt({"aria-current":q&&i||null,className:N,style:F,to:M},E);return Fk!==Zf?W.ref=e||x:W.innerRef=x,ze.createElement(PZ,W)})})});var Ln,Pt,yt,wt,Ar=$(()=>{Ln=new Map;typeof window<"u"&&(window.listeners=Ln);Pt=(t,e,r,i={})=>{let n=t;for(;n&&(Ln.has(n)&&Ln.get(n).has(e)&&(Ln.get(n).get(e)&&Ln.get(n).get(e)[0]==null&&console.trace(t,e,r,i),Ln.get(n).get(e).forEach(o=>o(r))),i.bubbles!==!1);)n=n.parentNode||n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&n.host},yt=(t,e,r)=>{if(!t){console.error("Unable to subscribe to non-existing element");return}Ln.has(t)||Ln.set(t,new Map);let i=Ln.get(t);i.has(e)||i.set(e,[]);let n=i.get(e);n.includes(r)||n.push(r)},wt=(t,e,r)=>{if(!Ln.has(t))return;let i=Ln.get(t);if(i.has(e)){if(!r){i.delete(e);return}i.set(e,i.get(e).filter(n=>n!==r)),i.get(e).length===0&&i.delete(e),i.size===0&&Ln.delete(t)}}});function Jf(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;let r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(let n=0;n<r.length;n++)if(!hasOwnProperty.call(e,r[n])||!Object.is(t[r[n]],e[r[n]]))return!1;return!0}function gn(t){if(de)return t;let e,r,i,n=()=>{e={primitiveResults:null,referenceResults:null,primitiveArgs:null,referenceArgs:null},r=!1,i=void 0};n();let o=function(){let a=arguments.length-1;if(a===-1)return r===!1&&(i=t.call(this),r=!0),i;let l=e;for(let v=0;v<a;v+=1){let g=arguments[v],x=g===null||typeof g!="object"&&typeof g!="function",E;x?l.primitiveArgs===null?E=l.primitiveArgs=new Map:E=l.primitiveArgs:l.referenceArgs===null?E=l.referenceArgs=new WeakMap:E=l.referenceArgs,E.has(g)===!1?(l={primitiveResults:null,referenceResults:null,primitiveArgs:null,referenceArgs:null},E.set(g,l)):l=E.get(g)}let p,f=arguments[a],c=f===null||typeof f!="object"&&typeof f!="function",m;return c?l.primitiveResults===null?m=l.primitiveResults=new Map:m=l.primitiveResults:l.referenceResults===null?m=l.referenceResults=new WeakMap:m=l.referenceResults,m.has(f)?p=m.get(f):(p=t.apply(this,arguments),m.set(f,p)),p};return o.clear=function(){let a=arguments.length-1;if(a===-1){n();return}let l=e;for(let c=0;c<a;c+=1){let m=arguments[c],g=m===null||typeof m!="object"&&typeof m!="function"?l.primitiveArgs:l.referenceArgs;if(g===null)return;l=g.get(m)}let p=arguments[a];p===null||typeof p!="object"&&typeof p!="function"?(l.primitiveArgs!==null&&l.primitiveArgs.delete(p),l.primitiveResults!==null&&l.primitiveResults.delete(p)):(l.referenceArgs!==null&&l.referenceArgs.delete(p),l.referenceResults!==null&&l.referenceResults.delete(p))},o}var ia,ds,AZ,$0,cs,TZ,Qf,Bk,Uk,au,Ji=$(()=>{ia=ye(Pe(),1);kr();Fe();ke();Ar();ds=(t={},e)=>{let r={retina:window.devicePixelRatio?window.devicePixelRatio>=1.2:!1,square:!1,url:"",webgl:t.hasOwnProperty("t")&&t.t=="webgl"};t=ia.default.extend(r,t),t.t==="original"&&(t.retina=!1),t.retina===!0&&!t.webgl&&(t.q==null&&(t.q=75),t.hasOwnProperty("w")&&t.w!=null&&t.w!=null&&(t.w=Math.min(t.w*2,e.width)),t.hasOwnProperty("h")&&t.h!=null&&t.h!=null&&(t.h=Math.min(t.h*2,e.height))),t.w&&t.w>e.width&&(t.w=e.width),t.h&&t.h>e.height&&(t.h=e.height);var i=AZ(t.w,t.h,e);t.w!==void 0&&(t.w=i.w),t.h!==void 0&&(t.h=i.h);var n=["t","w","h","q","c"],o=[];return ia.default.each(t,function(s,a){n.indexOf(a)===-1||s===""||(a==="c"?o.push("c/"+s.x+"/"+s.y+"/"+s.w+"/"+s.h):o.push(a+"/"+s))},void 0),e.hash!==void 0&&e.name!==void 0&&i.w>0?t.url="https://freight.cargo.site/"+o.join("/")+"/i/"+e.hash+"/"+e.name:t.url="",t},AZ=(t,e,r)=>{let i=t,n=e,o=parseInt(r.width),s=parseInt(r.height);if(o==s)i=t||e||o,n=i;else if(t&&!e){let a=o/t;n=Math.floor(s/a),i=t}else if(e&&!t){let a=s/e;i=Math.floor(o/a),n=e}else{let a=Math.min(s/e,o/t);i=Math.floor(o/a),n=Math.floor(s/a)}return{w:i,h:n}},$0=(t=1,e)=>{!t||t<1||requestAnimationFrame(()=>{e?.(),$0(--t,e)})};cs=(t,e,r,i,n=0,o={})=>{o.context=o.context||{};let s=(t.byParent[i.id]||[]).reduce((a,l)=>(a[t.indexById[l]]=l,a),{});for(;n>=0&&n<i.page_count&&o.context.hasBreak!==!0;){let a=s[n],l=a&&(e.byId[a]||r.byId[a]);if(!(l?.page_type==="set"&&o.includeSets!==!0)&&o.callback?.(i.id,n,l)==="break"){o.context.hasBreak=!0;break}l?.page_type==="set"&&cs(t,e,r,l,o.reverse===!0?l.page_count-1:0,{...o,traverseUp:!1}),o.reverse===!0?n--:n++}if(o.traverseUp!==!1&&(o.reverse===!0&&n<0||o.reverse===!1&&n>i.page_count-1)){let a=r.byId[ia.default.findKey(t.byParent,p=>p.includes(i.id))],l=t.indexById[i.id];if(a&&l!==void 0){if(o.includeSets&&o.callback?.(a.id,l,i)==="break"){o.context.hasBreak=!0;return}cs(t,e,r,a,l+(o.reverse===!0?-1:1),o)}}};TZ=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout;dt.debounceRendering=t=>{TZ(()=>{Pt(document,"preact-render-start"),t(),Pt(document,"preact-render-complete")})};Qf=new WeakMap,Bk=dt.diffed;dt.diffed=t=>{Qf.has(t)&&Qf.get(t)(t.__e),Bk&&Bk(t)};Uk=(t,e)=>(Qf.set(t,e),()=>{Qf.delete(t)}),au=(t,e)=>{if(!t)return null;let r="",i=(o,s)=>{let a=s.style?.getPropertyValue(o);return a!==""&&a!==void 0?a:null},n=[];return ia.default.each(t.rules,o=>{let s=o.selectorText,a={},l=!1,p=!1,f=!1;o.cssText&&o.cssText.includes("--text-style")&&(p=!0,n.push(s+" a"),n.push(s+" a:hover")),o.cssText&&ia.default.each(n,v=>{o.cssText.includes(v)&&(p=!0)}),o?.selectorText?.includes(".mobile")&&(f=!0),ia.default.each(e,v=>{let g=!1;Array.isArray(v.denyList)&&v.denyList.forEach(E=>{E.includes("match:")&&s?.match(E.replace("match:",""))&&(g=!0),s&&s===E&&(g=!0)});let x=!1;Array.isArray(v.allowList)?v.allowList.forEach(E=>{E.includes("match:")&&s?.match(E.replace("match:",""))&&(x=!0),s&&s===E&&(x=!0)}):x=!0,(p||f)&&(g=!0),!(g===!0||x===!1)&&(a=v.properties.reduce((E,_)=>(_&&(E[_]=i(_,o)),E),a))});let c=".mobile "+s,m=Array.from(t.rules).find(v=>v.selectorText===c);m&&Object.keys(a).forEach(v=>{i(v,m)&&(a[v]=null)}),!(Object.values(a).every(v=>v===null)||Object.values(a).length===0)&&(r+=c+" { ",ia.default.each(a,(v,g)=>{if(v){let x=v.split(" ").reduce((E,_,D)=>E+` calc(${_} * var(--mobile-padding-offset))`,"");r+=`${g}: ${x};`}}),r+=" } ")}),r}});function NZ(t,e){let r=kZ(t.pages.byId,lu),i=RZ(r,t.structure.bySort),n=MZ(r);return{renderedPages:r,renderedPins:i,nestingMap:n,sortMap:t.structure.bySort,adminMode:t.frontendState.adminMode}}var wr,ps,G0,lu,j0,MZ,RZ,kZ,qk,Md=$(()=>{ke();Ye();kr();wr=ye(Pe(),1);gt();Ji();fe();ps=Mn(),G0=()=>{},lu=[],j0=class extends Or{constructor(e){super(e),this.state={adjustPairs:[],levelData:{},pageHeights:{},renderedPins:[],renderedPages:[],nestingMap:{},onPageMount:r=>{lu=[...lu,r]},onPageUnmount:r=>{lu=lu.filter(i=>i!==r)}},G0=this.updateHeights}updateHeights=e=>{this.setState(r=>({pageHeights:{...r.pageHeights,...e}}))};getTallestOfAdjusterCandidates=e=>{let r=null,i=[];wr.default.each(e,o=>{i.push({pageID:o.id,pageName:o.title,pageHeight:this.getHeightById(o.id)})});let n=wr.default.maxBy(i,o=>o.pageHeight);return n!==void 0?wr.default.filter(e,o=>o.id===n.pageID)[0]:!1};componentDidUpdate=(e,r)=>{this.makePinAdjustments(e,r)};findTallestOverlayAdjusterPageInLevel=(e,r)=>{let i=e.filter(n=>n.pin_options?.overlay===!0&&n.pin_options.adjust===!0);return i.length>0?this.getTallestOfAdjusterCandidates(i):null};getAdjustOnlyPageHeights=(e,r)=>{let i=wr.default.filter(this.props.nestingMap[r][e],o=>o.pin_options?.adjust&&!o.pin_options?.overlay),n=0;return wr.default.each(i,o=>{n+=this.getHeightById(o.id)}),n};getAdjustOnlyPinsByLevel=(e,r)=>wr.default.filter(this.props.nestingMap[r][e],i=>!i?.pin_options?.overlay);getOverlayPinsByLevel=(e,r)=>wr.default.filter(this.props.nestingMap[r][e],i=>i?.pin_options?.overlay);getClosestPageByProximity=(e,r)=>e.sort((i,n)=>r==="top"?this.props.sortMap[i.id]-this.props.sortMap[n.id]:this.props.sortMap[n.id]-this.props.sortMap[i.id])[0];getPagesToAdjust=(e,r)=>{let i=[],n=null,o=this.getAdjustOnlyPinsByLevel(e,r);if(o.length>0?i.push(this.getClosestPageByProximity(o,e)):wr.default.each(this.props.nestingMap,(s,a)=>{if(parseInt(a)>r&&s[e].length>0){let l=s[e].filter(f=>f.pin_options?.overlay===!0),p=s[e].filter(f=>f.pin_options?.overlay===!1);if(i=l.length>0?l:[],i.length===0&&p?.length>0&&i.push(this.getClosestPageByProximity(p,e)),n=a,i.length>0)return!1}}),i[0]===void 0){let s=this.props.renderedPages.filter(l=>l.pin===!1).sort((l,p)=>this.props.sortMap[l.id]-this.props.sortMap[p.id]),a=e==="top"?0:s.length-1;s.length>0&&i.push(s[a])}return{adjustedPages:i,adjustedLevel:n}};getHeightById=e=>this.state.pageHeights[e]??lu.find(r=>r.id===e)?.getBoundingClientRect().height;makePinAdjustments=(e,r)=>{if(!this.props.renderedPages||this.props.renderedPages.length===0||wr.default.isEqual(this.props.renderedPins,e.renderedPins)&&wr.default.isEqual(this.state.pageHeights,r.pageHeights)&&wr.default.isEqual(this.props.renderedPages,e.renderedPages)&&wr.default.isEqual(this.props.sortMap,e.sortMap))return;let i=[],n={levels:{},locations:{top:{totalHeight:0},bottom:{totalHeight:0}}};wr.default.each(this.props.nestingMap,(l,p)=>{let f={};p=parseInt(p),f.level=p,wr.default.each(l,(c,m)=>{if(m==="center")return;f[m]={adjustsSelf:!1,totalHeight:0,startingHeight:null,adjusterId:null,adjusterHeight:null,adjustedLevel:null,adjusteeIDs:null,hasOverlayPins:null};let v=f[m];v.hasOverlayPins=this.getOverlayPinsByLevel(m,p).length>0;let g=this.findTallestOverlayAdjusterPageInLevel(c,m);if(g){v.adjusterId=g.id,v.adjusterHeight=this.getHeightById(g.id),v.adjustsSelf=this.getAdjustOnlyPinsByLevel(m,p).length>0;let D=this.getPagesToAdjust(m,p).adjustedPages;D?.length>0&&(v.adjustedLevel=this.props.renderedPins[D[0].id]?.depth??"content",v.adjusteeIDs=wr.default.map(D,"id"),i[g.id]={adjusts:wr.default.map(D,"id"),location:m,adjustedHeight:this.getHeightById(g.id)})}let x=0,E=g?this.getHeightById(g.id):0,_=!0;v.totalHeight=(_?E:0)+this.getAdjustOnlyPageHeights(m,p),wr.default.each(n.levels,function(D,M){M<p&&(x+=D[m].totalHeight)}),v.startingHeight=x===0?null:x}),n.levels[p]=f});let s=(this.props.nestingMap[0]?.top||[]).filter(l=>{let p=l.pin_options;return p?.fixed===!0&&p?.adjust===!0}),a=s.length>0?this.getHeightById(this.getTallestOfAdjusterCandidates(s)?.id):null;(!wr.default.isEqual(r.adjustPairs,i)||!wr.default.isEqual(r.renderedPins,this.props.renderedPins)||!wr.default.isEqual(r.levelData,n))&&this.setState({adjustPairs:i,renderedPins:this.props.renderedPins,levelData:n,totalTopFixedPinsHeight:a})};getAdjustingLevelHeight=(e,r,i)=>{let n=null;return wr.default.each(e.levels,o=>{o[i].adjustedLevel===r&&(n=o[i].totalHeight)}),n};render(){return S(ps.Provider,{value:this.state,children:this.props.children||null})}},MZ=gn(t=>{let e=store.getState();return t.reduceRight((r,i)=>{let n=We.getParentSetList(e,i.id).length-1;i.pin===!0&&i.pin_options.fixed===!0&&(n=0),r[n]||(r[n]={top:[],bottom:[],center:[]});let o=r[n],s=i.pin?i.pin_options.position:"center",a=o[s];return a.push(i),a.sort((l,p)=>e.structure.bySort[l.id]-e.structure.bySort[p.id]),r},{})}),RZ=gn((t,e)=>{let r=store.getState(),i=t.map(n=>({depth:We.getParentSetList(r,n.id).length-1,pageListSort:e[n.id],id:n.id,fixed:n.pin_options?.fixed&&n.pin_options?.fixed===!0})).sort((n,o)=>n.pageListSort-o.pageListSort).sort((n,o)=>{if(n.fixed||o.fixed)return n.depth-o.depth});return t.reduceRight((n,o,s)=>{if(o.pin===!0&&wr.default.isPlainObject(o.pin_options)){let a=We.getParentSetList(r,o.id).length-1;n[o.id]={depth:o.pin_options.fixed?0:We.getParentSetList(r,o.id).length-1,originalDepth:a,location:o.pin_options?.position,type:o.pin_options.fixed?"fixed":o.pin_options.overlay?"overlay":"adjust",adjusts:o.pin_options?.adjust,sort:e[o.id],pinSort:i.findIndex(l=>l.id===o.id)+1}}return n},{})}),kZ=gn((t,e)=>e.map(r=>t[r.id]).filter(r=>r!==void 0&&r.overlay!==!0));qk=Ue(NZ)(j0)});function jt(t){class e extends me{constructor(i){super(i)}render(i){return S(t,{...this.props,pageInfo:this.context})}}return e.contextType=Hk,e}var em,Hk,K0,tm,qr=$(()=>{ke();gt();fe();em=new Map,Hk=Mn({isEditing:!1,pid:null,filterIndexes:[],setPageData:()=>!1,getPageData:()=>!1},"PageInfoContext"),K0=class extends me{constructor(e){super(e)}setPageData=(e={},r)=>{if(!this.props.pageRef.current)return;let n=Array.from(this.props.pageRef.current.querySelectorAll(r.tagName)).indexOf(r);if(n!==-1){let o=em.get(this.props.value.pid+"-"+r.tagName+"-"+n);o?o={...o,...e}:o=e,em.set(this.props.value.pid+"-"+r.tagName+"-"+n,o)}};getPageData=e=>{if(!this.props.pageRef.current)return null;let i=Array.from(this.props.pageRef.current.querySelectorAll(e.tagName)).indexOf(e);return i!==-1?em.get(this.props.value.pid+"-"+e.tagName+"-"+i)||{}:{}};getContextObject=()=>(this.props.value!==this.lastProps?.value&&(this.currentContextValue={...this.props.value,setPageData:this.setPageData,getPageData:this.getPageData}),this.lastProps=this.props,this.currentContextValue);render(e){return S(Hk.Provider,{value:this.getContextObject(),children:e.children})}componentDidUpdate(e){e.adminMode!==this.props.adminMode&&em.clear()}};tm=Ue((t,e)=>({adminMode:t.frontendState.adminMode}))(K0)});var rm,Wk,Vk=$(()=>{rm=()=>new Map,Wk=(t,e,r)=>{let i=t.get(e);return i===void 0&&t.set(e,i=r()),i}});var $k,jk=$(()=>{$k=()=>new Set});var Gk,jve,Kk=$(()=>{Gk=Array.from,jve=Array.isArray});var uu,Y0=$(()=>{Vk();jk();Kk();uu=class{constructor(){this._observers=rm()}on(e,r){Wk(this._observers,e,$k).add(r)}once(e,r){let i=(...n)=>{this.off(e,i),r(...n)};this.on(e,i)}off(e,r){let i=this._observers.get(e);i!==void 0&&(i.delete(r),i.size===0&&this._observers.delete(e))}emit(e,r){return Gk((this._observers.get(e)||rm()).values()).forEach(i=>i(...r))}destroy(){this._observers=rm()}}});var Xk,cu,Yk,X0,nt,Z0=$(()=>{Xk=ye(Pe());Y0();Fe();X0=class extends uu{constructor(){super(),this.data={baseUnit:-1,mobile:{portrait:!0,active:!1,chrome:0,maxHeight:720,minHeight:720},window:{w:1280,h:720}},de||(this.isInstagram=Mb(),this.SvhSupported=CSS.supports("height","100svh"),this.SvhSupported&&(this.minHeightMeasuringStick=document.createElement("div"),this.minHeightMeasuringStick.setAttribute("style","position: fixed; top: 0;left: 0;z-index: -99; visibility: hidden; height: 100svh;"),this.minHeightMeasuringStick.setAttribute("tabindex",-1),this.minHeightMeasuringStick.setAttribute("aria-hidden",!0),document.body.appendChild(this.minHeightMeasuringStick)),this.maxHeightMeasuringStick=document.createElement("div"),this.maxHeightMeasuringStick.setAttribute("style","position: fixed; top: 0;left: 0;z-index: -99; visibility: hidden; height: 100vh;"),this.maxHeightMeasuringStick.setAttribute("tabindex",-1),this.maxHeightMeasuringStick.setAttribute("aria-hidden",!0),document.body.appendChild(this.maxHeightMeasuringStick),this.mobilePortraitMediaQuery=window.matchMedia("(max-aspect-ratio: 4/5)"),this.mobileLandscapeMediaQuery=window.matchMedia("(min-aspect-ratio: 2/3) and (max-height: 500px)"),this.setupMobileListener(),this.onWindowResize(),window._windowInfo=this,window.addEventListener("resize",this.onWindowResize,{passive:!0}))}setupStore(e){e.subscribe(()=>{let r=e.getState();r.frontendState&&r.frontendState.adminMode!==Yk&&(setTimeout(()=>{this.onWindowResize()},150),Yk=r.frontendState.adminMode),r.adminState&&r.adminState.viewport!==cu&&(cu=r.adminState.viewport,this.onMobileChange())})}setupMobileListener(){this.mobilePortraitMediaQuery.removeEventListener("change",this.onMobileChange),this.mobileLandscapeMediaQuery.removeEventListener("change",this.onMobileChange),this.onMobileChange(),this.mobilePortraitMediaQuery.addEventListener("change",this.onMobileChange),this.mobileLandscapeMediaQuery.addEventListener("change",this.onMobileChange)}onMobileChange=()=>{let e;cu?e=cu==="mobile":e=this.mobilePortraitMediaQuery.matches||this.mobileLandscapeMediaQuery.matches;let r=this.mobilePortraitMediaQuery.matches||cu&&cu==="mobile"||!1;(e!==this.data.mobile.active||e&&r!==this.data.mobile.portrait)&&(this.data.mobile.active=e,this.data.mobile.portrait=r,this.onWindowResize(),this.emit("mobile-change",[e]))};getBaseUnit(e){e=e||{};var r=0;return e=Xk.default.extend(!0,{height:this.data.window.h,width:this.data.window.w,min:11,max:!1,weight:5},e),r=e.width<e.height?e.width:e.height,r/=100/e.weight,e.min&&r<e.min&&(r=e.min),e.max&&r>e.max&&(r=e.max),r}onWindowResize=()=>{let{data:e}=this,r=document.documentElement.clientWidth,i=window.innerHeight,n=0,o=0,s=this.maxHeightMeasuringStick.getBoundingClientRect().height;if(this.SvhSupported)o=this.minHeightMeasuringStick.getBoundingClientRect().height;else{let m=100;o=0;let v;for(;;){let g=window.matchMedia.call(window,"(min-height:"+o+"px)").matches;if(v!==void 0&&g!==v&&(m/=2,m*=-1),o+=m,v=g,Math.abs(m)<.01){o=Math.round(o);break}}}n=s-o;let a=0,l=5,p=0,f=9;o+n>r&&(a=(o+n)/r-1),a=a/.777777778,a>1&&(a=1),e.mobile.active&&!e.mobile.portrait&&(f=18),p=this.getBaseUnit({weight:f+l*a,min:20,width:r,height:o+n});let c=!this.isInstagram;if(!c){let m=e.window.w,v=e.window.h;switch(!0){case m!=r:case Math.abs(v-i)>150:c=!0;break;default:c=!1;break}}c&&(e.window.h=i,e.window.w=r,e.mobile.minHeight=o,e.mobile.maxHeight=s,e.mobile.chrome=e.mobile.maxHeight-e.window.h,e.baseUnit=p,p!==e.size&&(document.documentElement.style.setProperty("--base-size",p*.16+"px"),document.documentElement.style.setProperty("--viewport-height",i+"px"),document.documentElement.style.setProperty("--min-viewport-height",o+"px")),this.data=e),this.emit("window-resize",[])};applyGrid=e=>{e==null&&(e=this.data.mobile.active);let r=this.data.window.w,i=this.data.window.h;e&&(i=this.data.mobile.minHeight);let n=Math.max(Math.round(r*(40/1920)),15),o=Math.max(Math.round(r*(25/1920)),15),s=15,a=e?4:8,l=8,p=4,f=4,c=r-s*2,m=i-s*2,v=c/2,g=(c-(a-1)*n)/a;v=Math.floor(v/f)*f;let x=c-v;document.documentElement.style.setProperty("--grid-width",c+"px"),document.documentElement.style.setProperty("--grid-height",m+"px"),document.documentElement.style.setProperty("--grid-cell-height",m/l+"px"),document.documentElement.style.setProperty("--grid-cell-height-rounded",Math.round(m/l)+"px"),document.documentElement.style.setProperty("--grid-subcell-height",m/(l*3)+"px"),document.documentElement.style.setProperty("--grid-leftPanel-width",x+"px"),document.documentElement.style.setProperty("--grid-rightPanel-width",v+"px"),document.documentElement.style.setProperty("--grid-cell-width",g+"px"),document.documentElement.style.setProperty("--grid-subcell-width",(g-o*2)/3+"px"),document.documentElement.style.setProperty("--grid-column-gap",n+"px"),document.documentElement.style.setProperty("--grid-subcolumn-gap",o+"px")}},nt=new X0});var Hr=$(()=>{Z0();Z0()});function Po(t){class e extends me{constructor(i){super(i),this.lastScrollUIDRef=Se()}render(){return S(t,{...this.props,scrollContext:this.context})}componentDidMount(){this.context&&this.props.baseNode&&(this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid),this.props.baseNode}refreshScrollContext=i=>{i.element==this.props.baseNode&&this.props.baseNode&&(this.context.removeElementFromScrollContext(this.props.baseNode,this.context.scrollUid),setTimeout(()=>{this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid},0))};componentWillUnmount(){this.props.baseNode&&this.context&&this.context.removeElementFromScrollContext(this.props.baseNode,this.context.scrollUid)}componentDidUpdate(i,n){this.props.baseNode!==i.baseNode?(i.baseNode&&this.context.removeElementFromScrollContext(i.baseNode,this.context.scrollUid),this.props.baseNode&&this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid):this.lastScrollUIDRef.current!==this.context.scrollUid&&this.props.baseNode&&(this.lastScrollUIDRef.current&&this.context.removeElementFromScrollContext(this.props.baseNode,this.lastScrollUIDRef.current),this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid)}}return e.contextType=J0,e}function zZ(t){return Wt({updateFrontendState:Ke.updateFrontendState},t)}var Q0,FZ,J0,du,pu,Ja,el,Zk,im,hu,Io=$(()=>{ke();Q0=ye(Pe(),1);Fe();rr();ke();Ye();Pr();gt();Hr();Ar();fe();FZ={scrollUid:"default",scrollingElement:null,getScrollPosition:()=>({scrollHeight:0,scrollWidth:0,x:0,y:0,w:0,h:0}),scrollIntoView:()=>{},removeElementFromScrollContext:()=>{},addElementToScrollContext:()=>{},updateScrollPosition:()=>{}},J0=Mn(Q0.default.cloneDeep(FZ)),du={},pu={},Ja={default:new Set};de||(el=new ResizeObserver(function(t){t.forEach(function(e){Pt(e.target,"elementResize",null,{bubbles:!1})})}));Zk=(t,e)=>{t.forEach(function(r){let i="inside";r.boundingClientRect.bottom<0&&!r.isIntersecting?i="above":r.boundingClientRect.top>=r.rootBounds.height&&!r.isIntersecting&&(i="below"),Pt(r.target,e,{hasLayout:r.boundingClientRect.width>0&&r.boundingClientRect.height>0,visible:r.isIntersecting||i=="inside",position:i},{bubbles:!1})})},im=class extends Or{constructor(e){super(e),this.state={scrollUid:"default",scrollingElement:null,getScrollPosition:this.getScrollPosition,scrollIntoView:this.scrollIntoView,updateScrollPosition:this.updateScrollPosition,addElementToScrollContext:this.addElementToScrollContext,removeElementFromScrollContext:this.removeElementFromScrollContext},this.scrollData={x:0,y:0,w:0,h:0}}addElementToScrollContext=(e,r)=>{if(r=="default")return;let i=e.classList.contains("quick-view-item"),n=e.parentNode?.nodeName==="GALLERY-SLIDESHOW",o=e.parentNode?.nodeName==="MARQUEE-INNER",s=e.hasAttribute("uses")&&e.getAttribute("uses").includes("flying-object");i||n||o||s?(i||s)&&(Pt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1}),Pt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})):Ja[r].has(e)||(Ja[r].add(e),pu[r].observe(e),du[r].observe(e))};removeElementFromScrollContext=(e,r)=>{pu[r]?.unobserve(e),du[r]?.unobserve(e),Ja[r]?.delete(e)};updateScrollPosition=e=>{if(de||!this.state.scrollingElement)return;let r=e.x||this.scrollData.x,i=e.y||this.scrollData.y;this.state.scrollingElement===window?document.scrollingElement.scrollTo({top:i,left:r,behavior:"instant"}):this.state.scrollingElement.scrollTo({top:i,left:r,behavior:"instant"})};onScrollRequest=e=>{if(e.defaultPrevented)return;e.stopPropagation(),e.preventDefault();let r={...e.detail};this.scrollIntoView(e.target,r)};scrollIntoView=(e=null,r={})=>{this.onScroll(),this.onResize();let{transitionTime:i=1e3,preventQuickViewClose:n=!0,lazyScroll:o=!1,callback:s=null,verticalAlign:a="center",windowAlign:l="center",easing:p="easeInOutCubic",offset:f={x:0,y:0}}=r;if(!(this.state.scrollingElement===window?document.scrollingElement:this.state.scrollingElement).contains(e)||!e){s&&s();return}let m=e.getBoundingClientRect();for(;m.width===0&&m.height==0&&e;)e=e.parentElement,m=e.getBoundingClientRect();let v=m.left+m.width*.5,g=m.top,x=0;switch(a){case"center":x=m.height*.5;break;case"bottom":x=m.height;break;case"top":x=0;break}let E=document.documentElement.clientWidth,_=document.documentElement.clientHeight,D=0;switch(l){case"top":D=0;break;case"bottom":D=-_;break;case"center":default:D=-_+.5;break}if(o&&m.bottom>=20&&m.right>=20&&m.top<=_-20&&m.left<=E-20){s&&s();return}let M=this.getScrollPosition(),P={...M},L=M.x,I=M.y,q=Math.max(0,Math.min(M.scrollWidth-E,L-(E*.5-v)));q+=f.x;let N=Math.max(0,Math.min(M.scrollHeight-_,I+g+x+D+f.y)),F=0,W=0;cancelAnimationFrame(this.scrollAnimationFrame);var U=()=>{cancelAnimationFrame(this.scrollAnimationFrame),this.state.scrollingElement.removeEventListener("mousewheel",U),this.props.updateFrontendState({quickView:{autoScrolling:!1}}),s&&s()};this.state.scrollingElement.addEventListener("mousewheel",U);let Z=J=>{let ie=W===0?0:J-W;W=J,F=F+ie;let le=0;if(Ge[p])le=Ge[p](F/i);else if(typeof p=="function")le=p(F/i);else switch(p){case"linear":le=F/i;break;default:le=kb(F/i);break}let G=this.getScrollPosition(),Q=e.getBoundingClientRect().top,ee=Math.max(0,Math.min(G.scrollHeight-_,G.y+Q+x+D+f.y))-N;ee!==0&&(N+=ee,I+=ee),F<=i?(this.updateScrollPosition({x:L+(q-L)*le,y:I+(N-I)*le}),this.scrollAnimationFrame=requestAnimationFrame(Z)):(this.updateScrollPosition({x:q,y:N}),U())};this.props.updateFrontendState({quickView:{autoScrolling:n}}),i==0?(this.updateScrollPosition({x:q,y:N}),U()):this.scrollAnimationFrame=requestAnimationFrame(Z)};render(){return S(J0.Provider,{value:this.props.passthrough?this.context:this.state,children:this.props.children})}componentDidUpdate(e,r,i){de||(this.checkScrollElement(),this.state.scrollingElement!=r.scrollingElement&&this.removeListeners(r))}setNewElement=e=>{let r=Q0.default.uniqueId();if(Ja[r]=new Set,e==window)yt(document.scrollingElement,"elementResize",this.onResize),el.observe(document.scrollingElement),window.addEventListener("scroll",this.onScroll,{passive:!1}),window.addEventListener("request-scroll",this.onScrollRequest,{passive:!1});else{yt(e,"elementResize",this.onResize),e.addEventListener("request-scroll",this.onScrollRequest,{passive:!1});let i=e.querySelector("bodycopy");i&&(el.observe(i),yt(i,"elementResize",this.onResize)),el.observe(e),e.addEventListener("scroll",this.onScroll,{passive:!1})}pu[r]=new IntersectionObserver(i=>Zk(i,"viewportIntersectionChange"),{root:e==window?document:e,rootMargin:"0px",threshold:0}),du[r]=new IntersectionObserver(i=>Zk(i,"lazyLoadIntersectionChange"),{root:e==window?document:e,rootMargin:window.screen.height*1.5+"px "+window.screen.width*1.5+"px",threshold:0}),this.setState({scrollUid:r,scrollingElement:e},()=>{this.onResize()})};removeListeners=e=>{if(e.scrollingElement){if(e.scrollingElement==window)window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.onScroll,{passive:!0}),el.unobserve(document.scrollingElement),window.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1});else{wt(e.scrollingElement,"elementResize",this.onResize),e.scrollingElement.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1}),e.scrollingElement.removeEventListener("scroll",this.onScroll,{passive:!0});let r=e.scrollingElement.querySelector("bodycopy");r&&(el.unobserve(r),wt(r,"elementResize",this.onResize)),el.unobserve(e.scrollingElement)}Object.keys(Ja[e.scrollUid]).forEach(r=>{du[e.scrollUid].unobserve(r),pu[e.scrollUid].unobserve(r),Ja[e.scrollUid].delete(r)})}e.scrollUid!="default"&&(du[e.scrollUid].disconnect(),pu[e.scrollUid].disconnect(),delete du[e.scrollUid],delete pu[e.scrollUid],delete Ja[e.scrollUid])};checkScrollElement=()=>{!de&&this.props.scrollingElement.current&&this.props.scrollingElement.current!=this.state.scrollingElement&&!this.props.passthrough?this.setNewElement(this.props.scrollingElement.current):this.state.scrollingElement!==null&&this.props.passthrough&&this.setState({scrollingElement:null,scrollUid:"default"})};componentDidMount(){de||this.checkScrollElement()}componentWillUnmount(){de||(cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.onScrollFrame),this.removeListeners(this.state))}onResize=e=>{de||!this.state.scrollingElement||(e&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()),this.state.scrollingElement===window?(this.scrollData.scrollHeight=document.scrollingElement.scrollHeight,this.scrollData.scrollWidth=document.scrollingElement.scrollWidth,this.scrollData.h=document.documentElement.clientHeight,this.scrollData.w=document.documentElement.clientWidth):(this.scrollData.scrollHeight=this.state.scrollingElement.scrollHeight,this.scrollData.scrollWidth=this.state.scrollingElement.scrollWidth,this.scrollData.h=this.state.scrollingElement.clientHeight,this.scrollData.w=this.state.scrollingElement.clientWidth),this.onScroll())};onScroll=()=>{de||!this.state.scrollingElement||this.props.passthrough||(this.state.scrollingElement===window?(this.scrollData.x=window.pageXOffset||document.scrollingElement.scrollLeft||document.documentElement.scrollLeft||0,this.scrollData.y=window.pageYOffset||document.scrollingElement.scrollTop||document.documentElement.scrollTop||0):(this.scrollData.x=this.state.scrollingElement.scrollLeft,this.scrollData.y=this.state.scrollingElement.scrollTop))};getScrollPosition=()=>({...this.scrollData})};im.contextType=J0;hu=Ue((t,e)=>({quickView:t.frontendState.quickView}),zZ)(im)});function BZ(t,e,r,i){if(de)return;r=r||t.observedAttributes||Object.keys(t.propTypes||{});function n(){let s=Reflect.construct(HTMLElement,[],n);s.__observedAttributes=r,s._editorProperties={},s._vdomComponent=t,s.attachShadow({mode:"open",delegatesFocus:i&&i.delegatesFocus}),s._customSlots=i&&i.customSlots?i.customSlots:[],s._replaceChild=i&&i.replaceChild,s._props={},s._uid=fu.default.uniqueId(),s._initialMount=!0;let a=l=>{let p=new WeakMap;l.forEach(f=>{switch(f.type){case"childList":s._customElementComponent&&(p.has(s.children)||p.set(s.children,Array.from(s.children)),s._customElementComponent.setState({childArray:p.get(s.children)}));break;case"attributes":let c=f.target.getAttribute(f.attributeName);f.attributeName!=="style"&&f.attributeName!=="class"&&c!==s[f.attributeName]&&(c==null&&(c=void 0),s.__observedAttributes?.indexOf(f.attributeName)>-1?s[f.attributeName]=c:s._customElementComponent&&s._customElementComponent.setState(m=>{let v={...m.baseNodeProps};if(v[f.attributeName]!==c)return v[f.attributeName]=c,{baseNodeProps:v}}),s._props[f.attributeName]=c);break}})};return s.__observer=new MutationObserver(a),s.flushMutationQueue=function(){let l=s.__observer.takeRecords();l.length>0&&a(l)},r.forEach(l=>{let p=fu.default.camelCase(l),f=function(){return s._customElementComponent?s._customElementComponent.state.baseNodeProps[l]:s._props?.[l]??void 0},c=function(m){let v=m;v=v==null||v===""?void 0:v,v=v==="true"?!0:v,v=v==="false"?!1:v;let g=!1,x=typeof v;if((v==null||x==="string"||x==="boolean"||x==="number")&&(g=!0),s._customElementComponent&&s._customElementComponent.setState(E=>{let _={...E.baseNodeProps};if(_[l]!==v)return _[l]=v,{baseNodeProps:_}}),s._props[l]=v,g){let E=l.toLowerCase();m===""||m===void 0||m==null?s.hasAttribute(E)&&E!=="tag-text"&&s.removeAttribute(E):m!==""&&m!==s.getAttribute(E)&&s.setAttribute(E,m)}};Object.defineProperty(s,l,{get:f,set:c,configurable:!0}),Object.defineProperty(s,p,{get:f,set:c,configurable:!0})}),s}n.prototype=Object.create(HTMLElement.prototype),n.prototype.constructor=n,n.prototype.connectedCallback=UZ,n.prototype.disconnectedCallback=HZ,n.prototype.adoptedCallback=qZ;let o=e||t.tagName||t.displayName||t.name;return i?.extends?customElements.get(o)||customElements.define(o,n,{extends:i.extends}):customElements.get(o)||customElements.define(o,n)}function UZ(){if(this.ownerDocument?.defaultView?.frameElement?.id=="contentEditableStyleTester"||this.hasAttribute("no-component"))return;let t=this.nodeName=="TEXT-ICON";if(this._initialMount){let r=document.createElement("style");r.id="space-filler",t?r.innerHTML=`:host {
				height: 1.2em;
				width: 1.2em;
				contain: layout;
				cursor: text;

				margin-top: -1em;
				margin-bottom: -.25em;
				display: inline-block;
				vertical-align: baseline;
			
				position: relative;
			}`:r.innerText=":host { display: block; opacity: 0; }",this.shadowRoot.appendChild(r)}delete this._initialMount,this.__observer.observe(this,{attributes:!0,childList:!0,subtree:!1});let e={element:this,portalHost:null};t?e.component=S(nm,{baseNode:this,customElementComponent:this._vdomComponent,observedAttributes:this.__observedAttributes},"custom-element-"+this._uid):e.component=S(WZ,{baseNode:this,customElementComponent:this._vdomComponent,observedAttributes:this.__observedAttributes},"custom-element-"+this._uid),Pt(this,"custom-element-connected",e),this._portalHost=e.portalHost,this._portalHost===null&&ew.push(this)}function qZ(){}function HZ(){this.ownerDocument?.defaultView?.frameElement?.id=="contentEditableStyleTester"||this.hasAttribute("no-component")||(this.__observer.disconnect(),this._portalHost&&Pt(this._portalHost,"custom-element-disconnected",{component:null,element:this}),this._portalHost=null,this._selectState=null)}var fu,ew,nm,WZ,Ao,lr,Qr=$(()=>{ke();Ye();Ji();fu=ye(Pe(),1);Fe();gt();Io();Ar();fe();ew=[];nm=class extends me{constructor(e){super(e);let r=this.getPropsFromAttributes();this.state={baseNodeProps:{...r,...e.baseNode._props},childArray:Array.from(e.baseNode.children)},e.baseNode._customElementComponent=this}getPropsFromAttributes=()=>{let e=this.props.baseNode.attributes,r=0,i={};for(r=e.length;r--;){let n=e[r].value==="true"?!0:e[r].value;n=n==="false"?!1:n,i[e[r].name]=n}return{...i,...this.props.baseNode._props}};componentDidMount(){if(de)return;let e=this.getPropsFromAttributes();this.setState(r=>fu.default.isEqual(e,this.state.baseNodeProps)?null:{baseNodeProps:e}),yt(this.props.baseNode,"custom-element-connected",this.refreshAttributes)}componentWillUnmount(){wt(this.props.baseNode,"custom-element-connected",this.refreshAttributes)}refreshAttributes=e=>{if(e.element==this.props.baseNode){let r=this.getPropsFromAttributes();this.setState(i=>fu.default.isEqual(r,this.state.baseNodeProps)?null:{baseNodeProps:r})}};render(e,r){let{baseNodeProps:i,childArray:n}=r;return Bt(this.props.customElementComponent,{...e,...i,childArray:n})}},WZ=Po(nm),Ao=class extends Or{constructor(e){super(e),this.state={portals:[]},!de&&(qc(this.props.portalHost)?this.stopListeningToVnodeDiff=Uk(this.props.portalHost,this.onPortalHostMounted):this.props.portalHost instanceof Node&&this.onPortalHostMounted(this.props.portalHost))}render(e){return S(he,{children:this.state.portals.map(([r,i],n)=>r&&i?it(r,i):it(null,null))},"portal-map")}addPortal=e=>{if(e.portalHost)return;let{component:r,element:i}=e;if(!r||!i)return;e.portalHost=this.portalHostElement;let n=!1;this.setState(o=>{let s=[...o.portals],a=s.findIndex(([l,p])=>p===i&&l!==null);return a===-1?s.push([r,i]):(s[a]=[null,null],n=!0),{portals:s}},()=>{n&&this.addPortal(e)})};removePortal=e=>{e.element&&this.setState(r=>{let i=[...r.portals],n=i.findIndex(([o,s])=>s===e.element);return n!==-1?(i[n]=[i[n][0],null],{portals:i}):null},()=>{})};onElementHostConnected=e=>{let r=e.element,i=[];this.setState(n=>{let o=[...n.portals];return o.forEach(([s,a],l)=>{r.contains(a)&&(i.push(a),o[l]=[null,null])}),{portals:o}},()=>{i.forEach(n=>{n.connectedCallback()})})};onPortalHostMounted=e=>{this.portalHostElement!==e&&(this.portalHostElement=e,Pt(this.portalHostElement,"element-host-connected",{element:this.portalHostElement}),yt(this.portalHostElement,"custom-element-connected",this.addPortal),yt(this.portalHostElement,"custom-element-disconnected",this.removePortal),yt(this.portalHostElement,"element-host-connected",this.onElementHostConnected));let r=ew.filter(i=>this.portalHostElement.contains(i));r.forEach(i=>i.connectedCallback()),fu.default.pullAll(ew,r)};componentDidMount(){this.clearSpaceFillersFromElements()}clearSpaceFillersFromElements=()=>{this.state.portals.forEach(e=>{if(e[1]?.shadowRoot?.children){let r=Array.from(e[1].shadowRoot.children).find(i=>i.id==="space-filler");r&&r.remove()}})};componentDidUpdate(e,r){this.clearSpaceFillersFromElements()}componentWillUnmount(){this.portalHostElement&&(wt(this.portalHostElement,"element-host-connected",this.onElementHostConnected),wt(this.portalHostElement,"custom-element-disconnected",this.removePortal),wt(this.portalHostElement,"custom-element-connected",this.addPortal),delete this.portalHostElement),this.stopListeningToVnodeDiff?.()}},lr=BZ});var Qk,tw,Jk,eN=$(()=>{ke();Fe();Ut();Wr();Io();kr();Ji();Ar();Qk=ye(Pe(),1);fe();tw=class extends me{constructor(e){super(e),this.state={dragPos:{x:0,y:0},referenceDragPos:{x:0,y:0},swapTarget:null},this.onDragOver=Qk.default.throttle(this.onDragOver,33)}render(e,r){return null}onDragEnd=(e,r,i)=>{this.onDragOver.cancel(),this.setState({swapTarget:null})};onDragDrop=async(e,r,i)=>{if(this.setState({dropping:!0}),this.onDragOver.cancel(),this.state.swapTarget!==i.customDropTarget||!this.state.swapTarget||i.inAdmin){this.setState({swapTarget:null});return}let n=!!this.state.swapTarget.getRootNode()?.host?.parentElement?.classList?.contains("backdrop-contents"),o=this.state.swapTarget.closest(".page[id]")?.getAttribute("id");n&&(o=this.state.swapTarget.getRootNode().host.parentElement.closest(".page[id]")?.getAttribute("id"));let s=window.store.getState(),a=this.state.swapTarget,l=i.draggedMediaItems[0],p=a.getAttribute("hash"),f=l?.getAttribute?.("hash"),c=a.closest("[thumbnail-index]"),m=[],v=[];if(f==="placeholder"||i.fromOutside)return;let x=a.closest(".page[id]")?.getAttribute("id");if(x!==CargoEditor.getActiveEditor().pid){o=x;let M=!!be.adminWindow.document.querySelector('[window-id="media-window"]');window?.parent.navigateAdmin("/"+o,{preserveScroll:!0}),window.parent.document.dispatchEvent(new CustomEvent("open-remote-message",{detail:{message:"Switched to Page",duration:1e3}})),await new Promise((L,I)=>{CargoEditor.events.once("editor-instanciated",(q,N,F)=>{setTimeout(()=>{L()},150)})});let P=be.adminWindow.document.querySelector('button[name="images"]')?.getBoundingClientRect();if(M){let L=be.adminWindow.document.querySelector('button[name="images"]')?.getBoundingClientRect();be.adminWindow.UIWindowOpener.openUIWindow({windowName:"media",id:"media-window",positionRect:P,uiWindowType:"popover",props:{pidBeingEdited:o,positionType:"center-under-button",acceptDrops:!0,closeOnSingleClickout:!0,shouldPreventClickout:(I,q)=>{let N=CargoEditor.getActiveEditor()?.pid===o,F=I.tagName==="MEDIA-ITEM"&&I?._isPlaceholder?.()===!0;if(N&&F){let U=I.shadowRoot.elementFromPoint(q.clientX,q.clientY);if(!!(U.closest(".placeholder-ui button")||U.tagName==="BUTTON"&&U.closest(".placeholder-ui")))return!0}}}})}}let E=a?.parentNode?.nodeName.startsWith("GALLERY-"),_=a?.parentNode;if(i.draggedMediaItems.length>1&&E){i.draggedMediaItems.forEach(I=>{v.push(I)});let M=Array.from(a.parentNode.children),P=M.indexOf(a);M.slice(P).forEach((I,q)=>{if(q==0&&m.length<v.length){m.push(I);return}I._isPlaceholder?.()&&m.length<v.length&&m.push(I)})}else m.push(a),v.push(...i.draggedMediaItems);let D="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";CargoEditor.mutationManager.execute(()=>{if(m.forEach((M,P)=>{let L=v[P],I=M.closest(".page[id]")?.getAttribute("id");if(n)I=M.getRootNode().host.parentElement.closest(".page[id]")?.getAttribute("id");else if(c){let Z=M.getAttribute("href");I=We.getContentByPurl(s,Z)?.id||null}if(f=L.getAttribute("hash"),!I||!f)return;let q=We.getMediaByHash(s)[f]||null,N=We.getMediaByHash(s)[p]||null;if(c&&(N=M?.model??N,p=N?.hash??p),!q)return;let{CRDTItem:F}=be.getCRDTItem({reducer:"pages.byId",item:I});if(!(s.pages.byId[I].media||[]).find(Z=>Z.hash==q.hash)){if(!(F.get("media")instanceof be.adminWindow.Y.Array)){let J=new be.adminWindow.Y.Array;J.insert(0,F.get("media")||[]),F.set("media",J)}let Z=be.convertStateToSharedType(q,new be.adminWindow.Y.Map);F.get("media").push([Z])}if(n&&F.get("backdrops").get("activeBackdrop")&&be.applyChangesToYType(F,{backdrops:{backdropSettings:{[F.get("backdrops").get("activeBackdrop")]:{activeImage:f}}}}),!n){let Z=q&&N&&(q.is_video!==N.is_video||q.is_image!==N.is_image||q.is_video!==N.is_video);N&&Z&&!c&&(M.removeAttribute("autoplay"),M.removeAttribute("loop"),M.removeAttribute("muted"),M.removeAttribute("poster"),M.removeAttribute("browser-default"),q.is_video?(!q.has_audio_track||q.duration<15?(M.setAttribute("autoplay",!0),M.setAttribute("muted",!0),M.setAttribute("loop",!0)):(M.setAttribute("browser-default",!0),M.setAttribute("disable-zoom",!0),q.duration<20&&M.setAttribute("loop",!0)),M.setAttribute("autoplay",!0),M.setAttribute("loop",!0),M.setAttribute("muted",!0)):q.is_url&&(q.url_type=="vimeo"||q.url_type=="youtube")&&(M.setAttribute("browser-default",!0),M.setAttribute("disable-zoom",!0),M.setAttribute("muted",!1),M.setAttribute("loop",!1))),M.removeAttribute("dynamic-src"),M.removeAttribute("src"),M.removeAttribute("dynamic-hash");let J=M.shadowRoot?.querySelector('img[part*="media"]');if(J&&f!==p&&q.is_image){let ie=()=>{M._setPlaceholderUIState?.({is_target:!0,visible:!0}),le=requestAnimationFrame(ie)},le=requestAnimationFrame(ie);Promise.race([new Promise(async G=>{let K=document.createElement("img"),Q=ds({w:6,retina:!1},q).url;K.src=Q,await K.decode(),G(K)}),new Promise(async(G,K)=>{let Q=be.adminWindow.document.querySelectorAll('[data-hash="'+q.hash+'"]'),re=Array.from(Q).map(se=>se.getAttribute("data-image-src")).filter(se=>!!se).map(se=>parseInt(se.split("w/")[1].split("/")[0])).sort((se,ce)=>se-ce);if(re.length==0)return;let ee=document.createElement("img"),ae=ds({w:re[0]||274,retina:!1},q);ee.src=ae.url,await ee.decode(),G(ee)})]).then(async G=>{J.src=G.src;let K=!1;if(await J.decode().catch(()=>{K=!0}),cancelAnimationFrame(le),K){CargoEditor.mutationManager.execute(()=>{c?(be.applyChangesToYType(F,{thumb_media_id:q.id}),M.model=q):M.setAttribute("hash",f)});return}let Q=getComputedStyle(J),re=parseFloat(Q.paddingTop)+parseFloat(Q.borderTopWidth)+"px "+(parseFloat(Q.paddingRight)+parseFloat(Q.borderRightWidth))+"px "+(parseFloat(Q.paddingBottom)+parseFloat(Q.borderBottomWidth))+"px "+(parseFloat(Q.paddingRight)+parseFloat(Q.borderRightWidth))+"px",ee=Q.borderRadius;M._setFXFrame(S("div",{className:"blur-frame",style:{inset:"-.2px",position:"absolute",borderWidth:re,borderColor:"transparent",borderStyle:"solid",borderRadius:ee,overflow:"hidden",zIndex:3},children:S("div",{className:"blur-frame-inner",style:{inset:0,position:"absolute",backdropFilter:"blur(48px)"}})})),await new Promise(async(ce,_e)=>{CargoEditor.mutationManager.execute(()=>{c?(be.applyChangesToYType(F,{thumb_media_id:q.id}),M.model=q):M.setAttribute("hash",f),Promise.resolve().then(()=>{M._setPlaceholderUIState?.({is_target:M._isPlaceholder(),visible:M._isPlaceholder()}),ce(!0)})})});let ae=()=>{M._setPlaceholderUIState?.({is_target:!1,visible:M._isPlaceholder()}),M._setFXFrame(null),this.setState({swapTarget:null,dropping:!1})},se=async()=>{let ce=M.shadowRoot?.querySelector('img[part*="media"]');if(!ce){ae();return}ce.src==G.src?requestAnimationFrame(se):(ce.decoding="sync",await ce.decode().catch(()=>{ae()}),ae())};se()})}else c?be.applyChangesToYType(F,{thumb_media_id:q.id}):M.setAttribute("hash",f),M.setAttribute("hash",f),this.setState({swapTarget:null,dropping:!1})}}),v.length>m.length&&!n&&!c){let M=v.slice(m.length),P=m[m.length-1];M.forEach(L=>{P.after(L),P=L})}})};componentDidUpdate(e,r){r.swapTarget!=this.state.swapTarget&&!this.state.dropping&&(this.state.swapTarget&&this.state.swapTarget._setPlaceholderUIState?.({skipOpacityTransition:!0,visible:!0,is_target:!0}),r.swapTarget&&r.swapTarget._setPlaceholderUIState?.({skipOpacityTransition:!0,visible:!!r.swapTarget?._isPlaceholder(),is_target:!1}))}onBeforeDrop=(e,r,i)=>{!i.fromAdmin&&!i.fromOutside||this.state.swapTarget&&this.state.swapTarget?.nodeName==="MEDIA-ITEM"&&i.draggedMediaItems.length===1&&(be.globalDragEventController.releaseCustomDropTarget(i.customDropTarget),be.globalDragEventController.setCustomDropTarget(this.state.swapTarget))};onDragOver=(e,r,i)=>{this.setState({dropping:!1});let n=r?.target??i.dropTarget;n.tagName!="MEDIA-ITEM"&&(n=null);let{x:o,y:s}=be.globalDragEventController;if(!n){let f=Array.from(document.elementsFromPoint?.(o,s)??[]),c=0,m=f.find(v=>{if(v.tagName!=="MEDIA-ITEM"){let g=window.getComputedStyle(v,null),x=g.getPropertyValue("background-color"),E=x.match("rgba")?parseFloat(x.replace(/^.*,(.+)\)/,"$1")):1;return c+=E||0,!1}return v._isPlaceholder?.()});c<.5&&(n=m)}let a=n?n.parentElement?.tagName=="GALLERY-FREEFORM"?n.getBoundingClientRect():hd(n):null;if(a){let v=Math.sqrt(a.width*a.width+a.height*a.height),g=Math.max(5,Math.min(60,v*.05));n?._isPlaceholder()&&a.width<50&&(g=0),a.left+g<o&&a.right-g>o&&a.top+g<s&&a.bottom-g>s||(n=null)}let l=i.draggedMediaItems.length>=1&&i.draggedMediaItems[0]!==n&&(i.draggedMediaItems[0]?.getAttribute("hash")!==n?.getAttribute("hash")||n?._isPlaceholder())||i.fromOutside,p=!i.inAdmin&&(i.fromAdmin||i.fromOutside);n&&p&&l?this.setState(f=>(be.globalDragEventController.customDropTarget!==n&&(be.globalDragEventController.releaseCustomDropTarget(be.globalDragEventController.customDropTarget),be.globalDragEventController.setCustomDropTarget(n)),{dragPos:{...i.cursorPosition},referenceDragPos:{...i.cursorPosition},swapTarget:n})):(this.state.swapTarget&&be.globalDragEventController.releaseCustomDropTarget(this.state.swapTarget),this.setState({swapTarget:null,dragPos:{...i.cursorPosition}}))};componentDidMount(){this.findDragController().then(()=>{be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("drop",this.onDragDrop),be.globalDragEventController.on("dragend",this.onDragEnd),be.globalDragEventController.on("before-drop",this.onBeforeDrop)})}componentWillUnmount(){this.onDragOver.cancel(),be.globalDragEventController.off("dragover",this.onDragOver),be.globalDragEventController.off("drop",this.onDragDrop),be.globalDragEventController.off("dragend",this.onDragEnd),be.globalDragEventController.off("before-drop",this.onBeforeDrop)}findDragController=()=>new Promise((e,r)=>{let i=0,n=null,o=()=>{let s=be.globalDragEventController||null;s?(clearInterval(n),e(s)):i++,i>200&&(clearInterval(n),r())};n=setInterval(o,300),o()})},Jk=Po(tw)});var om,rw,tN,rN=$(()=>{ke();js();Ut();Wr();Io();Fe();om=ye(Pe(),1);fe();rw=class extends me{constructor(e){super(e),this.state={rect:{top:null,left:null},initialRect:{top:null,left:null},initialScrollY:0,isClickable:!0,visible:!1,parentFontInfo:{fontSize:null,lineHeight:null}},this.maxButtonHeight=20,this.minButtonHeight=10,this.clonedRange=null,this.ticking=!1,this.isDebug=!1,jf.contentWindow?.CargoEditor&&Object.keys(jf.contentWindow?.CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents)}componentWillUnmcount(){CargoEditor&&(CargoEditor.events.off("cursor-activity",this.onSelectionChange),CargoEditor.events.off("editor-keydown",this.onEditorKeydown)),window.removeEventListener("insert-context-menu-closed",this.restoreTextCursorPosition),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("selectionchange",this.onSelectionChange),window.removeEventListener("blur",this.onEditorBlur),this.props?.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll)}bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),window.addEventListener("insert-context-menu-closed",this.restoreTextCursorPosition),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousedown",this.onMouseDown),document.addEventListener("selectionchange",this.onSelectionChange),window.addEventListener("blur",this.onEditorBlur),CargoEditor.events.on("cursor-activity",this.onSelectionChange),CargoEditor.events.on("editor-keydown",this.onEditorKeydown),this.props?.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)};componentDidUpdate(e,r){this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement&&(this.props.scrollContext.scrollingElement?this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),this.onScroll())}onScroll=e=>{if(!this.state.visible||this.ticking)return;let r=window.pageYOffset,i=window.pageYOffset-this.state.initialScrollY,n=Math.round(this.state.initialRect.top-i);this.setState({rect:{top:n,left:this.state.initialRect.left}})};onEditorBlur=()=>{this.setState({visible:!1})};onEditorKeydown=()=>{this.setState({visible:!1})};onMouseUp=e=>{this.setState({clickable:!0}),e.target.closest("[editing]")&&this.checkAndSetVisiblity()};onMouseDown=()=>{this.setState({visible:!1,clickable:!0})};onSelectionChange=om.default.debounce(e=>{if(this.ticking)return;if(this.ticking=!0,this.setState({visible:!1}),!CargoEditor.getActiveRange())return null;let i=document.querySelector('[editing="true"] bodycopy');if(!i)return null;let n,o=window.getComputedStyle(i);n=o.getPropertyValue("font-size"),n=Number(n.match(/[\d\.]+/));let s=o.getPropertyValue("line-height");s=Number(s.match(/[\d\.]+/)),this.setState({parentFontInfo:{fontSize:n,lineHeight:s}},()=>{this.setButtonPosition()})},50);checkAndSetVisiblity=om.default.debounce((e,r)=>{e=CargoEditor.getActiveRange(),r=CargoEditor?.getActiveEditor();let i=r?.checkIfEmpty(),n=this.isEligibleEmptyLine(e),o=!!(i||n);this.isDebug&&console.log("checkAndSetVisible",o),this.setVisible(o)},400);setVisible=e=>{this.isDebug&&console.log("set visible",e),this.setState({initialScrollY:window.pageYOffset,visible:e},()=>{this.ticking=!1})};isEligibleEmptyLine=e=>{if(!e)return!1;let r=e.endContainer.childNodes[e.endOffset-1],i=e.endContainer.childNodes[e.endOffset],n=e.endContainer.childNodes[e.endOffset-2];for(;r&&CargoEditor.helpers.isWhitespaceNode(r);)r=r.previousSibling;for(;i&&CargoEditor.helpers.isWhitespaceNode(i);)i=i.nextSibling;for(;n&&CargoEditor.helpers.isWhitespaceNode(n);)n=n.previousSibling;return!!(e.collapsed&&e.endContainer&&e.endContainer.nodeType==Node.ELEMENT_NODE&&(e.endContainer.nodeName==="BODYCOPY"||e.endContainer.nodeName==="COLUMN-UNIT")&&(e.endOffset===0&&e.endContainer.childNodes.length==0||this.checkNodeContent(r)&&this.checkNodeContent(n)||this.checkNodeContent(i)&&!r))};restoreTextCursorPosition=e=>{e.detail.cachedRange&&window.requestAnimationFrame(()=>{CargoEditor.helpers.setActiveRange(e.detail.cachedRange),CargoEditor?.getActiveEditor().getElement().focus()})};checkNodeContent=e=>!!(e&&e.nodeName==="BR"||e?.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(e)?.getPropertyValue("display")==="block");getTextCursorRect=(e,r,i)=>{if(!e)return!1;if(this.clonedRange===e)return null;this.clonedRange=e.cloneRange();let n=ui(),o=i.fontSize*.15*-1,s=i.lineHeight*.15*-1,a=document.createElement("input");a.style.display="inline-block",a.style.fontSize=i.fontSize+"px",a.style.border="0",a.style.background="blue",a.style.outline="none",a.style.width="2px",n?(a.style.height=i.lineHeight+"px",a.style.lineHeight=i.lineHeight+"px",a.style.margin=`${s}px 0 0 0`,a.style.padding="0",a.style.verticalAlign="text-bottom"):(a.style.height=i.fontSize+"px",a.style.verticalAlign="middle",a.style.margin=`${o}px 0 0 0`,a.style.padding="0"),a.setAttribute("data-ignore-changes",""),a.setAttribute("data-prevent-copy",""),a.setAttribute("disabled",""),a.setAttribute("readonly",""),a.setAttribute("test-delete-visible",""),a.setSaveable(!1),e.insertNode(a);let l=CargoEditor?.getActiveEditor()?.getElement?.()?.getBoundingClientRect(),p=a.getBoundingClientRect();a.nextSibling&&a.nextSibling.nodeType===Node.TEXT_NODE&&a.nextSibling.setSaveable(!0),a.remove();let f=l.height-r.height;return this.clonedRange&&CargoEditor.helpers.setActiveRange(this.clonedRange),{bottom:p.bottom-f,height:p.height,center:p.bottom-f-(p.top-f),left:p.left,right:p.right,top:p.top-f,width:p.width,x:p.x-f,y:p.y}};setButtonPosition=()=>{this.isDebug&&console.log("set button position");let e=CargoEditor.getActiveRange(),r=!1,i=!1,n=null,o=null,s=null,a=null,l=null,p=null,f=0,c=0,m=this.state.parentFontInfo?.fontSize;if(!this.state.parentFontInfo){this.ticking=!1;return}if(m>20&&(m=20),m<10&&(m=10),!om.default.isEmpty(CargoEditor)&&(n=CargoEditor?.getActiveEditor(),n&&(o=n.getElement()),r=n?.checkIfEmpty(),i=this.isEligibleEmptyLine(e)),p=o?o.getBoundingClientRect():null,i||r){let g=this.getTextCursorRect(e,p,this.state.parentFontInfo),x=0,E=0;if(!g){this.ticking=!1;return}let _=this.state.parentFontInfo,D=1-_.fontSize/_.lineHeight,M=_.lineHeight,P=_.fontSize;ui()?x=g.bottom-_.lineHeight*.5:x=g.bottom-g.height*.5,a=x,l=Math.ceil(g.left)}c=l?4:0,l=l+c,this.isDebug&&console.log("coordinate state set..."),this.setState({initialRect:{top:a,left:l},rect:{top:a,left:l}},()=>{this.checkAndSetVisiblity()})};callContextMenu=e=>{e.preventDefault(),e.stopPropagation(),this.setState({visible:!1});let r=CargoEditor.getActiveRange().nativeRange;document.activeElement.blur(),be.adminWindow.ContextMenuOpener.openContextMenu(e,"insert-content",{cachedRange:r})};render(){let e=this.state.parentFontInfo.fontSize?this.state.parentFontInfo.fontSize:20,r=e>20?20:e;r=r<10?10:r;let i=r/2,n={frame:{transform:`translate3d(${this.state.rect.left}px, ${this.state.rect.top}px, 0px)`,zIndex:999,display:"flex",position:"fixed",top:0,left:0,pointerEvents:"none",height:0,width:0},button:{display:"flex",visibility:this.state.visible&&this.state.rect.top!==0&&this.state.rect.left!==0?"visible":"hidden",position:"relative",top:"unset",left:"unset",height:r+"px",width:r+"px",pointerEvents:this.state.isClickable?"all":"none",transform:`translate(0, -${i}px)`},svg:{pointerEvents:"none",height:r+"px",width:r+"px",maxHeight:this.maxButtonHeight+"px",maxWidth:this.maxButtonHeight+"px",minHeight:this.minButtonHeight+"px",minWidth:this.minButtonHeight+"px"}};return S("div",{style:n.frame,children:S("button",{className:"insert-content-button",style:n.button,onContextMenu:o=>{o.preventDefault(),this.callContextMenu(o)},onMouseDown:o=>{this.callContextMenu(o)},children:S("svg",{style:n.svg,id:"insert-ineditor",className:"plus-icon",width:r+"px",height:r+"px",viewBox:"0 0 20 20",fill:"none",children:[S("circle",{cx:"10",cy:"10",r:"8"}),S("g",{children:[S("line",{x1:"10",y1:"5",x2:"10",y2:"15"}),S("line",{x1:"5",y1:"10",x2:"15",y2:"10"})]})]})})})}},tN=Po(rw)});var tl,et,iw,iN,Wr=$(()=>{ke();Ye();gt();tl=ye(Pe(),1);Ut();Fe();eN();rN();Ar();fe();et={},iw=class extends me{constructor(e){super(e),this.sR=document.createElement("div"),this.lockedElements=[],this.state={selecting:!1,unattachedOverlayContainer:null,active:!1,locked:!1,loaded:!1,hoveredElements:[]},this.animFrame=null,this.dragController=null,this.portalMap=new Map,this.noPointerEventsArray=[],this.editorOverlayRef=Se(),this.findDragController().then(r=>{this.dragController=r,this.dragController.on("dragstart",this.onDragStart),this.dragController.on("dragend",this.unlock),this.dragController.on("drop",this.unlock)}).catch(r=>{console.warn("Editor overlay failed to find drag controller.",r)}),et.lock=this.lock,et.unlock=this.unlock,et.lockItem=this.lockItem,et.unlockItem=this.unlockItem,et.setHoveredElements=this.setHoveredElements,et.deactivateHoverElement=this.deactivateHoverElement,et.activateHoverElement=this.activateHoverElement,et.getPortal=this.getPortal,et.removePortal=this.removePortal,et.portalMap=this.portalMap,et.testHover=this.testHover,et.updateElementRect=this.updateElementRect,this.pointerPosition={x:-9e9,y:-9e9},et.pointerPosition={...this.pointerPosition}}render(){var e=localStorage.getItem("c3-plus-button")==="true";return S("div",{className:`${this.state.selecting?"selecting":""}${this.props.darkMode?" dark":""}`,id:"editor-overlay",ref:this.editorOverlayRef,style:{display:this.state.loaded?"":"none"},children:this.state.unattachedOverlayContainer&&it(S(he,{children:[S(Jk,{}),e?S(tN,{}):null]}),this.state.unattachedOverlayContainer)})}updateRects=e=>{this.portalMap.forEach((r,i,n)=>{r.visibility?((r.visibility.visible||r.lastVisibility&&r.lastVisibility.visible!=r.visibility.visible)&&this.updateElementRect(i),r.lastVisibility=r.visibility.visible):this.updateElementRect(i),(this.lastTimestamp==null||e-this.lastTimestamp>120)&&(this.updatePageButtonPositions(),this.lastTimestamp=e)}),this.animFrame=requestAnimationFrame(this.updateRects)};componentDidMount(){if(this.animFrame=requestAnimationFrame(this.updateRects),!this.editorOverlayRef.current.shadowRoot){this.editorOverlayRef.current.attachShadow({mode:"open"}),this.editorOverlayRef.current.shadowRoot.innerHTML='<link rel="stylesheet" href="https://build.cargo.site/frontend/4ede51/css/front-end/editor-ui.css"><div id="unattached-editor-overlays"></div>',Array.from(this.sR.children).forEach(i=>{this.editorOverlayRef.current.shadowRoot.appendChild(i)}),this.editorOverlayRef.current.shadowRoot.querySelector("link").addEventListener("load",()=>{this.setState({loaded:!0})});let r=this.editorOverlayRef.current.shadowRoot.querySelector("#unattached-editor-overlays");this.setState({unattachedOverlayContainer:r})}this.sR=this.editorOverlayRef.current.shadowRoot,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("mousedown",this.onPointerDown),window.addEventListener("mouseup",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp),document.body.addEventListener("pointerleave",this.onPointerLeave),this.findAdminWindow().then(e=>{be.adminWindow.addEventListener("pointermove",this.onAdminPointerMove)}).catch(e=>{console.warn("Editor Overlay failed to find Editor.",e)})}componentDidUpdate(e,r){let{hoveredElements:i}=r,{hoveredElements:n}=this.state,o=tl.default.difference(n,i);tl.default.difference(i,n).forEach(a=>{let l=this.portalMap.get(a);l&&l.portalHosts.forEach((p,f)=>{p?.pointerOut?.()})}),o.forEach(a=>{let l=this.portalMap.get(a);l&&l.portalHosts.forEach((p,f)=>{p?.pointerIn?.()})}),this.props.adminMode!==e.adminMode&&(this.props.adminMode?(this.unlock(),this.afterAdminTimeout=setTimeout(()=>{this.testHover()},80)):(this.setHoveredElements([]),this.lock()))}componentWillUnmount(){clearTimeout(this.afterAdminTimeout),cancelAnimationFrame(this.animFrame),this.dragController&&(this.dragController.off("dragstart",this.onDragStart),this.dragController.off("dragend",this.unlock),this.dragController.off("drop",this.unlock)),this.portalMap.forEach((e,r,i)=>{this.removePortal(r)}),this.noPointerEventsArray=[],window.removeEventListener("mousedown",this.onPointerDown),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("pointermove",this.onPointerMove),document.body.removeEventListener("pointerleave",this.onPointerLeave),be.adminWindow?.removeEventListener("pointermove",this.onAdminPointerMove)}findAdminWindow=()=>new Promise((e,r)=>{let i=0,n=null,o=()=>{let s=be.adminWindow;s?(clearInterval(n),e(s)):i++,i>200&&(clearInterval(n),r("not found."))};n=setInterval(o,300),o()});findDragController=()=>new Promise((e,r)=>{let i=0,n=null,o=()=>{let s=be.globalDragEventController||null;s?(clearInterval(n),e(s)):i++,i>200&&(clearInterval(n),r())};n=setInterval(o,300),o()});updateElementRect=e=>{let i=this.portalMap.get(e);if(i){let n={x:0,y:0,top:0,left:0,right:0,bottom:0,width:0,height:0},o=e.getBoundingClientRect();Object.keys(n).forEach(s=>{n[s]=Math.round(o[s])}),n.height<10&&(n.height=10,n.bottom=n.top+10),i.extraMargins.forEach((s,a)=>{if(!(s===void 0||s===0))switch(a){case 0:n.top=n.y=n.top-s,n.height=n.height+s;break;case 1:n.right=n.right+s,n.width=n.width+s;break;case 2:n.height=n.height+s,n.bottom=n.bottom+s;break;case 3:n.left=n.x=n.left-s,n.width=n.width+s;break}}),this.portalMap.set(e,{portalHosts:i.portalHosts,rect:n,extraMargins:i.extraMargins,onViewportIntersectionChange:i.onViewportIntersectionChange,visibility:i.visibility,lastVisibility:i.lastVisibility}),i.portalHosts.forEach((s,a)=>{s?.updatePosition?.(n)})}};updatePageButtonPositions=()=>{let r=Array.from(this.portalMap).map(([a,l])=>{let p=null,f=Array.from(l?.portalHosts??[]).find(([g,x])=>x.props?.name=="EditPageButton"&&!x.props.isEditingPage?(p=g,!0):!1);if(!p?.querySelector("button.edit-page"))return!1;let c=p.querySelector("button.edit-page").getBoundingClientRect(),v=c.top<l.rect.top?{left:c.left+-f[1].state.shiftButtonX,width:c.width+1,top:c.top,height:c.height*2+1}:{left:c.left+-f[1].state.shiftButtonX,width:c.width+1,top:c.top-c.height+-2,height:c.height*2+1};return{mapRect:l.rect,portalHost:p,proposedRect:v,rect:v,component:f[1]}}).filter(a=>!!a),i=tl.default.sortBy(r,a=>a.mapRect.left),n=!0,o=30,s=0;for(;n&&s<o;)n=!1,i.forEach((a,l,p)=>{if(l===0)return;let f=a.rect,c=p.filter(m=>{if(m==a)return!1;let v=m.proposedRect;return f.left<v.left+v.width&&f.left+f.width>v.left&&f.top<v.top+v.height&&f.top+f.height>v.top});if(c.length>0){n=!0;let m=p[l-1],v=tl.default.sortBy(c,g=>-(g.proposedRect.left+g.proposedRect.width))[0];a.proposedRect={left:v.proposedRect.left+v.proposedRect.width,width:f.width,top:f.top,height:f.height},a.component.setState({shifted:!0,shiftButtonX:a.proposedRect.left-f.left}),l==1&&i[0].component.setState({shifted:!0,shiftButtonX:0})}else a.component.setState({shifted:!1,shiftButtonX:0}),l==1&&i[0].component.setState({shifted:!1,shiftButtonX:0})}),s++};onDragStart=()=>{this.setState({hoveredElements:[],locked:!0})};getPortal=(e,r={})=>{if(e)if(this.portalMap.has(e)){var i=this.portalMap.get(e);wt(e,"viewportIntersectionChange",i.onViewportIntersectionChange),i.onViewportIntersectionChange=o=>{var s=this.portalMap.get(e);s.lastVisibility={...s.visibility},s.visibility=o},yt(e,"viewportIntersectionChange",i.onViewportIntersectionChange);var n=null;if(i.portalHosts.forEach((o,s)=>{r.component===o&&(n=s)}),n)return n;{let o=document.createElement("div");return this.sR.appendChild(o),i.portalHosts.set(o,r.component),o}}else{let o=document.createElement("div");this.sR.appendChild(o);let s={portalHosts:new Map,rect:{width:0,height:0,top:0,left:0,bottom:0,right:0},extraMargins:r.extraMargins||[],visibility:null,lastVisibility:null};return s.onViewportIntersectionChange=a=>{var l=this.portalMap.get(e);l.lastVisibility={...l.visibility},l.visibility=a},yt(e,"viewportIntersectionChange",s.onViewportIntersectionChange),o.setAttribute("editor-overlay-tag-name",e.tagName),o._editorBaseNode=e,s.portalHosts.set(o,r.component),this.portalMap.set(e,s),o}};removePortal=(e,r)=>{if(this.portalMap.has(e)){let i=this.portalMap.get(e);wt(e,"viewportIntersectionChange",i.onViewportIntersectionChange),i.portalHosts.has(r)&&(i.portalHosts.delete(r),r.parentNode.removeChild(r)),i.portalHosts.size===0&&(this.noPointerEventsArray.indexOf(e)>-1&&this.noPointerEventsArray.splice(this.noPointerEventsArray.indexOf(e),1),this.portalMap.delete(e))}};lock=()=>{this.setState({locked:!0})};unlock=()=>{this.setState({locked:!1})};lockItem=e=>{this.lockedElements.indexOf(e)===-1&&this.lockedElements.push(e)};unlockItem=e=>{let r=this.lockedElements.indexOf(e);r>-1&&this.lockedElements.splice(r,1)};deactivateHoverElement=e=>{e&&this.setState(r=>{let{hoveredElements:i}=r,n=[...i],o=i.indexOf(e);if(o>-1)n=n.splice(o,1);else return null;return{...r,hoveredElements:n}})};activateHoverElement=e=>{e&&this.setState(r=>{let{hoveredElements:i}=r,n=[...i];if(n.indexOf(e)==-1)n.push(e);else return null;return{...r,hoveredElements:n}})};setHoveredElements=e=>{let r=Array.isArray(e)?e:[e];r=r.filter(i=>!!i),tl.default.isEqual(this.state.hoveredElements,r)||this.setState({hoveredElements:r})};testHover=()=>{this.hoverTicking||(this.hoverTicking=!0,requestAnimationFrame(()=>{let e=[],r=this.editorOverlayRef.current.shadowRoot.elementFromPoint(this.pointerPosition.x,this.pointerPosition.y)?.closest?.("[editor-overlay-tag-name]")?._editorBaseNode;r&&e.push(r),this.portalMap.forEach((a,l,p)=>{a&&a.rect&&this.pointerPosition.x<=a.rect.left+a.rect.width&&this.pointerPosition.x>=a.rect.left&&this.pointerPosition.y<=a.rect.top+a.rect.height&&this.pointerPosition.y>=a.rect.top&&e.indexOf(l)==-1&&e.push(l)}),e=tl.default.uniq(e);let i=[...this.state.hoveredElements];this.lockedElements.forEach(a=>{let l=i.indexOf(a),p=e.indexOf(a);p===-1&&l>-1?e.push(a):l===-1&&p>-1&&e.splice(p,1)});let n=CargoEditor?.getActiveEditor?.()?.getElement(),o=n?n.closest(".overlay-content"):null,s=o&&e.some(a=>a.tagName==="BODYCOPY"&&o.contains(a));n&&o&&s&&(e=e.filter(a=>o.contains(a))),this.setHoveredElements(e),this.hoverTicking=!1}))};onAdminPointerMove=e=>{e.target.tagName==="IFRAME"?(this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY+-40):(this.pointerPosition.x=-9e9,this.pointerPosition.y=-9e9),this.testHover()};onPointerLeave=e=>{this.setState({selecting:!1}),setTimeout(()=>{this.setHoveredElements([])},100)};onFirstSelectionChange=()=>{this.setState({selecting:!0})};onPointerDown=e=>{this.selectionWaitTimeout=setTimeout(()=>{document.addEventListener("selectionchange",this.onFirstSelectionChange,{once:!0})},60)};onPointerUp=e=>{clearTimeout(this.selectionWaitTimeout),document.removeEventListener("selectionchange",this.onFirstSelectionChange,{once:!0}),this.setState({selecting:!1})};onPointerMove=e=>{this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY,et.pointerPosition={...this.pointerPosition},this.testHover()}},iN=Ue((t,e)=>({adminMode:t.frontendState.adminMode,darkMode:t.adminState?.darkMode||!1}))(iw)});var ow,mu,nw,sm,Jr,Jn=$(()=>{ke();Wr();ow=ye(Pe(),1);fe();mu=[],nw=ow.default.debounce(()=>{if(window.removeEventListener("CargoEditor-load",nw),CargoEditor&&Object.keys(CargoEditor).length>0){var t=CargoEditor.getActiveRange(),e=CargoEditor.helpers.normalizeRangeAroundShadowDom(t);let i=[],n=[];if(t&&!t.collapsed){var r=CargoEditor.helpers.getAllEffectivelyContainedNodes(t);r=r.filter(o=>o.shadowRoot),mu.forEach(o=>{r.includes(o.props.baseNode)?i.push(o):n.push(o)})}else n=mu;if(n.forEach(o=>{o.setState({selected:!1})}),i.forEach(o=>{o.setState({selected:!0}),CargoEditor.plugins.shadowDom.shadowDomSelectedElements.indexOf(o.props.baseNode)==-1&&CargoEditor.plugins.shadowDom.shadowDomSelectedElements.push(o.props.baseNode)}),e.shadowDomElementAdjacentToCollapsedRange){let o=mu.find(s=>s.props.baseNode===e.shadowDomElementAdjacentToCollapsedRange);o&&o.setState({selected:!0,collapseDirection:e.collapseDirection})}mu.length=0}},30),sm=class extends me{constructor(e){super(e),this.state={resetAnimation:!1,selected:!1,collapseDirection:!1,currentColor:"black"},this.uniqueClassName=this.props.overlayMode?"selection-status-"+ow.default.uniqueId():"selection-status"}render(e,r){let i=r.collapseDirection?" "+r.collapseDirection+" collapsed-range":"";return S(he,{children:[S("style",{id:"selection-status",children:`.${this.uniqueClassName} {
			${this.props.overlayMode?`
				transform: translate3d(${this.props.overlayPosition.x}px, ${this.props.overlayPosition.y}px, 0);
				width: ${this.props.overlayPosition.width}px;
				height: ${this.props.overlayPosition.height}px;
				position: fixed;
				top: 0;
				left: 0;
			`:`
				inset: 0px;
				position: absolute;
			`}
			padding: 0;
			margin: 0;
			opacity: 1;
		    background-color: rgba(129, 188, 255, 0.6);
			overflow:hidden;

			z-index: ${this.props.inFront?"99999":"-1"};
			pointer-events:none;
			display:none;
		}

		.${this.uniqueClassName}.selected {
			display:block;
		}

      
		@keyframes blink-animation {
			0%, 49.99% {
			  visibility: visible;
			}
			50%, 100% {
				visibility: hidden;
			}
		}
		@-webkit-keyframes blink-animation {
			0%, 49.99% {
			  visibility: visible;
			}
			50%, 100% {
				visibility: hidden;
			}			
		}		

		.${this.uniqueClassName}.collapsed-range {
			width: 1px;
		    mix-blend-mode: unset;
			background-color: ${this.props.overlayMode?this.state.currentColor:"currentColor"};

		    ${this.state.resetAnimation?`
		    visibility: visible;
		    -webkit-animation:none;
		    animation: none;`:`-webkit-animation: blink-animation 1s steps(4, start) infinite;
	        animation: blink-animation 1s steps(4, start) infinite;`}
	        z-index: 9999;
		}

		.${this.uniqueClassName}.before.collapsed-range {
			${this.props.overlayMode?`
			transform: translate3d(${this.props.overlayPosition.x+-1}px, ${this.props.overlayPosition.y}px, 0);			
			`:`
			inset: 0 auto 0 -1px;
			`}
				
		}
		.${this.uniqueClassName}.after.collapsed-range {
			${this.props.overlayMode?`
			transform: translate3d(${this.props.overlayPosition.x+this.props.overlayPosition.width+1}px, ${this.props.overlayPosition.y}px, 0);			
			`:`
			inset: 0 -1px 0 auto;
			`}
		}		

		`}),S("div",{className:`${this.uniqueClassName}${this.state.selected?" selected":""}${i}`})]},"selection-status-fragment")}componentDidMount(){CargoEditor?.getActiveEditor?.()?(mu.push(this),nw()):(mu.push(this),window.addEventListener("CargoEditor-load",nw)),this.props.baseNode.__shadow_selection=!0,this.props.baseNode.addEventListener("selected-in-editor",this.select),this.props.baseNode.addEventListener("unselected-in-editor",this.unselect)}componentDidUpdate(e,r){this.state.collapseDirection!==r.collapseDirection&&this.setState({resetAnimation:!0},()=>{this.resetTimeout=setTimeout(()=>{this.setState({resetAnimation:!1})},100)})}componentWillUnmount(){clearTimeout(this.resetTimeout),delete this.props.baseNode.__shadow_selection,this.props.baseNode.removeEventListener("unselected-in-editor",this.unselect),this.props.baseNode.removeEventListener("selected-in-editor",this.select)}select=e=>{if(e.target!==this.props.baseNode)return;this.props.overlayMode&&!this.state.selected&&this.updateCurrentColor();let r=e?.detail?.collapsed||!1,i=!0;this.props.onlyAllowCollapsedRange&&(i=r),this.setState({selected:i,collapseDirection:r}),this.props.onSelectionChange&&(r?this.props.onSelectionChange(!1):this.props.onSelectionChange(!0))};unselect=()=>{this.setState(e=>({selected:!1,collapseDirection:!1})),this.props.onSelectionChange&&this.props.onSelectionChange(!1)};updateCurrentColor=()=>{if(this.props.baseNode.shadowRoot){let e=document.createElement("span");e.style.color="currentColor",e.style.position="absolute",this.props.baseNode.shadowRoot.appendChild(e);let i=window.getComputedStyle(e).getPropertyValue("color");e.remove(),this.setState({currentColor:i})}}};sm.defaultProps={inFront:!0,overlayMode:!1};Jr=sm});var am,Rd,nN,kd,oN,sN=$(()=>{ke();am=ye(Pe(),1);fe();Rd=new Map,nN=t=>{let e=[],r=[],i=[];Rd.forEach((o,s)=>{o.locateEyeball();let{rect:a}=o.state;if(o.props["roll-independently"]==!0){let l=Math.atan2(t.clientY-(a.top+a.height*.5),t.clientX-(a.left+a.width*.5))*(180/Math.PI)+90;o.setState({eyeRotation:l})}else r.push(a.left+a.width*.5),i.push(a.top+a.height*.5),e.push(o)});let n={x:am.default.mean(r),y:am.default.mean(i)};e.forEach(o=>{let s=Math.atan2(t.clientY-n.y,t.clientX-n.x)*(180/Math.PI)+90;o.setState({eyeRotation:s})})},kd=class extends me{constructor(e){super(e),this.state={eyeRotation:0,rect:{top:0,left:0,width:0,height:0},centerPoint:{x:0,y:0}},this.locateEyeball=am.default.debounce(this.locateEyeball,120,{leading:!0,trailing:!1})}render(e,r){return S(he,{children:[e.children,S("style",{children:`
					:host { 
						pointerEvents: ${e.lowestLevel?"auto":"none"};
						transformOrigin: center center;
						--rotate-transform: rotate( ${this.state.eyeRotation}deg);
					}
				`})]})}locateEyeball=()=>{this.setState({rect:this.props.baseNode.getBoundingClientRect()})};componentDidMount(){Rd.size==0&&window.addEventListener("pointermove",nN),Rd.set(this.props.baseNode,this)}componentWillUnmount(){Rd.delete(this.props.baseNode),Rd.size===0&&window.removeEventListener("pointermove",nN)}};kd.defaultProps={"roll-independently":!0};kd.transformSlot="--rotate-transform";oN=kd});var aN,Nd,lN,uN=$(()=>{ke();aN=ye(Pe(),1);fe();Nd=class extends me{constructor(e){super(e),this.state={suppressTransition:!1,rotation:parseFloat(this.props.rotation)}}render(e,r){let{animate:i}=e,n=Number(i)!==0,o=n?50/Number(i):1,s="var(--base-translate, translate(0))",a=s;return e.transformSlots.forEach(l=>{l==="--rotate-transform"?(s+=` rotate(${parseFloat(e.rotation)}deg)`,a+=` rotate(${parseFloat(e.rotation)+360}deg)`):(s+=` var(${l}, translate(0))`,a+=` var(${l}, translate(0))`)}),S(he,{children:[e.children,S("style",{id:"rotating-item",children:n?`
				@keyframes rotate {
                    from {
                        transform: ${s};
                    }
                    to {
                        transform: ${a};
                    }
                }

                :host {
                	animation: rotate ${Math.abs(o)}s linear ${Math.sign(Number(i))===-1?"reverse":""} infinite;
					will-change: transform;
                }
				`:`
				:host { 
					--rotate-transform: rotate( ${e.rotation}deg);
                }
            `})]})}allowTransition=aN.default.debounce(()=>{this.setState({suppressTransition:!1},()=>{})},120);componentDidUpdate(e){(this.props.animate!==e.animate||this.props.rotation!==e.rotation)&&this.setState({suppressTransition:!0},()=>{this.allowTransition()})}componentWillUnmount(){this.allowTransition.cancel()}};Nd.defaultProps={rotation:0,animate:0};Nd.transformSlot="--rotate-transform";lN=Nd});var cN,dN=$(()=>{cN={speed:"90",rotation:"66",scale:"18.4vmax","flight-path":"387",delay:"2"}});var pN,eo,sw,lm,hN,fN=$(()=>{pN=ye(Pe(),1);ke();Ye();dN();Ar();fe();sw=new Set,lm=class extends me{constructor(e){super(e),this.flierID="-"+(0,pN.uniqueId)(),this.flierRef=Se();let r=this.generateRandomIntInclusive(1,1e4);this.state={portalElement:null,currentAnimation:"fly1",flightCount:r,calculatedAnimations:{fly1:this.calculateFlyAnimation(r,1),fly2:this.calculateFlyAnimation(r,2),fly3:this.calculateFlyAnimation(r,3),fly4:this.calculateFlyAnimation(r,4)}}}generateRandomIntInclusive(e,r){return e=Math.ceil(e),r=Math.floor(r),Math.floor(Math.random()*(r-e+1))+e}calculateDuration(e){return 100*(Math.max(100-Math.abs(e),5)*.01)}generateRandomIntFromSeed(e){var r=Math.sin(e)*1e4;return r-Math.floor(r)}shuffleFromSeed(e,r){for(var i=e.length,n,o;i;)o=Math.floor(this.generateRandomIntFromSeed(r)*i--),n=e[i],e[i]=e[o],e[o]=n,++r;return e}calculateFlyAnimation(e,r){let i=e%2==0,n=this.shuffleFromSeed(["ltr","rtl","ttb","btt"],e),o=Number(this.props.scale.replace("vmax","")),s=this.props.rotation/5*180,a=[{x:`calc(0vw - ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(i?0-1.4*o:60,i?40:100+1.4*o)}vh`},{x:`calc(100vw + ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(i?60:0-1.4*o,i?100+1.4*o:40)}vh`}],l=[{x:`calc(100vw + ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(i?60:0-1.4*o,i?100+1.4*o:40)}vh`},{x:`calc(0vw - ${1.4*o}vmax)`,y:`${this.generateRandomIntInclusive(i?0:60,i?40:100+1.4*o)}vh`}],p=[{x:`${this.generateRandomIntInclusive(i?0-1.4*o:60,i?40:100+1.4*o)}vw`,y:`calc(0vh - ${1.4*o}vmax)`},{x:`${this.generateRandomIntInclusive(i?60:0-1.4*o,i?100+1.4*o:40)}vw`,y:`calc(100vh + ${1.4*o}vmax)`}],f=[{x:`${this.generateRandomIntInclusive(i?60:0-1.4*o,i?100+1.4*o:40)}vw`,y:`calc(100vh + ${1.4*o}vmax)`},{x:`${this.generateRandomIntInclusive(i?0-1.4*o:60,i?40:100+1.4*o)}vw`,y:`calc(0vh - ${1.4*o}vmax)`}],c=n.reduce((m,v)=>{switch(v){case"ltr":return m.concat(a);case"rtl":return m.concat(l);case"ttb":return m.concat(p);case"btt":return m.concat(f);default:return m}},[]);switch(r){case 1:return`
					0% {
						transform: translateX(${c[0].x}) translateY(${c[0].y});
						opacity: 0;
					}
					0.001% {
						transform: translateX(${c[0].x}) translateY(${c[0].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${c[1].x}) translateY(${c[1].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${c[1].x}) translateY(${c[1].y});
						opacity: 0;
					}
				`;case 2:return`
					0% {
						transform: translateX(${c[2].x}) translateY(${c[2].y});
						opacity: 0;
					}
				
					0.001% {
						transform: translateX(${c[2].x}) translateY(${c[2].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${c[3].x}) translateY(${c[3].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${c[3].x}) translateY(${c[3].y});
						opacity: 0;
					}
				`;case 3:return`
					0% {
						transform: translateX(${c[4].x}) translateY(${c[4].y});
						opacity: 0;
					}
		
					0.001% {
						transform: translateX(${c[4].x}) translateY(${c[4].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${c[5].x}) translateY(${c[5].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${c[5].x}) translateY(${c[5].y});
						opacity: 0;
					}
				`;case 4:return`
					0% {
						transform: translateX(${c[6].x}) translateY(${c[6].y});
						opacity: 0;
					}
		
					0.001% {
						transform: translateX(${c[6].x}) translateY(${c[6].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${c[7].x}) translateY(${c[7].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${c[7].x}) translateY(${c[7].y});
						opacity: 0;
					}
				`}}onAnimationEnd(e){let r=Number(e.animationName.substr(3,1)),i=r<4?r+1:1;this.setState({currentAnimation:`fly${i}`,...i===1&&{flightCount:this.state.flightCount+1,calculatedAnimations:{fly1:this.calculateFlyAnimation(this.state.flightCount+1,1),fly2:this.calculateFlyAnimation(this.state.flightCount+1,2),fly3:this.calculateFlyAnimation(this.state.flightCount+1,3),fly4:this.calculateFlyAnimation(this.state.flightCount+1,4)}}})}componentDidMount(){if(eo||(eo=document.createElement("media-item"),eo.setAttribute("no-component",""),eo.shadowRoot||eo.attachShadow({mode:"open"}),eo.shadowRoot.innerHTML=`
			<style>
				:host {
					all:unset!important;
					border:none!important;
					padding: 0!important;
					position: fixed!important;
					z-index: 5000!important;
					pointer-events:none!important;
					background:none!important;
					inset: 0!important;
					overflow: hidden!important;
				}

				.spinner [part="media"] {
					pointer-events: none;
					border-radius:0!important;
					padding: 0!important;
					border: none !important;
					position: absolute;
					width: 100%;
					height: 100%;
					inset: 0;
				}

				.spinner img,
				.spinner video {
					object-fit: contain;
				}
				.spinner .frame,
				.spinner .sizing-frame {
					display: contents;
				}				
			</style>
			`,document.body.appendChild(eo)),!this.state.portalElement){let e=document.createElement("div");e.style.display="contents",eo.shadowRoot.appendChild(e),this.setState({portalElement:e},()=>{this.flierRef.current&&this.flierRef.current.addEventListener("animationend",r=>this.onAnimationEnd(r))})}sw.add(this)}componentWillUnmount(){this.flierRef.current&&this.flierRef.current.removeEventListener("animationend",e=>this.onAnimationEnd(e)),this.state.portalElement&&this.state.portalElement.remove(),sw.delete(this),sw.size==0&&eo&&(eo.remove(),eo=null)}render(e,r){let{speed:i,rotation:n,scale:o,delay:s,adminMode:a}=e,{currentAnimation:l,flightCount:p,calculatedAnimations:f,portalElement:c}=r;return c?S(he,{children:[S("style",{children:":host {display:none!important;}"}),it(S(he,{children:[S("style",{children:`

					.flier${this.flierID} {
						pointer-events: none !important;
						top: 0;
						left: 0;
						position: absolute;
						z-index:9995;
						transform: translateX(-100%) translateY(-100%);
						animation-delay: ${s}s;
						animation-duration: ${this.calculateDuration(i)/4}s;
						animation-timing-function: linear;
						animation-direction: ${Math.sign(i)===1?"normal":"reverse"};
					}

					.fly1${this.flierID} {
						animation-name: fly1${this.flierID};
					}

					.fly2${this.flierID} {
						animation-name: fly2${this.flierID};
					}

					.fly3${this.flierID} {
						animation-name: fly3${this.flierID};
					}

					.fly4${this.flierID} {
						animation-name: fly4${this.flierID};
					}

					.flier${this.flierID} .spinner {
						${Number(n)!==0?`animation: spin ${this.calculateDuration(n)}s ${Math.sign(Number(n))===-1?"reverse":"normal"} linear infinite;`:""}
						width: ${o};
						height: ${o};
						display: flex;
						align-items: center;
						justify-content: center;
					}

					.flier${this.flierID} .spinner figure {
						padding: 0;
						margin: 0;
						width: ${o};
						height: ${o};
					}

				
					/* Keyframe values control where the element will begin
						and end its trajectory across the screen. Each rule
						represents a path the element follows across the screen. */
					
				
					@keyframes fly1${this.flierID} {
						${f.fly1}
					}

					@keyframes fly2${this.flierID} {
						${f.fly2}
					}

					@keyframes fly3${this.flierID} {
						${f.fly3}
					}

					@keyframes fly4${this.flierID} {
						${f.fly4}
					}

					@keyframes spin {
						0% {
							transform: rotateZ(0deg);
						}
						100% {
							transform: rotateZ(3600deg);
						}
					}
				`}),S("div",{className:`flier${this.flierID} ${l}${this.flierID}`,ref:this.flierRef,children:S("div",{className:"spinner",children:e.children})})]}),c)]}):null}};lm.defaultProps=cN;hN=lm});var mN,aw,gN,vN,rl,lw=$(()=>{Fe();mN=null,gN=new Map,vN=t=>{let e=aw===void 0?0:t-aw;Array.from(gN).sort((i,n)=>i[1].animationOrder-n[1].animationOrder).forEach(([i,n])=>{n.animate(e)}),aw=t,mN=requestAnimationFrame(vN)};de||(mN=requestAnimationFrame(vN));rl=gN});function VZ(t){var e=t.getBoundingClientRect(),r=getComputedStyle(t),i=r.transform;if(i){var n;if(i.startsWith("matrix3d(")){var o=i.slice(9,-1).split(/, /);n=+o[13]}else if(i.startsWith("matrix(")){var o=i.slice(7,-1).split(/, /);n=+o[5]}else return 0;return n}else return 0}var vn,uw,um,cm,pm,cw,dw,dm,pw,yN,bN=$(()=>{ke();Ye();vn=ye(Pe(),1);Ar();gt();Hr();Fe();lw();fe();uw=new Map,um=new WeakMap,cm=new WeakMap,pm=.5,cw=!0,dw=.5;dm=null;if(!de){dm=document.createElement("div");let t={animationOrder:0,animate:()=>{cm=new WeakMap,um=new WeakMap}};rl.set(document.body,t);let e=!1;Object.defineProperty(window,"__viewportKeyframeInsertion",{get:()=>pm,set:i=>{pm=i,e=!0},configurable:!0}),Object.defineProperty(window,"__viewportKeyframeInterpolationArea",{get:()=>dw,set:i=>{dw=i,e=!0},configurable:!0}),Object.defineProperty(window,"__forceOverlayInteraction",{get:()=>cw,set:i=>{cw=i,e=!0},configurable:!0}),new MutationObserver((i,n)=>{if(i.forEach(o=>{o.type==="childList"&&o.target.tagName==="STYLE"&&(e=!0)}),e){for(let[o,s]of uw.entries())s.updateKeyframesNextAnimationLoop=!0;e=!1}}).observe(document.documentElement,{subtree:!0,childList:!0,characterData:!0})}pw=class extends Or{constructor(e){super(e),this.animationOrder=2,this.uid=vn.default.uniqueId(),this.iteration=0,this.state={isOverFlowing:!0,viewportIntersection:"neutral",isVisible:!1,hasLayout:!1,allScrollAnimationVariables:{},initialScrollProgress:void 0,scrollProgress:void 0},this.marqueeParent=this.props.baseNode.closest("marquee-set"),this.props.baseNode._updateScrollTransitionState=r=>{this.setState({...r})},this.props.baseNode._processAnimation=r=>{let i=r*1e3+1e3;isFinite(i)||(i=0),this.state.onlyTranslateAnim&&(this.state.onlyTranslateAnim.currentTime=i),this.state.sansTranslateAnim&&(this.state.sansTranslateAnim.currentTime=i)},this.props.baseNode._processTransition=this.processTransition}render(e,r){let i=this.state.viewportIntersection,n=this.state.scrollProgress||0,{initialScrollProgress:o,allScrollAnimationVariables:s,isOverFlowing:a,prevScrollProgress:l}=this.state,p=s["--scroll-animation-transition-duration"]||"3000",f=s["--scroll-animation-mode"],c="neutral";l!=null&&(l<n?c="up":l>n&&(c="down"));let m=this.state.isVisible||this.state.viewportIntersection.position=="below"&&c=="up"||this.state.viewportIntersection.position=="above"&&c=="down",v=a&&!e["disable-scroll-animation"]?S("style",{id:"scroll-transition",children:`

			:host {		
				--scroll-progress: ${n};				
			}

			${this.props.isLazyLoadable?`
				figure {
					${m?"will-change: transform, opacity;":""}
				}
				.sizing-frame {
					backface-visibility: hidden;
					${m?"will-change: transform, opacity;":""}
				}
			`:""}

		`}):null;return S(he,{children:[e.children,v]})}onViewportIntersectionChange=e=>{this.setState({isVisible:e.visible,viewportIntersection:e.position,hasLayout:e.hasLayout})};onResize=e=>{this.updateKeyframesNextAnimationLoop=!0};calculateScrollProgress=()=>{let e=this.state.allScrollAnimationVariables["--scroll-animation-mode"],r=this.props.scrollContext.getScrollPosition(),i=0,n=this.props.scrollContext.scrollingElement,o=n&&n.classList?.contains("overlay-content"),s=0,a=this.props.baseNode.getBoundingClientRect();if(a.height==0)return this._lastScrollProgress=void 0,{scrollProgress:void 0,initialScrollProgress:void 0};let l=a.top,p=a.height,f=a.bottom;if(e=="transition"){let _=this.props.figureElement;_||(_=this.props.baseNode);let D=_.getBoundingClientRect();l=D.top,p=D.height,f=D.bottom}else{let _=this.props.sizingFrameElement;_||(_=this.props.baseNode),p=_.offsetHeight;let D=a.height-p;l=a.top+D/2,f=a.bottom+-D/2}if(cw&&o)if(um.has(n))i=um.get(n);else{let _=n.querySelector(".page-content");i=VZ(_),um.set(n,i)}let c=r.h,m=c+p,v=this.marqueeParent&&this.marqueeParent.getAttribute("direction")=="vertical";if(v){let _=null;cm.has(this.marqueeParent)?_=cm.get(this.marqueeParent):(_=this.marqueeParent.getBoundingClientRect(),cm.set(this.marqueeParent,_));let D=Math.min(r.h,_.height+_.top),M=Math.max(0,_.top);c=D-M,m=c+p,s=(c-l+M)/m}else s=(c-l)/m;s=Math.max(-.5,Math.min(1.5,s)),s=Math.round(s*1e4)/1e4;let g,x=1-(l+-i+r.y+p)/m,E=(r.scrollHeight-(l+-i+r.y))/m;return x>=1-pm&&x>=-.1?g=x:E<=pm&&E>=-.1&&(g=E),g!=null&&(g=Math.round(g*1e4)/1e4),v&&(g=void 0),this._lastScrollProgress={scrollProgress:s,initialScrollProgress:g},{scrollProgress:s,initialScrollProgress:g}};getKeyframesFromStyleSheets=e=>{let r=Array.from(document.styleSheets).reverse(),i=null,n=r.some(o=>{let s;try{s=o.cssRules}catch{return!1}if(s){let a=Array.from(o.cssRules).reverse().find(l=>l.type===window.CSSRule.KEYFRAMES_RULE&&l.name===e);return a?(i=a,!0):!1}});return i};getScaleAnimationOffsets=()=>{let e=l=>.004112*l*l-.85196*l+50,r=0,i=this.props.scrollContext.getScrollPosition();if(this.props.baseNode._size&&this.props.baseNode._size.mediaSize.height!=0){let l=this.props.baseNode._size;r=l.mediaSize.height+l.mediaSize.vertPadSize}else r=this.props.baseNode.getBoundingClientRect().height;let n=r/i.h*100,s=(50-e(n)).toFixed(1),a=(50+(50-s)).toFixed(1);return[s,a]};getScrollAnimationVariables=()=>{let{isUsingOldScrollTransition:e,scrollAnimationDefinedInSettings:r}=this.props,i=this.props.baseNode,n=window.getComputedStyle(i),o=n.getPropertyValue("--scroll-animation-transition-duration").trim()||"1000ms",s=o.endsWith("s")&&!o.endsWith("ms"),a=o.endsWith("ms")||!s,l=n.getPropertyValue("--scroll-animation").trim(),p=n.getPropertyValue("--scroll-animation-timing");return dm.style["animation-timing-function"]="",dm.style["animation-timing-function"]=p,dm.style["animation-timing-function"]===""&&(p="linear"),!l&&(e||r=="fade-up-2")?{"--scroll-animation":"scrollTransitionFadeUp-2","--scroll-animation-mode":"transition","--scroll-animation-timing":"cubic-bezier(0.45,0.05,0.33,1)","--scroll-animation-transition-duration":1e3,"--scroll-animation-neutral-keyframes":"false"}:{"--scroll-animation":n.getPropertyValue("--scroll-animation").trim(),"--scroll-animation-mode":n.getPropertyValue("--scroll-animation-mode").trim()||"animation","--scroll-animation-timing":p,"--scroll-animation-transition-duration":parseInt(a?o:(parseFloat(o)||0)*1e3),"--scroll-animation-neutral-keyframes":n.getPropertyValue("--scroll-animation-neutral-keyframes").trim()||"true"}};generateKeyframes=(e,r)=>{let i=r["--scroll-animation"],n=r["--scroll-animation-mode"],o=r["--scroll-animation-neutral-keyframes"]!="false",s=parseInt(r["--scroll-animation-transition-duration"]),a=i.startsWith("scrollAnimationScaleInOut-")||i.startsWith("scrollAnimationScaleIn-")||i.startsWith("scrollAnimationScaleOut-");if(!i)return{sansTranslateKeyframes:null,onlyTranslateKeyframes:null};let l=this.getKeyframesFromStyleSheets(i);if(!l)return{sansTranslateKeyframes:null,onlyTranslateKeyframes:null};let p=new Set,f="initial",c=Array.from(l).map(M=>{let P={key:M.keyText=="from"?0:M.keyText=="to"?100:parseFloat(M.keyText),style:{}};for(var L=0;L<M.style.length;L++)if(M.style[L]){p.add(M.style[L]);let I=M.style.getPropertyValue(M.style[L]);if(M.style[L]=="clip-path")switch(!0){case I.includes("inset"):f="inset(0%)";break;case I.includes("rect"):f="rect(0% 100% 100% 0%)";break;case I.includes("xywh"):f="xywh(0px 0px 100% 100%)";break}P.style[M.style[L]]=I}return P.style["transform-origin-x"]&&P.style["transform-origin-y"]&&P.style["transform-origin-z"]&&(P.style["transform-origin"]=P.style["transform-origin-x"]+" "+P.style["transform-origin-y"]+" "+P.style["transform-origin-z"],delete P.style["transform-origin-x"],delete P.style["transform-origin-y"],delete P.style["transform-origin-z"],p.add("transform-origin")),P});if(n=="transition"){let M=vn.default.cloneDeep(c[0]),P=vn.default.cloneDeep(c[c.length-1]),L={key:50,style:{transform:"rotate(0deg) scale(1) skew(0deg) translateX(0px) translateY(0px) translateZ(0px)",opacity:1,filter:"initial"}};p.has("clip-path")&&(L.style["clip-path"]=f),M.key<100&&P.key<100?P=vn.default.cloneDeep(L):M.key>0&&P.key>0&&(M=vn.default.cloneDeep(L)),c=[vn.default.cloneDeep(M),vn.default.cloneDeep(L),vn.default.cloneDeep(P)],c[0].key=0,c[1].key=50,c[2].key=100}let m=a?this.getScaleAnimationOffsets():[],v=dw,g={key:null,style:{}},x={key:null,style:{}};if(a&&m.length==2&&c.length>=3&&n!="transition"){g.key=m[0]=Math.max(-49.99,m[0]),x.key=m[1]=Math.min(149.99,m[1]);let M=c[0],P=c[1];g.style["transform-origin"]=M.style["transform-origin"],g.style.transform=P.style.transform;let L=c.findIndex((F,W,U)=>{let Z=U[W+1]?.key??9e9;return F.key>g.key&&g.key<Z});c.splice(L,0,g);let I=c[c.length-2],q=c[c.length-1];x.style["transform-origin"]=q.style["transform-origin"],x.style.transform=I.style.transform;let N=c.findIndex((F,W,U)=>{let Z=U[W+1]?.key??9e9;return F.key>x.key&&x.key<Z});N==-1?c.push(x):c.splice(N,0,x),v=Math.min(100-m[1],m[0])/200,v=Math.max(0,v)}if(n=="animation")if(n!="transition"&&o&&e>=-v&&e<=1+v){let M=e,P=Array.from(c).map(K=>({offset:K.key/100,easing:r["--scroll-animation-timing"]||"ease",...K.style})),L=this.props.sizingFrameElement;L||(L=this.props.baseNode),L.getAnimations().forEach((K,Q)=>{K.cancel()});let I=null;try{I=L.animate(P,{duration:1e3,iterations:1,easing:"linear",fill:"both",id:"roughAnim"})}catch{P.forEach(Q=>{Q.easing="ease"}),I=L.animate(P,{duration:1e3,iterations:1,easing:"linear",fill:"both",id:"roughAnim"})}I.pause(),I.currentTime=0;let q=parseFloat((M-v).toFixed(4)),N="";I.currentTime=q*1e3;let F=window.getComputedStyle(L);N=Array.from(p).map(K=>K+": "+F.getPropertyValue(K)+";").join(" ")+" easing: linear";let W=parseFloat((M+v).toFixed(4)),U="";I.currentTime=W*1e3;let Z=window.getComputedStyle(L);U=Array.from(p).map(K=>K+": "+Z.getPropertyValue(K)+";").join(" "),I.cancel(),L.removeAttribute("style"),c.unshift(vn.default.cloneDeep(c[0])),c.push(vn.default.cloneDeep(c[c.length-1])),c[0].key=-100,c[c.length-1].key=200,c=c.filter(K=>!(K.key/100>=q&&K.key/100<=W));let J=c.findIndex((K,Q,re)=>{let ee=re[Q+1]?.key??9e9;return K.key>M*100&&M*100<ee}),ie=K=>K.split(";").reduce((Q,re)=>{let[ee,ae]=re.split(":").map(se=>se.trim());return!ee||!ae?Q:{...Q,[ee]:ae}},{}),le=ie(N),G=ie(U);a&&(le["transform-origin"]=g.style["transform-origin"],le.transform=g.style.transform,G["transform-origin"]=x.style["transform-origin"],G.transform=x.style.transform),c.splice(J,0,{key:q*100,style:le},{key:M*100,style:{transform:"rotate(0deg) scale(1) skew(0deg) translateX(0px) translateY(0px) translateZ(0px)",opacity:1,easing:r["--scroll-animation-timing"]||"ease","clip-path":p.has("clip-path")?f:null,filter:"initial"}},{key:W*100,style:G})}else c.unshift(vn.default.cloneDeep(c[0])),c.push(vn.default.cloneDeep(c[c.length-1])),c[0].key=-100,c[c.length-1].key=200;else c=[{...c[0],key:-100},{...c[1],style:{...c[1].style,"transform-origin":c[0].style?.["transform-origin"]},key:0},{...c[1],style:{...c[1].style,"transform-origin":"50% 50%"},key:49.5},{...c[2],style:{...c[2].style,"transform-origin":"50% 50%"},key:50.5},{...c[2],key:100},{...c[1],style:{...c[1].style,"transform-origin":c[2].style?.["transform-origin"]},key:200}];let E=[],_=[];c.forEach((M,P,L)=>{let I={key:M.key,style:{...M.style}},q={key:M.key,style:{...M.style}};Object.entries(M.style||{}).forEach(([N,F])=>{switch(N){case"transform":let W=[],U=[],Z=F.match(/[a-zA-Z3]*\([^)]*\)/g)||[],J,ie=[],le=[];Z.forEach(G=>{switch(G=G.trim(),!0){case G.startsWith("matrix3d("):J=G.replace("matrix3d(","").replace(")","").split(", ").map(re=>parseFloat(re)),ie=[1,0,0,0,0,1,0,0,0,0,1,0,0,J[13],0,1],W.push("matrix3d("+ie.join(", ")+")"),le=[...J],le[13]=0,U.push("matrix3d("+le.join(", ")+")");break;case G.startsWith("matrix("):J=G.replace("matrix(","").replace(")","").split(", ").map(re=>parseFloat(re)),ie=[1,0,0,1,0,J[5]],W.push("matrix("+ie.join(", ")+")"),le=[...J],le[5]=0,U.push("matrix("+le.join(", ")+")");break;case G.startsWith("translate("):let K=G.replace("translate(","").replace(")","").split(",").map(re=>re);U.push("translateX("+K[0]+")"),W.push("translateY("+K[1]+")");break;case G.startsWith("translate3d("):let Q=G.replace("translate3d(","").replace(")","").split(",").map(re=>re);U.push("translate3d("+Q[0]+", 0px,"+Q[2]+")"),W.push("translateY("+Q[1]+")");break;case G.startsWith("translateY("):W.push(G);break;case G.startsWith("perspective("):W.push(G),U.push(G);break;default:U.push(G);break}}),I.style.transform=W.join(" "),I.style.transform||(I.style.transform="translateY(0px)"),q.style.transform=U.join(" "),q.style.transform||(q.style.transform="scale(1)");break;default:delete I.style[N];break}}),E.push(I),_.push(q)});let D=(M,P)=>{let L=/[-_]\w/g;return Array.from(M).map(q=>{let N=Math.max(0,q.key/3+33.333333333333336)/100,F=Object.entries(q.style).reduce((W,[U,Z])=>{if(Z==null)return W;let J=U.replace(L,(ie,le)=>ie.charAt(1).toUpperCase());return{...W,[J]:Z}},{});return{offset:N,easing:r["--scroll-animation-timing"]||"ease",...F}})};return{onlyTranslateKeyframes:D(E),sansTranslateKeyframes:D(_)}};generateAnimation=e=>{let r=this.props["disable-scroll-animation"]||!this.state.isOverFlowing,i=this.getScrollAnimationVariables(),n=i["--scroll-animation"],o=i["--scroll-animation-mode"],s=i["--scroll-animation-transition-duration"]||1e3,{onlyTranslateKeyframes:a,sansTranslateKeyframes:l}=this.generateKeyframes(e,i);if(!l||r){this.setState({allScrollAnimationVariables:i,sansTranslateAnim:void 0,onlyTranslateAnim:void 0});return}let p={id:"scrollAnimation-onlyTranslate"+this.iteration,iterations:1,delay:0,endDelay:0,duration:o=="animation"?3e3:s*3,easing:"linear",fill:"both"},f={id:"scrollAnimation-sansTranslate"+this.iteration,iterations:1,delay:0,endDelay:0,duration:o=="animation"?3e3:s*3,easing:"linear",fill:"both"},c=(this.state.scrollProgress||0)*1e3+1e3;this.props.figureElement.getAnimations().forEach(g=>{g.cancel()}),this.props.sizingFrameElement.getAnimations().forEach(g=>{g.cancel()});let m=this.props.figureElement.animate(a,p);m.pause(),m.currentTime=o=="animation"?c:s;let v=this.props.sizingFrameElement.animate(l,f);v.pause(),v.currentTime=o=="animation"?c:s,this.setState({allScrollAnimationVariables:i,onlyTranslateAnim:m,sansTranslateAnim:v},()=>{this.firstTransitionCalculated=!1,this.animate()}),this.iteration++};processTransition=(e,r)=>{if(!this.state.sansTranslateAnim||!this.state.onlyTranslateAnim)return;let i=this.state.sansTranslateAnim,n=this.state.onlyTranslateAnim,o=this.state.allScrollAnimationVariables["--scroll-animation-transition-duration"]*3||3e3,s=null,a=null;if(Math.abs(e-r)>.5&&this.marqueeParent){if(e<=1&&e>=0){let f=[],c=-1,m=this.props.baseNode,v=m.parentElement;for(;v&&m.tagName!=="MARQUEE-SET";){let g=Array.prototype.indexOf.call(v.children,m);f.push(g),m=v,v=v.parentElement}if(m&&m.tagName==="MARQUEE-SET"){for(v=m,m=null,f[f.length-1]==0?f[f.length-1]=1:f[f.length-1]=0;v&&v.children&&f.length>0;)m=Array.from(v.children)[f.pop()],v=m;if(m&&m._getScrollTransitionState){let g=m._getScrollTransitionState();g.sansTranslateAnim&&(g.sansTranslateAnim.playState=="running"?(i.currentTime=g.sansTranslateAnim.currentTime,n.currentTime=g.sansTranslateAnim.currentTime):(i.currentTime=o*(1/3),n.currentTime=o*(1/3)))}}}else e<0?requestAnimationFrame(()=>{}):e>1&&requestAnimationFrame(()=>{});return}this.state.viewportIntersection.position=="below"||e<=0?(s="paused",a=0):e>0&&e<1?!this.firstTransitionCalculated||this.state.viewportIntersection.position=="outside"||i&&i.currentTime>=o/3&&i.currentTime<o/2||i&&i.currentTime>=o?(a=o/3,s="paused"):i.currentTime!=null&&(s="running"):(this.state.viewportIntersection.position=="above"||e>=1)&&(s="paused",a=o*(2/3)),a!=null&&!isFinite(a)&&(a=0),i&&a!=null&&i.currentTime!=a&&(i.currentTime=a,n&&(n.currentTime=a));let l=i.playState;i&&s=="running"&&l!="running"?i.play():i&&s=="paused"&&l!="paused"&&l!="idle"&&i.pause();let p=n.playState;n&&s=="running"&&p!="running"?n.play():n&&s=="paused"&&p!="paused"&&n.pause(),this.firstTransitionCalculated=!0};animate=()=>{if(!this.props.isLazyLoadable){this._lastScrollHeight=null,this._lastScrollProgress=void 0;return}let e=this.props.scrollContext.getScrollPosition(),r=e.scrollHeight,i=this.state.allScrollAnimationVariables["--scroll-animation-mode"],n=this.marqueeParent?.getAttribute("direction")=="vertical"?!0:e.h<=e.scrollHeight-1,{scrollProgress:o,initialScrollProgress:s}=this.calculateScrollProgress();if((s!=null&&this.state.initialScrollProgress==null||s==null&&this.state.initialScrollProgress!=null||Math.abs(s-this.state.initialScrollProgress)>.001)&&i=="animation"&&(this.updateKeyframesNextAnimationLoop=!0),this.updateKeyframesNextAnimationLoop&&(this.generateAnimation(s),this.updateKeyframesNextAnimationLoop=!1),i=="animation"){let a=o*1e3+1e3;isFinite(a)||(a=0),this.state.onlyTranslateAnim&&(this.state.onlyTranslateAnim.currentTime=a),this.state.sansTranslateAnim&&(this.state.sansTranslateAnim.currentTime=a)}else i=="transition"&&this.processTransition(this.state.scrollProgress,this.state.prevScrollProgress);this.setState(a=>({isOverFlowing:n,initialScrollProgress:s,scrollProgress:o,prevScrollProgress:a.scrollProgress})),this._lastScrollHeight=r};componentDidMount(){this.firstTransitionCalculated=!1,rl.set(this.props.baseNode,this),uw.set(this.props.baseNode,this),yt(this.props.baseNode,"elementResize",this.onResize),yt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),this.updateKeyframesNextAnimationLoop=!0}componentDidUpdate(e,r){(this.state.allScrollAnimationVariables["--scroll-animation-mode"]!=r.allScrollAnimationVariables["--scroll-animation-mode"]||this.state.allScrollAnimationVariables["--scroll-animation"]!=r.allScrollAnimationVariables["--scroll-animation"])&&(this.firstTransitionCalculated=!1,this.updateKeyframesNextAnimationLoop=!0),this.props.sizingFrameElement!=e.sizingFrameElement&&(r.sansTranslateAnim&&r.sansTranslateAnim.cancel(),this.updateKeyframesNextAnimationLoop=!0),this.props.figureElement!=e.figureElement&&(r.onlyTranslateAnim&&r.onlyTranslateAnim.cancel(),this.updateKeyframesNextAnimationLoop=!0),this.state.sansTranslateAnim!=r.sansTranslateAnim&&r.sansTranslateAnim&&r.sansTranslateAnim.cancel(),this.state.onlyTranslateAnim!=r.onlyTranslateAnim&&r.onlyTranslateAnim&&r.onlyTranslateAnim.cancel(),(this.state.isOverFlowing!=r.isOverFlowing||this.props["disable-scroll-animation"]!=e["disable-scroll-animation"])&&(this.updateKeyframesNextAnimationLoop=!0)}componentWillUnmount(){this.state.sansTranslateAnim&&this.state.sansTranslateAnim.cancel(),this.state.onlyTranslateAnim&&this.state.onlyTranslateAnim.cancel(),clearTimeout(this.initTimeout),rl.delete(this.props.baseNode),uw.delete(this.props.baseNode),wt(this.props.baseNode,"elementResize",this.onResize),wt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange)}},yN=Ue((t,e)=>{let r=t.siteDesign.images.scroll_animation==!0,i=typeof t.siteDesign.images.scroll_animation=="string"?t.siteDesign.images.scroll_animation:"";return{isUsingOldScrollTransition:r,scrollAnimationDefinedInSettings:i}},null)(pw)});var Qbe,Od,hm,$Z,wN,xN=$(()=>{ke();gt();qr();Qbe=ye(Pe(),1);fe();Od=new Map,hm=class extends me{constructor(e){switch(super(e),this.state={z:0,x:0,y:0,interacted:!1,dragging:!1},this.props.baseNode.tagName){case"DIV":case"SPAN":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":this.displayInlineBlock=!0;break;default:this.displayInlineBlock=!1;break}this.preventClick=!1,this.inSlideshow=this.props.baseNode.parentElement.tagName==="GALLERY-SLIDESHOW"}render(e,r){if(e.adminMode)return e.children;let{x:i,y:n,z:o}=r;return S(he,{children:[e.children,this.inSlideshow?null:S("style",{id:"draggable-item",children:`
				:host {
					${this.props.adminMode?"":`
						pointer-events: auto!important;
						-webkit-user-select: none; 
						-webkit-touch-callout: none;
					`}
					${r.dragging?"--scroll-transition: 0s all!important; cursor: grabbing;":"cursor: grab;"}
					${this.displayInlineBlock?"display: inline-block;":""}
					--drag-transform: ${r.interacted?`translate3d(${i}px, ${n}px, ${o+100}px)`:`translate(${i}px, ${n}px)`};
					${!this.props.adminMode&&r.interacted?`z-index: ${o+100};`:""}					
				}
			`})]})}onDragStart=e=>{e.preventDefault(),e.stopPropagation()};onTouchMove=e=>{e.preventDefault()};onPointerDown=e=>{if(this.props.adminMode||e.button==2||this.inSlideshow)return;this.preventClick=!1;let r=this.state.z;Od.forEach((i,n)=>{n!==this.props.baseNode&&i.state.z>r&&i.setState(o=>({z:o.z-1}))}),this.setState({x:this.state.x,y:this.state.y,z:Od.size+10,interacted:!0,dragging:!0}),this.initialPosition={x:e.clientX+-this.state.x,y:e.clientY+-this.state.y},this.mousePosition={x:e.clientX,y:e.clientY},this.accumulatedDelta=0,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)};onPointerMove=e=>{e.preventDefault();let r=e.clientX,i=e.clientY,n=Math.sqrt(Math.pow(this.mousePosition.x-r,2)+Math.pow(this.mousePosition.y-i,2));this.accumulatedDelta+=n,this.accumulatedDelta>4&&(this.preventClick=!0),this.mousePosition={x:e.clientX,y:e.clientY},this.setState({x:e.clientX-this.initialPosition.x,y:e.clientY-this.initialPosition.y})};onPointerUp=e=>{this.setState({dragging:!1}),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)};onClickCapture=e=>{this.preventClick&&(e.preventDefault(),e.stopPropagation())};bindListeners=()=>{this.props.adminMode||(this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.props.baseNode.addEventListener("pointerdown",this.onPointerDown),this.props.baseNode.addEventListener("touchmove",this.onTouchMove),this.props.baseNode.addEventListener("click",this.onClickCapture,{capture:!0}))};unbindListeners=()=>{this.props.baseNode.removeEventListener("dragstart",this.onDragStart),this.props.baseNode.removeEventListener("pointerdown",this.onPointerDown),this.props.baseNode.removeEventListener("touchmove",this.onTouchMove),this.props.baseNode.removeEventListener("click",this.onClickCapture,{capture:!0})};componentDidMount(){this.bindListeners(),Od.set(this.props.baseNode,this),this.setState({z:Od.size+10})}componentDidUpdate(e,r){e.adminMode!==this.props.adminMode&&(this.setState({x:0,y:0,z:0,interacted:!1}),this.unbindListeners(),this.bindListeners())}componentWillUnmount(){this.unbindListeners(),Od.delete(this.props.baseNode)}};hm.transformSlot="--drag-transform";$Z=Ue((t,e)=>({adminMode:t.frontendState.adminMode}))(hm),wN=$Z});var SN,hw=$(()=>{SN={"dropshadow-offset":"0rem","dropshadow-color":"rgba(0,0,0,.85)","dropshadow-blur-radius":"0rem"}});var n0e,fm,_N,EN=$(()=>{ke();n0e=ye(Pe(),1);hw();fe();fm=class extends me{constructor(e){super(e)}render(e,r){let i=this.props["dropshadow-offset"].split(" "),n=i[0],o=i.length>1?i[1]:i[0];return S(he,{children:[e.baseNode.tagName==="MEDIA-ITEM"?S("style",{children:`
                        img {
                            filter: drop-shadow(${o} ${n} ${this.props["dropshadow-blur-radius"]} ${this.props["dropshadow-color"]});
                        }
                    `}):S("style",{children:`
                        :host {
                            filter: drop-shadow(${o} ${n} ${this.props["dropshadow-blur-radius"]} ${this.props["dropshadow-color"]});
                        }
                    `}),e.children]})}};fm.defaultProps=SN;_N=fm});var c0e,mm,CN,PN=$(()=>{ke();c0e=ye(Pe(),1);fe();mm=class extends me{constructor(e){super(e)}render(e,r){return S(he,{children:[e.baseNode.tagName==="MEDIA-ITEM"?S("style",{children:`
                        img {
                            background-color: ${this.props["background-color"]};
                        }
                    `}):S("style",{children:`
                        :host {
                            background-color: ${this.props["background-color"]};
                        }
                    `}),e.children]})}};mm.defaultProps={"background-color":"rgba(0,0,0,0)"};CN=mm});var m0e,gm,IN,AN=$(()=>{ke();m0e=ye(Pe(),1);hw();fe();gm=class extends me{constructor(e){super(e)}render(e,r){let i=Object.keys(e).reduce((n,o)=>{if(o.includes("-style")){let s=o.replace("-style","");n.push({part:s,styles:e[o]?e[o].replaceAll(";","!important;"):""})}return n},[]);return S(he,{children:[S("style",{children:i.map(({part:n,styles:o})=>`[part*="${n}"] { ${o} }`)}),e.children]})}};gm.defaultProps={};IN=gm});var TN=$(()=>{});var _0e,vm,MN,RN=$(()=>{ke();_0e=ye(Pe(),1);TN();fe();vm=class extends me{constructor(e){super(e)}calculateDuration(e){return 5*(Math.max(100-Math.abs(e),5)*.01)}render(e,r){let i=this.calculateDuration(Number(this.props["blink-speed"])),n=Math.max(99.9-this.props["blink-pulse"],.1),o="steps(1)";switch(!0){case(isNaN(Number(this.props["blink-transition"]))&&this.props["blink-transition"]=="linear"):o="linear";break;case(isNaN(Number(this.props["blink-transition"]))&&this.props["blink-transition"]=="ease"):o="ease";break;case Number(this.props["blink-transition"])>0:o="ease";break}return S(he,{children:[e.children,S("style",{children:`
					:host {
						animation: ${i}s infinite ${o} blink!important;
						-webkit-animation: ${i}s infinite ${o} blink!important;
					}
					
					@keyframes blink {
						0% {
							opacity: 0;
						}
						50% {
							opacity: 1;
						}
						100% {
							opacity: 0;
						}
					}
				`})]})}};vm.defaultProps={"blink-transition":"0","blink-speed":"75","blink-pulse":"50"};MN=vm});function GZ(t){return!!t&&typeof t=="object"}function KZ(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||ZZ(t)}function ZZ(t){return t.$$typeof===XZ}function QZ(t){return Array.isArray(t)?[]:{}}function ym(t,e){return e.clone!==!1&&e.isMergeableObject(t)?bm(QZ(t),t,e):t}function JZ(t,e,r){return t.concat(e).map(function(i){return ym(i,r)})}function eQ(t,e,r){var i={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(n){i[n]=ym(t[n],r)}),Object.keys(e).forEach(function(n){!r.isMergeableObject(e[n])||!t[n]?i[n]=ym(e[n],r):i[n]=bm(t[n],e[n],r)}),i}function bm(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||JZ,r.isMergeableObject=r.isMergeableObject||jZ;var i=Array.isArray(e),n=Array.isArray(t),o=i===n;return o?i?r.arrayMerge(t,e,r):eQ(t,e,r):ym(e,r)}var jZ,YZ,XZ,kN=$(()=>{jZ=function(e){return GZ(e)&&!KZ(e)};YZ=typeof Symbol=="function"&&Symbol.for,XZ=YZ?Symbol.for("react.element"):60103;bm.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,n){return bm(i,n,r)},{})}});var tQ,wm,fw=$(()=>{tQ=typeof global=="object"&&global&&global.Object===Object&&global,wm=tQ});var rQ,iQ,Lr,to=$(()=>{fw();rQ=typeof self=="object"&&self&&self.Object===Object&&self,iQ=wm||rQ||Function("return this")(),Lr=iQ});var nQ,Fn,Dd=$(()=>{to();nQ=Lr.Symbol,Fn=nQ});function aQ(t){var e=oQ.call(t,Ld),r=t[Ld];try{t[Ld]=void 0;var i=!0}catch{}var n=sQ.call(t);return i&&(e?t[Ld]=r:delete t[Ld]),n}var NN,oQ,sQ,Ld,ON,DN=$(()=>{Dd();NN=Object.prototype,oQ=NN.hasOwnProperty,sQ=NN.toString,Ld=Fn?Fn.toStringTag:void 0;ON=aQ});function cQ(t){return uQ.call(t)}var lQ,uQ,LN,FN=$(()=>{lQ=Object.prototype,uQ=lQ.toString;LN=cQ});function hQ(t){return t==null?t===void 0?pQ:dQ:zN&&zN in Object(t)?ON(t):LN(t)}var dQ,pQ,zN,ro,gu=$(()=>{Dd();DN();FN();dQ="[object Null]",pQ="[object Undefined]",zN=Fn?Fn.toStringTag:void 0;ro=hQ});function fQ(t,e){return function(r){return t(e(r))}}var xm,mw=$(()=>{xm=fQ});var mQ,Sm,gw=$(()=>{mw();mQ=xm(Object.getPrototypeOf,Object),Sm=mQ});function gQ(t){return t!=null&&typeof t=="object"}var zn,il=$(()=>{zn=gQ});var HN=oe((j0e,qN)=>{"use strict";var BN=Array.isArray,UN=Object.keys,vQ=Object.prototype.hasOwnProperty,yQ=typeof Element<"u";function vw(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=BN(t),i=BN(e),n,o,s;if(r&&i){if(o=t.length,o!=e.length)return!1;for(n=o;n--!==0;)if(!vw(t[n],e[n]))return!1;return!0}if(r!=i)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var p=t instanceof RegExp,f=e instanceof RegExp;if(p!=f)return!1;if(p&&f)return t.toString()==e.toString();var c=UN(t);if(o=c.length,o!==UN(e).length)return!1;for(n=o;n--!==0;)if(!vQ.call(e,c[n]))return!1;if(yQ&&t instanceof Element&&e instanceof Element)return t===e;for(n=o;n--!==0;)if(s=c[n],!(s==="_owner"&&t.$$typeof)&&!vw(t[s],e[s]))return!1;return!0}return t!==t&&e!==e}qN.exports=function(e,r){try{return vw(e,r)}catch(i){if(i.message&&i.message.match(/stack|recursion/i)||i.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",i.name,i.message),!1;throw i}}});function bQ(){this.__data__=[],this.size=0}var WN,VN=$(()=>{WN=bQ});function wQ(t,e){return t===e||t!==t&&e!==e}var _m,yw=$(()=>{_m=wQ});function xQ(t,e){for(var r=t.length;r--;)if(_m(t[r][0],e))return r;return-1}var na,Fd=$(()=>{yw();na=xQ});function EQ(t){var e=this.__data__,r=na(e,t);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():_Q.call(e,r,1),--this.size,!0}var SQ,_Q,$N,jN=$(()=>{Fd();SQ=Array.prototype,_Q=SQ.splice;$N=EQ});function CQ(t){var e=this.__data__,r=na(e,t);return r<0?void 0:e[r][1]}var GN,KN=$(()=>{Fd();GN=CQ});function PQ(t){return na(this.__data__,t)>-1}var YN,XN=$(()=>{Fd();YN=PQ});function IQ(t,e){var r=this.__data__,i=na(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}var ZN,QN=$(()=>{Fd();ZN=IQ});function vu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}var oa,zd=$(()=>{VN();jN();KN();XN();QN();vu.prototype.clear=WN;vu.prototype.delete=$N;vu.prototype.get=GN;vu.prototype.has=YN;vu.prototype.set=ZN;oa=vu});function AQ(){this.__data__=new oa,this.size=0}var JN,eO=$(()=>{zd();JN=AQ});function TQ(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var tO,rO=$(()=>{tO=TQ});function MQ(t){return this.__data__.get(t)}var iO,nO=$(()=>{iO=MQ});function RQ(t){return this.__data__.has(t)}var oO,sO=$(()=>{oO=RQ});function kQ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var To,yu=$(()=>{To=kQ});function FQ(t){if(!To(t))return!1;var e=ro(t);return e==OQ||e==DQ||e==NQ||e==LQ}var NQ,OQ,DQ,LQ,Em,bw=$(()=>{gu();yu();NQ="[object AsyncFunction]",OQ="[object Function]",DQ="[object GeneratorFunction]",LQ="[object Proxy]";Em=FQ});var zQ,Cm,aO=$(()=>{to();zQ=Lr["__core-js_shared__"],Cm=zQ});function BQ(t){return!!lO&&lO in t}var lO,uO,cO=$(()=>{aO();lO=function(){var t=/[^.]+$/.exec(Cm&&Cm.keys&&Cm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();uO=BQ});function HQ(t){if(t!=null){try{return qQ.call(t)}catch{}try{return t+""}catch{}}return""}var UQ,qQ,hs,ww=$(()=>{UQ=Function.prototype,qQ=UQ.toString;hs=HQ});function XQ(t){if(!To(t)||uO(t))return!1;var e=Em(t)?YQ:VQ;return e.test(hs(t))}var WQ,VQ,$Q,jQ,GQ,KQ,YQ,dO,pO=$(()=>{bw();cO();yu();ww();WQ=/[\\^$.*+?()[\]{}|]/g,VQ=/^\[object .+?Constructor\]$/,$Q=Function.prototype,jQ=Object.prototype,GQ=$Q.toString,KQ=jQ.hasOwnProperty,YQ=RegExp("^"+GQ.call(KQ).replace(WQ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");dO=XQ});function ZQ(t,e){return t?.[e]}var hO,fO=$(()=>{hO=ZQ});function QQ(t,e){var r=hO(t,e);return dO(r)?r:void 0}var en,sa=$(()=>{pO();fO();en=QQ});var JQ,aa,Pm=$(()=>{sa();to();JQ=en(Lr,"Map"),aa=JQ});var eJ,fs,Bd=$(()=>{sa();eJ=en(Object,"create"),fs=eJ});function tJ(){this.__data__=fs?fs(null):{},this.size=0}var mO,gO=$(()=>{Bd();mO=tJ});function rJ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var vO,yO=$(()=>{vO=rJ});function sJ(t){var e=this.__data__;if(fs){var r=e[t];return r===iJ?void 0:r}return oJ.call(e,t)?e[t]:void 0}var iJ,nJ,oJ,bO,wO=$(()=>{Bd();iJ="__lodash_hash_undefined__",nJ=Object.prototype,oJ=nJ.hasOwnProperty;bO=sJ});function uJ(t){var e=this.__data__;return fs?e[t]!==void 0:lJ.call(e,t)}var aJ,lJ,xO,SO=$(()=>{Bd();aJ=Object.prototype,lJ=aJ.hasOwnProperty;xO=uJ});function dJ(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=fs&&e===void 0?cJ:e,this}var cJ,_O,EO=$(()=>{Bd();cJ="__lodash_hash_undefined__";_O=dJ});function bu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}var xw,CO=$(()=>{gO();yO();wO();SO();EO();bu.prototype.clear=mO;bu.prototype.delete=vO;bu.prototype.get=bO;bu.prototype.has=xO;bu.prototype.set=_O;xw=bu});function pJ(){this.size=0,this.__data__={hash:new xw,map:new(aa||oa),string:new xw}}var PO,IO=$(()=>{CO();zd();Pm();PO=pJ});function hJ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var AO,TO=$(()=>{AO=hJ});function fJ(t,e){var r=t.__data__;return AO(e)?r[typeof e=="string"?"string":"hash"]:r.map}var la,Ud=$(()=>{TO();la=fJ});function mJ(t){var e=la(this,t).delete(t);return this.size-=e?1:0,e}var MO,RO=$(()=>{Ud();MO=mJ});function gJ(t){return la(this,t).get(t)}var kO,NO=$(()=>{Ud();kO=gJ});function vJ(t){return la(this,t).has(t)}var OO,DO=$(()=>{Ud();OO=vJ});function yJ(t,e){var r=la(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}var LO,FO=$(()=>{Ud();LO=yJ});function wu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}var qd,Sw=$(()=>{IO();RO();NO();DO();FO();wu.prototype.clear=PO;wu.prototype.delete=MO;wu.prototype.get=kO;wu.prototype.has=OO;wu.prototype.set=LO;qd=wu});function wJ(t,e){var r=this.__data__;if(r instanceof oa){var i=r.__data__;if(!aa||i.length<bJ-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new qd(i)}return r.set(t,e),this.size=r.size,this}var bJ,zO,BO=$(()=>{zd();Pm();Sw();bJ=200;zO=wJ});function xu(t){var e=this.__data__=new oa(t);this.size=e.size}var UO,qO=$(()=>{zd();eO();rO();nO();sO();BO();xu.prototype.clear=JN;xu.prototype.delete=tO;xu.prototype.get=iO;xu.prototype.has=oO;xu.prototype.set=zO;UO=xu});function xJ(t,e){for(var r=-1,i=t==null?0:t.length;++r<i&&e(t[r],r,t)!==!1;);return t}var HO,WO=$(()=>{HO=xJ});var SJ,_w,VO=$(()=>{sa();SJ=function(){try{var t=en(Object,"defineProperty");return t({},"",{}),t}catch{}}(),_w=SJ});function _J(t,e,r){e=="__proto__"&&_w?_w(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Im,Ew=$(()=>{VO();Im=_J});function PJ(t,e,r){var i=t[e];(!(CJ.call(t,e)&&_m(i,r))||r===void 0&&!(e in t))&&Im(t,e,r)}var EJ,CJ,Am,Cw=$(()=>{Ew();yw();EJ=Object.prototype,CJ=EJ.hasOwnProperty;Am=PJ});function IJ(t,e,r,i){var n=!r;r||(r={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=i?i(r[a],t[a],a,r,t):void 0;l===void 0&&(l=t[a]),n?Im(r,a,l):Am(r,a,l)}return r}var ua,Hd=$(()=>{Cw();Ew();ua=IJ});function AJ(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}var $O,jO=$(()=>{$O=AJ});function MJ(t){return zn(t)&&ro(t)==TJ}var TJ,Pw,GO=$(()=>{gu();il();TJ="[object Arguments]";Pw=MJ});var KO,RJ,kJ,NJ,YO,XO=$(()=>{GO();il();KO=Object.prototype,RJ=KO.hasOwnProperty,kJ=KO.propertyIsEnumerable,NJ=Pw(function(){return arguments}())?Pw:function(t){return zn(t)&&RJ.call(t,"callee")&&!kJ.call(t,"callee")},YO=NJ});var OJ,Mo,Su=$(()=>{OJ=Array.isArray,Mo=OJ});function DJ(){return!1}var ZO,QO=$(()=>{ZO=DJ});var tD,JO,LJ,eD,FJ,zJ,Tm,Iw=$(()=>{to();QO();tD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,JO=tD&&typeof module=="object"&&module&&!module.nodeType&&module,LJ=JO&&JO.exports===tD,eD=LJ?Lr.Buffer:void 0,FJ=eD?eD.isBuffer:void 0,zJ=FJ||ZO,Tm=zJ});function qJ(t,e){var r=typeof t;return e=e??BJ,!!e&&(r=="number"||r!="symbol"&&UJ.test(t))&&t>-1&&t%1==0&&t<e}var BJ,UJ,rD,iD=$(()=>{BJ=9007199254740991,UJ=/^(?:0|[1-9]\d*)$/;rD=qJ});function WJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=HJ}var HJ,Mm,Aw=$(()=>{HJ=9007199254740991;Mm=WJ});function fee(t){return zn(t)&&Mm(t.length)&&!!hr[ro(t)]}var VJ,$J,jJ,GJ,KJ,YJ,XJ,ZJ,QJ,JJ,eee,tee,ree,iee,nee,oee,see,aee,lee,uee,cee,dee,pee,hee,hr,nD,oD=$(()=>{gu();Aw();il();VJ="[object Arguments]",$J="[object Array]",jJ="[object Boolean]",GJ="[object Date]",KJ="[object Error]",YJ="[object Function]",XJ="[object Map]",ZJ="[object Number]",QJ="[object Object]",JJ="[object RegExp]",eee="[object Set]",tee="[object String]",ree="[object WeakMap]",iee="[object ArrayBuffer]",nee="[object DataView]",oee="[object Float32Array]",see="[object Float64Array]",aee="[object Int8Array]",lee="[object Int16Array]",uee="[object Int32Array]",cee="[object Uint8Array]",dee="[object Uint8ClampedArray]",pee="[object Uint16Array]",hee="[object Uint32Array]",hr={};hr[oee]=hr[see]=hr[aee]=hr[lee]=hr[uee]=hr[cee]=hr[dee]=hr[pee]=hr[hee]=!0;hr[VJ]=hr[$J]=hr[iee]=hr[jJ]=hr[nee]=hr[GJ]=hr[KJ]=hr[YJ]=hr[XJ]=hr[ZJ]=hr[QJ]=hr[JJ]=hr[eee]=hr[tee]=hr[ree]=!1;nD=fee});function mee(t){return function(e){return t(e)}}var _u,Rm=$(()=>{_u=mee});var sD,Wd,gee,Tw,vee,ms,km=$(()=>{fw();sD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Wd=sD&&typeof module=="object"&&module&&!module.nodeType&&module,gee=Wd&&Wd.exports===sD,Tw=gee&&wm.process,vee=function(){try{var t=Wd&&Wd.require&&Wd.require("util").types;return t||Tw&&Tw.binding&&Tw.binding("util")}catch{}}(),ms=vee});var aD,yee,lD,uD=$(()=>{oD();Rm();km();aD=ms&&ms.isTypedArray,yee=aD?_u(aD):nD,lD=yee});function xee(t,e){var r=Mo(t),i=!r&&YO(t),n=!r&&!i&&Tm(t),o=!r&&!i&&!n&&lD(t),s=r||i||n||o,a=s?$O(t.length,String):[],l=a.length;for(var p in t)(e||wee.call(t,p))&&!(s&&(p=="length"||n&&(p=="offset"||p=="parent")||o&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||rD(p,l)))&&a.push(p);return a}var bee,wee,Nm,Mw=$(()=>{jO();XO();Su();Iw();iD();uD();bee=Object.prototype,wee=bee.hasOwnProperty;Nm=xee});function _ee(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||See;return t===r}var See,Eu,Om=$(()=>{See=Object.prototype;Eu=_ee});var Eee,cD,dD=$(()=>{mw();Eee=xm(Object.keys,Object),cD=Eee});function Iee(t){if(!Eu(t))return cD(t);var e=[];for(var r in Object(t))Pee.call(t,r)&&r!="constructor"&&e.push(r);return e}var Cee,Pee,pD,hD=$(()=>{Om();dD();Cee=Object.prototype,Pee=Cee.hasOwnProperty;pD=Iee});function Aee(t){return t!=null&&Mm(t.length)&&!Em(t)}var Dm,Rw=$(()=>{bw();Aw();Dm=Aee});function Tee(t){return Dm(t)?Nm(t):pD(t)}var Cu,Lm=$(()=>{Mw();hD();Rw();Cu=Tee});function Mee(t,e){return t&&ua(e,Cu(e),t)}var fD,mD=$(()=>{Hd();Lm();fD=Mee});function Ree(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var gD,vD=$(()=>{gD=Ree});function Oee(t){if(!To(t))return gD(t);var e=Eu(t),r=[];for(var i in t)i=="constructor"&&(e||!Nee.call(t,i))||r.push(i);return r}var kee,Nee,yD,bD=$(()=>{yu();Om();vD();kee=Object.prototype,Nee=kee.hasOwnProperty;yD=Oee});function Dee(t){return Dm(t)?Nm(t,!0):yD(t)}var Pu,Fm=$(()=>{Mw();bD();Rw();Pu=Dee});function Lee(t,e){return t&&ua(e,Pu(e),t)}var wD,xD=$(()=>{Hd();Fm();wD=Lee});function zee(t,e){if(e)return t.slice();var r=t.length,i=ED?ED(r):new t.constructor(r);return t.copy(i),i}var CD,SD,Fee,_D,ED,PD,ID=$(()=>{to();CD=typeof exports=="object"&&exports&&!exports.nodeType&&exports,SD=CD&&typeof module=="object"&&module&&!module.nodeType&&module,Fee=SD&&SD.exports===CD,_D=Fee?Lr.Buffer:void 0,ED=_D?_D.allocUnsafe:void 0;PD=zee});function Bee(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}var zm,kw=$(()=>{zm=Bee});function Uee(t,e){for(var r=-1,i=t==null?0:t.length,n=0,o=[];++r<i;){var s=t[r];e(s,r,t)&&(o[n++]=s)}return o}var AD,TD=$(()=>{AD=Uee});function qee(){return[]}var Bm,Nw=$(()=>{Bm=qee});var Hee,Wee,MD,Vee,Iu,Um=$(()=>{TD();Nw();Hee=Object.prototype,Wee=Hee.propertyIsEnumerable,MD=Object.getOwnPropertySymbols,Vee=MD?function(t){return t==null?[]:(t=Object(t),AD(MD(t),function(e){return Wee.call(t,e)}))}:Bm,Iu=Vee});function $ee(t,e){return ua(t,Iu(t),e)}var RD,kD=$(()=>{Hd();Um();RD=$ee});function jee(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}var qm,Ow=$(()=>{qm=jee});var Gee,Kee,Hm,Dw=$(()=>{Ow();gw();Um();Nw();Gee=Object.getOwnPropertySymbols,Kee=Gee?function(t){for(var e=[];t;)qm(e,Iu(t)),t=Sm(t);return e}:Bm,Hm=Kee});function Yee(t,e){return ua(t,Hm(t),e)}var ND,OD=$(()=>{Hd();Dw();ND=Yee});function Xee(t,e,r){var i=e(t);return Mo(t)?i:qm(i,r(t))}var Wm,Lw=$(()=>{Ow();Su();Wm=Xee});function Zee(t){return Wm(t,Cu,Iu)}var DD,LD=$(()=>{Lw();Um();Lm();DD=Zee});function Qee(t){return Wm(t,Pu,Hm)}var FD,zD=$(()=>{Lw();Dw();Fm();FD=Qee});var Jee,Vm,BD=$(()=>{sa();to();Jee=en(Lr,"DataView"),Vm=Jee});var ete,$m,UD=$(()=>{sa();to();ete=en(Lr,"Promise"),$m=ete});var tte,jm,qD=$(()=>{sa();to();tte=en(Lr,"Set"),jm=tte});var rte,Gm,HD=$(()=>{sa();to();rte=en(Lr,"WeakMap"),Gm=rte});var WD,ite,VD,$D,jD,GD,nte,ote,ste,ate,lte,nl,Au,Km=$(()=>{BD();Pm();UD();qD();HD();gu();ww();WD="[object Map]",ite="[object Object]",VD="[object Promise]",$D="[object Set]",jD="[object WeakMap]",GD="[object DataView]",nte=hs(Vm),ote=hs(aa),ste=hs($m),ate=hs(jm),lte=hs(Gm),nl=ro;(Vm&&nl(new Vm(new ArrayBuffer(1)))!=GD||aa&&nl(new aa)!=WD||$m&&nl($m.resolve())!=VD||jm&&nl(new jm)!=$D||Gm&&nl(new Gm)!=jD)&&(nl=function(t){var e=ro(t),r=e==ite?t.constructor:void 0,i=r?hs(r):"";if(i)switch(i){case nte:return GD;case ote:return WD;case ste:return VD;case ate:return $D;case lte:return jD}return e});Au=nl});function dte(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&cte.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var ute,cte,KD,YD=$(()=>{ute=Object.prototype,cte=ute.hasOwnProperty;KD=dte});var pte,Fw,XD=$(()=>{to();pte=Lr.Uint8Array,Fw=pte});function hte(t){var e=new t.constructor(t.byteLength);return new Fw(e).set(new Fw(t)),e}var Tu,Ym=$(()=>{XD();Tu=hte});function fte(t,e){var r=e?Tu(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var ZD,QD=$(()=>{Ym();ZD=fte});function gte(t){var e=new t.constructor(t.source,mte.exec(t));return e.lastIndex=t.lastIndex,e}var mte,JD,eL=$(()=>{mte=/\w*$/;JD=gte});function vte(t){return rL?Object(rL.call(t)):{}}var tL,rL,iL,nL=$(()=>{Dd();tL=Fn?Fn.prototype:void 0,rL=tL?tL.valueOf:void 0;iL=vte});function yte(t,e){var r=e?Tu(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var oL,sL=$(()=>{Ym();oL=yte});function zte(t,e,r){var i=t.constructor;switch(e){case Ite:return Tu(t);case bte:case wte:return new i(+t);case Ate:return ZD(t,r);case Tte:case Mte:case Rte:case kte:case Nte:case Ote:case Dte:case Lte:case Fte:return oL(t,r);case xte:return new i;case Ste:case Cte:return new i(t);case _te:return JD(t);case Ete:return new i;case Pte:return iL(t)}}var bte,wte,xte,Ste,_te,Ete,Cte,Pte,Ite,Ate,Tte,Mte,Rte,kte,Nte,Ote,Dte,Lte,Fte,aL,lL=$(()=>{Ym();QD();eL();nL();sL();bte="[object Boolean]",wte="[object Date]",xte="[object Map]",Ste="[object Number]",_te="[object RegExp]",Ete="[object Set]",Cte="[object String]",Pte="[object Symbol]",Ite="[object ArrayBuffer]",Ate="[object DataView]",Tte="[object Float32Array]",Mte="[object Float64Array]",Rte="[object Int8Array]",kte="[object Int16Array]",Nte="[object Int32Array]",Ote="[object Uint8Array]",Dte="[object Uint8ClampedArray]",Lte="[object Uint16Array]",Fte="[object Uint32Array]";aL=zte});var uL,Bte,cL,dL=$(()=>{yu();uL=Object.create,Bte=function(){function t(){}return function(e){if(!To(e))return{};if(uL)return uL(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),cL=Bte});function Ute(t){return typeof t.constructor=="function"&&!Eu(t)?cL(Sm(t)):{}}var pL,hL=$(()=>{dL();gw();Om();pL=Ute});function Hte(t){return zn(t)&&Au(t)==qte}var qte,fL,mL=$(()=>{Km();il();qte="[object Map]";fL=Hte});var gL,Wte,vL,yL=$(()=>{mL();Rm();km();gL=ms&&ms.isMap,Wte=gL?_u(gL):fL,vL=Wte});function $te(t){return zn(t)&&Au(t)==Vte}var Vte,bL,wL=$(()=>{Km();il();Vte="[object Set]";bL=$te});var xL,jte,SL,_L=$(()=>{wL();Rm();km();xL=ms&&ms.isSet,jte=xL?_u(xL):bL,SL=jte});function Xm(t,e,r,i,n,o){var s,a=e&Gte,l=e&Kte,p=e&Yte;if(r&&(s=n?r(t,i,n,o):r(t)),s!==void 0)return s;if(!To(t))return t;var f=Mo(t);if(f){if(s=KD(t),!a)return zm(t,s)}else{var c=Au(t),m=c==CL||c==ere;if(Tm(t))return PD(t,a);if(c==PL||c==EL||m&&!n){if(s=l||m?{}:pL(t),!a)return l?ND(t,wD(s,t)):RD(t,fD(s,t))}else{if(!ur[c])return n?t:{};s=aL(t,c,a)}}o||(o=new UO);var v=o.get(t);if(v)return v;o.set(t,s),SL(t)?t.forEach(function(E){s.add(Xm(E,e,r,E,t,o))}):vL(t)&&t.forEach(function(E,_){s.set(_,Xm(E,e,r,_,t,o))});var g=p?l?FD:DD:l?Pu:Cu,x=f?void 0:g(t);return HO(x||t,function(E,_){x&&(_=E,E=t[_]),Am(s,_,Xm(E,e,r,_,t,o))}),s}var Gte,Kte,Yte,EL,Xte,Zte,Qte,Jte,CL,ere,tre,rre,PL,ire,nre,ore,sre,are,lre,ure,cre,dre,pre,hre,fre,mre,gre,vre,yre,ur,Zm,zw=$(()=>{qO();WO();Cw();mD();xD();ID();kw();kD();OD();LD();zD();Km();YD();lL();hL();Su();Iw();yL();yu();_L();Lm();Fm();Gte=1,Kte=2,Yte=4,EL="[object Arguments]",Xte="[object Array]",Zte="[object Boolean]",Qte="[object Date]",Jte="[object Error]",CL="[object Function]",ere="[object GeneratorFunction]",tre="[object Map]",rre="[object Number]",PL="[object Object]",ire="[object RegExp]",nre="[object Set]",ore="[object String]",sre="[object Symbol]",are="[object WeakMap]",lre="[object ArrayBuffer]",ure="[object DataView]",cre="[object Float32Array]",dre="[object Float64Array]",pre="[object Int8Array]",hre="[object Int16Array]",fre="[object Int32Array]",mre="[object Uint8Array]",gre="[object Uint8ClampedArray]",vre="[object Uint16Array]",yre="[object Uint32Array]",ur={};ur[EL]=ur[Xte]=ur[lre]=ur[ure]=ur[Zte]=ur[Qte]=ur[cre]=ur[dre]=ur[pre]=ur[hre]=ur[fre]=ur[tre]=ur[rre]=ur[PL]=ur[ire]=ur[nre]=ur[ore]=ur[sre]=ur[mre]=ur[gre]=ur[vre]=ur[yre]=!0;ur[Jte]=ur[CL]=ur[are]=!1;Zm=Xm});function wre(t){return Zm(t,bre)}var bre,Bw,IL=$(()=>{zw();bre=4;Bw=wre});function xre(t,e){for(var r=-1,i=t==null?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}var Qm,Uw=$(()=>{Qm=xre});function _re(t){return typeof t=="symbol"||zn(t)&&ro(t)==Sre}var Sre,Mu,Jm=$(()=>{gu();il();Sre="[object Symbol]";Mu=_re});function qw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ere);var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],o=r.cache;if(o.has(n))return o.get(n);var s=t.apply(this,i);return r.cache=o.set(n,s)||o,s};return r.cache=new(qw.Cache||qd),r}var Ere,AL,TL=$(()=>{Sw();Ere="Expected a function";qw.Cache=qd;AL=qw});function Pre(t){var e=AL(t,function(i){return r.size===Cre&&r.clear(),i}),r=e.cache;return e}var Cre,ML,RL=$(()=>{TL();Cre=500;ML=Pre});var Ire,Are,Tre,kL,NL=$(()=>{RL();Ire=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Are=/\\(\\)?/g,Tre=ML(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ire,function(r,i,n,o){e.push(n?o.replace(Are,"$1"):i||r)}),e}),kL=Tre});function Rre(t){if(typeof t=="string"||Mu(t))return t;var e=t+"";return e=="0"&&1/t==-Mre?"-0":e}var Mre,OL,DL=$(()=>{Jm();Mre=1/0;OL=Rre});function zL(t){if(typeof t=="string")return t;if(Mo(t))return Qm(t,zL)+"";if(Mu(t))return FL?FL.call(t):"";var e=t+"";return e=="0"&&1/t==-kre?"-0":e}var kre,LL,FL,BL,UL=$(()=>{Dd();Uw();Su();Jm();kre=1/0,LL=Fn?Fn.prototype:void 0,FL=LL?LL.toString:void 0;BL=zL});function Nre(t){return t==null?"":BL(t)}var qL,HL=$(()=>{UL();qL=Nre});function Ore(t){return Mo(t)?Qm(t,OL):Mu(t)?[t]:zm(kL(qL(t)))}var Hw,WL=$(()=>{Uw();kw();Su();Jm();NL();DL();HL();Hw=Ore});function Fre(t){return Zm(t,Dre|Lre)}var Dre,Lre,VL,$L=$(()=>{zw();Dre=1,Lre=4;VL=Fre});function ol(){return ol=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ol.apply(this,arguments)}function zre(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function QL(t,e){if(t==null)return{};var r={},i=Object.keys(t),n,o;for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}function jL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ure(){var t=Ur(eg);return t||gb(!1),t}function Ru(t,e,r,i){i===void 0&&(i=0);for(var n=Hw(e);t&&i<n.length;)t=t[n[i++]];return i!==n.length&&!t||t===void 0?r:t}function Ww(t,e,r){for(var i=Bw(t),n=i,o=0,s=Hw(e);o<s.length-1;o++){var a=s[o],l=Ru(t,s.slice(0,o+1));if(l&&(JL(l)||Array.isArray(l)))n=n[a]=Bw(l);else{var p=s[o+1];n=n[a]=qre(p)&&Number(p)>=0?[]:{}}}return(o===0?t:n)[s[o]]===r?t:(r===void 0?delete n[s[o]]:n[s[o]]=r,o===0&&r===void 0&&delete i[s[o]],i)}function e2(t){var e=function(n){return Bt(Bre,null,function(o){return o||gb(!1),Bt(t,ol({},n,{formik:o}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",(0,ZL.default)(e,t)}var XL,ZL,eg,FEe,Bre,GL,KL,JL,qre,Hre,zEe,Wre,Vre,$re,Vw,jre,sl,YL,Gre,t2=$(()=>{kN();Ye();XL=ye(HN());wP();IL();WL();ZL=ye(Vh());$L();eg=Mn(void 0);eg.displayName="FormikContext";FEe=eg.Provider,Bre=eg.Consumer;GL=function(e){return Array.isArray(e)&&e.length===0},KL=function(e){return typeof e=="function"},JL=function(e){return e!==null&&typeof e=="object"},qre=function(e){return String(Math.floor(Number(e)))===e},Hre=function(e){return Ba.count(e)===0};zEe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?zi:Ht,Wre=Bi(function(t,e){var r=t.action,i=QL(t,["action"]),n=r??"#",o=Ure(),s=o.handleReset,a=o.handleSubmit;return Bt("form",ol({onSubmit:a,ref:e,onReset:s,action:n},i))});Wre.displayName="Form";Vre=function(e,r,i){var n=sl(e),o=n[r];return n.splice(r,1),n.splice(i,0,o),n},$re=function(e,r,i){var n=sl(e),o=n[r];return n[r]=n[i],n[i]=o,n},Vw=function(e,r,i){var n=sl(e);return n.splice(r,0,i),n},jre=function(e,r,i){var n=sl(e);return n[r]=i,n},sl=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(i){return parseInt(i)}).reduce(function(i,n){return n>i?n:i},0);return Array.from(ol({},e,{length:r+1}))}else return[]},YL=function(e,r){var i=typeof e=="function"?e:r;return function(n){if(Array.isArray(n)||JL(n)){var o=sl(n);return i(o)}return n}},Gre=function(t){zre(e,t);function e(i){var n;return n=t.call(this,i)||this,n.updateArrayField=function(o,s,a){var l=n.props,p=l.name,f=l.formik.setFormikState;f(function(c){var m=YL(a,o),v=YL(s,o),g=Ww(c.values,p,o(Ru(c.values,p))),x=a?m(Ru(c.errors,p)):void 0,E=s?v(Ru(c.touched,p)):void 0;return GL(x)&&(x=void 0),GL(E)&&(E=void 0),ol({},c,{values:g,errors:a?Ww(c.errors,p,x):c.errors,touched:s?Ww(c.touched,p,E):c.touched})})},n.push=function(o){return n.updateArrayField(function(s){return[].concat(sl(s),[VL(o)])},!1,!1)},n.handlePush=function(o){return function(){return n.push(o)}},n.swap=function(o,s){return n.updateArrayField(function(a){return $re(a,o,s)},!0,!0)},n.handleSwap=function(o,s){return function(){return n.swap(o,s)}},n.move=function(o,s){return n.updateArrayField(function(a){return Vre(a,o,s)},!0,!0)},n.handleMove=function(o,s){return function(){return n.move(o,s)}},n.insert=function(o,s){return n.updateArrayField(function(a){return Vw(a,o,s)},function(a){return Vw(a,o,null)},function(a){return Vw(a,o,null)})},n.handleInsert=function(o,s){return function(){return n.insert(o,s)}},n.replace=function(o,s){return n.updateArrayField(function(a){return jre(a,o,s)},!1,!1)},n.handleReplace=function(o,s){return function(){return n.replace(o,s)}},n.unshift=function(o){var s=-1;return n.updateArrayField(function(a){var l=a?[o].concat(a):[o];return s=l.length,l},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),s},n.handleUnshift=function(o){return function(){return n.unshift(o)}},n.handleRemove=function(o){return function(){return n.remove(o)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(jL(n)),n.pop=n.pop.bind(jL(n)),n}var r=e.prototype;return r.componentDidUpdate=function(n){this.props.validateOnChange&&this.props.formik.validateOnChange&&!(0,XL.default)(Ru(n.formik.values,n.name),Ru(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(n){var o;return this.updateArrayField(function(s){var a=s?sl(s):[];return o||(o=a[n]),KL(a.splice)&&a.splice(n,1),KL(a.every)&&a.every(function(l){return l===void 0})?[]:a},!0,!0),o},r.pop=function(){var n;return this.updateArrayField(function(o){var s=o.slice();return n||(n=s&&s.pop&&s.pop()),s},!0,!0),n},r.render=function(){var n={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},o=this.props,s=o.component,a=o.render,l=o.children,p=o.name,f=o.formik,c=QL(f,["validate","validationSchema"]),m=ol({},n,{form:c,name:p});return s?Bt(s,m):a?a(m):l?typeof l=="function"?l(m):Hre(l)?null:Ba.only(l):null},e}(me);Gre.defaultProps={validateOnChange:!0}});var i2=oe((UEe,r2)=>{var Kre="__lodash_hash_undefined__";function Yre(t){return this.__data__.set(t,Kre),this}r2.exports=Yre});var o2=oe((qEe,n2)=>{function Xre(t){return this.__data__.has(t)}n2.exports=Xre});var a2=oe((HEe,s2)=>{var Zre=Ef(),Qre=i2(),Jre=o2();function tg(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Zre;++e<r;)this.add(t[e])}tg.prototype.add=tg.prototype.push=Qre;tg.prototype.has=Jre;s2.exports=tg});var u2=oe((WEe,l2)=>{function eie(t,e){for(var r=-1,i=t==null?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}l2.exports=eie});var d2=oe((VEe,c2)=>{function tie(t,e){return t.has(e)}c2.exports=tie});var $w=oe(($Ee,p2)=>{var rie=a2(),iie=u2(),nie=d2(),oie=1,sie=2;function aie(t,e,r,i,n,o){var s=r&oie,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var p=o.get(t),f=o.get(e);if(p&&f)return p==e&&f==t;var c=-1,m=!0,v=r&sie?new rie:void 0;for(o.set(t,e),o.set(e,t);++c<a;){var g=t[c],x=e[c];if(i)var E=s?i(x,g,c,e,t,o):i(g,x,c,t,e,o);if(E!==void 0){if(E)continue;m=!1;break}if(v){if(!iie(e,function(_,D){if(!nie(v,D)&&(g===_||n(g,_,r,i,o)))return v.push(D)})){m=!1;break}}else if(!(g===x||n(g,x,r,i,o))){m=!1;break}}return o.delete(t),o.delete(e),m}p2.exports=aie});var f2=oe((jEe,h2)=>{function lie(t){var e=-1,r=Array(t.size);return t.forEach(function(i,n){r[++e]=[n,i]}),r}h2.exports=lie});var g2=oe((GEe,m2)=>{function uie(t){var e=-1,r=Array(t.size);return t.forEach(function(i){r[++e]=i}),r}m2.exports=uie});var x2=oe((KEe,w2)=>{var v2=wd(),y2=y0(),cie=Zl(),die=$w(),pie=f2(),hie=g2(),fie=1,mie=2,gie="[object Boolean]",vie="[object Date]",yie="[object Error]",bie="[object Map]",wie="[object Number]",xie="[object RegExp]",Sie="[object Set]",_ie="[object String]",Eie="[object Symbol]",Cie="[object ArrayBuffer]",Pie="[object DataView]",b2=v2?v2.prototype:void 0,jw=b2?b2.valueOf:void 0;function Iie(t,e,r,i,n,o,s){switch(r){case Pie:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Cie:return!(t.byteLength!=e.byteLength||!o(new y2(t),new y2(e)));case gie:case vie:case wie:return cie(+t,+e);case yie:return t.name==e.name&&t.message==e.message;case xie:case _ie:return t==e+"";case bie:var a=pie;case Sie:var l=i&fie;if(a||(a=hie),t.size!=e.size&&!l)return!1;var p=s.get(t);if(p)return p==e;i|=mie,s.set(t,e);var f=die(a(t),a(e),i,n,o,s);return s.delete(t),f;case Eie:if(jw)return jw.call(t)==jw.call(e)}return!1}w2.exports=Iie});var Gw=oe((YEe,S2)=>{function Aie(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}S2.exports=Aie});var Kw=oe((XEe,_2)=>{var Tie=Gw(),Mie=Co();function Rie(t,e,r){var i=e(t);return Mie(t)?i:Tie(i,r(t))}_2.exports=Rie});var C2=oe((ZEe,E2)=>{function kie(t,e){for(var r=-1,i=t==null?0:t.length,n=0,o=[];++r<i;){var s=t[r];e(s,r,t)&&(o[n++]=s)}return o}E2.exports=kie});var Yw=oe((QEe,P2)=>{function Nie(){return[]}P2.exports=Nie});var Xw=oe((JEe,A2)=>{var Oie=C2(),Die=Yw(),Lie=Object.prototype,Fie=Lie.propertyIsEnumerable,I2=Object.getOwnPropertySymbols,zie=I2?function(t){return t==null?[]:(t=Object(t),Oie(I2(t),function(e){return Fie.call(t,e)}))}:Die;A2.exports=zie});var M2=oe((eCe,T2)=>{var Bie=b0(),Uie=Bie(Object.keys,Object);T2.exports=Uie});var k2=oe((tCe,R2)=>{var qie=Af(),Hie=M2(),Wie=Object.prototype,Vie=Wie.hasOwnProperty;function $ie(t){if(!qie(t))return Hie(t);var e=[];for(var r in Object(t))Vie.call(t,r)&&r!="constructor"&&e.push(r);return e}R2.exports=$ie});var Zw=oe((rCe,N2)=>{var jie=_0(),Gie=k2(),Kie=Cd();function Yie(t){return Kie(t)?jie(t):Gie(t)}N2.exports=Yie});var D2=oe((iCe,O2)=>{var Xie=Kw(),Zie=Xw(),Qie=Zw();function Jie(t){return Xie(t,Qie,Zie)}O2.exports=Jie});var z2=oe((nCe,F2)=>{var L2=D2(),ene=1,tne=Object.prototype,rne=tne.hasOwnProperty;function ine(t,e,r,i,n,o){var s=r&ene,a=L2(t),l=a.length,p=L2(e),f=p.length;if(l!=f&&!s)return!1;for(var c=l;c--;){var m=a[c];if(!(s?m in e:rne.call(e,m)))return!1}var v=o.get(t),g=o.get(e);if(v&&g)return v==e&&g==t;var x=!0;o.set(t,e),o.set(e,t);for(var E=s;++c<l;){m=a[c];var _=t[m],D=e[m];if(i)var M=s?i(D,_,m,e,t,o):i(_,D,m,t,e,o);if(!(M===void 0?_===D||n(_,D,r,i,o):M)){x=!1;break}E||(E=m=="constructor")}if(x&&!E){var P=t.constructor,L=e.constructor;P!=L&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof L=="function"&&L instanceof L)&&(x=!1)}return o.delete(t),o.delete(e),x}F2.exports=ine});var U2=oe((oCe,B2)=>{var nne=Qs(),one=Qn(),sne=nne(one,"DataView");B2.exports=sne});var H2=oe((sCe,q2)=>{var ane=Qs(),lne=Qn(),une=ane(lne,"Promise");q2.exports=une});var V2=oe((aCe,W2)=>{var cne=Qs(),dne=Qn(),pne=cne(dne,"Set");W2.exports=pne});var j2=oe((lCe,$2)=>{var hne=Qs(),fne=Qn(),mne=hne(fne,"WeakMap");$2.exports=mne});var eF=oe((uCe,J2)=>{var Qw=U2(),Jw=_f(),ex=H2(),tx=V2(),rx=j2(),Q2=ja(),ku=m0(),G2="[object Map]",gne="[object Object]",K2="[object Promise]",Y2="[object Set]",X2="[object WeakMap]",Z2="[object DataView]",vne=ku(Qw),yne=ku(Jw),bne=ku(ex),wne=ku(tx),xne=ku(rx),al=Q2;(Qw&&al(new Qw(new ArrayBuffer(1)))!=Z2||Jw&&al(new Jw)!=G2||ex&&al(ex.resolve())!=K2||tx&&al(new tx)!=Y2||rx&&al(new rx)!=X2)&&(al=function(t){var e=Q2(t),r=e==gne?t.constructor:void 0,i=r?ku(r):"";if(i)switch(i){case vne:return Z2;case yne:return G2;case bne:return K2;case wne:return Y2;case xne:return X2}return e});J2.exports=al});var lF=oe((cCe,aF)=>{var ix=Cf(),Sne=$w(),_ne=x2(),Ene=z2(),tF=eF(),rF=Co(),iF=Rf(),Cne=kf(),Pne=1,nF="[object Arguments]",oF="[object Array]",rg="[object Object]",Ine=Object.prototype,sF=Ine.hasOwnProperty;function Ane(t,e,r,i,n,o){var s=rF(t),a=rF(e),l=s?oF:tF(t),p=a?oF:tF(e);l=l==nF?rg:l,p=p==nF?rg:p;var f=l==rg,c=p==rg,m=l==p;if(m&&iF(t)){if(!iF(e))return!1;s=!0,f=!1}if(m&&!f)return o||(o=new ix),s||Cne(t)?Sne(t,e,r,i,n,o):_ne(t,e,l,r,i,n,o);if(!(r&Pne)){var v=f&&sF.call(t,"__wrapped__"),g=c&&sF.call(e,"__wrapped__");if(v||g){var x=v?t.value():t,E=g?e.value():e;return o||(o=new ix),n(x,E,r,i,o)}}return m?(o||(o=new ix),Ene(t,e,r,i,n,o)):!1}aF.exports=Ane});var nx=oe((dCe,dF)=>{var Tne=lF(),uF=Js();function cF(t,e,r,i,n){return t===e?!0:t==null||e==null||!uF(t)&&!uF(e)?t!==t&&e!==e:Tne(t,e,r,i,cF,n)}dF.exports=cF});var hF=oe((pCe,pF)=>{var Mne=Cf(),Rne=nx(),kne=1,Nne=2;function One(t,e,r,i){var n=r.length,o=n,s=!i;if(t==null)return!o;for(t=Object(t);n--;){var a=r[n];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++n<o;){a=r[n];var l=a[0],p=t[l],f=a[1];if(s&&a[2]){if(p===void 0&&!(l in t))return!1}else{var c=new Mne;if(i)var m=i(p,f,l,t,e,c);if(!(m===void 0?Rne(f,p,kne|Nne,i,c):m))return!1}}return!0}pF.exports=One});var ox=oe((hCe,fF)=>{var Dne=Eo();function Lne(t){return t===t&&!Dne(t)}fF.exports=Lne});var gF=oe((fCe,mF)=>{var Fne=ox(),zne=Zw();function Bne(t){for(var e=zne(t),r=e.length;r--;){var i=e[r],n=t[i];e[r]=[i,n,Fne(n)]}return e}mF.exports=Bne});var sx=oe((mCe,vF)=>{function Une(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}vF.exports=Une});var bF=oe((gCe,yF)=>{var qne=hF(),Hne=gF(),Wne=sx();function Vne(t){var e=Hne(t);return e.length==1&&e[0][2]?Wne(e[0][0],e[0][1]):function(r){return r===t||qne(r,t,e)}}yF.exports=Vne});var ig=oe((vCe,wF)=>{var $ne=ja(),jne=Js(),Gne="[object Symbol]";function Kne(t){return typeof t=="symbol"||jne(t)&&$ne(t)==Gne}wF.exports=Kne});var ng=oe((yCe,xF)=>{var Yne=Co(),Xne=ig(),Zne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qne=/^\w*$/;function Jne(t,e){if(Yne(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Xne(t)?!0:Qne.test(t)||!Zne.test(t)||e!=null&&t in Object(e)}xF.exports=Jne});var EF=oe((bCe,_F)=>{var SF=Ef(),eoe="Expected a function";function ax(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(eoe);var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],o=r.cache;if(o.has(n))return o.get(n);var s=t.apply(this,i);return r.cache=o.set(n,s)||o,s};return r.cache=new(ax.Cache||SF),r}ax.Cache=SF;_F.exports=ax});var PF=oe((wCe,CF)=>{var toe=EF(),roe=500;function ioe(t){var e=toe(t,function(i){return r.size===roe&&r.clear(),i}),r=e.cache;return e}CF.exports=ioe});var AF=oe((xCe,IF)=>{var noe=PF(),ooe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,soe=/\\(\\)?/g,aoe=noe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ooe,function(r,i,n,o){e.push(n?o.replace(soe,"$1"):i||r)}),e});IF.exports=aoe});var lx=oe((SCe,TF)=>{function loe(t,e){for(var r=-1,i=t==null?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}TF.exports=loe});var DF=oe((_Ce,OF)=>{var MF=wd(),uoe=lx(),coe=Co(),doe=ig(),poe=1/0,RF=MF?MF.prototype:void 0,kF=RF?RF.toString:void 0;function NF(t){if(typeof t=="string")return t;if(coe(t))return uoe(t,NF)+"";if(doe(t))return kF?kF.call(t):"";var e=t+"";return e=="0"&&1/t==-poe?"-0":e}OF.exports=NF});var FF=oe((ECe,LF)=>{var hoe=DF();function foe(t){return t==null?"":hoe(t)}LF.exports=foe});var Vd=oe((CCe,zF)=>{var moe=Co(),goe=ng(),voe=AF(),yoe=FF();function boe(t,e){return moe(t)?t:goe(t,e)?[t]:voe(yoe(t))}zF.exports=boe});var Nu=oe((PCe,BF)=>{var woe=ig(),xoe=1/0;function Soe(t){if(typeof t=="string"||woe(t))return t;var e=t+"";return e=="0"&&1/t==-xoe?"-0":e}BF.exports=Soe});var og=oe((ICe,UF)=>{var _oe=Vd(),Eoe=Nu();function Coe(t,e){e=_oe(e,t);for(var r=0,i=e.length;t!=null&&r<i;)t=t[Eoe(e[r++])];return r&&r==i?t:void 0}UF.exports=Coe});var HF=oe((ACe,qF)=>{var Poe=og();function Ioe(t,e,r){var i=t==null?void 0:Poe(t,e);return i===void 0?r:i}qF.exports=Ioe});var VF=oe((TCe,WF)=>{function Aoe(t,e){return t!=null&&e in Object(t)}WF.exports=Aoe});var jF=oe((MCe,$F)=>{var Toe=Vd(),Moe=Tf(),Roe=Co(),koe=Td(),Noe=Mf(),Ooe=Nu();function Doe(t,e,r){e=Toe(e,t);for(var i=-1,n=e.length,o=!1;++i<n;){var s=Ooe(e[i]);if(!(o=t!=null&&r(t,s)))break;t=t[s]}return o||++i!=n?o:(n=t==null?0:t.length,!!n&&Noe(n)&&koe(s,n)&&(Roe(t)||Moe(t)))}$F.exports=Doe});var KF=oe((RCe,GF)=>{var Loe=VF(),Foe=jF();function zoe(t,e){return t!=null&&Foe(t,e,Loe)}GF.exports=zoe});var XF=oe((kCe,YF)=>{var Boe=nx(),Uoe=HF(),qoe=KF(),Hoe=ng(),Woe=ox(),Voe=sx(),$oe=Nu(),joe=1,Goe=2;function Koe(t,e){return Hoe(t)&&Woe(e)?Voe($oe(t),e):function(r){var i=Uoe(r,t);return i===void 0&&i===e?qoe(r,t):Boe(e,i,joe|Goe)}}YF.exports=Koe});var QF=oe((NCe,ZF)=>{function Yoe(t){return function(e){return e?.[t]}}ZF.exports=Yoe});var e5=oe((OCe,JF)=>{var Xoe=og();function Zoe(t){return function(e){return Xoe(e,t)}}JF.exports=Zoe});var r5=oe((DCe,t5)=>{var Qoe=QF(),Joe=e5(),ese=ng(),tse=Nu();function rse(t){return ese(t)?Qoe(tse(t)):Joe(t)}t5.exports=rse});var ux=oe((LCe,i5)=>{var ise=bF(),nse=XF(),ose=Of(),sse=Co(),ase=r5();function lse(t){return typeof t=="function"?t:t==null?ose:typeof t=="object"?sse(t)?nse(t[0],t[1]):ise(t):ase(t)}i5.exports=lse});var o5=oe((FCe,n5)=>{var use="Expected a function";function cse(t){if(typeof t!="function")throw new TypeError(use);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}n5.exports=cse});var l5=oe((zCe,a5)=>{var dse=S0(),pse=Vd(),hse=Td(),s5=Eo(),fse=Nu();function mse(t,e,r,i){if(!s5(t))return t;e=pse(e,t);for(var n=-1,o=e.length,s=o-1,a=t;a!=null&&++n<o;){var l=fse(e[n]),p=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(n!=s){var f=a[l];p=i?i(f,l,a):void 0,p===void 0&&(p=s5(f)?f:hse(e[n+1])?[]:{})}dse(a,l,p),a=a[l]}return t}a5.exports=mse});var c5=oe((BCe,u5)=>{var gse=og(),vse=l5(),yse=Vd();function bse(t,e,r){for(var i=-1,n=e.length,o={};++i<n;){var s=e[i],a=gse(t,s);r(a,s)&&vse(o,yse(s,t),a)}return o}u5.exports=bse});var p5=oe((UCe,d5)=>{var wse=Gw(),xse=If(),Sse=Xw(),_se=Yw(),Ese=Object.getOwnPropertySymbols,Cse=Ese?function(t){for(var e=[];t;)wse(e,Sse(t)),t=xse(t);return e}:_se;d5.exports=Cse});var f5=oe((qCe,h5)=>{var Pse=Kw(),Ise=p5(),Ase=Nf();function Tse(t){return Pse(t,Ase,Ise)}h5.exports=Tse});var g5=oe((HCe,m5)=>{var Mse=lx(),Rse=ux(),kse=c5(),Nse=f5();function Ose(t,e){if(t==null)return{};var r=Mse(Nse(t),function(i){return[i]});return e=Rse(e),kse(t,r,function(i,n){return e(i,n[0])})}m5.exports=Ose});var y5=oe((WCe,v5)=>{var Dse=ux(),Lse=o5(),Fse=g5();function zse(t,e){return Fse(t,Lse(Dse(e)))}v5.exports=zse});var b5,w5,cx,Bse,x5=$(()=>{Ye();t2();b5=ye(y5()),w5=ye(Pe()),cx=class extends ze.Component{render(){return null}componentDidUpdate(e){if(!w5.default.isEqual(e.formik.initialValues,this.props.formik.initialValues))return;let r=(0,b5.default)(this.props.formik.values,function(i,n){return e.formik.values[n]===i});Object.keys(r).length>0&&this.props.onChange(r,this.props.formik)}},Bse=e2(cx)});var S5=$(()=>{});var Use,_5=$(()=>{Use=ye(Pe())});var $d=$(()=>{x5();Fe();S5();_5();ea()});var E5=oe((QCe,dx)=>{(function(){function t(g,x){document.addEventListener?g.addEventListener("scroll",x,!1):g.attachEvent("scroll",x)}function e(g){document.body?g():document.addEventListener?document.addEventListener("DOMContentLoaded",function x(){document.removeEventListener("DOMContentLoaded",x),g()}):document.attachEvent("onreadystatechange",function x(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",x),g())})}function r(g){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(g)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function i(g,x){g.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+x+";"}function n(g){var x=g.g.offsetWidth,E=x+100;return g.j.style.width=E+"px",g.i.scrollLeft=E,g.h.scrollLeft=g.h.scrollWidth+100,g.l!==x?(g.l=x,!0):!1}function o(g,x){function E(){var D=_;n(D)&&D.g.parentNode!==null&&x(D.l)}var _=g;t(g.h,E),t(g.i,E),n(g)}function s(g,x,E){x=x||{},E=E||window,this.family=g,this.style=x.style||"normal",this.weight=x.weight||"normal",this.stretch=x.stretch||"normal",this.context=E}var a=null,l=null,p=null,f=null;function c(g){return l===null&&(m(g)&&/Apple/.test(window.navigator.vendor)?(g=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!g&&603>parseInt(g[1],10)):l=!1),l}function m(g){return f===null&&(f=!!g.document.fonts),f}function v(g,x){var E=g.style,_=g.weight;if(p===null){var D=document.createElement("div");try{D.style.font="condensed 100px sans-serif"}catch{}p=D.style.font!==""}return[E,_,p?g.stretch:"","100px",x].join(" ")}s.prototype.load=function(g,x){var E=this,_=g||"BESbswy",D=0,M=x||3e3,P=new Date().getTime();return new Promise(function(L,I){if(m(E.context)&&!c(E.context)){var q=new Promise(function(F,W){function U(){new Date().getTime()-P>=M?W(Error(""+M+"ms timeout exceeded")):E.context.document.fonts.load(v(E,'"'+E.family+'"'),_).then(function(Z){1<=Z.length?F():setTimeout(U,25)},W)}U()}),N=new Promise(function(F,W){D=setTimeout(function(){W(Error(""+M+"ms timeout exceeded"))},M)});Promise.race([N,q]).then(function(){clearTimeout(D),L(E)},I)}else e(function(){function F(){var ae;(ae=ie!=-1&&le!=-1||ie!=-1&&G!=-1||le!=-1&&G!=-1)&&((ae=ie!=le&&ie!=G&&le!=G)||(a===null&&(ae=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!ae&&(536>parseInt(ae[1],10)||parseInt(ae[1],10)===536&&11>=parseInt(ae[2],10))),ae=a&&(ie==K&&le==K&&G==K||ie==Q&&le==Q&&G==Q||ie==re&&le==re&&G==re)),ae=!ae),ae&&(ee.parentNode!==null&&ee.parentNode.removeChild(ee),clearTimeout(D),L(E))}function W(){if(new Date().getTime()-P>=M)ee.parentNode!==null&&ee.parentNode.removeChild(ee),I(Error(""+M+"ms timeout exceeded"));else{var ae=E.context.document.hidden;(ae===!0||ae===void 0)&&(ie=U.g.offsetWidth,le=Z.g.offsetWidth,G=J.g.offsetWidth,F()),D=setTimeout(W,50)}}var U=new r(_),Z=new r(_),J=new r(_),ie=-1,le=-1,G=-1,K=-1,Q=-1,re=-1,ee=document.createElement("div");ee.dir="ltr",i(U,v(E,"sans-serif")),i(Z,v(E,"serif")),i(J,v(E,"monospace")),ee.appendChild(U.g),ee.appendChild(Z.g),ee.appendChild(J.g),E.context.document.body.appendChild(ee),K=U.g.offsetWidth,Q=Z.g.offsetWidth,re=J.g.offsetWidth,W(),o(U,function(ae){ie=ae,F()}),i(U,v(E,'"'+E.family+'",sans-serif')),o(Z,function(ae){le=ae,F()}),i(Z,v(E,'"'+E.family+'",serif')),o(J,function(ae){G=ae,F()}),i(J,v(E,'"'+E.family+'",monospace'))})})},typeof dx=="object"?dx.exports=s:(window.FontFaceObserver=s,window.FontFaceObserver.prototype.load=s.prototype.load)})()});var ePe,C5,jd,px,P5,I5=$(()=>{ke();ePe=ye(Pe(),1);$d();C5=ye(E5(),1);Ar();fe();Ge.isServer||(jd=new ResizeObserver(function(t){t.forEach(function(e){Pt(e.target,"parentResize",null,{bubbles:!1})})}));px=class extends me{constructor(e){super(e),this.state={parentWidth:null,width:null,scale:1,fontFamily:null},this.observer=null,this.timeout=null,this.iterations=0,this.iterationLimit=24,this.iterationFalloff=12,this.maxScale=2e3,this.fitTextRef=Se()}render(e,r){let i=!!e.baseNode?.getAttribute("style")?.includes("line-height"),n=window.getComputedStyle(e.baseNode),o=n.letterSpacing,s=n.direction,a="0px";return o.includes("-")&&(a=o.replace("-","")),S(he,{children:[S("span",{ref:this.fitTextRef,class:"fit-text",children:e.children}),S("style",{children:`
					:host { 
                        min-width: 1px;
                        box-sizing:border-box;
                        white-space: nowrap!important;
                        display: inline-block!important;
                        --font-scale: ${this.state.scale}!important;
                        ${i?"":"line-height: 1!important;"}
                        animation: none!important;
                        will-change: transform;
                        --rotate-transform: 0deg!important;
                    }
                    .fit-text {
                        padding${s==="ltr"?"-right":"-left"}: ${a}!important;
                    }
				`})]})}locateFitText=()=>{if(!this.props.baseNode||!this.fitTextRef.current||!this.props.baseNode.parentElement)return;let e=this.props.baseNode.closest(".overlay-content");if(e&&e.classList.contains("overlay-animating"))return;this.fitTextRef.current.classList.remove("fit-text");let r=this.props.baseNode.getBoundingClientRect().width;this.fitTextRef.current.classList.add("fit-text"),this.setState({parentWidth:this.props.baseNode.parentElement.getBoundingClientRect().width,width:r})};onParentResize=e=>{this.locateFitText()};handleFontLoad=()=>{this.timeout=setTimeout(()=>{this.locateFitText()},200)};handleAnimationEnd=e=>{e.target.classList.contains("overlay-content")&&this.locateFitText()};refreshFontFamily=()=>{let r=window.getComputedStyle(this.props.baseNode).fontFamily.split(",");r=r.map(i=>i.trim()),r=r.map(i=>i.replace(/['"]+/g,"")),r[0]!==this.state.fontFamily&&this.setState({fontFamily:r[0]})};componentDidMount(){this.state.fontFamily||this.refreshFontFamily(),this.props.baseNode.parentElement&&(jd.observe(this.props.baseNode.parentElement),yt(this.props.baseNode.parentElement,"parentResize",this.onParentResize)),this.observer=new MutationObserver(r=>{r.some(n=>{if(!n.target.classList.contains("page")&&Ge.closest(this.props.baseNode,o=>o==n.target)||n.type==="attributes"&&n.attributeName==="uses"&&n.target?.getAttribute("uses")?.includes("fit-text")===!0)return!0;if(n.target.tagName==="STYLE")return n.target.textContent.includes("font-family")&&this.refreshFontFamily(),!0})&&(this.iterations=0,this.locateFitText())}),this.observer.observe(document,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("keyup",this.handleKeyup);let e=this.props.baseNode?.closest(".overlay-content");e&&e.addEventListener("animationend",this.handleAnimationEnd),this.locateFitText()}handleKeyup=e=>{if(!window.CargoEditor?.getActiveEditor?.())return;let r=window.CargoEditor.getActiveRange();(r.startContainer===this.props.baseNode||r.startContainer.parentElement===this.props.baseNode)&&this.locateFitText()};componentWillUnmount(){this.props.baseNode.parentElement&&(jd.unobserve(this.props.baseNode.parentElement),wt(this.props.baseNode.parentElement,"parentResize",this.onParentResize)),this.observer.disconnect(),window.removeEventListener("keyup",this.handleKeyup);let e=this.props.baseNode?.closest(".overlay-content");e&&e.removeEventListener("animationend",this.handleAnimationEnd),clearTimeout(this.timeout)}componentDidUpdate(e,r){if(r.fontFamily!==this.state.fontFamily){let i=new C5.default(this.state.fontFamily);this.iterations=0,i.load().then(()=>{this.handleFontLoad()}).catch(()=>{this.handleFontLoad()})}if(r.scale!==this.state.scale){let i=this.state.scale-r.scale;if(Math.abs(i)>.1&&Number.isFinite(i)&&this.state.width>0&&this.state.parentWidth>0){this.locateFitText();return}}if(r.parentWidth!==this.state.parentWidth||r.width!==this.state.width){r.parentWidth!==this.state.parentWidth&&(this.iterations=0);let i=Math.min(this.maxScale,this.state.parentWidth/(this.state.width/this.state.scale)),n=i-this.state.scale,o=this.iterationFalloff,s=Math.max(0,this.iterations-o)/(this.iterationLimit-o);this.iterations<this.iterationLimit&&Number.isFinite(i)&&Math.abs(n)>0&&this.state.width>0&&this.state.parentWidth>0&&this.setState(a=>({scale:i*(1-s)+a.scale*s}),()=>{this.iterations++})}e.baseNode!==this.props.baseNode&&(this.iterations=0,e.baseNode.parentElement&&(jd.unobserve(e.baseNode.parentElement),wt(e.baseNode.parentElement,"parentResize",this.onParentResize)),this.props.baseNode.parentElement&&(jd.observe(this.props.baseNode.parentElement),yt(this.props.baseNode.parentElement,"parentResize",this.onParentResize)),this.locateFitText())}},P5=px});var hx,Ou,Gd,ca,fx,sg,ll=$(()=>{ke();Ye();hx=ye(Pe(),1);Fe();Jn();Ar();gt();sN();uN();fN();bN();xN();EN();PN();AN();RN();I5();Io();fe();Ou=new Set,Gd=class extends me{constructor(e){switch(super(e),de||(this.observer=new MutationObserver(this.onAttributeChange)),this.usesOrder=["dropshadow","drag","fit-text","blink","rotation","eye-roll","scroll-transition","flying-object","inline-part-styles"],this.state={attributes:this.getAttributes()},this.usesKeys={rotation:lN,"eye-roll":oN,drag:wN,"scroll-transition":yN,"flying-object":hN,dropshadow:_N,background:CN,"inline-part-styles":IN,blink:MN,"fit-text":P5},this.props.baseNode.tagName){case"DIV":case"SPAN":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":this.displayInlineBlock=!0;break;default:this.displayInlineBlock=!1;break}}render(e,r){let i=e.customElementMode?this.props.children:S("slot",{});if(r.attributes.uses.length==0)return S(he,{children:[S("style",{id:"uses-host",children:`
			:host {
				transform-origin: center center;
				transform: var(--base-translate, translate(0));
			}
			`}),i]},"uses-fragment");let n=[];r.attributes.uses.forEach((a,l)=>{this.usesKeys[a]&&this.usesKeys[a].transformSlot&&n.push(this.usesKeys[a].transformSlot)}),r.attributes.uses.forEach((a,l)=>{this.usesKeys[a]&&(i=Bt(this.props.customElementMode?this.usesKeys[a]:Po(this.usesKeys[a]),{...this.state.attributes,...this.props,lowestLevel:l==0,baseNode:this.props.baseNode,children:i,transformSlots:n}))});let o=!!r.attributes.uses.includes("fit-text"),s=S(he,{children:[this.props.adminMode&&!e.customElementMode&&o===!1&&S(Jr,{baseNode:this.props.baseNode}),S("style",{id:"uses-host",children:`
			:host(span){
				display: inline-block;
			}

			:host {
				position: relative;
				transform-origin: center center;
				transform: var(--base-translate, translate(0)) ${n.map(a=>`var(${a}, translate(0))`).join(" ")};
				${this.displayInlineBlock?"display: inline-block;":""}
			}

			${this.props.adminMode&&!e.customElementMode&&o===!1?`:host::selection {
				background: none;
			}`:""}
			`}),i]},"uses-fragment");return e.customElementMode?s:it(s,this.props.baseNode.shadowRoot)}componentDidMount(){this.observer?.observe(this.props.baseNode,{attributes:!0})}componentDidUpdate(e,r){(e.uses!==this.props.uses||e.forceScrollTransition!==this.props.forceScrollTransition)&&this.setState({attributes:this.getAttributes()})}componentWillUnmount(){this.observer?.disconnect()}getAttributes=()=>{let e={};for(let[i,n]of Object.entries(this.state?.attributes||{}))e[i]=void 0;let r=[...this.props.baseNode.attributes].reduce((i,n)=>(i[n.name]=n.value,i),{});for(let[i,n]of Object.entries(r))n==="false"?r[i]=!1:n==="true"&&(r[i]=!0);return this.props.customElementMode&&(r.uses=(r.uses||"")+" "+this.props.uses),this.props.forceScrollTransition&&!r.uses.includes("scroll-transition")&&r["disable-scroll-animation"]!==!0&&(this.props.baseNode.tagName=="MEDIA-ITEM"||this.props.baseNode.tagName=="GALLERY-SLIDESHOW")&&(r.uses+=" scroll-transition"),r.uses=r.uses?.split(" ")||[],r.uses=hx.default.uniq(r.uses),r.uses.sort((i,n)=>this.usesOrder.indexOf(i)<this.usesOrder.indexOf(n)?-1:1),{...e,...r}};onAttributeChange=e=>{if(!e.some(n=>n.attributeName!=="style"&&n.attributeName!=="class"))return;let i=this.getAttributes();if(i.uses.length===0){if(this.props.removeFromUseList&&!this.props.customElementMode){this.props.removeFromUseList(this.props.baseNode);return}}else hx.default.isEqual(this.state.attributes,i)||this.setState({attributes:i})}};Gd.defaultProps={uses:[]};ca=Ue((t,e)=>{let r=t?.css?.stylesheet,i=t?.pages?.byId[e?.pageInfo?.pid]?.local_css;return{forceScrollTransition:!!(r?.includes("--scroll-animation:")||i?.includes("--scroll-animation:"))}},null)(Gd),fx=class extends me{constructor(e){super(e),this.mutationsList=[],this.hasRunFirstMutationSummary=!1,!de&&!this.props.customElementMode&&(this.observer=new MutationObserver(this.onMutation))}render(){return this.props.children}componentDidMount(){this.props.bodycopyRef.current&&(this.onSummary(),this.observer?.observe(this.props.bodycopyRef.current,{attributes:!0,subtree:!0,childList:!0,attributeFilter:["uses"]}))}componentWillUnmount(){this.observer?.disconnect(),cancelAnimationFrame(this.onSummaryAnimationFrame),this.props.bodycopyRef.current&&Array.from(this.props.bodycopyRef.current.querySelectorAll("[uses]")).forEach(this.removeFromUseList)}onMutation=()=>{this.ticking||(this.ticking=!0,this.onSummaryAnimationFrame=requestAnimationFrame(()=>{this.onSummary(),this.ticking=!1}))};onSummary=()=>{if(!this.props.bodycopyRef.current)return;let e=Array.from(this.props.bodycopyRef.current.querySelectorAll("[uses]")),r=e.filter(n=>!Ou.has(n));Array.from(Ou).filter(n=>!n.hasAttribute("uses")||e.includes(n)).forEach(this.removeFromUseList),r.forEach(this.addToUseList)};addToUseList=e=>{if(!(e.nodeType!==Node.ELEMENT_NODE||window.customElements.get(e.tagName.toLowerCase()))){if(!e.shadowRoot)try{e.attachShadow({mode:"open"})}catch{CargoEditor?.mutationManager?.execute(()=>{let i={};e.hasAttribute("uses")&&(i.uses=e.getAttribute("uses")),e.hasAttribute("rotation")&&(i.rotation=e.getAttribute("rotation")),e.hasAttribute("animate")&&(i.animate=e.getAttribute("animate")),e.hasAttribute("scroll-transition")&&(i["scroll-transition"]=e.getAttribute("scroll-transition"));let n=document.createElement("span");for(let s in i)n.setAttribute(s,i[s]);e.parentNode.insertBefore(n,e);let o=CargoEditor?.getActiveRange();CargoEditor.helpers.movePreservingRanges(e,n,-1,o),n.attachShadow({mode:"open"}),e.removeAttribute("scroll-transition"),e.removeAttribute("uses"),e.removeAttribute("animate"),e.removeAttribute("rotation"),e=n});return}if(!Ou.has(e)){Ou.add(e);let r={component:S(Gd,{customElementMode:!1,baseNode:e,adminMode:this.props.adminMode,removeFromUseList:this.removeFromUseList}),element:e,portalHost:null};Pt(e,"custom-element-connected",r),this.portalHost=r.portalHost}}};removeFromUseList=e=>{let r=this.props.bodycopyRef.current&&this.props.bodycopyRef.current.contains(e),i=e.hasAttribute("uses");if(!r&&this.props.bodycopyRef.current)Pt(this.props.bodycopyRef.current,"custom-element-disconnected",{component:null,element:e,portalHost:this.portalHost}),Ou.delete(e);else if(!i&&(Pt(e,"custom-element-disconnected",{component:null,element:e,portalHost:this.portalHost}),Ou.delete(e),r&&e.shadowRoot))if(CargoEditor?.mutationManager)CargoEditor?.mutationManager?.execute(()=>{let n=document.createElement("div");n.innerHTML=e.outerHTML,e.replaceWith(n.childNodes[0])},{preventDraft:!0});else{let n=document.createElement("div");n.innerHTML=e.outerHTML,e.replaceWith(n.childNodes[0])}}},sg=fx});var Kd={};mr(Kd,{default:()=>Hse});var mx,Hse,A5=$(()=>{Fe();mx={name:"wallpaper",excludeFromShuffle:!0,options:[{labelName:"Image",name:"activeImage",type:"image",value:"default"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"image-fit",type:"radio",value:"fill",values:[{labelName:"Fill Window",value:"fill"},{labelName:"Fit Window",value:"fit"}]},{labelName:"Display as Slideshow",name:"cycle-group",type:"details-menu",toggle:{name:"cycle-images",type:"check-box",value:!1},children:[{labelName:void 0,name:"transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"}]},{labelName:"Autoplay",name:"autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"autoplay-delay",type:"range-input",value:3,min:0,max:20,step:.1},{labelName:"Transition Speed",name:"transition-speed",type:"range-input",value:.8,min:0,max:10,step:.1},{labelName:"Randomize Order",name:"shuffle",type:"check-box",value:!1},{labelName:"Navigation",name:"navigation",type:"check-box",value:!1}]},{labelName:"Opacity",name:"opacity",type:"range-input",value:1,min:0,max:1,step:.01,excludeFromShuffle:!0},{type:"color",labelName:"Background Color",name:"bg-color",value:"transparent",showField:!0},{labelName:"Margin",name:"margin",type:"scrubber",value:"0",addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",allowedUnits:["px","%","em","rem","vmin","vmax","vw","vh"],excludeFromShuffle:!0,min:0,max:{"%":50,vh:50,vw:50,vmin:100,vmax:50}},{name:"alignments",type:"custom",value:null}]};mx.defaults=pt(mx.options);Hse=mx});var Yd={};mr(Yd,{default:()=>Wse});var ag,Wse,T5=$(()=>{Fe();ag={name:"gradient",options:[{type:"custom",name:"gradient-preset"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{name:"gradient-type",type:"radio",value:"linear",values:[{labelName:"Linear",value:"linear"},{labelName:"Radial",value:"radial"}]},{type:"checkbox-color",checkbox:{labelName:"Color One",name:"color-one-active",type:"check-box",value:!0},color:{type:"color",labelName:"Color One",name:"color-one",value:"#f2c409",requirements:[{option:"color-one-active",shouldBe:!0}]}},{type:"checkbox-color",checkbox:{labelName:"Color Two",name:"color-two-active",type:"check-box",value:!1},color:{type:"color",labelName:"Color Two",name:"color-two",value:"#02ff00",requirements:[{option:"color-two-active",shouldBe:!0}]}},{type:"checkbox-color",checkbox:{labelName:"Color Three",name:"color-three-active",type:"check-box",value:!0},color:{type:"color",labelName:"Color Three",name:"color-three",value:"#fe2201",requirements:[{option:"color-three-active",shouldBe:!0}]}},{type:"spacer"},{type:"group",className:"grid-columns-even",requirements:[{option:"gradient-type",shouldBe:"radial"}],children:[{labelName:"X",name:"pos-x",type:"scrubber",numberOnlyMode:!0,suffix:"%",requirements:[{option:"gradient-type",shouldBe:"radial"}],value:0,min:-150,max:150,step:.5},{labelName:"Y",name:"pos-y",type:"scrubber",numberOnlyMode:!0,suffix:"%",requirements:[{option:"gradient-type",shouldBe:"radial"}],value:0,min:-150,max:150,step:.5}]},{labelName:"Rotation",name:"rotation",type:"scrubber",suffix:"\xB0",requirements:[{option:"gradient-type",shouldBe:"linear"}],loopValues:!0,numberOnlyMode:!0,value:0,min:0,max:360,step:1},{labelName:"Smoothness",name:"smoothness",type:"scrubber",numberOnlyMode:!0,suffix:"%",value:50,min:0,max:100,step:.1},{labelName:"Scale",name:"scale",type:"scrubber",numberOnlyMode:!0,suffix:"%",value:50,min:.1,max:100,step:.1},{type:"group",className:"grid-columns-even",children:[{labelName:"Repeat",name:"repeat",type:"check-box",value:!1},{labelName:"Animation",name:"animation-speed",type:"range-input",requirements:[{option:"repeat",shouldBe:!0}],renderWhenDisabled:!0,value:0,min:-100,max:100,step:1}]}]};ag.defaults=pt(ag.options);ag.customShuffle=t=>{let e={...t},r=Math.floor(Math.random()*256),i=Math.floor(Math.random()*256),n=Math.floor(Math.random()*256);switch(Math.floor(Math.random()*20)){case 0:r=i=n=0;break;case 1:r=i=n=255;break;case 2:case 3:r=i=n;break}e["color-one"]="rgb("+r+", "+i+", "+n+")";let s=[];if(Math.random()>.3)for(var a=0;a<3;a++)s.push(Math.random()*240+-120);else s[0]=s[1]=s[2]=Math.random()*240+-120;let l=Math.floor(r+s[0]+1024)%256,p=Math.floor(i+s[1]+1024)%256,f=Math.floor(n+s[2]+1024)%256;e["color-two"]="rgb("+l+", "+p+", "+f+")";let c=Math.floor((r+s[0]+1024)*2)%256,m=Math.floor((i+s[1]+1024)*2)%256,v=Math.floor((n+s[2]+1024)*2)%256;return e["color-three"]="rgb("+c+", "+m+", "+v+")",e["color-one-active"]=!0,Math.random()>.4?(e["color-two-active"]=!0,e["color-three-active"]=!0):Math.random()>.4?(e["color-two-active"]=!0,e["color-three-active"]=!1):e["color-three-active"]=!0,Math.random()>.5&&(e["animation-speed"]=0),Math.random()>.5&&(e.rotation=Math.round(e.rotation/45)*45),Math.random()>.5&&(e["pos-x"]=0),Math.random()>.5&&(e["pos-y"]=0),Math.random()>.8&&(e.smoothness=100),e};Wse=ag});var vx={};mr(vx,{default:()=>$se,onChangeCustom:()=>Vse});var RPe,Vse,gx,$se,M5=$(()=>{Fe();RPe=ye(Pe()),Vse=(t,e,r)=>{let i={};for(let[o,s]of Object.entries(e))t[o]!=s&&(i[o]=s);let n=JSON.parse(e.filters);for(let[o,s]of Object.entries(i))switch(o){case"filters":r.UpdateFilters(n);break;case"rgb":case"film":case"badtv":r.ToggleComponent(n);break;case"image":r.UpdateImage(s);break;default:r.UpdateSettings(e)}},gx={name:"badtv",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Bad TV",name:"badtv-group",type:"details-menu",toggle:{name:"badtv",type:"check-box",value:!0},children:[{name:"distortion",labelName:"Thick Distortion",type:"range-input",value:3,min:.1,max:10,step:.1,interactive:!0,noisePosn:1,randMin:2.8,randMax:3.2,randRange:"low"},{name:"distortion2",labelName:"Fine Distortion",type:"range-input",value:1,min:.1,max:10,step:.1,noisePosn:20,randMin:1,randMax:5,automate:!0},{name:"speed",labelName:"Distortion Speed",type:"range-input",value:.1,min:0,max:.3,step:.01,noisePosn:40,randMin:0,randMax:.1,randRange:"low"},{name:"rollSpeed",labelName:"Roll Speed",type:"range-input",value:.05,min:0,max:.2,step:.01,noisePosn:50,randMin:0,randMax:.6,randRange:"low"}]},{labelName:"RGB Shift",name:"rgb-group",type:"details-menu",toggle:{name:"rgb",type:"check-box",value:!0},children:[{name:"amount",labelName:"Amount",type:"range-input",value:.005,min:0,max:.1,step:.001,interactive:!0,noisePosn:60,randMin:0,randMax:.025,randRange:"low"},{name:"angle",labelName:"Angle",type:"range-input",value:0,min:0,max:6.28,step:.01,noisePosn:80,randMin:0,randMax:6.28,automate:!0}]},{labelName:"Scanlines",name:"film-group",type:"details-menu",toggle:{name:"film",type:"check-box",value:!0},children:[{name:"sCount",labelName:"Amount",value:800,type:"range-input",min:400,max:1e3,step:1,noisePosn:90,randMin:650,randMax:1e3,randRange:"high"},{name:"sIntensity",labelName:"Strength",value:.95,type:"range-input",min:0,max:2,step:.01},{name:"nIntensity",labelName:"Noise",value:.28,type:"range-input",min:0,max:2,step:.01}]},{type:"spacer"},{labelName:"Automate",name:"automate",type:"check-box",value:!1},{labelName:"Interactive",name:"interactive",type:"check-box",value:!1}]};gx.defaults=pt(gx.options);$se=gx});function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function qe(t,e){if(t=t||"",e=e||{},t instanceof qe)return t;if(!(this instanceof qe))return new qe(t,e);var r=Kse(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}function Kse(t){var e={r:0,g:0,b:0},r=1,i=null,n=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=fae(t)),lg(t)=="object"&&(gs(t.r)&&gs(t.g)&&gs(t.b)?(e=Yse(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):gs(t.h)&&gs(t.s)&&gs(t.v)?(i=Xd(t.s),n=Xd(t.v),e=Zse(t.h,i,n),s=!0,a="hsv"):gs(t.h)&&gs(t.s)&&gs(t.l)&&(i=Xd(t.s),o=Xd(t.l),e=Xse(t.h,i,o),s=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=F5(r),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function Yse(t,e,r){return{r:gr(t,255)*255,g:gr(e,255)*255,b:gr(r,255)*255}}function R5(t,e,r){t=gr(t,255),e=gr(e,255),r=gr(r,255);var i=Math.max(t,e,r),n=Math.min(t,e,r),o,s,a=(i+n)/2;if(i==n)o=s=0;else{var l=i-n;switch(s=a>.5?l/(2-i-n):l/(i+n),i){case t:o=(e-r)/l+(e<r?6:0);break;case e:o=(r-t)/l+2;break;case r:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function Xse(t,e,r){var i,n,o;t=gr(t,360),e=gr(e,100),r=gr(r,100);function s(p,f,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?p+(f-p)*6*c:c<1/2?f:c<2/3?p+(f-p)*(2/3-c)*6:p}if(e===0)i=n=o=r;else{var a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;i=s(l,a,t+1/3),n=s(l,a,t),o=s(l,a,t-1/3)}return{r:i*255,g:n*255,b:o*255}}function k5(t,e,r){t=gr(t,255),e=gr(e,255),r=gr(r,255);var i=Math.max(t,e,r),n=Math.min(t,e,r),o,s,a=i,l=i-n;if(s=i===0?0:l/i,i==n)o=0;else{switch(i){case t:o=(e-r)/l+(e<r?6:0);break;case e:o=(r-t)/l+2;break;case r:o=(t-e)/l+4;break}o/=6}return{h:o,s,v:a}}function Zse(t,e,r){t=gr(t,360)*6,e=gr(e,100),r=gr(r,100);var i=Math.floor(t),n=t-i,o=r*(1-e),s=r*(1-n*e),a=r*(1-(1-n)*e),l=i%6,p=[r,s,o,o,a,r][l],f=[a,r,r,s,o,o][l],c=[o,o,a,r,r,s][l];return{r:p*255,g:f*255,b:c*255}}function N5(t,e,r,i){var n=[no(Math.round(t).toString(16)),no(Math.round(e).toString(16)),no(Math.round(r).toString(16))];return i&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function Qse(t,e,r,i,n){var o=[no(Math.round(t).toString(16)),no(Math.round(e).toString(16)),no(Math.round(r).toString(16)),no(z5(i))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function O5(t,e,r,i){var n=[no(z5(i)),no(Math.round(t).toString(16)),no(Math.round(e).toString(16)),no(Math.round(r).toString(16))];return n.join("")}function Jse(t,e){e=e===0?0:e||10;var r=qe(t).toHsl();return r.s-=e/100,r.s=ug(r.s),qe(r)}function eae(t,e){e=e===0?0:e||10;var r=qe(t).toHsl();return r.s+=e/100,r.s=ug(r.s),qe(r)}function tae(t){return qe(t).desaturate(100)}function rae(t,e){e=e===0?0:e||10;var r=qe(t).toHsl();return r.l+=e/100,r.l=ug(r.l),qe(r)}function iae(t,e){e=e===0?0:e||10;var r=qe(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),qe(r)}function nae(t,e){e=e===0?0:e||10;var r=qe(t).toHsl();return r.l-=e/100,r.l=ug(r.l),qe(r)}function oae(t,e){var r=qe(t).toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,qe(r)}function sae(t){var e=qe(t).toHsl();return e.h=(e.h+180)%360,qe(e)}function D5(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=qe(t).toHsl(),i=[qe(t)],n=360/e,o=1;o<e;o++)i.push(qe({h:(r.h+o*n)%360,s:r.s,l:r.l}));return i}function aae(t){var e=qe(t).toHsl(),r=e.h;return[qe(t),qe({h:(r+72)%360,s:e.s,l:e.l}),qe({h:(r+216)%360,s:e.s,l:e.l})]}function lae(t,e,r){e=e||6,r=r||30;var i=qe(t).toHsl(),n=360/r,o=[qe(t)];for(i.h=(i.h-(n*e>>1)+720)%360;--e;)i.h=(i.h+n)%360,o.push(qe(i));return o}function uae(t,e){e=e||6;for(var r=qe(t).toHsv(),i=r.h,n=r.s,o=r.v,s=[],a=1/e;e--;)s.push(qe({h:i,s:n,v:o})),o=(o+a)%1;return s}function dae(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function F5(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function gr(t,e){pae(t)&&(t="100%");var r=hae(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function ug(t){return Math.min(1,Math.max(0,t))}function yn(t){return parseInt(t,16)}function pae(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function hae(t){return typeof t=="string"&&t.indexOf("%")!=-1}function no(t){return t.length==1?"0"+t:""+t}function Xd(t){return t<=1&&(t=t*100+"%"),t}function z5(t){return Math.round(parseFloat(t)*255).toString(16)}function L5(t){return yn(t)/255}function gs(t){return!!io.CSS_UNIT.exec(t)}function fae(t){t=t.replace(jse,"").replace(Gse,"").toLowerCase();var e=!1;if(yx[t])t=yx[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=io.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=io.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=io.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=io.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=io.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=io.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=io.hex8.exec(t))?{r:yn(r[1]),g:yn(r[2]),b:yn(r[3]),a:L5(r[4]),format:e?"name":"hex8"}:(r=io.hex6.exec(t))?{r:yn(r[1]),g:yn(r[2]),b:yn(r[3]),format:e?"name":"hex"}:(r=io.hex4.exec(t))?{r:yn(r[1]+""+r[1]),g:yn(r[2]+""+r[2]),b:yn(r[3]+""+r[3]),a:L5(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=io.hex3.exec(t))?{r:yn(r[1]+""+r[1]),g:yn(r[2]+""+r[2]),b:yn(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function mae(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}var jse,Gse,yx,cae,io,Ro=$(()=>{jse=/^\s+/,Gse=/\s+$/;qe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,i,n,o,s,a;return r=e.r/255,i=e.g/255,n=e.b/255,r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),.2126*o+.7152*s+.0722*a},setAlpha:function(e){return this._a=F5(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=k5(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=k5(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),n=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+n+"%)":"hsva("+r+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=R5(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=R5(this._r,this._g,this._b),r=Math.round(e.h*360),i=Math.round(e.s*100),n=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+n+"%)":"hsla("+r+", "+i+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return N5(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Qse(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(gr(this._r,255)*100)+"%",g:Math.round(gr(this._g,255)*100)+"%",b:Math.round(gr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(gr(this._r,255)*100)+"%, "+Math.round(gr(this._g,255)*100)+"%, "+Math.round(gr(this._b,255)*100)+"%)":"rgba("+Math.round(gr(this._r,255)*100)+"%, "+Math.round(gr(this._g,255)*100)+"%, "+Math.round(gr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:cae[N5(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+O5(this._r,this._g,this._b,this._a),i=r,n=this._gradientType?"GradientType = 1, ":"";if(e){var o=qe(e);i="#"+O5(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+r+",endColorstr="+i+")"},toString:function(e){var r=!!e;e=e||this._format;var i=!1,n=this._a<1&&this._a>=0,o=!r&&n&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return qe(this.toString())},_applyModification:function(e,r){var i=e.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(rae,arguments)},brighten:function(){return this._applyModification(iae,arguments)},darken:function(){return this._applyModification(nae,arguments)},desaturate:function(){return this._applyModification(Jse,arguments)},saturate:function(){return this._applyModification(eae,arguments)},greyscale:function(){return this._applyModification(tae,arguments)},spin:function(){return this._applyModification(oae,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(lae,arguments)},complement:function(){return this._applyCombination(sae,arguments)},monochromatic:function(){return this._applyCombination(uae,arguments)},splitcomplement:function(){return this._applyCombination(aae,arguments)},triad:function(){return this._applyCombination(D5,[3])},tetrad:function(){return this._applyCombination(D5,[4])}};qe.fromRatio=function(t,e){if(lg(t)=="object"){var r={};for(var i in t)t.hasOwnProperty(i)&&(i==="a"?r[i]=t[i]:r[i]=Xd(t[i]));t=r}return qe(t,e)};qe.equals=function(t,e){return!t||!e?!1:qe(t).toRgbString()==qe(e).toRgbString()};qe.random=function(){return qe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};qe.mix=function(t,e,r){r=r===0?0:r||50;var i=qe(t).toRgb(),n=qe(e).toRgb(),o=r/100,s={r:(n.r-i.r)*o+i.r,g:(n.g-i.g)*o+i.g,b:(n.b-i.b)*o+i.b,a:(n.a-i.a)*o+i.a};return qe(s)};qe.readability=function(t,e){var r=qe(t),i=qe(e);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};qe.isReadable=function(t,e,r){var i=qe.readability(t,e),n,o;switch(o=!1,n=mae(r),n.level+n.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7;break}return o};qe.mostReadable=function(t,e,r){var i=null,n=0,o,s,a,l;r=r||{},s=r.includeFallbackColors,a=r.level,l=r.size;for(var p=0;p<e.length;p++)o=qe.readability(t,e[p]),o>n&&(n=o,i=qe(e[p]));return qe.isReadable(t,i,{level:a,size:l})||!s?i:(r.includeFallbackColors=!1,qe.mostReadable(t,["#fff","#000"],r))};yx=qe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},cae=qe.hexNames=dae(yx);io=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}()});var bx={};mr(bx,{default:()=>vae,onChangeCustom:()=>gae});var DPe,gae,Zd,vae,B5=$(()=>{Fe();DPe=ye(Pe());Ro();gae=(t,e,r)=>{let i={};for(let[n,o]of Object.entries(e))t[n]!=o&&(i[n]=o);i.hasOwnProperty("color_r")&&(r.Update("color_r",i.color_r),delete i.color_r),i.hasOwnProperty("color_g")&&(r.Update("color_g",i.color_g),delete i.color_g),i.hasOwnProperty("color_b")&&(r.Update("color_b",i.color_b),delete i.color_b);for(let[n,o]of Object.entries(i))r.Update(n,o)},Zd={name:"parallax",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Knockout Mask",name:"knockout_shape",type:"radio",value:"triangle",values:[{customLabel:"RectangleIcon",value:"rectangle"},{customLabel:"SquareIcon",value:"square"},{customLabel:"TriangleIcon",value:"triangle"},{customLabel:"CircleIcon",value:"circle"}]},{labelName:"Knockout Blur",name:"knockout_blur",type:"range-input",value:0,suffix:"%",min:0,max:100,step:1},{labelName:"Knockout Size",name:"knockout",type:"range-input",value:85,suffix:"%",min:0,max:100,step:1},{labelName:"Knockout Rotation",name:"knockout_rotation",type:"range-input",loopValues:!0,value:171,suffix:"\xB0",min:0,max:360,step:1},{type:"spacer"},{labelName:void 0,name:"movement_direction",type:"radio",value:"xy",values:[{labelName:"X/Y Axes",value:"xy"},{labelName:"Z Axis",value:"z"}]},{labelName:"Movement Direction",name:"xy_direction",type:"range-input",loopValues:!0,value:285,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"movement_direction",shouldBe:"xy"}]},{labelName:"Layers",name:"layers",type:"range-input",value:3,min:2,max:15,step:1,allowUnclampedTextEntry:!1,requirements:[{option:"movement_direction",shouldBe:"xy"}]},{labelName:void 0,name:"z_direction",type:"radio",value:"inwards",values:[{labelName:"Inwards",value:"inwards"},{labelName:"Outwards",value:"outwards"}],requirements:[{option:"movement_direction",shouldBe:"z"}]},{labelName:"Layers",name:"z_layers",type:"range-input",value:4,min:4,max:15,step:1,requirements:[{option:"movement_direction",shouldBe:"z"}]},{labelName:"Speed",name:"speed",type:"range-input",value:30,suffix:"%",min:0,max:100,step:1},{labelName:"Depth",name:"depth",type:"range-input",value:35,suffix:"%",min:0,max:100,step:.5},{labelName:"Base Rotation",name:"base_rotation",type:"range-input",loopValues:!0,value:50,suffix:"\xB0",min:0,max:360,step:1},{labelName:"Skew",name:"skew",type:"range-input",loopValues:!0,value:-50,suffix:"\xB0",min:-1080,max:1080,step:1},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Sensitivity",name:"mouse_speed",type:"range-input",value:68,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Scroll Interaction",name:"scroll_interaction",type:"check-box",value:!1},{type:"spacer"},{labelName:"Background Color",name:"background_color",type:"color",value:"#FFFFFF00"},{labelName:"See-Through",name:"see_through",type:"check-box",value:!1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#FFFFFF00",excludeFromShuffle:!0}]};Zd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.hasOwnProperty("background_color")&&e?.background_color===null&&(e.background_color="rgba(0,0,0,0)"),e.color){let r=qe(e.color);e.overlay_hex=r.toHexString(),e.overlay_alpha=r.getAlpha()}if(e.background_color){let r=qe(e.background_color),i=r.toRgb();e.color_r=i.r,e.color_g=i.g,e.color_b=i.b,e.alpha=i.a,e.hex_color=r.toHexString()}return e};Zd.defaults=pt(Zd.options);Zd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";vae=Zd});var wx={};mr(wx,{default:()=>bae,onChangeCustom:()=>yae});var BPe,yae,Du,bae,U5=$(()=>{Fe();BPe=ye(Pe());Ro();yae=(t,e,r)=>{let i={};for(let[n,o]of Object.entries(e))t[n]!=o&&(i[n]=o);for(let[n,o]of Object.entries(i))r.Update(n,o)},Du={name:"refraction",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"reflection_type",type:"radio",value:"reflection",values:[{labelName:"Reflection",value:"reflection"},{labelName:"Refraction",value:"refraction"}]},{labelName:"Flip Image",name:"flip",type:"check-box",value:!0},{labelName:"Refraction Ratio",name:"refraction_ratio",type:"range-input",requirements:[{option:"reflection_type",shouldBe:"refraction"}],value:19,min:0,max:100,step:.1},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Movement Range",name:"mouse_speed",type:"range-input",value:63,min:0,max:100,step:.1},{labelName:"Dynamic Image Refraction",name:"refract_interaction",type:"check-box",value:!1,requirements:[{option:"reflection_type",shouldBe:"refraction"}]},{labelName:null,name:"refract_motion",type:"radio",value:"speed",requirements:[{option:"reflection_type",shouldBe:"refraction"},{option:"refract_interaction",shouldBe:!0}],values:[{labelName:"Gather",value:"gather"},{labelName:"Disperse",value:"disperse"},{labelName:"Speed",value:"speed"}]},{type:"spacer"},{labelName:"Geometry: ",name:"geometry",type:"select",values:[{labelName:"Fullerene",value:"buckyball_3"},{labelName:"Compound Eye",value:"compoundeye_2"},{labelName:"Shattered Glass",value:"shattered"},{labelName:"Shard",value:"shard"},{labelName:"Warped Glass",value:"warped_glass_3"},{labelName:"Tube",value:"tube"},{labelName:"Cubic",value:"cubic"},{labelName:"Turbine",value:"turbine"},{labelName:"Icosahedron",value:"icosahedron_small"},{labelName:"Geodesic",value:"icosahedron_2"}]},{labelName:"Geometry Zoom",name:"zoom",type:"range-input",value:100,min:100,max:300,step:1},{labelName:"Rotation X",name:"rot_x",type:"range-input",value:145,min:0,max:360,step:1},{labelName:"Rotation Y",name:"rot_y",type:"range-input",value:195,min:0,max:360,step:1},{labelName:"Rotation Z",name:"rot_z",type:"range-input",value:115,min:0,max:360,step:1},{labelName:"Rotation Speed X",name:"rot_speed_x",type:"range-input",value:3.5,min:-20,max:20,step:.1},{labelName:"Rotation Speed Y",name:"rot_speed_y",type:"range-input",value:-1.5,min:-20,max:20,step:.1},{labelName:"Rotation Speed Z",name:"rot_speed_z",type:"range-input",value:2,min:-20,max:20,step:.1},{type:"spacer"},{labelName:"Color Overlay",name:"color",type:"color",value:"#ffffff00"},{labelName:void 0,name:"overlay_type",type:"radio",value:"multiply_color",values:[{labelName:"Multiply",value:"multiply_color"},{labelName:"Screen",value:"screen_color"}]}]};Du.defaults=pt(Du.options);Du.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Du.defaults.rgb={value:"rgb(255,255,255)"};Du.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgb(255,255,255)"),e.color){let r=qe(e.color);e.rgb=r.toRgbString(),e.color=r.toRgbString(),e.alpha=r.getAlpha()}return e};bae=Du});var xx={};mr(xx,{default:()=>xae,onChangeCustom:()=>wae});var WPe,wae,Lu,xae,q5=$(()=>{Fe();WPe=ye(Pe());Ro();wae=(t,e,r)=>{let i={};for(let[n,o]of Object.entries(e))t[n]!=o&&(i[n]=o);for(let[n,o]of Object.entries(i))r.Update(n,o)},Lu={name:"ripples",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Distortion X",name:"scaleX",type:"range-input",value:20,min:0,max:100,step:1},{labelName:"Distortion Y",name:"scaleY",type:"range-input",value:20,min:0,max:100,step:1},{labelName:"Scale",name:"scale",type:"range-input",value:1,min:1,max:10,step:.01},{labelName:"Speed",name:"target_speed",type:"range-input",value:9,min:0,max:100,step:.1},{labelName:"Direction",name:"direction",type:"scrubber",numberOnlyMode:!0,value:245,min:0,max:360,loopValues:!0,suffix:"\xB0",step:1},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Sensitivity",requires:"mouse_sensitivity",name:"mouse_sensitivity",type:"range-input",value:100,min:0,max:100,step:1},{labelName:"Overlay Color",name:"color",type:"color",value:"#ffffff00",excludeFromShuffle:!0}]};Lu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let r=qe(e.color);e.hex=r.toHexString(),e.alpha=r.getAlpha()}return e};Lu.defaults=pt(Lu.options);Lu.defaults.alpha={value:0};Lu.defaults.hex={value:"#fff"};xae=Lu});var Sx={};mr(Sx,{default:()=>_ae,onChangeCustom:()=>Sae});var GPe,Sae,Fu,_ae,H5=$(()=>{Fe();GPe=ye(Pe());Ro();Sae=(t,e,r)=>{let i={};for(let[n,o]of Object.entries(e))t[n]!=o&&(i[n]=o);for(let[n,o]of Object.entries(i))r.Update(n,o)},Fu={name:"slitscan",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"orientation",type:"radio",value:"horizontal",values:[{labelName:"Horizontal",value:"horizontal"},{labelName:"Vertical",value:"vertical"}]},{labelName:"Scan Size",name:"scan_size",type:"range-input",value:90,min:0,max:100,step:.1},{labelName:"Short Wave",name:"scan_cycles",type:"range-input",value:1,min:0,max:20,step:.1},{labelName:"Wiggle",name:"wiggle",type:"range-input",value:20,min:0,max:100,step:.1},{labelName:"Speed",name:"target_speed",type:"range-input",value:17,min:-100,max:100,step:1},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Scroll Interaction",name:"scroll_interaction",type:"check-box",value:!1},{labelName:"Overlay Color",name:"color",type:"color",value:"transparent",excludeFromShuffle:!0}]};Fu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let r=qe(e.color);e.hex=r.toHexString(),e.alpha=r.getAlpha()}return e};Fu.defaults=pt(Fu.options);Fu.defaults.alpha={value:0};Fu.defaults.hex={value:"#000000"};_ae=Fu});var _x={};mr(_x,{default:()=>Cae,onChangeCustom:()=>Eae});var ZPe,Eae,ul,Cae,W5=$(()=>{Fe();ZPe=ye(Pe());Ro();Eae=(t,e,r)=>{let i={};for(let[n,o]of Object.entries(e))t[n]!=o&&(i[n]=o);for(let[n,o]of Object.entries(i))r.Update(n,o)},ul={name:"pixelation",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"layout_mode",type:"radio",value:"grid_mode",values:[{labelName:"Grid",value:"grid_mode"},{labelName:"Rows",value:"row_mode"},{labelName:"Columns",value:"column_mode"}]},{labelName:"Rows",name:"rows",type:"range-input",value:44,min:1,max:64,step:1,allowUnclampedTextEntry:!1,requirements:[{option:"layout_mode",shouldBe:"row_mode"}]},{labelName:"Columns",name:"columns",type:"range-input",value:44,min:1,max:64,step:1,allowUnclampedTextEntry:!1,requirements:[{option:"layout_mode",shouldBe:"column_mode"}]},{labelName:"Subdivisions",name:"grid_size",type:"range-input",value:44,min:1,max:100,step:1,allowUnclampedTextEntry:!1,requirements:[{option:"layout_mode",shouldBe:"grid_mode"}]},{labelName:"Cell Image Zoom",name:"zoom",type:"range-input",value:100,suffix:"%",min:1,max:100,step:1},{labelName:"Flip Alternate Cells",name:"flip_it",type:"check-box",value:!1},{type:"spacer"},{labelName:"Turbulence",name:"stir_grid",type:"check-box",value:!0},{labelName:"Stir Frequency",name:"stir_freq",type:"range-input",value:74,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Stir Strength",name:"stir_strength",type:"range-input",value:4,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Disorder",name:"stir_disorder",type:"range-input",value:4,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Motion Elasticity",name:"elasticity",type:"range-input",value:35,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#ffffff00",excludeFromShuffle:!0},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Movement Force",name:"mouse_sensitivity",type:"range-input",value:6,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Mouse Radius",name:"tolerance",type:"range-input",value:50,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Mouseover Zoom",name:"mouse_zoom",type:"range-input",value:0,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]}]};ul.defaults=pt(ul.options);ul.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";ul.defaults.rgb={value:"rgb(255,255,255)"};ul.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let r=qe(e.color);e.hex=r.toHexString(),e.alpha=r.getAlpha()}return e};ul.customShuffle=t=>(Math.random()>.5&&(t.zoom=100),t);Cae=ul});var Ex={};mr(Ex,{default:()=>Iae,onChangeCustom:()=>Pae});var tIe,Pae,Qd,Iae,V5=$(()=>{Fe();tIe=ye(Pe());Ro();Pae=(t,e,r)=>{let i={};for(let[n,o]of Object.entries(e))t[n]!=o&&(i[n]=o);for(let[n,o]of Object.entries(i)){let s=!0;if(n==="image"&&(o!==void 0&&o?r.obj.loadImage(o):s=!1),n!==void 0&&s===!0){let a={};a[n]=o,r.Update(n,o),r.obj.updateSettings(a)}}},Qd={name:"kaleidoscope",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Slices",name:"slices",type:"range-input",value:18,min:2,max:256,step:1},{labelName:"Zoom",name:"zoom",type:"range-input",value:217,suffix:"%",min:1,max:500,step:1},{labelName:"Rotation",name:"baseRotation1",type:"range-input",value:61,suffix:"\xB0",min:-180,max:180,step:1},{labelName:"Rotation Speed",name:"rotationSpeed1",type:"range-input",value:-8,suffix:"\xB0/sec",min:-100,max:100,step:1},{labelName:"Image Rotation",name:"baseRotation2",type:"range-input",value:-148,suffix:"\xB0",min:-180,max:180,step:1},{labelName:"Image Rotation Speed",name:"rotationSpeed2",type:"range-input",value:-8,suffix:"\xB0/sec",min:-100,max:100,step:1},{labelName:"Image Rotation Anchor X",name:"rotationCenterX",type:"range-input",value:21,suffix:"\xB0/sec",min:-300,max:300,step:1},{labelName:"Image Rotation Anchor Y",name:"rotationCenterY",type:"range-input",value:66,suffix:"\xB0/sec",min:-300,max:300,step:1},{type:"spacer"},{labelName:"Mirror Slices",name:"mirrorSlices",type:"check-box",value:!0},{labelName:"Mouse Interaction",name:"hasMouseInteraction",type:"check-box",value:!0}]};Qd.transformChanges=(t,e)=>{if(e.color){let r=qe(e.color);e.hex=r.toHexString(),e.alpha=r.getAlpha()}return e};Qd.defaults=pt(Qd.options);Qd.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Iae=Qd});var Cx={};mr(Cx,{default:()=>Tae,onChangeCustom:()=>Aae});var oIe,Aae,Jd,Tae,$5=$(()=>{Fe();oIe=ye(Pe());Ro();Aae=(t,e,r)=>{let i={};for(let[n,o]of Object.entries(e))t[n]!=o&&(i[n]=o);for(let[n,o]of Object.entries(i))r.Update(n,o)},Jd={name:"polygon_engine",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{labelName:"Style:",name:"style",type:"select",value:"delaunay",values:[{labelName:"Random 1",value:"random1"},{labelName:"Random 2",value:"random2"},{labelName:"Iso",value:"iso"},{labelName:"Rectangular 1",value:"straight1"},{labelName:"Rectangular 2",value:"straight2"},{labelName:"Voronoi",value:"voronoi"},{labelName:"Delaunay",value:"delaunay"}]},{labelName:"Cuts",name:"subdivisionCount",type:"range-input",allowUnclampedTextEntry:!1,value:421,min:3,max:500,step:1},{labelName:"Animation Speed",name:"animationSpeed",type:"range-input",value:1,min:0,max:20,step:.1},{type:"spacer"},{labelName:"Mouse Interaction",name:"hasMouseInteraction",type:"check-box",value:!0},{labelName:"Interaction Speed",name:"interactionSpeed",type:"range-input",value:15,min:0,max:20,step:.1,requirements:[{option:"hasMouseInteraction",shouldBe:!0}]},{labelName:"Interaction Radius",name:"interactionRadius",type:"range-input",value:300,suffix:"px",min:0,max:500,step:1,requirements:[{option:"hasMouseInteraction",shouldBe:!0}]},{type:"spacer"},{excludeFromShuffle:!0,labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"}]};Jd.defaults=pt(Jd.options);Jd.defaults.image_url="//static.cargo.site/assets/backdrop/default_256.jpg";Jd.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let r=qe(e.color);e.overlay_hex=r.toHexString(),e.overlay_alpha=r.getAlpha()}return e};Tae=Jd});var Px={};mr(Px,{default:()=>Rae,onChangeCustom:()=>Mae});var uIe,Mae,ep,Rae,j5=$(()=>{Fe();uIe=ye(Pe());Ro();Mae=(t,e,r)=>{let i={};for(let[n,o]of Object.entries(e))t[n]!=o&&(i[n]=o);for(let[n,o]of Object.entries(i))r.Update(n,o)},ep={name:"morphovision",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Transition Duration",name:"transition_time",type:"range-input",value:4,suffix:" sec",min:.5,max:10,step:.1},{labelName:"Intensity",name:"transition_alpha",type:"range-input",value:76,suffix:"%",min:10,max:100,step:1},{labelName:"Zoom",name:"zoom",type:"range-input",value:14,suffix:"%",min:-100,max:100,step:1},{labelName:"Cycle Images",name:"cycle_images",type:"check-box",value:!0},{labelName:"Randomize Order",name:"shuffle",type:"check-box",value:!0,renderWhenDisabled:!0,requirements:[{option:"cycle_images",shouldBe:!0}]},{type:"spacer"},{labelName:"Morph Size",name:"morph_size",type:"range-input",value:85,suffix:"%",min:0,max:100,step:1},{labelName:"Morph Movement",name:"morph_speed",type:"range-input",value:15,suffix:"%",min:0,max:100,step:1},{labelName:"Morph Amplitude",name:"amplitude",type:"range-input",value:22,suffix:"%",min:0,max:100,step:1},{labelName:"Phase Shift",name:"phase",type:"range-input",value:95,suffix:"%",min:0,max:100,step:1},{labelName:"Movement Jitter",name:"jitter",type:"range-input",value:18,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Image Warp",name:"small_warp",type:"range-input",value:40,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"},{labelName:void 0,name:"blend",type:"radio",value:"MULTIPLY",values:[{labelName:"Normal",value:"NORMAL"},{labelName:"Screen",value:"SCREEN"},{labelName:"Multiply",value:"MULTIPLY"}]}]};ep.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let r=qe(e.color);e.hex=r.toHexString(),e.alpha=r.getAlpha()}return e};ep.defaults=pt(ep.options);ep.defaults.image_url="/_jsapps/backdrop/morphovision/morph_default.jpeg";Rae=ep});var Ix={};mr(Ix,{default:()=>Nae,onChangeCustom:()=>kae});var hIe,kae,cg,Nae,G5=$(()=>{Fe();hIe=ye(Pe()),kae=(t,e,r)=>{let i={};for(let[n,o]of Object.entries(e))t[n]!=o&&(i[n]=o);for(let[n,o]of Object.entries(i))r.Update(n,o)},cg={name:"wave",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Waves",name:"ripples.on",type:"check-box",value:!0},{labelName:"Wave Speed",name:"ripples.noiseSpeed",type:"range-input",value:15,min:0,max:20,step:.1,requirements:[{option:"ripples.on",shouldBe:!0}]}]};cg.defaults=pt(cg.options);cg.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Nae=cg});var Ax={};mr(Ax,{default:()=>Dae,onChangeCustom:()=>Oae});var gIe,Oae,zu,Dae,K5=$(()=>{Fe();gIe=ye(Pe());Ro();Oae=(t,e,r)=>{let i={};for(let[o,s]of Object.entries(e))t[o]!=s&&(i[o]=s);let n=[];for(let[o,s]of Object.entries(i))r.Update(o,s)},zu={name:"halftone",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Screen Size",name:"dot_scale",type:"range-input",value:53,suffix:"%",min:0,max:100,step:.5},{labelName:"Dot Gain",name:"dot_gain",type:"range-input",value:48,suffix:"%",min:-100,max:200,step:1},{labelName:"Under-Color Removal",name:"dot_gain",type:"range-input",value:95,suffix:"%",min:0,max:100,step:1},{labelName:"Registration Accuracy",name:"color_offset",type:"range-input",value:94,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Cyan",name:"cyan",type:"check-box",value:!0},{labelName:"Halftone",name:"cyan_halftone",type:"check-box",value:!0,requirements:[{option:"cyan",shouldBe:!0}]},{labelName:"Opacity",name:"c_opacity",type:"range-input",value:70,suffix:"%",min:0,max:100,step:1,requirements:[{option:"cyan",shouldBe:!0}]},{labelName:"Rotation",name:"c_rotation",type:"range-input",value:140,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"cyan",shouldBe:!0},{option:"cyan_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"c_rot_speed",type:"range-input",value:-1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"cyan",shouldBe:!0},{option:"cyan_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Magenta",name:"magenta",type:"check-box",value:!0},{labelName:"Halftone",name:"magenta_halftone",type:"check-box",value:!0,requirements:[{option:"magenta",shouldBe:!0}]},{labelName:"Opacity",name:"m_opacity",type:"range-input",value:69,suffix:"%",min:0,max:100,step:1,requirements:[{option:"magenta",shouldBe:!0}]},{labelName:"Rotation",name:"m_rotation",type:"range-input",value:42,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"magenta",shouldBe:!0},{option:"magenta_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"m_rot_speed",type:"range-input",value:1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"magenta",shouldBe:!0},{option:"magenta_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Yellow",name:"yellow",type:"check-box",value:!0},{labelName:"Halftone",name:"yellow_halftone",type:"check-box",value:!0,requirements:[{option:"yellow",shouldBe:!0}]},{labelName:"Opacity",name:"y_opacity",type:"range-input",value:99,suffix:"%",min:0,max:100,step:1,requirements:[{option:"yellow",shouldBe:!0}]},{labelName:"Rotation",name:"y_rotation",type:"range-input",value:59,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"yellow",shouldBe:!0},{option:"yellow_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"y_rot_speed",type:"range-input",value:-1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"yellow",shouldBe:!0},{option:"yellow_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Black",name:"black",type:"check-box",value:!0},{labelName:"Halftone",name:"black_halftone",type:"check-box",value:!0,requirements:[{option:"black",shouldBe:!0}]},{labelName:"Opacity",name:"k_opacity",type:"range-input",value:100,suffix:"%",min:0,max:100,step:1,requirements:[{option:"black",shouldBe:!0}]},{labelName:"Rotation",name:"k_rotation",type:"range-input",value:45,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"black",shouldBe:!0},{option:"black_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"k_rot_speed",type:"range-input",value:0,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"black",shouldBe:!0},{option:"black_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"},{labelName:void 0,name:"overlay_type",type:"radio",value:"multiply_color",values:[{labelName:"Normal",value:"normal_color"},{labelName:"Screen",value:"screen_color"},{labelName:"Multiply",value:"multiply_color"}]},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0}]};zu.transformChanges=(t,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let r=qe(e.color);e.hex=r.toHexString(),e.alpha=r.getAlpha()}return e};zu.customShuffle=t=>{switch(t.overlay_type=Math.random()>.5?"multiply_color":"screen_color",Math.floor(Math.random()*4)){case 0:t.black=!0,t.c_opacity=Math.max(75,t.c_opacity);break;case 1:t.cyan=!0,t.c_opacity=Math.max(75,t.c_opacity);break;case 2:t.yellow=!0,t.y_opacity=Math.max(100,t.y_opacity),t.black=!0,t.c_opacity=Math.max(50,t.c_opacity);break;case 3:t.magenta=!0,t.m_opacity=Math.max(75,t.m_opacity);break}return t};zu.defaults=pt(zu.options);zu.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Dae=zu});var Tx={};mr(Tx,{default:()=>Fae,onChangeCustom:()=>Lae});var wIe,Y5,Lae,tp,Fae,X5=$(()=>{Fe();wIe=ye(Pe()),Y5={checkerboard:{preset_image:"https://static.cargo.site/assets/backdrop/video/checkerboard_64.png",preset_width:"16px",preset_height:"16px"},hexed:{preset_image:"https://static.cargo.site/assets/backdrop/video/hexed_16.png",preset_width:"8px",preset_height:"8px"},noise:{preset_image:"https://static.cargo.site/assets/backdrop/video/noise.png",preset_width:"512px",preset_height:"512px"},interlace:{preset_image:"https://static.cargo.site/assets/backdrop/video/interlace.png",preset_width:"1px",preset_height:"3px"}},Lae=(t,e,r)=>{let i={};for(let[n,o]of Object.entries(e))t[n]!=o&&(i[n]=o);i.hasOwnProperty("color")&&i?.color===null&&(i.color="rgba(0,0,0,0)");for(let[n,o]of Object.entries(i))r.Update(n,o)},tp={name:"video",excludeFromShuffle:!0,options:[{labelName:"Video URL:",name:"video_url",type:"text-input",value:"",className:"hover",config:"noBars"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"scale_option",type:"radio",value:"cover",values:[{labelName:"Fill Window",value:"cover"},{labelName:"Fit Window",value:"contain"}]},{labelName:"Margin",name:"margin",type:"scrubber",value:"0",addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",allowedUnits:["px","%","em","rem","vmin","vmax","vw","vh"],excludeFromShuffle:!0,min:0,max:{"%":50,vh:50,vw:50,vmin:100,vmax:50}},{type:"spacer"},{labelName:"Overlay",name:"preset_pattern",type:"radio",value:"blank",values:[{labelName:void 0,value:"checkerboard"},{labelName:void 0,value:"hexed"},{labelName:void 0,value:"noise"},{labelName:void 0,value:"interlace"},{labelName:void 0,value:"blank"}]},{labelName:"Video Opacity",name:"alpha",type:"range-input",value:100,min:0,max:100,step:1,excludeFromShuffle:!0},{labelName:"Background Color",name:"color",type:"color",value:"#FFFFFF00"},{type:"spacer"},{labelName:"Display Still Image In Mobile Devices",name:"use_mobile_image",type:"check-box",value:!1},{name:"image",type:"custom",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc",renderWhenDisabled:!1,requirements:[{option:"use_mobile_image",shouldBe:!0}]}]};tp.transformChanges=(t,e)=>(e.preset_pattern&&(Y5[e.preset_pattern]?(e.using_preset=!0,e.image_active=!0,e={...e,...Y5[e.preset_pattern]}):(e.using_preset=!1,e.image_active=!1)),e);tp.defaults=pt(tp.options);tp.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Fae=tp});var rp={};mr(rp,{badtv:()=>vx,gradient:()=>Yd,halftone:()=>Ax,kaleidoscope:()=>Ex,morphovision:()=>Px,parallax:()=>bx,pixelation:()=>_x,polygon_engine:()=>Cx,refraction:()=>wx,ripple:()=>xx,slitscan:()=>Sx,video:()=>Tx,wallpaper:()=>Kd,wave:()=>Ix});var dg=$(()=>{A5();T5();M5();B5();U5();q5();H5();W5();V5();$5();j5();G5();K5();X5()});var oo,zae,Z5,Mx,Q5,Bae,J5=$(()=>{ke();kr();Hr();dg();Fe();oo=ye(Pe(),1);fe();zae={"legacy/slitscan":()=>import("https://build.cargo.site/frontend/4ede51/_jsapps/backdrop/slitscan/main.js"),"legacy/refraction":()=>import("https://build.cargo.site/frontend/4ede51/_jsapps/backdrop/refraction/main.js"),"legacy/badtv":()=>import("https://build.cargo.site/frontend/4ede51/_jsapps/backdrop/badtv/main.js"),"legacy/gmaps":()=>import("https://build.cargo.site/frontend/4ede51/_jsapps/backdrop/gmaps/main.js"),"legacy/halftone":()=>import("https://build.cargo.site/frontend/4ede51/_jsapps/backdrop/halftone/main.js"),"legacy/kaleidoscope":()=>import("https://build.cargo.site/frontend/4ede51/_jsapps/backdrop/kaleidoscope/main.js"),"legacy/morphovision":()=>import("https://build.cargo.site/frontend/4ede51/_jsapps/backdrop/morphovision/main.js"),"legacy/parallax":()=>import("https://build.cargo.site/frontend/4ede51/_jsapps/backdrop/parallax/main.js"),"legacy/pixelation":()=>import("https://build.cargo.site/frontend/4ede51/_jsapps/backdrop/pixelation/main.js"),"legacy/polygon_engine":()=>import("https://build.cargo.site/frontend/4ede51/_jsapps/backdrop/polygon_engine/main.js"),"legacy/ripple":()=>import("https://build.cargo.site/frontend/4ede51/_jsapps/backdrop/ripple/main.js"),"legacy/video":()=>import("https://build.cargo.site/frontend/4ede51/_jsapps/backdrop/video/main.js"),"legacy/wave":()=>import("https://build.cargo.site/frontend/4ede51/_jsapps/backdrop/wave/main.js")},Z5=oo.default.memoize(t=>new Promise(async(e,r)=>{if(de)return r();await Bae();let{default:i}=await zae[t]();e(i)})),Mx=class extends me{constructor(e){super(e),this.ref=Se(),Z5(this.props.path).catch(r=>{})}componentDidMount(){this.initView()}initView=async()=>{delete this.backboneView;let e=await Z5(this.props.path).catch(n=>{});if(!this.ref.current){console.log("No element to render backbone view to...");return}let r=rp[this.props.path.replace("legacy/","")],i={page_id:this.props.id};oo.default.each(r?.default.defaults,(n,o)=>{i[o]=n.value}),this.onChangeCustom=r?.onChangeCustom?r.onChangeCustom.bind(this):null,this.ref.current.innerHTML="",this.backboneView=new e({el:this.ref.current,model:new Backbone.Model({data:{...i,...this.props.settings}}),...this.props.viewOptions||{}}),this.backboneView.id&&(this.ref.current.id=this.backboneView.id),this.backboneView.className&&(this.ref.current.className=this.backboneView.className),this.backboneView.defaults={...this.backboneView.defaults,...this.props.defaults},this.backboneView.deferredLoadEventName&&(this.backboneView.deferredLoadEventName+="_"+oo.default.uniqueId(),Cargo.Event.once(this.backboneView.deferredLoadEventName,()=>{this.ref.current&&this.ref.current.dispatchEvent(new CustomEvent("legacy-backdrop-loaded",{bubbles:!0,composed:!0,detail:{}}))})),this.backboneView.render(),typeof this.backboneView.Init=="function"&&this.backboneView.Init(),this.backboneView.SetSizeFromMainView?.(this.props.dimensions.width,this.props.dimensions.height),this.props.visibility.visible?(this.backboneView.in_viewport=!0,this.backboneView.Resume?.()):this.backboneView.in_viewport=!1};destroyView=()=>{this.backboneView&&(typeof this.backboneView.destroy=="function"&&this.backboneView.destroy(),this.backboneView.undelegateEvents(),this.backboneView.$el.removeData().unbind(),this.backboneView.innerHTML="",delete this.backboneView)};componentWillUnmount(){this.destroyView()}componentDidUpdate(e){if(this.backboneView&&!oo.default.isEqual(e.settings,this.props.settings)&&(this.onChangeCustom?this.onChangeCustom(e.settings,this.props.settings,this.backboneView):console.log("custom backdrop update failed")),this.props.path!=e.path){this.destroyView(),this.initView();return}this.backboneView&&((e.dimensions.width!=this.props.dimensions.width||e.dimensions.height!=this.props.dimensions.height)&&this.backboneView.SetSizeFromMainView?.(this.props.dimensions.width,this.props.dimensions.height),this.props.visibility.visible!=e.visibility.visible&&(this.props.visibility.visible?(this.backboneView.in_viewport=!0,this.backboneView.Resume?.()):(this.backboneView.in_viewport=!1,this.backboneView.Pause?.())))}render(){let e=this.props.path?.replace("legacy/","")||"";return S("div",{"data-backdrop":e,ref:this.ref,dangerouslySetInnerHTML:{__html:""}})}},Q5=Mx,Bae=oo.default.once(async()=>{if(de)return;let{Backbone:t,underscore:e,jQuery:r}=await import("https://static.cargo.site/assets/C3/legacy/backbone-packaged.min.js");window.$=r,window.Backbone=t,window._=e,window.Cargo={o:{collection:{},model:{}},Collection:{},Helper:{isMobile:()=>nt.data.mobile.active,IsAdminEdit:()=>Dr},Event:oo.default.extend({},t.Events),Core:{Handlebars:{Render:()=>""}}},window.Backdrop={Data:{}},Cargo.o.collection.images=t.Collection.extend({model:function(i,n){return i&&i.type==="local"?new Cargo.o.model.localImage(i,n):new Cargo.o.model.image(i,n)},fetchImage:function(i,n){let o=window.store.getState(),s=We.getMediaByHash(o)[i],a=new Cargo.o.model.image({...s});if(s&&a)return a.getImageWithOptions({w:n})},fetchWebGLImage:function(i,n){let o=window.store.getState(),s=We.getMediaByHash(o)[i];return s?{w:s.width,h:s.height,url:"https://freight.cargo.site/w/"+n+"/t/webgl/i/"+s.hash+"/"+s.name,id:i}:null}}),Cargo.o.model.image=t.Model.extend({initialize:function(){oo.default.bindAll(this,"getImageByWidth")},urlRoot:function(){return"/_api/v0/image"},getImageByWidth:function(i){var n={};return i>this.get("width")&&(i=this.get("width")),n.w=i,this.getImageWithOptions(n).url},getImageByWidth2x:function(i){return this.getImageByWidth(i*2)},getImageWithOptions:function(i){var n={retina:window.devicePixelRatio?window.devicePixelRatio>=1.2:!1,square:!1,url:"",webgl:i.hasOwnProperty("t")&&i.t=="webgl"};if(oo.default.extend(n,i),n.t==="original"&&(n.retina=!1),n.retina===!0&&!n.webgl&&(n.q==null&&(n.q=75),n.hasOwnProperty("w")&&(n.w=Math.min(n.w*2,this.get("width"))),n.hasOwnProperty("h")&&(n.h=Math.min(n.h*2,this.get("height")))),n.w&&n.w>this.get("width")&&(n.webgl?n.w=this.getValidWebGLSize(n.w):n.w=this.get("width")),n.h&&n.h>this.get("height")&&(n.h=this.get("height")),n.square===!0){var o=this.getSquareCrop();n.c={x:o.x,y:o.y,w:o.w,h:o.h}}var s=["t","w","h","q","c"],a=[],l=!1,p=!1;oo.default.each(n,function(c,m){s.indexOf(m)===-1||c===""||(m==="c"?a.push("c/"+c.x+"/"+c.y+"/"+c.w+"/"+c.h):a.push(m+"/"+c),l=m=="w"?c:m=="c"&&c.w?c.w:l,p=m=="h"?c:m=="c"&&c.h?c.h:p)},this);var f=this.getScaleSize(l,p);return n.w=f.w,n.h=f.h,this.get("hash")!==void 0&&this.get("name")!==void 0?n.url="https://freight.cargo.site/"+a.join("/")+"/i/"+this.get("hash")+"/"+this.get("name"):n.url="",n},getSquareCrop:function(){var i=y=w=h=diff=0;return this.get("height")>this.get("width")?(w=h=this.get("width"),diff=this.get("height")-this.get("width"),y=Math.floor(diff/2),i=0):this.get("width")>this.get("height")?(w=h=this.get("height"),diff=this.get("width")-this.get("height"),i=Math.floor(diff/2),y=0):(w=this.get("width"),h=this.get("height"),i=y=0),{w,h,x:i,y}},getOriginalImage:function(){return this.getImageWithOptions({t:"original",retina:!1})},urlBelongsToImage:function(i){return typeof i!="string"?!1:i.indexOf(this.get("hash")+"/"+this.get("name"))!==-1},getValidWebGLSize:function(i){var n=[128,256,512,1024,2048,4096];return i>this.get("width")&&oo.default.each(n,function(o){o<1e3&&(i=o)}),i},getScaleSize:function(i,n){var o,s,a=i,l=n;if(o=parseInt(this.get("width")),s=parseInt(this.get("height")),!(i&&n)){if(o==s)a=i||n||o,l=a;else if(i)var p=o/i,l=Math.floor(s/p),a=i;else if(n)var p=s/n,a=Math.floor(o/p),l=n}return{w:a,h:l}},getFitSize:function(i,n,o,s){if(i=parseInt(i),n=parseInt(n),n>i)var a=i/o,l=Math.floor(n/a),p=o;else if(i>n)var a=n/s,p=Math.floor(i/a),l=s;else var p=i,l=n;return[p,l]}}),Cargo.Collection.Images=new Cargo.o.collection.images})});var Bu,Rx=$(()=>{ke();Bu=function(t,e,r={}){if(t.nodeType===3)return t.data;if(t.nodeType!==1)return null;let i={},n=[],o=0,s=t.attributes,a=t.childNodes;for(o=s.length;o--;)i[s[o].name]=s[o].value;for(r={...i,...r},o=a.length;o--;){let l=Bu(a[o],null);n[o]=l}return Bt(e||t.nodeName,r,n)}});var MIe,kx,pg,tn,da=$(()=>{ke();Fe();MIe=ye(Pe(),1);Ar();fe();de||(kx=new ResizeObserver(function(t){t.forEach(function(e){Pt(e.target,"reference-resize",{target:e.target,width:e.contentRect.width},{bubbles:!1,cancelable:!0,composed:!0})})}));pg=class extends me{constructor(e){super(e),this.elementRef=Se(),this.elementRef.current={},this.saveRef=r=>i=>{this.elementRef.current[r]=i}}render(){let{values:e={elWidth:"100%"}}=this.props;return S("div",{tabIndex:"-1","data-nosnippet":!0,style:{height:0,width:"100%",minWidth:"100%",overflow:"hidden",display:"block",alignSelf:"flex-start",visibility:"hidden",pointerEvents:"none",boxSizing:"border-box",zIndex:-1,...this.props.style},children:Object.keys(e).map(r=>{let i=e[r];return S("div",{tabIndex:"-1",ref:this.saveRef(r),style:typeof i=="object"?i:{width:i}})})})}componentDidUpdate(e,r){}onResize=e=>{let r=Object.keys(this.elementRef.current).find(i=>this.elementRef.current[i]===e.target);this.props.onResize&&this.props.onResize(r,e.width)};componentDidMount(){Object.keys(this.elementRef.current).forEach(e=>{let r=this.elementRef.current[e];yt(r,"reference-resize",this.onResize),kx?.observe(r)})}componentWillUnmount(){Object.keys(this.elementRef.current).forEach(e=>{let r=this.elementRef.current[e];kx?.unobserve(r),wt(r,"reference-resize",this.onResize)})}};pg.defaultProps={values:{elWidth:"100%"}};tn=pg});var HIe,hg,Pi,ko=$(()=>{ke();Ye();Io();Wr();HIe=ye(Pe(),1);fe();hg=class extends me{constructor(e){super(e),this.state={scrollIncrement:0,pointerAttention:!1,shiftButtonX:0,shifted:!1,overlayPosition:{x:0,y:0,width:0,height:0}},this.attachToBaseNode()}render(e,r){return this.renderElement?it(S(he,{children:e.render({...r,...e})}),this.renderElement):null}pointerIn=e=>{this.setState(r=>({pointerAttention:!0,scrollIncrement:r.scrollIncrement+1})),this.props.onPointerIn&&this.props.onPointerIn()};pointerOut=()=>{this.setState({pointerAttention:!1}),this.props.onPointerOut&&this.props.onPointerOut()};updatePosition=e=>{let r=this.props.buttonHeight||0,i=0,n=e.height,o=e.top;this.props.buttonMode=="inside",n=e.height,this.setState({overlayPosition:{x:e.left,y:o,width:e.width,height:n}}),this.onScroll()};componentWillUnmount(){this.props.baseNode._wasFocused=this.state.pointerAttention,et.removePortal(this.props.baseNode,this.renderElement)}attachToBaseNode(){this.props.baseNode&&(this.renderElement=et.getPortal(this.props.baseNode,{noPointerEvents:this.props.noPointerEvents||!1,trackResize:this.props.trackResize||!1,extraMargins:this.props.buttonMode=="inside"?[0,0,0,0]:[0,0,0,0],component:this}))}onScroll=e=>{let r=this.props.scrollContext.getScrollPosition().y,i=r-this.scrollPos;this.scrollPos=r,this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(i)};componentDidMount(){this.props.baseNode&&this.props.baseNode._wasFocused&&this.setState({pointerAttention:!0}),et.testHover()}componentDidUpdate(e,r){this.props.baseNode&&e.baseNode!==this.props.baseNode&&this.attachToBaseNode(),(this.state.pointerAttention!==r.pointerAttention||this.state.noPointerEvents!==r.noPointerEvents||this.props.hasFocus!==e.hasFocus||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&(this.props.hasFocus||this.state.pointerAttention||this.state.noPointerEvents)?this.scrollPos=this.props.scrollContext.getScrollPosition().y:e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll))}};hg.defaultProps={buttonMode:"inside",buttonHeight:0};Pi=Po(hg)});var rn,fg,No,Uu=$(()=>{ke();Ye();Ut();ko();Wr();Jn();gt();rn=ye(Pe(),1);kr();Fe();fe();fg=class extends me{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,galleryIsEmpty:!1,showInsertionIndicator:!1,allowTransition:!1,adjacentIndexes:{above:-1,below:-1,left:-1,right:-1}},this.dragMap=new Map,this.onDragOver=rn.default.throttle(this.onDragOver,80)}mutationObserverOptions={attributes:!0,childList:!0,subtree:!0,characterData:!0};render(e,r){let{galleryInstance:i}=e,{initialShowOutlines:n,showTransition:o,draggingOver:s,adjacentIndexes:a,showInsertionIndicator:l,galleryIsEmpty:p,buttonHovered:f,UIWindow:c,allowTransition:m}=r,v=this.props["thumbnail-index"]!==void 0,g=23;return S(he,{children:[S(Jr,{onlyAllowCollapsedRange:i.tagName!="GALLERY-SLIDESHOW",baseNode:i}),S("style",{children:`
				${m||l?`
					::slotted(media-item) {
						--base-translate: translate(0, 0);						
						transition: .08s transform cubic-bezier(0, 0, 0.01, 1);
					}
				`:""}
				${l?`


					::slotted(media-item:nth-child(${a.left+1})) {
						z-index: 1001;
						--base-translate: translateX(-15px);
					}

					::slotted(media-item:nth-child(${a.right+1})) {
						z-index: 1001;
						--base-translate: translateX(15px);
					}

					::slotted(media-item:nth-child(${a.above+1})) {
						z-index: 1001;
						--base-translate: translateY(-15px);
					}

					::slotted(media-item:nth-child(${a.below+1})) {
						z-index: 1001;
						--base-translate: translateY(15px);
					}
				`:""}

			`}),S(Pi,{...this.props,hasFocus:!!c,onScrollWhileHovered:this.onScrollWhileHovered,trackResize:!0,buttonHeight:g,buttonMode:"inside",baseNode:this.props.galleryInstance,render:x=>{let{pointerAttention:E,overlayPosition:_}=x,D=0;if(_.y<=1&&(D=Math.min(-_.y+1,_.height+-g+1)),!e?.["blog-gallery"])return S(he,{children:S("div",{className:`editor-overlay editor-outline${E||c?" hover":""}${E||c?" button-hover":""}${c?" focus":""}`,style:{transform:`translate3d(${_.x}px, ${_.y}px, 0)`,width:_.width+"px",height:_.height+"px",display:E||c?"block":"none",minHeight:"27px",zIndex:10},children:[S("div",{className:"in-editor-buttons gallery",style:{transform:`translateY(${D}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:S("button",{onMouseDown:M=>{this.launchUIWindow(M)},ref:this.galleryButtonRef,className:"text",children:v?"Thumbnail Index":"Gallery"})}),e.otherUI]})})}})]})}launchUIWindow=(e,r)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.props.galleryInstance.getBoundingClientRect(),n={x:i.x+-10,y:i.y,left:i.right+-10,right:i.right+-10,top:i.top+0,bottom:i.top+27,width:i.width,height:10};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"imagegallery-ineditor",windowAlias:"imagegallery",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!0,props:{activeGallery:this.props.galleryInstance}})};onMutate=e=>{if(this.props.suppressMutation)return;this.observer.disconnect();let r=[],i=[],n=[],o=!1,s=!1,a=this.props["thumbnail-index"],l=!1;e.forEach(f=>{if(f.target.tagName=="MEDIA-ITEM"){if(r.indexOf(f.target)>-1||f.type!=="attributes"||f.attributeName==="slot"||this.props.disabledMediaItemOptions.indexOf(f.attributeName)>-1)return;a&&r.push(f.target),!(f.attributeName==="style"||f.attributeName==="class")&&this.props.gallerySpecificAttributes&&this.props.gallerySpecificAttributes.includes(f.attributeName)&&r.push(f.target)}else f.target==this.props.galleryInstance&&(f.removedNodes.length>0||f.addedNodes.length>0)?(this.props.allowedElements&&(s=[...Array.from(f.addedNodes),...Array.from(f.removedNodes)].some(this.props.allowedElements)),o=f.addedNodes.length>0||o,i=[...i,...Array.from(f.addedNodes).filter(c=>c.tagName==="MEDIA-ITEM")],n=[...n,...Array.from(f.removedNodes).filter(c=>c.tagName==="MEDIA-ITEM")]):f.type==="characterData"&&(l=f.target)}),i=rn.default.uniq(i),n=rn.default.uniq(n),r=rn.default.uniq(r);let p=Array.from(this.props.galleryInstance.childNodes).filter(f=>f?.nodeName!=="MEDIA-ITEM");this.props.allowedElements&&rn.default.remove(p,this.props.allowedElements),p.forEach(f=>{f.remove()}),(i.length>0||n.length>0)&&(Array.from(this.props.galleryInstance.children).some(f=>f.tagName==="MEDIA-ITEM")||this.removeEmptyGallery()),n.forEach(f=>{f.itemResize=void 0,f.itemDragStart=void 0,f.drag=void 0}),(i.length>0||n.length>0||r.length>0||s||this.props["thumbnail-index"]&&l)&&this.props.onCleanUp&&this.props.onCleanUp(i,n,r,l),this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions)};removeEmptyGallery=rn.default.debounce(()=>{if(!Array.from(this.props.galleryInstance.children).some(e=>e.tagName==="MEDIA-ITEM")){if(this.state.isDraggingInEditor)this.setState({galleryIsEmpty:!0});else if(this.props["thumbnail-index"]===void 0){this.props.galleryInstance.remove();return}}},0);scrollIntoView=()=>{let e=this.props.galleryInstance.getBoundingClientRect();this.props.galleryInstance.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:120,lazyScroll:!0}}))};onDragOver=(e,r,i)=>{if(this.props.disableDragOver)return;let o=!1;if(i?.dropTarget?._getPlaceholderUIState){let s=i.dropTarget._getPlaceholderUIState();s.visible===!0&&s.is_target===!0&&(o=!0)}if((!i.customDropTarget||i.customDropTarget===this.props.galleryInstance)&&(i.draggedMediaItems.length>0||i.fromOutside)&&!i.inAdmin&&this.props.galleryInstance.contains(i.dropTarget)&&!o){this.dragOverCounter++,this.state.showInsertionIndicator||this.dragMap.clear();let s=this.props.galleryInstance.getBoundingClientRect(),a=60,l=1.033,p=2.399827721492203,f=Array.from(this.props.galleryInstance.children),c=[],m=r.clientX+-s.left,v=r.clientY+-s.top,g=15,x,E=0,_,D=0,M=null;for(x=0;x<a;x++)if(M=null,E=E+p,g=g*l+2,_=r.clientX+Math.cos(E)*g,D=r.clientY+Math.sin(E)*g,M=document.elementFromPoint(_,D),M&&(M=M.closest("MEDIA-ITEM")||null),this.props.galleryInstance.contains(M)||(M=null),M&&c.indexOf(M)===-1)if(this.dragMap.has(M)){let G=this.dragMap.get(M);_<=G.x2+s.left&&_>=G.x1+s.left&&D<=G.y2+s.top&&D>=G.y1+s.top&&c.push(M)}else c.push(M);let P=c.map(G=>{let K;if(this.dragMap.has(G))K=this.dragMap.get(G);else{let Ne=hd(G);K={w:Ne.width+-(15*2),h:Ne.height+-(15*2),x1:Ne.left+-s.left+15,x2:Ne.left+Ne.width+-s.left+-15,y1:Ne.top+-s.top+15,y2:Ne.top+Ne.height+-s.top+-15},this.dragMap.set(G,K)}let Q=!1,re=!1,ee=!1,ae=!1,se=!1,ce=!1,_e=0,Ie=0,ge=0;m>=K.x1&&m<=K.x2?(re=!0,m<K.x1+K.w*.5?ce=!0:se=!0,ge=0):K.x1>m?(ce=!0,ge=K.x1-m):m>K.x2&&(ge=K.x2-m,se=!0),v>=K.y1&&v<=K.y2?(Q=!0,v<K.y1+K.h*.5?ae=!0:ee=!0,Ie=0):K.y1>v?(ae=!0,Ie=K.y1-v):v>K.y2&&(ee=!0,Ie=K.y2-v),_e=Math.sqrt(Ie*Ie+ge*ge);let Re=f.indexOf(G),Qe=G.getAttribute("slot"),Me=0,$e=0;return this.props.dragIndicationType==="columns"&&(Me=Array.from(G.assignedSlot.parentElement.children).indexOf(G.assignedSlot)),{inX:re,inY:Q,distance:_e,rise:Ie,run:ge,above:ee,below:ae,toRight:ce,toLeft:se,index:Re,slotIndex:Me,el:G,rect:K}}),L={el:null,index:-1},I=L,q=L,N=L,F=L,W=[],U=[],Z=[],J=[];P.forEach(G=>{G.above&&Z.push(G),G.below&&J.push(G),G.toRight&&U.push(G),G.toLeft&&W.push(G)});let ie=null,le=!1;if(this.props.dragIndicationType==="columns"){let G=rn.default.minBy(Z,ee=>Math.abs(ee.distance)),K=rn.default.minBy(J,ee=>Math.abs(ee.distance)),Q=rn.default.minBy(W.filter(ee=>ee.inY),ee=>Math.abs(ee.distance)),re=rn.default.minBy(U?.filter(ee=>ee.inY),ee=>Math.abs(ee.distance));G&&K?Math.abs(K.run)<Math.abs(G.run)?(F=K,N=Z.find(ee=>ee.rect.x1<F.rect.x2&&ee.rect.x2>F.rect.x1)||L):(N=G,F=J.find(ee=>ee.rect.x1<N.rect.x2&&ee.rect.x2>N.rect.x1)||L):G?N=G:K&&(F=K),Q&&re?le=re.rect.y1!==Q.rect.y1:(Q?.rect?.y1>0||re?.rect?.y1>0||N?.index>-1)&&(le=!0)}if(le){if(I=L,q=L,N=N,F=F,F?.el)ie=F.el;else for(ie=N.el?.nextElementSibling?.assignedElements?.()[0]||null;ie&&ie.tagName!=="MEDIA-ITEM";)ie=ie?.nextElementSibling||null;i.draggedMediaItems.length===1&&f.indexOf(i.draggedMediaItems[0])>-1&&f.indexOf(ie)>f.indexOf(i.draggedMediaItems[0])&&(ie=ie.nextElementSibling)}else{let G=rn.default.minBy(W,Q=>Math.abs(Q.distance)),K=rn.default.minBy(U,Q=>Math.abs(Q.distance));if(G&&K?Math.abs(K.rise)<Math.abs(G.rise)?(q=K,I=W.find(Q=>Q.index==q.index+-1)):(I=G,q=U.find(Q=>Q.index==I.index+1)):G?I=G:K&&(q=K),N=L,F=L,q=q||L,I=I||L,q?.el)ie=q.el;else for(ie=I.el?.nextElementSibling;ie&&ie.tagName!=="MEDIA-ITEM";)ie=ie.nextElementSibling}clearTimeout(this.stopTransitionTimeout),this.dragOverCounter>1&&(this.setState({adjacentIndexes:{left:I.index,right:q.index,above:N.index,below:F.index},insertBeforeTarget:ie,showInsertionIndicator:!0,allowTransition:!0}),be.globalDragEventController.setCustomDropTarget(this.props.galleryInstance))}else this.dragOverCounter=0,this.state.showInsertionIndicator&&this.props.onDragOut&&this.props.onDragOut(),this.setState({showInsertionIndicator:!1},()=>{clearTimeout(this.stopTransitionTimeout),this.stopTransitionTimeout=setTimeout(()=>{this.setState({allowTransition:!1})},200)}),be.globalDragEventController.releaseCustomDropTarget(this.props.galleryInstance)};onDragStart=(e,r,i)=>{if(!(this.props["thumbnail-index"]&&(!i.draggedMediaItems?.[0]||!this.props.galleryInstance.contains(i.draggedMediaItems[0])))){if(et.activateHoverElement(this.props.galleryInstance),this.props.disableDragStart){r.preventDefault();return}this.dragOverCounter=0}};onAfterDragStart=(e,r,i)=>{this.props.disableDragStart||this.setState({isDraggingInEditor:!0})};onDragEnd=(e,r,i)=>{this.onDragOver.cancel(),this.props.onDragEnd&&this.props.onDragEnd(),this.setState({showInsertionIndicator:!1,isDraggingInEditor:!1},()=>{this.onDragFinish()})};onDragDrop=(e,r,i)=>{if(this.onDragOver.cancel(),this.props.onDragDrop&&this.props.onDragDrop(),!this.props.disableDrop&&!i.inAdmin){if(i.customDropTarget===this.props.galleryInstance){CargoEditor.mutationManager.execute(()=>{i.draggedMediaItems.forEach((s,a)=>{this.props["thumbnail-index"]&&s.setSaveable(!1),this.props.galleryInstance.insertBefore(s,this.state.insertBeforeTarget)}),this.props.onAfterDrop&&this.props.onAfterDrop(i.draggedMediaItems,this.state.insertBeforeTarget,this.state.adjacentIndexes)});let n=i.draggedMediaItems[0],o=i.draggedMediaItems[0]?.getAttribute("href");clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(()=>{let s=CargoEditor.rangy.createRange();this.props["thumbnail-index"]&&(n=Array.from(this.props.galleryInstance.children).find(a=>a.getAttribute("href")==o)),n&&(s.selectNode(n),CargoEditor.helpers.setActiveRange(s))},120)}this.setState({showInsertionIndicator:!1,isDraggingInEditor:!1,insertBeforeTarget:null},()=>{this.onDragFinish()})}};onBeforeDrop=(e,r,i)=>{this.props.disableBeforeDrop};onDragFinish=()=>{et.testHover(),this.state.galleryIsEmpty&&(Array.from(this.props.galleryInstance.children).filter(r=>r?.tagName=="MEDIA-ITEM").length==0&&this.props["thumbnail-index"]===void 0?CargoEditor.mutationManager.execute(()=>{this.props.galleryInstance.remove()}):this.setState({galleryIsEmpty:!1})),clearTimeout(this.stopTransitionTimeout),this.stopTransitionTimeout=setTimeout(()=>{this.setState({allowTransition:!1})},200)};setUIWindow=e=>{this.setState({UIWindow:e}),e?typeof this.props.onUIWindowSet=="function"&&this.props.onUIWindowSet(e):typeof this.props.onUIWindowRelease=="function"&&this.props.onUIWindowRelease(e)};onScrollWhileHovered=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidUpdate(e){e.suppressMutation!==this.props.suppressMutation&&(this.observer.disconnect(),this.props.suppressMutation||this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions)),rn.default.isEqual(e.mediaItemEditorInfo,this.props.mediaItemEditorInfo)||this.setMediaItemEditorInfo()}setMediaItemEditorInfo=()=>{this.props.galleryInstance._mediaItemEditorInfo=this.props.mediaItemEditorInfo||{disableResize:!1,disableButton:!1},Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM").forEach(r=>{r._editorInterface?.setState?.({mediaItemEditorInfo:{...this.props.mediaItemEditorInfo}})}),this.props.mediaItemEditorInfo?.afterScaleChange&&(this.props.galleryInstance._mediaItemEditorInfo.afterScaleChange=this.props.mediaItemEditorInfo.afterScaleChange)};flushMutationQueue=()=>{let e=this.observer.takeRecords();e.length>0&&this.onMutate(e)};componentDidMount(){if(this.props.galleryInstance.children.length===0&&this.props["thumbnail-index"]===void 0){this.props.galleryInstance.remove();return}this.setMediaItemEditorInfo(),this.observer=new MutationObserver(this.onMutate),this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions),this.props.galleryInstance._editorInterface=this,be.globalDragEventController.on("dragstart",this.onDragStart),be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("dragend",this.onDragEnd),be.globalDragEventController.on("before-drop",this.onBeforeDrop),be.globalDragEventController.on("drop",this.onDragDrop),be.globalDragEventController.on("after-dragstart",this.onAfterDragStart)}componentWillUnmount(){clearTimeout(this.stopTransitionTimeout),this.state.UIWindow&&this.state.UIWindow.changingLayout,this.removeEmptyGallery.cancel(),this.onDragOver.cancel(),this.observer?.disconnect(),this.observer=null,clearTimeout(this.showOutlinesTimeout),clearTimeout(this.bindTimeout),be.globalDragEventController.off("dragstart",this.onDragStart),be.globalDragEventController.off("dragover",this.onDragOver),be.globalDragEventController.off("dragend",this.onDragEnd),be.globalDragEventController.off("before-drop",this.onBeforeDrop),be.globalDragEventController.off("drop",this.onDragDrop),be.globalDragEventController.off("after-dragstart",this.onAfterDragStart),this.props.galleryInstance._editorInterface===this&&(this.props.galleryInstance._mediaItemEditorInfo=null,delete this.props.galleryInstance._editorInterface)}};fg.defaultProps={disabledMediaItemOptions:[],dragIndicationType:"grid"};No=Ue((t,e)=>({Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}))(fg)});var Nx,Ox,ez,tz=$(()=>{ke();Nx=ye(Pe(),1);Ut();Wr();Uu();fe();Ox=class extends me{constructor(e){super(e),this.state={hasUIWindow:!1,pointerAttention:!1},this.debouncedCheckRange=Nx.default.debounce(this.checkRange,120)}render(e,r){let{thumbnailsVisible:i,galleryInstance:n,dragContext:o,pageInfo:s}=e;return S(he,{children:[S("style",{children:`
			::slotted(media-item) {
				${this.state.thumbnailsVisible?"--display-slideshow-captions: block!important;":""}
			}	
		`}),s.isEditing?S(No,{...e,mediaItemEditorInfo:{disableResize:!0,disableButton:!1},gallerySpecificAttributes:this.props.gallerySpecificAttributes||[],suppressMutation:this.props.suppressMutation,galleryInstance:n,disableDragOver:!i,disableDrop:!i,allowedElements:a=>a.part=="previous-button"||a.part=="next-button",onUIWindowRelease:this.onUIWindowRelease,onPointerIn:this.onPointerIn,onPointerOut:this.onPointerOut}):null]})}onCleanUp=(e,r,i,n,o,s)=>{this.props.pageInfo.isEditing||(this.props.galleryInstance.updateNavigation(),this.props.onCleanUp&&this.props.onCleanUp(e,r,i,n,o,s))};onPointerIn=()=>{this.props.pageInfo.isEditing&&this.setState({pointerAttention:!0})};onPointerOut=()=>{this.props.pageInfo.isEditing&&this.setState({pointerAttention:!1})};onDragOver=(e,r,i)=>{switch(!0){case i.fromOutside:case(i.fromAdmin&&i.draggedMediaItems.length>0):case(!i.fromAdmin&&i.draggedMediaItems.length>0&&e.getElement().contains(i.draggedMediaItems[0])&&this.props.pageInfo.isEditing):break;default:return}let{x:n,y:o}=be.globalDragEventController,a=Array.from(document.elementsFromPoint?.(n,o)??[]).find(l=>l==this.props.galleryInstance);a&&a.showThumbnails()};onDragEnd=()=>{this.debouncedCheckRange()};onDragDrop=(e,r,i)=>{if((this.props.galleryInstance.contains(i.dropTarget)||this.props.galleryInstance.contains(i.customDropTarget))&&this.props.thumbnailsVisible){let n=i.customDropTarget?.tagName=="MEDIA-ITEM"?i.customDropTarget:i.draggedMediaItems[0];n&&setTimeout(()=>{let o=CargoEditor.rangy.createRange();o.selectNode(n),CargoEditor.helpers.setActiveRange(o),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor())},60),setTimeout(()=>{this.debouncedCheckRange()},500)}else this.props.galleryInstance?.hideThumbnails?.()};onUIWindowRelease=()=>{this.props.galleryInstance.thumbnailsVisible&&this.debouncedCheckRange(),this.setState({hasUIWindow:!1})};onUIWindowSet=e=>{this.setState({hasUIWindow:e})};checkRange=()=>{if(!this.props.pageInfo.isEditing)return;let e=CargoEditor.getActiveRange();CargoEditor.events.off("cursor-activity",this.debouncedCheckRange),be.globalDragEventController.isDragging||this.state.hasUIWindow||this.props.childArray.some(r=>r._editorInterface?.state?.UIWindow)||e&&(this.props.galleryInstance.contains(e.startContainer)||this.props.galleryInstance.contains(e.endContainer))||!e?CargoEditor.events.on("cursor-activity",this.debouncedCheckRange):this.props.galleryInstance?.hideThumbnails?.()};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),CargoEditor.events.on("cursor-activity",this.captionCursorActivity)};captionCursorActivity=Nx.default.throttle(()=>{var e=CargoEditor.getActiveRange();e&&this.props.galleryInstance.contains(e.commonAncestorContainer)&&Array.from(this.props.galleryInstance.children).filter(i=>i.tagName==="MEDIA-ITEM").forEach((i,n)=>{i.contains(e.commonAncestorContainer)&&this.props.onItemResize(null,i,n)})},120);componentDidUpdate(e){if(e.inTransition!==this.props.inTransition){let r=Array.from(this.props.galleryInstance.children).filter(i=>i.tagName==="MEDIA-ITEM");if(this.props.inTransition)r.forEach(i=>{et.deactivateHoverElement(i),et.lockItem(i)});else if(this.state.pointerAttention){r.forEach(n=>{et.deactivateHoverElement(n),et.unlockItem(n)});let i=Array.from(this.props.galleryInstance.children).find(n=>n.nodeName==="MEDIA-ITEM"&&n.assignedSlot?.parentElement?.hasAttribute("data-active-slide"));i&&et.activateHoverElement(i)}}}componentDidMount(){CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents),be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("drop",this.onDragDrop),be.globalDragEventController.on("dragend",this.onDragEnd)}componentWillUnmount(){window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.captionCursorActivity.cancel(),CargoEditor&&Object.keys(CargoEditor||{}).length>0&&CargoEditor.events.off("cursor-activity",this.captionCursorActivity),be.globalDragEventController.off("drop",this.onDragDrop),be.globalDragEventController.off("dragover",this.onDragOver),be.globalDragEventController.off("dragend",this.onDragEnd)}},ez=Ox});var rz,iz,Dx=$(()=>{rz="http://www.w3.org/2000/svg",iz=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i});function nz(t,e,r,i){let n,o,s;for(;e=e._parent;)if((n=e._component)&&!n._processingException)try{if(o=n.constructor,o&&o.getDerivedStateFromError!=null&&(n.setState(o.getDerivedStateFromError(t)),s=n._dirty),n.componentDidCatch!=null&&(n.componentDidCatch(t,i||{}),s=n._dirty),s)return n._pendingError=n}catch(a){t=a}throw t}var oz=$(()=>{Dx()});var Uae,Lx,sz=$(()=>{oz();Uae={_catchError:nz},Lx=Uae});function az(t,e,r){e[0]=="-"?t.setProperty(e,r==null?"":r):r==null?t[e]="":typeof r!="number"||iz.test(e)?t[e]=r:t[e]=r+"px"}function Fx(t,e,r,i,n){let o;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)r&&e in r||az(t.style,e,"");if(r)for(e in r)(!i||r[e]!==i[e])&&az(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(qae,"$1")),e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e=e.toLowerCase().slice(2):e=e.slice(2),t._listeners||(t._listeners={}),t._listeners[e+o]=r,r?i?r._attached=i._attached:(r._attached=cz,t.addEventListener(e,o?uz:lz,o)):t.removeEventListener(e,o?uz:lz,o);else{if(n==rz)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r==null?"":r;break e}catch{}typeof r=="function"||(r!=null&&(r!==!1||e[4]=="-")?t.setAttribute(e,e=="popover"&&r==!0?"":r):t.removeAttribute(e))}}function dz(t){return function(e){if(this._listeners){let r=this._listeners[e.type+t];if(e._dispatched==null)e._dispatched=cz++;else if(e._dispatched<r._attached)return;return r(Lx.event?Lx.event(e):e)}}}var qae,cz,lz,uz,pz=$(()=>{Dx();sz();qae=/(PointerCapture)$|Capture$/i,cz=0;lz=dz(!1),uz=dz(!0)});function Oo(t,e,r,i,n){let o;for(o in r)o!=="children"&&o!=="key"&&!(o in e)&&Fx(t,o,null,r[o],i);for(o in e)(!n||typeof e[o]=="function")&&o!=="children"&&o!=="key"&&o!=="value"&&o!=="checked"&&r[o]!==e[o]&&Fx(t,o,e[o],r[o],i)}var qu=$(()=>{pz()});var hz,fz=$(()=>{hz=(t,e={})=>{let r=t.replace(/["#$%<>&=\?\\\/:]/g,"").replace(/(\s|\.)/g,"-").replace(/-{2,}/g,"-").toLowerCase(),i=r.length>0?r:"_";if(e.inUse){let n=i,o=1;for(;e.inUse.includes(n);)n=i+`-${o++}`;return n}return i}});function mz(t){let e=t.split(":"),r=e[0],i="all";switch(r){case"set":i=cl.default.tail(e).map(n=>n).join(":");break;case"tag":i=cl.default.tail(e)[0]?.split(",").map(n=>hz(n.trim()));break;case"img":i="all";break;case"all":i="all";break}return{type:r,value:i}}function Vae(t){let e=null,r=null,i=null;class n extends Or{constructor(s){super(s),this.fixBadNullValue(),this.state={layoutIncrement:0,initialLoad:!1,attributeMap:this.getMapFromAttribute(),thumbnails:[],renderLimit:150},this.siteImagesPagination=50,this.preactRendering=!1}getMapFromAttribute=()=>{let s={};try{let a=unescape(this.props["thumbnail-index-metadata"]||"{}");s=JSON.parse(a)}catch(a){s={},console.error("failed to load saved thumbnail map: ",a)}return s};fixBadNullValue=()=>{this.props["thumbnail-index"]==="null"&&this.props.baseNode&&this.props.baseNode.removeAttribute("thumbnail-index"),this.props.baseNode&&this.props.baseNode.hasAttribute("tag")&&this.props.baseNode.removeAttribute("tag")};isActiveLink=s=>{if(this.props.inAdminFrame&&this.props.adminMode===!0)return!1;let a=s.purl.replace(/^#/,"");return s.id===this.props.PIDBeingEdited||a===this.props.activePURL||this.props.hashPurl&&a===this.props.hashPurl};render(s){if(!s["thumbnail-index"]||s["thumbnail-index"]==="null"){let m={...s,"thumbnail-index":void 0};return S(t,{...m})}let a=this.state.thumbnails.length>0,l=a&&s["show-tags"],p=a&&s["show-title"],f=a||!this.state.initialLoad?this.state.thumbnails:this.props.adminMode?Wae:[];this.props.baseNode.tagName==="GALLERY-FREEFORM"&&(f=cl.default.sortBy(f,m=>{let v=this.state.attributeMap?.[m.id];return v!=null?v.sort+1:0})),f=f.slice(0,this.state.renderLimit),this.renderedItemCount=f.length;let c=typeof s["thumbnail-index"]=="string"&&s["thumbnail-index"].startsWith("img");return S(t,{...s,onCleanUp:this.onCleanUp,disableDragOver:!0,children:f.map((m,v)=>{let g=m.thumbnail?.is_video||m.thumbnail?.is_url||null,x=c&&m?.is_svg===!0;return Bt("media-item",{...this.state.attributeMap[m.id]?.attributes,saveable:!1,model:x?null:m.thumbnail,...x?{"dynamic-src":"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","dynamic-filetype":"image","dynamic-width":m.thumbnail?.width,"dynamic-height":m.thumbnail?.height}:null,autoplay:g,loop:g,muted:g,href:m.purl,rel:"history",itemDragStart:this.onDragStart,key:"thumb id"+m.id,"disable-zoom":!0,className:`thumbnail linked ${m.tags.map(E=>"tag-"+E.url).join(" ").toLowerCase()}${this.isActiveLink(m)?" active":""}`,...m.attributes,...x?{"force-quick-view":!1}:null},S("figcaption",{class:`caption${!p&&!l?" empty":""}`,slot:"caption",children:[x?S("div",{className:"img-svg-placeholder-tag",style:{position:"absolute",top:"5px",left:"8px",pointerEvents:"none"},children:"svg"}):null,p?S("div",{className:"page-title",children:m.title},"title-"+m.url+"-"+m.title+"-"+this.state.layoutIncrement):null,m.tags.length>0&&l?S("div",{className:"tags",children:m.tags.map((E,_)=>S(he,{children:[S("a",{href:E.url,className:"tag-link",rel:s["links-filter-index"]?"filter-index":"history","data-tag":E.tag,children:E.tag+""}),_<m.tags.length-1?S("span",{className:"tag-separator"}):null]},"tag-link-"+E.url+"-"+this.state.layoutIncrement))}):null]}))})})}onDragStart=s=>{!this.props["thumbnail-index"]||this.props["thumbnail-index"]==="null"||this.props.adminMode&&this.props.baseNode.tagName!=="GALLERY-FREEFORM"&&(s.preventDefault(),s.stopPropagation())};componentDidUpdate(s,a){if(this.fixBadNullValue(),this.props["thumbnail-index"]&&(s["thumbnail-index"]!==this.props["thumbnail-index"]||this.props.thumbCollection!==s.thumbCollection||this.props.sort!==s.sort||this.props.lastPublishedAt!==s.lastPublishedAt)&&this.setThumbnails(),this.props["thumbnail-index"]&&this.props["thumbnail-index"].startsWith("img")&&this.state.totalImages!==a.totalImages&&this.state.totalImages!==void 0){let l=parseInt(this.props.page,10);!isNaN(l)&&(l+1)*this.siteImagesPagination<this.state.totalImages&&Pt(this.props.baseNode,"image-pagination",{paginationComplete:!1},{bubbles:!0})}this.state.thumbnails!==a.thumbnails&&this.props.baseNode.dispatchEvent(new CustomEvent("new-thumbnails-rendered",{bubbles:!0,cancelable:!0,composed:!0,detail:{}})),this.props["thumbnail-index-metadata"]!==s["thumbnail-index-metadata"]&&this.setState({attributeMap:this.getMapFromAttribute()}),this.ticking||(this.ticking=!0,setTimeout(()=>{this.renderedItemCount>=this.state.renderLimit&&this.setState({renderLimit:this.state.renderLimit+250}),delete this.ticking},200)),this.props["thumbnail-index"]!==s["thumbnail-index"]&&this.props["thumbnail-index"]&&this.props["thumbnail-index"]!=="null"&&(this.props.pageInfo.setPageData({filter:this.props["thumbnail-index"]},this.props.baseNode),this.emitFilterEvent())}emitFilterEvent=()=>{this.props["thumbnail-index"]&&!this.props.adminMode&&(this.emitFilterDebounce=requestAnimationFrame(()=>{var s=new CustomEvent("filter-thumbnail-index",{bubbles:!0,cancelable:!0,composed:!0,detail:{filter:this.props["thumbnail-index"]}});this.props.baseNode.dispatchEvent(s)}))};updateOldThumbMetaData=cl.default.debounce(()=>{let s=this.props.baseNode.querySelector('script[type="text/thumbnail-metadata"]');if(s){try{CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("thumbnail-index-metadata",escape(s.textContent))},{preventDraft:!0})}catch{}CargoEditor?.mutationManager?.execute?.(()=>{s.remove()},{preventDraft:!0})}},2e3);onPreactRenderComplete=()=>{this.preactRendering=!1,this.childListObserver.takeRecords()};onPreactRenderStart=()=>{this.onChildListMutation(this.childListObserver.takeRecords()),this.preactRendering=!0};onChildListMutation=s=>{if(!this.props["thumbnail-index"]||this.preactRendering||s.length===0)return;s.reverse();let a=!1;for(let l of s)l.type==="childList"&&(l.addedNodes.length>0||l.removedNodes.length>0)&&(a||(console.log("[DOM] Enforced Preact ownership of component tree"),a=!0),Array.from(l.addedNodes).forEach(p=>l.target.removeChild(p)),Array.from(l.removedNodes).forEach(p=>{l.target.insertBefore(p,l.nextSibling)}));this.childListObserver.takeRecords()};componentDidMount(){this.fixBadNullValue(),this.updateOldThumbMetaData(),this.setThumbnails(),this.props["thumbnail-index"]&&this.props["thumbnail-index"]!=="null"&&this.emitFilterEvent(),this.props.baseNode.addEventListener("keydown",this.onKeyDown),this.props.baseNode.addEventListener("filter-thumbnail-index",this.setThumbnails),document.addEventListener("filter-thumbnail-index",this.setThumbnails),this.props.baseNode.addEventListener("refresh-thumbnail-index",this.setThumbnails),this.childListObserver=new MutationObserver(this.onChildListMutation),this.childListObserver.observe(this.props.baseNode,{subtree:!0,childList:!0}),yt(document,"preact-render-start",this.onPreactRenderStart),yt(document,"preact-render-complete",this.onPreactRenderComplete)}componentWillUnmount(){wt(document,"preact-render-start",this.onPreactRenderStart),wt(document,"preact-render-complete",this.onPreactRenderComplete),this.childListObserver.disconnect(),cancelAnimationFrame(this.emitFilterDebounce),this.props.baseNode.removeEventListener("refresh-thumbnail-index",this.setThumbnails),this.props.baseNode.removeEventListener("keydown",this.onKeyDown),this.props.baseNode.removeEventListener("filter-thumbnail-index",this.setThumbnails),document.removeEventListener("filter-thumbnail-index",this.setThumbnails)}onKeyDown=s=>{s.metaKey||s.ctrlKey||!this.props["thumbnail-index"]||(/^.$/u.test(s.key)||s.key==="Enter"||s.key==="Delete"||s.key==="Backspace")&&(s.preventDefault(),s.stopPropagation())};setThumbnails=async()=>{if(!this.props["thumbnail-index"])return;let s=mz(this.props["thumbnail-index"]),a=this.props.lastPublishedAt,l=[];switch(s.type){case"set":try{({data:l}=await ip.default.get(`${ar}/pages/${this.props.siteId}/thumbs/set/${s.value}?limit=999&timestamp=${a}`,{use_cache:!0}))}catch{}break;case"tag":try{({data:l}=await ip.default.get(`${ar}/pages/${this.props.siteId}/thumbs/tag/${s.value.join(",")}?limit=999&timestamp=${a}`,{use_cache:!0}))}catch{}break;case"img":{let c=this.props.siteId+":"+a;e&&r===c?l=e:((!i||r!==c)&&(r=c,i=ip.default.get(`${ar}/sites/${this.props.siteId}/media/images?with-pages=true`,{use_cache:!0}).then(function(g){return g.data}).catch(function(){return[]})),l=(await i).filter(function(g){return g.media.length>0&&g.password_enabled===!1}),l=cl.default.flatMap(l,function(g){return g.media.map(function(x){let E=(x.name||"").toLowerCase().endsWith(".svg")||(x.file_type||"").toLowerCase()==="svg"||(x.mime_type||"").toLowerCase()==="image/svg+xml",_={"disable-scroll-animation":!0,href:null,"force-quick-view":!0,hash:x.hash},D=E?{..._,hash:"placeholder","data-original-hash":x.hash,"data-original-name":x.name,"data-original-url":"https://freight.cargo.site/o/i/"+x.hash+"/"+x.name}:{..._,hash:x.hash};return{display:!0,id:x.id,purl:g.purl,url:g.purl,sort:0,tags:[],thumbnail:x,is_svg:E,title:S(he,{children:[S("a",{href:g.purl,rel:"noopener nofollow",target:"_blank",className:"page-link",children:g.title}),S("br",{}),S("a",{target:"_blank",rel:"noopener nofollow",href:"https://freight.cargo.site/o/i/"+x.hash+"/"+x.name,children:x.name})]}),attributes:D}})}),e=l);let m=parseInt(this.props.page,10);this.setState({totalImages:l.length}),isNaN(m)||(l=l.slice(m*this.siteImagesPagination,(m+1)*this.siteImagesPagination));break}default:try{({data:l}=await ip.default.get(`${ar}/pages/${this.props.siteId}/thumbs/all?limit=999`,{use_cache:!0}))}catch{}break}let p=store.getState();l=l.filter(c=>{let m=p.pages.byId[c.id];return!(m&&m.crdt_state!==tr.Published||m&&s.type==="set"&&p.structure.byParent[s.value]&&!p.structure.byParent[s.value].some(v=>v===m.id))});let f=cl.default.unionBy(this.props.thumbCollection,l,"id");switch(f=f.filter(c=>c.pin!==!0&&c.display!==!1&&c.id!==this.props.homepageID&&c.id!==this.props.mobileHomepageID&&c.crdt_state!==tr.Deleted&&c.thumb_meta?.hide_from_index!==!0&&this.props.pageInfo.pid!==c.id),this.props.sort){case"reverse":f.sort((c,m)=>m.sort-c.sort);break;case"shuffle":f.sort(c=>Math.random()-.5);break;default:f.sort((c,m)=>c.sort-m.sort);break}f.forEach(c=>{c.purl.startsWith("#")||(c.purl="#"+c.purl)}),this.setState({initialLoad:!0,thumbnails:f})};onCleanUp=(s,a,l,p)=>{if(!this.props["thumbnail-index"]||!this.props.adminMode||this.props.baseNode.closest('marquee-inner[slot="contents-clone"]'))return;let f={},c="",m=store.getState();if(Array.from(this.props.baseNode.children).filter(g=>g.tagName==="MEDIA-ITEM").forEach((g,x)=>{let E=g.getAttribute("href"),_={},D=g.attributes,M=0;for(M=D.length;M--;)D[M].name==="saveable"||D[M].name==="limit-by"||D[M].name==="class"||D[M].name==="hash"||D[M].name==="href"||D[M].name==="rel"||D[M].name==="slot"||D[M].name==="width"||D[M].name==="height"||D[M].name==="disable-zoom"||D[M].name==="data-placeholder"||D[M].name.startsWith("dynamic-")||(_[D[M].name]=D[M].value);let P=We.getContentByPurl(m,E)?.id||null;P&&(f[P]={sort:x,attributes:_})}),f={...this.state.attributeMap,...f},c=JSON.stringify(f),c=escape(c),c!==this.props["thumbnail-index-metadata"])CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("thumbnail-index-metadata",c)},{preventDraft:!0}),this.setState({attributeMap:f||{}});else if(p){if(CargoEditor&&CargoEditor?.getActiveEditor?.()){let g=CargoEditor.rangy.createRange();g.selectNode(this.props.baseNode),g.collapse(),CargoEditor.helpers.setActiveRange(g)}this.setState({layoutIncrement:this.state.layoutIncrement+1})}}}return jt(Ue((o,s)=>{let a=Hae(s["thumbnail-index"],o.structure,o.pages),l=(o.pages.byId[o.frontendState.activePID]||o.sets.byId[o.frontendState.activePID])?.purl;return{lastPublishedAt:o.adminState?.crdt?.publishedAt??"000",thumbCollection:a,activePURL:l,hashPurl:o.frontendState.activeHashPurl,adminMode:o.frontendState.adminMode,PIDBeingEdited:o.frontendState.PIDBeingEdited,inAdminFrame:o.frontendState.inAdminFrame,siteId:o.site.id,homepageID:o.site.homepage_id,mobileHomepageID:o.site.mobile_homepage_id}})(n))}var ip,cl,Hae,Wae,Do,Hu=$(()=>{ke();Ye();gt();Ut();Fe();ea();ip=ye(Nn(),1);qr();Ji();kr();fz();Ar();cl=ye(Pe(),1);fe();ke();Hae=gn((t,e,r)=>{let i=[];if(!t)return i;let n=mz(t);switch(n.type){case"set":i=(e.byParent[n.value]||[]).map(o=>r.byId[o]).filter(o=>o!==void 0);break;case"tag":i=Object.values(r.byId).filter(o=>o.tags&&o.tags.find(s=>n.value?.includes(s.url)));break;case"img":i=[];break;default:i=Object.values(r.byId);break}return i.map(o=>{let s=null;return o.thumb_media_id&&o.media?s=o.media.find(a=>a.id===o.thumb_media_id)||null:o.thumbnail&&(s=o.thumbnail),{id:o.id,title:o.title,purl:o.purl,thumb_meta:o.thumb_meta||{},display:o.display,sort:e.bySort[o.id],tags:o.tags||[],pin:o.pin,crdt_state:o.crdt_state,thumbnail:s}})}),Wae=[null,null,null].fill({attributes:{href:null,hash:"placeholder","suppress-placeholder-ui":!0},purl:null,thumbnail:null,tags:[],title:null});Do=Vae});var bz,xr,gz,zx,vz,yz,$ae,jae,Gae,Kae,dl,Bx,Ux,mg,Yae,gg=$(()=>{ke();Ye();Rx();gt();Hr();da();tz();qu();Qr();Hu();Ar();Io();qr();Fe();ll();bz=ye(Pe(),1);fe();ke();xr={name:"slideshow",displayName:"Slideshow",tagName:"GALLERY-SLIDESHOW",disabledMediaItemOptions:["scale","sticker","limit-by"],mobileOptions:[{labelName:"",name:"mobile-transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"},{labelName:"Scrub",value:"scrub"}]},{labelName:"Transition Speed",name:"mobile-transition-speed",type:"scrubber",numberOnlyMode:!0,value:.8,min:0,max:10,step:.1,requirements:[{option:"transition-type",shouldBe:t=>t==="slide"||t==="fade"}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Navigation",name:"mobile-navigation",type:"check-box",value:!0},{labelName:"Captions",name:"mobile-show-captions",type:"check-box",value:!0}]},{labelName:"Autoplay",name:"mobile-autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"mobile-autoplay-delay",type:"scrubber",value:3,step:.1,min:.1,max:30,numberOnlyMode:!0,requirements:[{option:"autoplay",shouldBe:!0}]},{type:"spacer"},{type:"group",className:"slideshow-size-group grid-columns-template-1-auto",children:[{type:"custom",name:"widthTextLabel",requirements:[{option:"mobile-limit-by",shouldBe:"width"}]},{name:"mobile-scale",value:"50rem",allowCalc:!0,allowVar:!0,type:"scrubber",allowOutOfRangeTextInput:!1,labelName:"Scale: Height",allowedUnits:["px","%","rem","em","vmin","vmax","vw","vh"],min:{px:8,rem:.5,em:.5,etc:1},max:{"%":100,vmin:100,vmax:100,vh:100,vw:100,etc:void 0},addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",requirements:[{option:"mobile-limit-by",shouldBe:"height"}]},{type:"custom",name:"fitTextLabel",requirements:[{option:"mobile-limit-by",shouldBe:"fit"}]},{name:"mobile-limit-by",type:"radio",value:"width",values:[{name:"width",customLabel:"widthLabel",value:"width"},{name:"height",customLabel:"heightLabel",value:"height"},{name:"fit",customLabel:"fitLabel",value:"fit"}]}]},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"center",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"center",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Shuffle",name:"mobile-shuffle",type:"check-box",value:!1},{type:"more-actions",children:[{labelName:"Slides",name:"toggle-thumbs",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),this.state.activeGallery.thumbnailsVisible?this.state.activeGallery.hideThumbnails():this.state.activeGallery.showThumbnails()}}]}],options:[{labelName:"",name:"transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"},{labelName:"Scrub",value:"scrub"}]},{labelName:"Transition Speed",name:"transition-speed",type:"scrubber",numberOnlyMode:!0,value:.8,min:0,max:10,step:.1,requirements:[{option:"transition-type",shouldBe:t=>t==="slide"||t==="fade"}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Navigation",name:"navigation",type:"check-box",value:!0},{labelName:"Captions",name:"show-captions",type:"check-box",value:!0}]},{labelName:"Autoplay",name:"autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"autoplay-delay",type:"scrubber",value:3,step:.1,min:.1,max:30,numberOnlyMode:!0,requirements:[{option:"autoplay",shouldBe:!0}]},{labelName:"Pause On Hover",name:"pause-on-hover",type:"check-box",value:!1,requirements:[{option:"autoplay",shouldBe:!0}]},{type:"spacer"},{type:"group",className:"slideshow-size-group grid-columns-template-1-auto",children:[{type:"custom",name:"widthTextLabel",requirements:[{option:"limit-by",shouldBe:"width"}]},{name:"scale",value:"50rem",allowCalc:!0,allowVar:!0,type:"scrubber",allowOutOfRangeTextInput:!1,labelName:"Scale: Height",allowedUnits:["px","%","rem","em","vmin","vmax","vw","vh"],min:{px:8,rem:.5,em:.5,etc:1},max:{"%":100,vmin:100,vmax:100,vh:100,vw:100,etc:void 0},addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",requirements:[{option:"limit-by",shouldBe:"height"}]},{type:"custom",name:"fitTextLabel",requirements:[{option:"limit-by",shouldBe:"fit"}]},{name:"limit-by",type:"radio",value:"width",values:[{name:"width",customLabel:"widthLabel",value:"width"},{name:"height",customLabel:"heightLabel",value:"height"},{name:"fit",customLabel:"fitLabel",value:"fit"}]}]},{labelName:"Horizontal Align",name:"horizontal-align",type:"radio",value:"center",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]},{labelName:"Vertical Align",name:"vertical-align",type:"radio",value:"center",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{type:"group",className:"grid-columns-even",children:[{type:"group",className:"grid-columns-even",children:[{labelName:"Disable Zoom",name:"disable-zoom",type:"check-box",value:!1},{labelName:"Shuffle",name:"shuffle",type:"check-box",value:!1}]}]},{labelName:"Disable Scroll Animation",name:"disable-scroll-animation",type:"check-box",value:!1,requirements:[{option:"imageSettingsScrollAnimation",shouldBe:t=>t===!0||typeof t=="string"}]},{name:"auto-height",value:"custom"},{name:"height-limit",value:"60%"},{name:"adjust-for-captions",value:!1},{type:"more-actions",children:[{labelName:"Slides",name:"toggle-thumbs",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),this.state.activeGallery.thumbnailsVisible?this.state.activeGallery.hideThumbnails():this.state.activeGallery.showThumbnails()}}]}]};xr.defaults=pt(xr.options);xr.mobileDefaults=pt(xr.mobileOptions);gz=.04,zx=.25,vz=.085,yz=.1,$ae=.08,jae=2,Gae=3,Kae=15,dl=0,Bx=1,Ux=2,mg=class extends Or{constructor(e){super(e);let r=de?{hasLayout:!1,visible:!1,position:"unknown"}:{hasLayout:!0,visible:!0,position:"inside"};this.state={captionHeightMap:[],showThumbnails:this.props.thumbnails===!0||this.props.thumbnails==="true",hasLoaded:de,visible:!1,viewportIntersection:r,layoutIncrement:0,pointerOver:!1,initialShowNavigation:!0,destinationIndex:0,activeIndex:0,initialActiveIndex:0,inTransition:!1,elWidth:0,hasSizes:{slideHeightPx:!1,elWidth:!1},slideHeightPx:0,tallestSlide:{index:0,height:0},...this.getNavigation(),isDragging:!1,isPointerDown:!1,scrubAnimating:!1,scrubStatus:dl},this.loadedItems=new Set,this.shuffleSeed=Math.random()*100,this.lastPointerFrameDeltaX=0,this.pointerFrameDeltaX=0,this.scrubCounter=0,this.lastPointerX=0,this.firstPointerX=0,this.pointerX=0,this.xTransform=0,this.accumulatedTouchMove={x:0,y:0},this.slideListRef=Se(),this.scrubAnimationRequest=null,this.autoplayInterval=null,this.updateOptions(),this.lastTimestamp=0,this.styleRef=Se(),Object.defineProperty(this.props.baseNode,"thumbnailsVisible",{get:()=>this.state.showThumbnails,set:i=>this.setState({showThumbnails:!!i}),configurable:!0}),this.props.baseNode.pause=this.pause,this.props.baseNode.resume=this.startAutoplay,this.props.baseNode.nextSlide=this.nextSlide,this.props.baseNode.prevSlide=this.prevSlide,this.props.baseNode.showThumbnails=this.showThumbnails,this.props.baseNode.hideThumbnails=this.hideThumbnails,this.props.baseNode.goToSlide=this.goToSlide,this.props.baseNode.getActiveSlide=this.getActiveSlide,this.props.baseNode.updateNavigation=()=>{let{prevNavigation:i,nextNavigation:n}=this.getNavigation();(this.state.prevNavigation!==i||this.state.nextNavigation!==n)&&this.setState({nextNavigation:n,prevNavigation:i})}}render(e,r){this.updateOptions();let{baseNode:i,adminMode:n,pageInfo:o,usesScrollAnimation:s}=e,{showThumbnails:a,activeIndex:l,destinationIndex:p,inTransition:f,isPointerDown:c,scrubAnimating:m,hasLoaded:v,pointerOver:g,hasSizes:x,initialShowNavigation:E,captionHeightMap:_,viewportIntersection:D,lazyloadable:M}=r,{showCaptions:P,autoPlayDelay:L,limitBy:I,adjustForCaptions:q}=this.options,{elWidth:N}=r;x.elWidth||(this.cachedElWidth=this.props.baseNode.offsetWidth,N=this.cachedElWidth);let F=I==="fit"?"var(--fit-height)":dr(this.options.scale,I=="width"?"%":"rem").join(""),W=this.renderSlides(),U=this.getSlideListStyles(),Z=S("div",{ref:this.slideListRef,style:{transform:U.transform},className:"slide-list",draggable:!1,tabIndex:0,children:W}),J={};a||(J.onKeyDown=this.handleKeyDown,J.onClickCapture=this.onClickCapture,J.className="slideshow-wrapper",f&&(J.className+=" in-transition"),c&&(J.className+=" pointer-down"),m&&this.isScrub&&(J.className+=" scrubbing"));let ie=I==="width"?this.state.tallestSlide.height:this.state.slideHeightPx,le=this.makeMediaItemAttributes(),G=this.mediaItems.map((re,ee)=>{let ae=le[ee].slot,se=re._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},ce="100%",_e=se.width,Ie=se.height,ge=null,Re=this.options.showCaptions&&this.state.captionHeightMap[ee]||0;if(a)ce=null;else if(typeof _e=="string"&&_e.indexOf("%")>-1)ce=_e;else if(I!=="width"){q?ge=ie+-Re:ge=ie;let Qe=Ie/_e,Me=ge+-se.mediaItemSize.padSize+-se.mediaSize.padSize,$e=Me*(1/Qe),Ne=(Me+se.mediaSize.padSize)/($e+se.mediaSize.padSize),He=(ge+-se.mediaItemSize.padSize)*(1/Ne);Math.abs(He+se.mediaItemSize.padSize-N)<1?ce="100%":ce=`${Math.min(100,100*(He+se.mediaItemSize.padSize)/N)}%`}return{captionHeight:Re,customSlideHeight:ge,figureWidth:ce,slot:ae}}),K=Math.min(this.options.speed/2,.1),Q=Math.max(Math.floor(N/200),2);return this.setMediaElementProperties(le),S(he,{children:[it(S(he,{children:S(ca,{scrollContext:this.props.scrollContext,uses:"",visibility:D,onLazyLoadChange:null,adminMode:n,customElementMode:!0,baseNode:i,isLazyLoadable:M,pageInfo:o,children:[this.options.showCaptions?S("style",{id:"gallery-slideshow-captions",ref:this.styleRef,children:`
					::slotted(media-item) {
						--slideshow-caption-transform: ${U["--slideshow-caption-transform"]||"translateX(0px)"};
						z-index: 9;
					}
				`}):null,S("style",{id:"gallery-slideshow",children:`
* {
	box-sizing: border-box;
}

:host([hidden]) {
	display: none;
}

:host {
	position: relative;
	transition-timing-function: ease-in-out;
    transition-property: opacity;
    transition-duration: .2s;
	opacity: ${v||a?1:0};

	width: var(--resize-parent-width, 100%);
	max-width: 100%;
    --navigation-opacity: ${g||E?1:0};
    --slide-height: ${ie}px;

	--slideshow-horizontal-align: ${this.options.hAlign==="left"?"flex-start":this.options.hAlign==="right"?"flex-end":"center"};

	--slideshow-caption-align: ${this.options.hAlign==="left"?"left":this.options.hAlign==="right"?"right":"center"};	

	--slideshow-vertical-align: ${this.options.vAlign==="top"?"flex-start":this.options.vAlign==="bottom"?"flex-end":"center"};

    ${a?`
	    display: grid;
		grid-template-columns: repeat(${Q}, 1fr);
		column-gap: 2rem;
		row-gap: 2rem;
		align-items: start;
		overflow:hidden;
		--display-slideshow-captions: block!important;
		--slideshow-caption-opacity: 1;	

	`:`
		--slideshow-caption-transition-duration: ${K}s;	
		--display-slideshow-captions: ${P?"block":"none"}!important;
	    display: flex;
    	flex-direction: column;
	`}
}

${a?"":G.map((re,ee)=>`
::slotted(media-item[slot="${re.slot}"]){
	--item-width: ${re.figureWidth};
	--slide-height: ${re.customSlideHeight||ie}px; 
	--caption-height: ${re.captionHeight}px;
}`).join("")}

${a?`
::slotted(media-item){
	min-width: 0;
	max-width: 100%;
	--item-width: 100%;	
	--resize-parent-width: 100%;
	--slide-height: auto;

    --display-slideshow-captions: block;
    --slideshow-caption-transform: translateX(0px);
    --slideshow-caption-opacity: 1;
    --slideshow-caption-align: left;
    --slideshow-caption-transition-duration: 0;	
}`:`
::slotted(media-item) {
    transition: none!important;
    display:block;
	min-width: ${N}px;
	flex-shrink: 0;
}


	`}

.slide { 
    -webkit-user-select:none;
    user-select:none;
    flex-shrink: 0;
    width: ${N}px;
}

.navigation-wrapper {

	order: 1;
	position: relative;
}

.slideshow-wrapper {
	--resize-parent-width: ${N}px;
	order: 3;
	margin-bottom: ${Math.max(...this.state.captionHeightMap.filter(re=>re!==void 0))}px;
}


.slide-list {
	-webkit-backface-visibility: hidden;
	backface-visibility: hidden;
	transform:translateX(0);
    height: var(--slide-height, auto);		
    touch-action: manipulation;
    position: relative;
    display: flex;
    flex-wrap: nowrap;
    flex-direction: row;
    justify-content: flex-start;
}

.slide-list:focus {
    outline: 0;
}


/*
slide transition type 
default transition is slide
*/
${this.isSlide?`
.slide {
    visibility:hidden;
	--base-translate: none!important;    
}

.pointer-down .adjacent-slide.slide,
.in-transition .adjacent-slide.slide,
.active-slide.slide {
    visibility: visible;
}

.slideshow-wrapper {
	overflow-y: visible;
	overflow-x: clip;
}


`:""}

${this.isFade?`


.slide {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    display: flex;
    z-index: 0;

    ${this.state.cancelFadeTransition?`
	  -webkit-transition: none !important;
	  -moz-transition: none !important;
	  -o-transition: none !important;
	  transition: none !important;
    `:`
		transition-timing-function: var(--slideshow-fade-transition-out, cubic-bezier(0.68, 0, 0.68, 0.19));
	    transition-property: opacity;
		transition-duration: ${this.options.speed}s;	
    `}
}

.adjacent-slide.slide {
    display: flex;
}

.active-slide.slide {
    position: relative;
    z-index: 3;
}

.destination-slide.slide {
    ${this.state.cancelFadeTransition?"":"transition-timing-function: var(--slideshow-fade-transition-in, cubic-bezier(0.3, 0, 0.4, 1));"}
	opacity: 1!important;
}

	`:""}


${this.isScrub?`
.slide {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    display: flex;
    z-index: 0;
	transition: opacity .08s cubic-bezier(0.5, 0, 1, 0.5);						


    visibility: hidden;
}

.adjacent-slide.slide {
    visibility: visible;
}

.active-slide.slide {
    position: relative;
    z-index: 3;
}

.destination-slide.slide {
	transition: opacity .08s cubic-bezier(0, 0.5, 0.5, 1);
    opacity: 1!important;
}

.slide {
    ${this.len>1?"cursor: ew-resize;":""}
}
	`:""}

/* captions */

.slide {
	--slideshow-caption-opacity: 0;	
}

.in-transition .slide{
    --slideshow-caption-opacity: 0;
}

${this.state.hideCaptionDuringTransition?"":`
.destination-slide.active-slide.slide {
    --slideshow-caption-opacity: 1;
}
`}

${K==0?`
.destination-slide.slide,
.active-slide.slide {
    --slideshow-caption-opacity: 1;
}	
`:""}

.scrubbing .slide {
    --slideshow-caption-opacity: 0;
}

/** default navigation **/
.navigation-wrapper {

    position: absolute;
    left:0;
    right: 0;
    
    z-index: 2;
    height: var(--slide-height, auto);
    opacity: var(--navigation-opacity, 1);

}


 				`}),n?S(ez,{...e,thumbnailsVisible:a,onItemResize:this.onItemResize,inTransition:this.state.inTransition||this.state.isDragging,suppressMutation:this.state.isDragging,gallerySpecificAttributes:s?["disable-scroll-animation"]:[],galleryInstance:i}):null,!a&&this.options.navigation&&this.len>1&&S("div",{className:"navigation-wrapper",part:`slideshow-nav ${g||E?"navigation-active":""}`,children:[this.state.prevNavigation,this.state.nextNavigation]}),a?S("slot",{name:"thumbnails",onClick:this.onThumbnailClick}):S("div",{part:"slides",...J,onPointerDown:this.onPointerDown,children:Z}),S(tn,{values:{slideHeightPx:F,elWidth:"100%"},style:a?{gridColumn:`1 / span ${Q}`}:null,onResize:this.onResize})]},"slideshow-host")},"slideshow-fragment"),this.props.baseNode.shadowRoot),this.props.children]})}getNavigation=()=>{let e=Array.from(this.props.baseNode.children),r=e.find(n=>n.getAttribute("part")=="previous-button"),i=e.find(n=>n.getAttribute("part")=="next-button");return r?r=Bu(r,null,{onClick:this.prevSlide,onPointerDown:n=>this.startScrubDelta(n,Ux),key:"previous-button",part:"previous-button"}):r=S("div",{part:"slideshow-nav-previous-button",class:"slideshow-navigation previous-button",onClick:this.prevSlide,onPointerDown:n=>this.startScrubDelta(n,Ux),children:S("svg",{part:"slideshow-nav-prev",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[S("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),S("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),i?i=Bu(i,null,{onClick:this.nextSlide,onPointerDown:n=>this.startScrubDelta(n,Bx),key:"next-button",part:"next-button"}):i=S("div",{part:"slideshow-nav-next-button",class:"slideshow-navigation next-button",onClick:this.nextSlide,onPointerDown:n=>this.startScrubDelta(n,Bx),children:S("svg",{part:"slideshow-nav-next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[S("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),S("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),{prevNavigation:r,nextNavigation:i}};updateOptions(){let{"adjust-for-captions":e=xr.defaults["adjust-for-captions"].value,"limit-by":r=xr.defaults["limit-by"].value,scale:i=xr.defaults.scale.value,autoplay:n=xr.defaults.autoplay.value,"autoplay-delay":o=xr.defaults["autoplay-delay"].value,"transition-speed":s=xr.defaults["transition-speed"].value,"transition-type":a=xr.defaults["transition-type"].value,navigation:l=xr.defaults.navigation.value,"vertical-align":p=xr.defaults["vertical-align"].value,"horizontal-align":f=xr.defaults["horizontal-align"].value,shuffle:c=xr.defaults.shuffle.value,"show-captions":m=xr.defaults["show-captions"].value,"disable-zoom":v=xr.defaults["disable-zoom"].value,"disable-scroll-animation":g=xr.defaults["disable-scroll-animation"].value,"pause-on-hover":x=xr.defaults["pause-on-hover"].value,"mobile-limit-by":E,"mobile-scale":_,"mobile-adjust-for-captions":D,"mobile-autoplay":M,"mobile-autoplay-delay":P,"mobile-transition-speed":L,"mobile-transition-type":I,"mobile-navigation":q,"mobile-vertical-align":N,"mobile-horizontal-align":F,"mobile-shuffle":W,"mobile-show-captions":U,"mobile-pause-on-hover":Z,"auto-height":J=xr.defaults["auto-height"].value,"height-limit":ie=xr.defaults["height-limit"].value,"mobile-auto-height":le,"mobile-height-limit":G}=this.props;this.props["limit-by"]===void 0&&this.props["auto-height"]!==void 0&&(J==="custom"?(r="height",this.props.scale==null&&this.props["height-limit"]!==void 0&&(i=ie)):J==="fit"?(r="fit",this.props.scale==null&&(i=100)):(r="width",this.props.scale==null&&(i=100))),a=a=="fade"||a=="scrub"?a:"slide";let K=this.props.isMobile,Q={adjustForCaptions:K&&D!==void 0?D:e,shuffle:K&&W!==void 0?W:c,autoplay:K&&M!==void 0?M:n,autoPlayDelay:K&&P!==void 0?P:o,speed:K&&L!==void 0?L:s,type:K&&I!==void 0?I:a,navigation:K&&q!==void 0?q:l,disableScrollAnimation:g,disableZoom:v,limitBy:K&&E!==void 0?E:r,scale:K&&_!==void 0?_:i,vAlign:K&&N!==void 0?N:p,hAlign:K&&F!==void 0?F:f,showCaptions:K&&U!==void 0?U:m,pauseOnHover:K&&Z!==void 0?Z:x};Object.entries(Q).forEach(([se,ce])=>{ce=="true"?Q[se]=!0:ce=="false"&&(Q[se]=!1)}),Q.speed==0&&Q.type==="slide"&&(Q.type="fade"),this.options=Q,this.isScrub=Q.type==="scrub",this.isSlide=Q.type==="slide",this.isFade=Q.type==="fade";let re=Array.from(this.props.baseNode.children);if(this.mediaItems=Array.from(this.props.baseNode.children).filter(se=>se.tagName=="MEDIA-ITEM"),this.len=this.mediaItems.length,this.len>0){if(this.shuffleList=[],this.options.shuffle){for(let _e=0;_e<this.len;_e++)this.shuffleList.push(_e);let se=this.shuffleSeed,ce=0;this.shuffleList=this.shuffleList.sort(_e=>(ce++,se=(se+9)%10,(Math.sin(ce+2.4)*5+5)%10>se?-1:1))}}else this.shuffleList=[];let ee=this.isScrub?Math.min(Kae,(this.len-1)/2):Math.min(Gae,(this.len-1)/2),ae=ee;ae=Math.max(1,Math.floor(ae)),ee=Math.max(1,Math.ceil(ee)),this.len==3?(ae=1,ee=1):this.len==2?ae=0:this.len==1&&(ae=0,ee=0),this.lazyloadPrev=ae,this.lazyloadNext=ee}setMediaElementProperties=e=>{if(this.len==0)return;let r=[...this.mediaItems],i=this.state.viewportIntersection.position!=="inside"?this.state.viewportIntersection.position:"outside";r.forEach((n,o)=>{let s=e[o]||{},a=s.visibility||!1;delete s.isAdjacent,delete s.visibility,this.state.hasLoaded?s.itemLoad=null:s.itemLoad=this.onMediaLoad;let l=n._props||{};Oo(n,{...l,...s},l,!1,!1),n._disableZoom?.(this.options.disableZoom),this.options.disableScrollAnimation||this.state.showThumbnails?n._disableScrollTransition?.(!0):n._disableScrollTransition?.(!1),n.assignedSlot?((this.state.lazyloadable||this.state.visible)&&Pt(n,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),this.state.visible&&(this.state.showThumbnails||n.slot.replace("slot-","")==this.state.destinationIndex)?Pt(n,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}):Pt(n,"viewportIntersectionChange",{visible:!1,position:i},{bubbles:!1})):Pt(n,"viewportIntersectionChange",{visible:!1,position:i},{bubbles:!1})})};componentDidMount(){Array.from(this.props.baseNode.children).filter(i=>{let n=i.assignedSlot;return i.tagName==="MEDIA-ITEM"&&n!==null&&i.getAttribute("hash")==="placeholder"}).forEach(this.onMediaLoad);let r=this.props.pageInfo.getPageData(this.props.baseNode);r.activeSlide!==void 0&&(this.waitingToGoToSlide=void 0,r.activeSlide>=this.len?this.waitingToGoToSlide=r.activeSlide:this.goToSlide(r.activeSlide)),de||(yt(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyLoadIntersectionChange),yt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),this.props.baseNode.addEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.addEventListener("pointerleave",this.onPointerLeave),window.addEventListener("touchstart",this.onWindowTouchStart))}componentWillUnmount(){this.loadedItems.clear(),clearTimeout(this.scrollRestore),de||(cancelAnimationFrame(this.updateSlideTransformAnimationFrame),wt(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyLoadIntersectionChange),wt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),window.removeEventListener("touchstart",this.onWindowTouchStart),this.props.baseNode.removeEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.removeEventListener("pointerleave",this.onPointerLeave))}onViewportIntersectionChange=e=>{this.setState({visible:e.visible,viewportIntersection:e})};onLazyLoadIntersectionChange=e=>{this.setState(r=>({lazyloadable:r.lazyloadable||e.visible}))};componentDidUpdate(e,r){e.childArray.length!==this.props.childArray.length&&this.waitingToGoToSlide!==void 0&&this.props.childArray.length>=this.len&&(this.goToSlide(this.waitingToGoToSlide),this.waitingToGoToSlide=void 0),e.slideshowLoad!==this.props.slideshowLoad&&this.state.hasLoaded&&this.props.slideshowLoad&&this.props.slideshowLoad(),(r.layoutIncrement!==this.state.layoutIncrement||r.elWidth!==this.state.elWidth||r.slideHeightPx!==this.state.slideHeightPx||r.hasSizes.elWidth!==this.state.hasSizes.elWidth||r.hasSizes.slideHeightPx!==this.state.hasSizes.slideHeightPx)&&this.updateSlideSizes(),r.cancelFadeTransition!==this.state.cancelFadeTransition&&this.state.cancelFadeTransition&&requestAnimationFrame(()=>{this.slideListRef.current&&Array.from(this.slideListRef.current.querySelectorAll(".slide")).forEach(n=>{n.offsetHeight}),this.setState({cancelFadeTransition:!1})});let i=!1;this.props.thumbnails!=e.thumbnails&&(i=!0,this.onPointerUp(),this.onSlideEnd()),this.props["transition-type"]!==e["transition-type"]&&(this.setState(n=>({finishingTransition:!1,inTransition:!1,destinationIndex:n.activeIndex,cancelFadeTransition:!0}),()=>{setTimeout(()=>{this.onSlideEnd()},30)}),i=!0,this.onPointerUp(),this.onSlideEnd()),(this.props["show-captions"]!==e["show-captions"]||this.props["mobile-show-captions"]!==e["mobile-show-captions"]&&this.props.isMobile)&&(this.options.showCaptions?(this.onSlideEnd(),this.setState(n=>({...n,layoutIncrement:n.layoutIncrement+1}))):this.setState({captionHeightMap:[]})),(e.isMobile!=this.props.isMobile||e.autoplay!=this.props.autoplay||e["mobile-autoplay"]!=this.props["mobile-autoplay"]&&this.props.isMobile)&&(i=!0),r.pointerOver!==this.state.pointerOver&&this.options.pauseOnHover&&(i=!0),r.visible!=this.state.visible&&(i=!0),r.hasLoaded!==this.state.hasLoaded&&(i=!0),i&&clearTimeout(this.autoplayInterval),i&&this.startAutoplay(),this.isScrub&&(!r.isDragging&&this.state.isDragging?document.body.classList.add("slideshow-scrub-dragging"):!this.state.isDragging&&r.isDragging&&document.body.classList.remove("slideshow-scrub-dragging")),e.adminMode!==this.props.adminMode&&(this.state.inTransition&&this.onSlideEnd(),this.setState({showThumbnails:!1})),this.state.activeIndex!==r.activeIndex&&this.state.activeIndex==this.state.destinationIndex&&(clearTimeout(this.showCaptionsAfterTransitionTimeout),this.showCaptionsAfterTransitionTimeout=setTimeout(()=>{this.setState({hideCaptionDuringTransition:!1})},80)),(this.state.inTransition!==r.inTransition||this.state.isPointerDown!==r.isPointerDown||this.state.isDragging!==r.isDragging)&&((this.state.inTransition||this.state.isDragging)&&!this.state.hideCaptionDuringTransition&&(clearTimeout(this.showCaptionsAfterTransitionTimeout),this.setState({hideCaptionDuringTransition:!0})),this.progress=0,cancelAnimationFrame(this.updateSlideTransformAnimationFrame),this.updateSlideTransform())}pause=()=>{this.setState(e=>({inTransition:!1,destinationIndex:e.activeIndex}),()=>{this.onSlideEnd(),clearTimeout(this.autoplayInterval)})};startAutoplay=()=>{this.options.autoplay&&this.state.visible&&this.state.hasLoaded&&!this.options.showThumbnails&&(this.options.pauseOnHover&&!this.state.pointerOver||!this.options.pauseOnHover)&&(clearTimeout(this.autoplayInterval),this.autoplayInterval=setTimeout(this.nextSlide,this.options.autoPlayDelay*1e3))};onItemResize=(e,r,i)=>{this.setState(n=>{let o=Array.from(r.children).find(p=>p.getAttribute("slot")==="caption"),s=[...n.captionHeightMap],a=n.captionHeightMap[i],l=0;if(o&&this.options.showCaptions){let p=window.getComputedStyle(o),f=p.getPropertyValue("position");f==="fixed"||f==="absolute"?l=0:p.getPropertyValue("box-sizing")==="content-box"?(l=parseFloat(p.getPropertyValue("height"))||0,l+=parseFloat(p.getPropertyValue("margin-top"))||0,l+=parseFloat(p.getPropertyValue("margin-bottom"))||0,l+=parseFloat(p.getPropertyValue("padding-top"))||0,l+=parseFloat(p.getPropertyValue("padding-bottom"))||0,l+=parseFloat(p.getPropertyValue("border-top"))||0,l+=parseFloat(p.getPropertyValue("border-bottom"))||0):(l=parseFloat(p.getPropertyValue("height"))||0,l+=parseFloat(p.getPropertyValue("margin-top"))||0,l+=parseFloat(p.getPropertyValue("margin-bottom"))||0)}else l=0;return l!==a?(s[i]=l,{captionHeightMap:s,layoutIncrement:n.layoutIncrement+1}):{layoutIncrement:n.layoutIncrement+1}})};updateSlideSizes=()=>{if(this.len==0)return;let{hasSizes:e}=this.state,{elWidth:r}=this.state;!e.elWidth&&this.cachedElWidth&&(r=this.cachedElWidth);let i=this.mediaItems.some(l=>l.matches('[uses*="inline-part-styles"]')),n,o=this.mediaItems.map((l,p)=>{let f=l._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};n==null&&l.assignedSlot&&(n={mediaItemPad:f.mediaItemSize.padSize,mediaPad:f.mediaSize.padSize});let c=f.width,m=f.height,v=m||0;if(typeof c=="string"&&c.indexOf("%")>-1)v=parseFloat(m)+f.mediaItemSize.padSize+f.mediaSize.padSize||150+f.mediaItemSize.padSize+f.mediaSize.padSize;else{let g=m/c;if(f.mediaSize.padSize>0){let x=((r-f.mediaSize.padSize)*g+f.mediaSize.padSize)/r;v=(r-f.mediaItemSize.padSize)*x+f.mediaItemSize.padSize}else if(n&&!i){let x=((r-n.mediaPad)*g+n.mediaPad)/r;v=(r-n.mediaItemPad)*x+n.mediaItemPad}else v=(r-f.mediaItemSize.padSize)*g+f.mediaItemSize.padSize}return Math.floor(v*32)/32}),s=bz.default.maxBy(o,l=>l||0)||0,a={index:o.indexOf(s),height:s};this.setState({tallestSlide:a})};onResize=(e,r)=>{this.setState(i=>({hasSizes:{...i.hasSizes,[e]:!0},[e]:r}))};handleKeyDown=e=>{switch(e.keyCode){case 39:e.preventDefault(),this.nextSlide();break;case 37:e.preventDefault(),this.prevSlide();break}};onPointerEnter=e=>{this.setState({pointerOver:!0})};onPointerLeave=e=>{e.pointerType==="touch"?window.addEventListener("pointerdown",r=>{this.props.baseNode.contains(r.target)?this.onPointerLeave(r):this.setState({pointerOver:!1})},{once:!0}):this.setState({pointerOver:!1})};scrubAnimate=e=>{this.lastScrubTimeStamp==null&&(this.lastScrubTimeStamp=e);let r=e-this.lastScrubTimeStamp;this.lastScrubTimeStamp=e;let{elWidth:i}=this.state,n=gz===0?1/this.len:gz,o=this.pointerX;if(this.state.isPointerDown){this.scrubCounter=0;let a=this.lastPointerX-this.pointerX;this.pointerFrameDeltaX!=0&&(this.lastPointerFrameDeltaX=this.pointerFrameDeltaX),this.pointerFrameDeltaX=a,this.lastPointerFrameDeltaX>0&&this.pointerFrameDeltaX<0?this.firstPointerX=this.pointerX:this.lastPointerFrameDeltaX<0&&this.pointerFrameDeltaX>0&&(this.firstPointerX=this.pointerX)}else this.state.scrubStatus===Ux?(this.scrubCounter=0,this.pointerFrameDeltaX=this.pointerFrameDeltaX+-yz):this.state.scrubStatus===Bx?(this.scrubCounter=0,this.pointerFrameDeltaX=this.pointerFrameDeltaX+yz):this.state.scrubStatus===dl&&(this.pointerFrameDeltaX<0?this.pointerFrameDeltaX=Math.min(0,this.pointerFrameDeltaX+vz):this.pointerFrameDeltaX=Math.max(0,this.pointerFrameDeltaX+-vz));if(Math.abs(this.pointerFrameDeltaX)>zx*n*i&&(this.pointerFrameDeltaX>0?this.pointerFrameDeltaX=zx*n*i:this.pointerFrameDeltaX=-(zx*n)*i),this.state.isPointerDown){let a=this.lastPointerX-this.pointerX,l=this.lastPointerX-(this.lastPointerX+this.pointerFrameDeltaX);this.firstPointerX=this.firstPointerX-(a-l)}else this.pointerX=this.lastPointerX+this.pointerFrameDeltaX,o=this.pointerX;if(this.lastPointerX=this.pointerX,this.xDrag=o-this.firstPointerX,Math.abs(this.xDrag/i)>n&&this.len>1){this.slidesProgressedWhileScrubbing==null&&(this.slidesProgressedWhileScrubbing=0),this.slidesProgressedWhileScrubbing++;let a=this.xDrag>0?(this.state.activeIndex+1)%this.len:(this.state.activeIndex+-1+this.len)%this.len;this.setState({destinationIndex:a,activeIndex:a}),this.xDrag=9e9,this.scrubCounter=0,this.firstPointerX=this.pointerX}clearTimeout(this.autoplayInterval),this.state.scrubStatus==dl&&(this.scrubCounter>=500&&!this.state.isPointerDown||this.slidesProgressedWhileScrubbing<2&&this.state.scrubbingFromNavigation)?(this.setState({scrubAnimating:!1,scrubbingFromNavigation:!1}),this.scrubCounter=0,this.slidesProgressedWhileScrubbing=0,this.lastScrubTimeStamp=void 0,this.options.autoplay&&!(this.options.pauseOnHover&&this.state.pointerOver)&&(this.autoplayInterval=setTimeout(this.nextSlide,Math.max(100,this.options.autoPlayDelay*1e3-1e3)))):(this.scrubCounter=this.scrubCounter+r,this.scrubAnimationRequest=requestAnimationFrame(this.scrubAnimate))};startScrubDelta=(e,r)=>{if(e){if(e.button==2)return;e.preventDefault()}!this.isScrub||this.len<2||(this.setState({scrubStatus:r}),this.scrubCounter=0,this.firstPointerX=this.lastPointerX=this.pointerX=0,this.lastPointerFrameDeltaX=this.pointerFrameDeltaX=0,this.xDrag=0,this.setState({scrubbingFromNavigation:!0,scrubAnimating:!0}),cancelAnimationFrame(this.scrubAnimationRequest),this.scrubAnimationRequest=requestAnimationFrame(this.scrubAnimate),window.addEventListener("pointerup",this.onScrubPointerUp),window.addEventListener("pointercancel",this.onScrubPointerUp))};onScrubPointerUp=e=>{this.setState({scrubStatus:dl}),window.removeEventListener("pointerup",this.onScrubPointerUp),window.removeEventListener("pointercancel",this.onScrubPointerUp)};onClickCapture=e=>{this.cancelClick&&e.preventDefault()};onTouchmove=e=>{this.accumulatedTouchMove.x=this.accumulatedTouchMove.x+Math.abs(e.touches[0].clientX-this.firstPointerX),this.accumulatedTouchMove.y=this.accumulatedTouchMove.y+Math.abs(e.touches[0].clientY-this.firstPointerY),this.lockTouchAxis==null&&(this.accumulatedTouchMove.x>30||this.accumulatedTouchMove.y>30)&&(this.accumulatedTouchMove.x>this.accumulatedTouchMove.y?this.lockTouchAxis="x":this.lockTouchAxis="y"),this.lockTouchAxis=="x"&&e.preventDefault(),this.lockTouchAxis=="y"&&this.onPointerUp()};onPointerDown=e=>{if(this.len<2||(this.cancelClick=!1,e.defaultPrevented))return;let r=e.target.closest(".caption");r&&this.props.baseNode.contains(r)||!this.slideListRef.current||e.button==2||(clearTimeout(this.autoplayInterval),this.firstPointerX=this.lastPointerX=this.pointerX=e.clientX,this.firstPointerY=this.lastPointerY=this.pointerY=e.clientY,this.accumulatedTouchMove={x:0,y:0},this.lockTouchAxis=void 0,this.pointerFrameDeltaX=0,this.xDrag=0,this.initialXTransform=this.isSlide?this.xTransform:0,this.setState(i=>({isPointerDown:!0,initialActiveIndex:i.activeIndex})),window.cancelAnimationFrame(this.scrubAnimationRequest),this.isScrub&&(this.scrubAnimationRequest=window.requestAnimationFrame(this.scrubAnimate)),e.pointerType=="touch"&&this.props.baseNode.addEventListener("touchmove",this.onTouchmove,{passive:!1}),window.addEventListener("pointermove",this.onWindowPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerUp))};getSlideListStyles=()=>{let e="translateX(0)",r="translateX(0)";return this.isSlide&&(e=`translateX(${Math.round((this.state.elWidth*(-1+(1-this.lazyloadPrev))+this.xTransform)*2)/2}px)`,r=`translateX(${-Math.round(this.xTransform*2)/2}px)`),{"--slideshow-caption-transform":r,transform:e}};updateSlideTransform=e=>{let{destinationIndex:r,activeIndex:i,elWidth:n}=this.state,o="";if(this.progress===void 0&&(this.progress=0),this.isSlide&&(this.state.inTransition||this.state.isPointerDown||this.state.isDragging)){o="transform";let a=this.xDrag+this.initialXTransform,l=0,p=a,f=n;r>i?f=-n:r<i?f=n:f=0;let c=0;if((!e||e==0)&&(e=0,this.lastTimestamp=0,c=0),this.lastTimestamp==0&&(this.lastTimestamp=e||0),c=e-this.lastTimestamp,this.lastTimestamp=e,this.state.isDragging||this.state.isPointerDown){if(this.state.isDragging){this.dragPxPerSecond===void 0&&(this.dragPxPerSecond=0),this.lastDragX===void 0&&(this.lastDragX=this.pointerX);let m=(this.pointerX-this.lastDragX)*c;m!=0&&(m>0&&this.dragPxPerSecond>0?m<this.dragPxPerSecond&&(m=this.dragPxPerSecond*.95+m*.05):m<0&this.dragPxPerSecond<0&&m>this.dragPxPerSecond&&(m=this.dragPxPerSecond*.95+m*.05),this.dragPxPerSecond=m),this.lastDragX=this.pointerX}this.progress=0}else{if(this.state.isPointerDown||(this.progress=this.progress+c),this.dragPxPerSecond!==void 0&&this.dragPxPerSecond!==0){this.dragPxPerSecond<0?this.dragPxPerSecond=Math.min(-800,this.dragPxPerSecond):this.dragPxPerSecond=Math.max(800,this.dragPxPerSecond);let m=n/Math.abs(this.dragPxPerSecond);l=Ob(this.progress/(Math.min(m,this.options.speed)*1e3))}else l=Nb(this.progress/(this.options.speed*1e3));a=l*f+(1-l)*p}a=Math.min(Math.max(-n,a),n),this.xTransform=a,l>=1&&!(this.state.isPointerDown||this.state.isDragging)?(this.dragPxPerSecond=void 0,this.lastDragX=void 0,this.onSlideEnd()):this.updateSlideTransformAnimationFrame=requestAnimationFrame(this.updateSlideTransform)}else this.isScrub?(this.xTransform=0,this.progress=0):this.isFade&&(this.xTransform=0,this.progress=0);let s=this.getSlideListStyles();this.slideListRef.current&&s.transform!==this.slideListRef.current.style.transform&&(this.slideListRef.current.style.transform=s.transform,this.styleRef.current&&(this.styleRef.current.sheet?.cssRules?.[0]?.style.setProperty("--slideshow-caption-transform",s["--slideshow-caption-transform"]||"translateX(0px)"),ui()&&Array.from(this.props.baseNode.children).forEach(a=>{a.nodeName==="MEDIA-ITEM"&&a.assignedSlot&&a._forceRedraw?.()})),this.slideListRef.current.style.willChange=o)};onPointerUp=e=>{this.props.baseNode.removeEventListener("touchmove",this.onTouchmove,{passive:!1}),window.removeEventListener("pointercancel",this.onPointerUp),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onWindowPointerMove),clearTimeout(this.autoplayInterval),cancelAnimationFrame(this.scrubPointerAnimationRequest);let r=!1,i=!1,n=!1,o=!1;if(e){let p=e.timeStamp-(this.lastPointerUpTimestamp||-9e9);this.lastPointerUpTimestamp=e.timeStamp,o=p<250;let f=Array.from(e.composedPath()).some(c=>c.getAttribute?.("part")?.includes("media"));if(f&&e.target.tagName==="MEDIA-ITEM"&&e.target.getAttribute("browser-default")=="true"){let c=e.target.getFileType?.()??"";(c.startsWith("vimeo")||c.startsWith("youtube")||c=="video")&&(n=!0)}e.target?.closest("a, [href]")&&(r=!0),e.target?.closest("media-item.zoomable")&&f&&(i=!0),!r&&!i&&e?.preventDefault()}e?.pointerType==="touch"&&!r&&e.type!=="pointercancel"&&e.target.nodeName==="MEDIA-ITEM"&&e.target?.shadowRoot?.querySelector(".sizing-frame")?.click();let s=!1,a=!1,l=!1;this.setState(p=>{let{elWidth:f,scrubStatus:c,isPointerDown:m,isDragging:v,inTransition:g,finishingTransition:x,scrubAnimating:E,activeIndex:_,destinationIndex:D}=p;if(!p.isDragging&&(r||i||n))s=!1,l=!1;else if(this.lockTouchAxis=="y")s=!1,l=!1;else if(this.isScrub)g=!1,x=!1,p.isDragging?E=!0:Math.abs(this.xDrag)<8&&(E=!1,s=!0,l=!0);else if(this.isSlide&&this.options.speed!=0)if(p.isDragging)x=!0,g=!0,s=!1,l=!1;else{let M=this.state.elWidth-Math.abs(this.xTransform+this.state.elWidth)%this.state.elWidth,P=M<50||M>this.state.elWidth-50,L=M<50;o?(s=!p.inTransition,l=!0,x=!1,g=!1):P&&!L&&p.inTransition||p.finishingTransition?(s=!1,l=!0,x=!1,g=!1):p.inTransition?(s=!1,L||(x=!0),g=!0):(s=!0,x=!1,l=!0,g=!1)}else this.isFade&&this.options.speed!=0?p.isDragging?s=!1:(s=!0,l=!0,g=!1):this.options.speed==0&&(p.isDragging?(g=!1,s=!1,l=!0):(g=!1,s=!0,l=!0),_=D);return s&&e&&(this.cancelClick=!0),{elWidth:f,finishingTransition:x,scrubStatus:dl,isPointerDown:!1,isDragging:!1,inTransition:g,destinationIndex:D,activeIndex:_,scrubAnimating:E}},()=>{this.isFade&&a&&this.setState({cancelFadeTransition:!0}),l&&this.onSlideEnd(),s&&this.nextSlide()})};onWindowTouchStart=e=>{if(e.target.closest("gallery-slideshow")!==this.props.baseNode){if(e.target.hasAttribute("href")){this.pause();let r=()=>{Lb(this.props.baseNode)&&this.startAutoplay(),window.removeEventListener("touchend",r)};window.addEventListener("touchend",r)}this.setState({pointerOver:!1})}};onWindowPointerMove=e=>{this.pointerX=e.clientX,this.xDrag=this.pointerX-this.firstPointerX,this.setState(r=>{let{activeIndex:i,destinationIndex:n,isDragging:o,initialActiveIndex:s}=r,a=Math.abs(this.xDrag/r.elWidth),l=r.elWidth*(-2+(1-this.lazyloadNext)),p=r.elWidth*(1-this.lazyloadPrev);if(!r.isDragging&&r.isPointerDown&&Math.abs(this.xDrag)>jae&&(o=!0,this.isSlide&&r.inTransition&&this.len>1&&(r.destinationIndex>r.activeIndex&&this.xDrag<0?(s++,i++,n++,this.xTransform=this.xTransform+r.elWidth,this.initialXTransform=this.initialXTransform+r.elWidth):r.destinationIndex<r.activeIndex&&this.xDrag>0&&(s--,i--,n--,this.xTransform=this.xTransform-r.elWidth,this.initialXTransform=this.initialXTransform-r.elWidth),s=(i+this.len*3)%this.len,i=(i+this.len*3)%this.len,n=(n+this.len*3)%this.len),this.cancelClick=!0),o){let f=this.xDrag<0?i+1:i-1;a>$ae&&this.len>1?(Math.abs(f-r.initialActiveIndex)<2||this.isScrub)&&(n=f):this.isScrub||(n=r.initialActiveIndex),n<-1&&(n=n+this.len)}if(r.activeIndex!==i||r.destinationIndex!==n||r.isDragging!==o||r.initialActiveIndex!==s)return{...r,activeIndex:i,destinationIndex:n,initialActiveIndex:s,isDragging:o};{let f=this.getSlideListStyles();return this.slideListRef.current&&(this.slideListRef.current.style.transform=f.transform,this.styleRef.current&&this.styleRef.current.sheet?.cssRules?.[0]?.style.setProperty("--slideshow-caption-transform",f["--slideshow-caption-transform"]||"translateX(0px)")),null}})};nextSlide=e=>{if(e){if(e.defaultPrevented||e.button==2)return;e.stopPropagation(),e.preventDefault()}if(!(this.len<2)){if(this.state.inTransition&&e){this.onSlideEnd();return}cancelAnimationFrame(this.scrubAnimate),this.setState(r=>{let i={...r},n=r.activeIndex+1;return i.inTransition=!(this.isScrub||this.options.speed==0),this.xTransform=0,this.initialXTransform=0,this.isScrub?(i.destinationIndex=n,i.scrubStatus=dl):i.destinationIndex=n,this.xDrag=0,i}),(this.options.speed==0||this.isScrub)&&this.onSlideEnd()}};prevSlide=e=>{if(e){if(e.defaultPrevented||e.button==2)return;e.stopPropagation(),e.preventDefault()}if(!(this.len<2)){if(this.state.inTransition){this.onSlideEnd();return}cancelAnimationFrame(this.scrubAnimate),this.setState(r=>{let i={...r},n=r.activeIndex-1;return n<-1&&(n=n+this.len),i.inTransition=!(this.isScrub||this.options.speed==0),this.xTransform=0,this.initialXTransform=0,this.isScrub?(i.destinationIndex=n,i.scrubStatus=dl):i.destinationIndex=n,this.xDrag=0,i}),(this.options.speed==0||this.isScrub)&&this.onSlideEnd()}};onThumbnailClick=e=>{if(this.props.adminMode)return;e.preventDefault(),e.stopPropagation();let r=e?.target?.closest?.("media-item")||null;if(r){let i=Array.from(this.props.baseNode.children).indexOf(r);this.setState({destinationIndex:i,activeIndex:i},this.hideThumbnails)}};onSlideEnd=()=>{clearTimeout(this.autoplayInterval),this.isFade&&this.slideListRef.current&&this.state.inTransition&&this.setState({cancelFadeTransition:!0}),this.setState(e=>{this.xTransform=0;let r=(e.destinationIndex+this.len+this.len+this.len)%this.len;return{...e,activeIndex:r,destinationIndex:r,finishingTransition:!1,inTransition:!1}},()=>{if(this.isSlide&&this.slideListRef.current&&(this.slideListRef.current.style.willChange=""),this.props.afterSlideChange){let r=this.props.baseNode.shadowRoot?.querySelector(".active-slide slot")?.assignedElements()?.[0]||null;this.props.afterSlideChange(this.state.activeIndex,r)}this.startAutoplay()})};onSlideOpacityTransitionStart=(e,r)=>{e.propertyName==="opacity"&&r==0&&e.target.classList.contains("slide")};onSlideOpacityTransitionEnd=(e,r)=>{e.propertyName==="opacity"&&r==0&&e.target.classList.contains("slide")&&this.onSlideEnd()};getWrapAroundDistanceFromIndex=(e,r,i)=>{let n=i*.5,o=n-Math.abs((e+-r)%(2*n)-n);return o<-n&&o<0&&(o=o+i),o};makeMediaItemAttributes=()=>{if(this.len==0)return;let{showThumbnails:e,elWidth:r,slideHeightPx:i,activeIndex:n,actualCardSize:o,destinationIndex:s}=this.state,{shuffle:a,limitBy:l,scale:p,adjustForCaptions:f}=this.options,c=a&&!e,m=[];for(let v=0;v<this.len;v++){let g=(v+this.len)%this.len,x=g;c&&(x=this.shuffleList[g]);let E=`slot-${x}`,_=Math.abs(this.getWrapAroundDistanceFromIndex((x+this.len)%this.len,n,this.len))<3,D={itemDragStart:this.onDragStart,itemResize:(M,P)=>{this.onItemResize(M,P,x)},drag:!1,rotation:"0",scale:"100","limit-by":"width",isAdjacent:_,visibility:n==g,slot:e?"thumbnails":E};m.push(D)}return m};onDragStart=e=>{this.state.showThumbnails||(e.preventDefault(),e.stopPropagation())};onMediaLoad=e=>{let r=Array.from(this.props.baseNode.children).filter(n=>{let o=n.assignedSlot;return n.tagName==="MEDIA-ITEM"&&o!==null});this.loadedItems.has(e)||this.loadedItems.add(e);var i=this.isFade?Math.min(r.length,3):r.length;this.loadedItems.size>=i&&!this.state.hasLoaded&&(this.setState({hasLoaded:!0}),setTimeout(()=>{this.setState({initialShowNavigation:!1})},this.props?.["navigation-hide-delay"]*1e3||1500),this.props.slideshowLoad&&this.props.slideshowLoad())};renderSlides=()=>{let{elWidth:e,destinationIndex:r,activeIndex:i,inTransition:n,showThumbnails:o}=this.state,{xDrag:s,initialXTransform:a}=this,l=[],f=(a%e+s>0||r<i)&&this.isSlide&&this.len==2;for(let c=-this.lazyloadPrev;c<this.lazyloadNext+1;c++){let m=c;f&&(m=m+-1);let v=(m+i+this.len*2)%this.len,g="slot-"+v,x=!1,E=!1,_={};_.className=`slide ${this.options.type}-transition`,(r+this.len)%this.len==v&&(E=!0,_.className+=" destination-slide"),(i+this.len)%this.len==v&&(x=!0,_.className+=" active-slide"),_.part="slide",_.style={},o||(_.style={width:`${e}px`,transform:f?"translateX("+-e+"px)":null}),this.isFade&&(_.onTransitionStart=D=>{this.onSlideOpacityTransitionStart(D,m)},_.onTransitionEnd=D=>{this.onSlideOpacityTransitionEnd(D,m)}),m==-1&&(_.part+=" "+this.options.type+"-slide-previous"),m==1&&(_.part+=" "+this.options.type+"-slide-next"),m>=-1&&m<=1?(_.className+=" adjacent-slide",_.part+=" "+this.options.type+"-slide-adjacent"):_.className+=" non-adjacent-slide",_.slot=g,l.push(Bt("div",{..._,key:"slot_"+g},S("slot",{name:g})))}return l};goToSlide=e=>{e=e%this.len||0,!(isNaN(e)||this.state.destinationIndex===e)&&(this.setState({showThumbnails:!1,destinationIndex:e,activeIndex:e,inTransition:!1},()=>{this.updateSlideTransform()}),this.forceUpdate())};getActiveSlide=()=>{let r=this.props.baseNode.shadowRoot?.querySelector(".active-slide slot")?.assignedElements()?.[0]||null;return[this.state.activeIndex,r]};showThumbnails=()=>{let e=this.props.scrollContext.getScrollPosition().y;this.setState({showThumbnails:!0,inTransition:!1},()=>{this.scrollRestore=setTimeout(()=>{this.props.scrollContext.updateScrollPosition({x:null,y:e})},60),this.props.baseNode.dispatchEvent(new CustomEvent("show-thumbnails",{composed:!0,bubbles:!1}))})};hideThumbnails=()=>{let e=this.props.scrollContext.getScrollPosition().y;if(window.getSelection().rangeCount>0){var i=window.getSelection()?.getRangeAt?.(0)?.intersectsNode(this.props.baseNode);i&&window.getSelection()?.removeAllRanges()}this.initialXTransform=0,this.xTransform=0,this.setState(n=>({destinationIndex:n.activeIndex,showThumbnails:!1,inTransition:!1,finishingTransition:!1}),()=>{this.scrollRestore=setTimeout(()=>{this.props.scrollContext.updateScrollPosition({x:null,y:e})},60),this.props.baseNode.dispatchEvent(new CustomEvent("hide-thumbnails",{composed:!0,bubbles:!1}))})}};mg.defaultProps={"show-tags":!0,"show-title":!0,"thumbnail-index":void 0};Yae=jt(Do(Ue((t,e)=>({isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,usesScrollAnimation:t.siteDesign.images.scroll_animation}))(mg)));lr(Yae,"gallery-slideshow",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","slideshowLoad","afterSlideChange","thumbnails","transition-type","autoplay","autoplay-delay","transition-speed","navigation","shuffle","height-limit","auto-height","vertical-align","horizontal-align","adjust-for-captions","show-captions","pause-on-hover","disable-scroll-animation","mobile-adjust-for-captions","mobile-thumbnails","mobile-transition-type","mobile-autoplay","mobile-autoplay-delay","mobile-transition-speed","mobile-navigation","mobile-shuffle","mobile-height-limit","mobile-auto-height","mobile-vertical-align","mobile-horizontal-align","mobile-show-captions","mobile-pause-on-hover"])});var wz,qx,Hx,xz,Sz=$(()=>{ke();Ye();wz=ye(Pe(),1);gg();gt();kr();dg();Fe();Hr();Ar();fe();qx={hash:"F1332270929626196865795426877515",id:1234,name:"scape.jpg",width:4e3,height:2250,file_type:"jpg",mime_type:"image/jpg",is_placeholder:!1,is_image:!0,is_video:!1,is_url:!1},Hx=class extends me{constructor(e){super(e),this.state={isMobile:nt.data.mobile.active,loaded:!1,showNavigation:!0,navigationContainer:null,backdropShadowRoot:null,navigationElement:null},this.containerRef=Se(),this.wallpaperRef=Se(),this.slideshowRef=Se(),this.navigationRef=Se()}getSettings=()=>{let e={};for(let[r,i]of Object.entries(Kd.default.defaults))this.props.settings?.hasOwnProperty(r)?e[r]=this.props.settings[r]:e[r]=i.value;return e};render(){let{showNavigation:e,navigationContainer:r,isMobile:i}=this.state,{modelArray:n,singleModel:o,visibility:s,wrapperDimensions:a}=this.props,l=this.getSettings(),p=dr(l.margin,"%"),f="";p[1]==="%"?(p[0]=Math.min(this.props.dimensions.width,this.props.dimensions.height)*parseFloat(p[0])*.01,p[1]="px"):p[1].includes("rem")&&i&&(p[0]="calc( var(--mobile-padding-offset, 1) * "+p[0]+"rem )",p[1]="");let c;p[1]==="px"?c=this.props.dimensions.height+.5-p[0]*2+"px":p[0]?.indexOf?.("calc(")>-1?c=`calc( ${this.props.dimensions.height+.5}px - ( 2 *  ( ${p[0].replace("calc(","")} ) )`:c=`calc( ${this.props.dimensions.height+.5}px - ${p[0]*2+p[1]} )`;let m=l["image-fit"]=="fit",v={autoplay:l.autoplay,"transition-speed":l["transition-speed"],"transition-type":l["transition-type"],"autoplay-delay":l["autoplay-delay"],"pause-on-hover":!1,"limit-by":"height",shuffle:l.shuffle,navigation:!1,scale:c,"show-captions":!1,slideshowLoad:this.onFirstLoad,afterSlideChange:this.onAfterSlideChange,"disable-scroll-animation":!0},g=this.props.settings.alignments||{},x="";for(let[D,M]of Object.entries(g))x+=` media-item[hash="${D}"] { --position-image: ${M.x}% ${M.y}% }`;let E=null,_=null;return n.length>0&&(_=l.navigation&&l["cycle-images"]&&n.length>1?S(he,{children:[S("div",{className:`backdrop ${this.props.settings.clipScroll?"clip":""}`,children:S("div",{className:"wallpaper-slideshow",ref:this.navigationRef,children:this.state.navigationElement?it(S(he,{children:[S("style",{children:`
:host {
	width: ${this.props.dimensions.width}px;
}

[part="slideshow-nav"] {
    -moz-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none; 

    pointer-events: none;
    position: absolute;
    inset: 0;
    z-index: 1001;
    

    opacity: ${this.state.loaded&&e?"1":"0"};

    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
}


							`}),S("div",{part:"slideshow-nav",children:[S("div",{part:"slideshow-nav-previous-button",onClick:this.prevSlide,children:S("svg",{part:"slideshow-nav-prev",class:"left-arrow",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[S("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),S("path",{part:"slideshow-nav-arrow",class:"arrow",d:"M22.3,28l-10-10l10-10"})]})}),S("div",{part:"slideshow-nav-next-button",onClick:this.nextSlide,children:S("svg",{part:"slideshow-nav-next",class:"next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[S("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),S("path",{part:"slideshow-nav-arrow",class:"arrow",d:"M22.3,28l-10-10l10-10"})]})})]})]}),this.state.navigationElement.shadowRoot):null})}),S("div",{className:"page-layout",children:S("div",{className:"page-content"})})]}):null,E=l["cycle-images"]&&n.length>1?S("gallery-slideshow",{...v,className:"image-container multiple-item",ref:this.slideshowRef,children:n.map((D,M)=>S("media-item",{"image-fit":m?"fit":"fill","disable-zoom":!0,"disable-scroll-animation":!0,hash:D.hash,muted:"true",autoplay:D.is_video||D.is_url,loop:!0,part:"media-item"},"slide-"+M))}):S("div",{className:"image-container single-item",children:S("media-item",{"image-fit":m?"fit":"fill","disable-zoom":!0,"disable-scroll-animation":!0,hash:o?.hash||"placeholder",model:o,part:"media-item",muted:"true",autoplay:o.is_video,loop:"true","force-visible":this.props.visibility.visible,itemLoad:this.onFirstLoad,"limit-by":m?"height":"width",scale:m?c:"100%"})})),S("div",{className:"wallpaper",ref:this.wallpaperRef,children:this.state.backdropShadowRoot&&it(S(he,{children:[S("style",{children:`:host {
						background-color: ${l["bg-color"]||"transparent"};
					    position: absolute;
					    inset: 0;
					}

					gallery-slideshow media-item figcaption.caption,
					media-item::part(placeholder-ui) {
					    display: none!important;
					}

					gallery-slideshow media-item::part(sizing-frame) {
					    margin: auto 0;
					    flex-grow: 0;
					}

					gallery-slideshow media-item::part(frame) {
					    display: flex;
					    flex-wrap: wrap;
					    width: ${m?"var(--item-width)":"100%"}; 
					    height: var(--slide-height);
					    align-content: center;
					    align-self: center;
					}					

					.inner {
					    position: absolute;
					    inset: ${p.join("")};
					}

					.image-container {
						opacity: ${l.opacity};
						inset: 0;
					    width: 100%;
					    height: 100%;
					    position: absolute;
					    text-align: center;
					    z-index: 2;
					}

					.image-container.single-item {
						display: flex;
						align-content: center;
						justify-content: center;
						position: absolute; 
						margin: auto;
						inset: 0;
					}

					.image-container.single-item media-item {
						margin: auto;
						max-width: auto;
					}

					.image-container.single-item media-item::part(figure){
						height: 100%;
					}				

					gallery-slideshow, media-item {
						transform: translateX(0)!important;
					}

			

					${m?`


						`:`			

						media-item::part(sizing-frame),
						media-item::part(frame) {
						    margin: 0;
						    width: 100%;
						    height: ${c};
						    pointer-events:none;
						    display: block;
						    padding: 0;
						}		

						media-item::part(media),
						media-item::part(video) {
						    object-position: var(--position-image, center center);                  
						    pointer-events: auto;
						    display: block;
						    margin: 0;
						    width: 100%;
						    height: 100%;
						    position: absolute;					    
						    top: 0;
						    left: 0;
						}						
					`}


					${x}`}),_&&r&&it(_,r),S("div",{className:"overlay"}),S("div",{className:"inner",ref:this.containerRef,children:E})]}),this.state.backdropShadowRoot)})}prevSlide=e=>{this.hideNavigation.cancel(),e?.preventDefault(),this.slideshowRef.current?.prevSlide()};nextSlide=e=>{e?.preventDefault(),this.hideNavigation.cancel(),this.slideshowRef.current?.nextSlide()};onPointerMove=e=>{!this.state.showNavigation&&this.props.inViewport&&this.setState({showNavigation:!0}),e&&e.target&&this.state.navigationContainer?.contains(e.target)?this.hideNavigation.cancel():this.hideNavigation()};hideNavigation=wz.default.debounce(()=>{this.setState({showNavigation:!1})},1500);onMobileChange=e=>{this.setState({isMobile:e})};renderNavigation(){if(!this.props.backdropRef.current)return;if(this.props.modelArray.length>1&&this.props.settings["cycle-images"]&&!this.state.navigationContainer&&this.props.settings.navigation){let r=document.createElement("div");r.classList.add("wallpaper-navigation"),this.props.backdropRef.current.closest(".page").appendChild(r),this.setState({navigationContainer:r})}else this.state.navigationContainer&&this.state.navigationContainer.remove(),this.setState({navigationContainer:null,navigationElement:null})}componentDidMount(){nt.on("mobile-change",this.onMobileChange),this.wallpaperRef.current&&!this.wallpaperRef.current.shadowRoot&&this.wallpaperRef.current.attachShadow({mode:"open"}),this.setState({backdropShadowRoot:this.wallpaperRef.current?.shadowRoot}),this.renderNavigation(),window.addEventListener("pointermove",this.onPointerMove),setTimeout(()=>{this.setMediaElementProperties()},100)}componentWillUnmount(){nt.off("mobile-change",this.onMobileChange),this.hideNavigation.cancel(),this.state.navigationContainer&&this.state.navigationContainer.remove(),window.removeEventListener("pointermove",this.onPointerMove)}componentDidUpdate(e,r){let i=this.getSettings();if((this.props.settings.navigation!==e.settings.navigation||this.props.settings["cycle-images"]!==e.settings["cycle-images"]||e.modelArray?.length==1&&this.props.modelArray?.length>1)&&(this.renderNavigation(),this.onPointerMove()),this.props.settings.activeImage!==e.settings.activeImage&&this.props.settings["cycle-images"]&&this.slideshowRef.current){let n=this.slideshowRef.current.querySelector('[hash="'+this.props.settings.activeImage+'"]');if(n){let o=Array.from(this.slideshowRef.current.children).indexOf(n);this.slideshowRef.current.goToSlide(o)}}this.props.visibility.visible&&this.containerRef.current&&(e.visibility.visible!==this.props.visibility.visible||this.props.settings["cycle-images"]!==e.settings["cycle-images"])&&this.setMediaElementProperties(),this.navigationRef.current!==this.state.navigationElement&&(this.navigationRef.current&&!this.navigationRef.current.shadowRoot&&this.navigationRef.current.attachShadow({mode:"open"}),this.setState({navigationElement:this.navigationRef.current}))}setMediaElementProperties=()=>{this.slideshowRef.current&&Pt(this.slideshowRef.current,"viewportIntersectionChange",{visible:this.props.visibility.visible,position:this.props.visibility.position},{bubbles:!1})};onFirstLoad=e=>{if(this.slideshowRef.current){let r=this.slideshowRef.current.getActiveSlide();this.wallpaperRef.current.dispatchEvent(new CustomEvent("afterSlideChange",{detail:{slideIndex:r[0],mediaItem:r[1]},composed:!1,bubbles:!1}))}this.state.loaded||(this.setState({loaded:!0,showNavigation:!0}),this.props.onLoad&&this.props.onLoad())};onAfterSlideChange=(e,r)=>{this.wallpaperRef.current.dispatchEvent(new CustomEvent("afterSlideChange",{detail:{slideIndex:e,mediaItem:r},composed:!1,bubbles:!1}))}},xz=Ue((t,e)=>{let r=We.getMediaByParent(t)[e.id],i=r.some(s=>s.loading);r=r.filter(s=>!s.loading&&!s.is_deleted&&(s.is_video||s.is_image));let n=null,o=e.settings?.activeImage||null;return o===qx.hash?(n=qx,r.push(n)):(o&&(n=r.find(s=>s.hash==o)),n||(n=r[0])),!n&&!i&&r.length==0&&(n=qx,r.push(n)),e.settings.excluded&&e.settings["cycle-images"]&&r.length>1&&(r=r.filter(s=>e.settings.excluded.indexOf(s.hash)==-1),r.length==1&&(n=r[0])),e.settings.order&&r.sort(function(s,a){return e.settings.order.indexOf(s.hash)<e.settings.order.indexOf(a.hash)?-1:1}),{singleModel:n,modelArray:r}})(Hx)});var kTe,Wx,_z,Ez=$(()=>{ke();Ye();kTe=ye(Pe(),1);gt();kr();dg();fe();Wx=class extends me{constructor(e){super(e),this.state={loaded:!1,counter:0,shadowRootRef:null},this.gradientElementRef=Se()}render(){let{visibility:e,dimensions:r}=this.props,{counter:i}=this.state,n={};for(let[ae,se]of Object.entries(Yd.default.defaults))this.props.settings?.hasOwnProperty(ae)?n[ae]=this.props.settings[ae]:n[ae]=se.value;let{repeat:o,rotation:s,scale:a,smoothness:l,"animation-speed":p,"pos-x":f,"pos-y":c,"gradient-type":m,"color-one":v,"color-two":g,"color-three":x,"color-one-active":E,"color-two-active":_,"color-three-active":D}=n;v=v||"transparent",g=g||"transparent",x=x||"transparent",c=c+50,f=f+50,a=parseFloat(a)/100,l=parseFloat(l)/100,s=parseInt(s);let M=p>0;p=Math.abs(p/100),p=p*p,p=M?p:-p;let P=p!==0,L=P&&m=="linear"&&o,I=P&&m=="radial"&&o,q=p>0?p*120+(1-p)*2400:Math.abs(p)*120+(1-Math.abs(p))*2400,N=(1-Math.abs(p))*40+Math.abs(p)*4,F=i%q/q;p>0&&(F=1-F);let W=0,U=I?F*100*a:0,Z=[];E&&Z.push(v),_&&Z.push(g),D&&Z.push(x);let J="",ie="",le="",G=0,K=0,Q="",re="",ee=[];if(Z.length!=0)if(Z.length==1)J+=`background-color: ${Z[0]}`;else if(Z.length==2)if(o){a=(1-l)*a+a*l;let ae=(100/4*1+-l*(100/4))*a-(1-l)*(100/5)*a;ee[0]=0+U,ee[1]=(100/4*1+l*(100/4))*a-(1-l)*(100/5)*a+-ae+U,ee[2]=(100/4*3+-l*(100/4))*a-(1-l)*(100/5)*a+-ae+U,ee[3]=(100/4*3+l*(100/4))*a-(1-l)*(100/5)*a+-ae+U,ee[4]=100*a+U}else ee[0]=0,ee[1]=a*100+-(a*100)*l,ee[2]=a*100+(1-a)*100*l,ee[3]=100;else if(o){a=(1-l)*a+a*l;let ae=(100/6*1+-l*(100/6))*a-(1-l)*(100/7)*a;ee[0]=0+U,ee[1]=(100/6*1+l*(100/6))*a-(1-l)*(100/7)*a+-ae+U,ee[2]=(100/6*3+-l*(100/6))*a-(1-l)*(100/7)*a+-ae+U,ee[3]=(100/6*3+l*(100/6))*a-(1-l)*(100/7)*a+-ae+U,ee[4]=(100/6*5+-l*(100/6))*a-(1-l)*(100/7)*a+-ae+U,ee[5]=(100/6*5+l*(100/6))*a-(1-l)*(100/7)*a+-ae+U,ee[6]=100*a+U}else a=(1-l)*3*a+a*l,ee[0]=100/6*0+l*(100/6)*0,ee[1]=100/6*2+-l*(100/6)*2,ee[2]=100/6*2+l*(100/6)*1,ee[3]=100/6*4+-l*(100/6)*1,ee[4]=100/6*4+l*(100/6)*2,ee[5]=100/6*6+-l*(100/6)*0,ee[0]=Math.max(ee[0]*a+50*(1-a),0),ee[1]=Math.max(ee[1]*a+50*(1-a),0),ee[2]=ee[2]*a+50*(1-a),ee[3]=ee[3]*a+50*(1-a),ee[4]=Math.min(ee[4]*a+50*(1-a),100),ee[5]=Math.min(ee[5]*a+50*(1-a),100);if(Z.length>1){J="background-image: ",J+=o?"repeating-":"",J+=m=="linear"?`linear-gradient( ${s+180}deg`:`radial-gradient( circle at ${f}% ${c}%`,ie=le="background-position: ";let ae=[];if(Z.length==2?o?ae=[0,1,1,0,0]:ae=[0,0,1,1]:o?ae=[0,1,1,2,2,0,0]:ae=[0,0,1,1,2,2],L?ee.forEach((se,ce)=>{let _e=Z[ae[ce]]||Z[0];J+=`, ${_e} ${se/2}%`}):ee.forEach((se,ce)=>{let _e=Z[ae[ce]]||Z[0];J+=`, ${_e} ${se}%`}),J+=")",L){let se=(s+90)*(Math.PI/180),ce=r.width/r.height,_e=Math.cos(se),Ie=Math.sin(se),ge=ee[ee.length-1]+"%";_e<0?(le+="0% ",ie+=ge+" "):(le+=ge+" ",ie+="0% "),Ie<0?(Ie*=-1,le+="0%;",ie+=ge+";"):(le+=ge+";",ie+="0%;")}}return S("div",{className:"gradient",ref:this.gradientElementRef,children:this.state.shadowRoot&&it(S("style",{children:`:host {
						${J};
					    position: absolute;
					    top: 0;
					    left: 0;
					    right: 0;
					    bottom: 0;
					    margin: auto;
					    background-position: 0 0;
					    background-size: ${L?"200% 200%;":"100% 100%;"}
					    ${L&&"will-change: background-position, background-image;"}
					    ${L&&"animation: slideAnimation "+N+"s linear infinite "+(p<0?"reverse":"normal")+";"}
					}

					${L?`
					@keyframes slideAnimation {
						0% {
							${ie}
						}

						100% {
							${le}
						}
					}
					`:""}
					`}),this.state.shadowRoot)})}componentDidUpdate(e,r){(this.props.settings.repeat!==e.settings.repeat||this.props["animation-speed"]!==e["animation-speed"])&&(cancelAnimationFrame(this.animFrame),this.props.settings.repeat&&this.props["animation-speed"]!==0&&(this.animFrame=requestAnimationFrame(this.draw)))}componentWillUnmount(){cancelAnimationFrame(this.animFrame)}draw=()=>{this.setState(e=>({counter:e.counter+1}),()=>{this.animFrame=requestAnimationFrame(this.draw)})};componentDidMount(){this.gradientElementRef.current&&!this.gradientElementRef.current.shadowRoot&&this.gradientElementRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.gradientElementRef.current?.shadowRoot}),this.props.settings.repeat&&this.props["animation-speed"]!==0&&(this.animFrame=requestAnimationFrame(this.draw)),this.props.onLoad&&this.props.onLoad()}onFirstLoad=e=>{}},_z=Wx});var qTe,np,Vx,op,Xae,Zae,$x,jx,Cz,Gx=$(()=>{ke();qTe=ye(Pe(),1);Fe();Qr();J5();Sz();Ez();Ar();fe();de||(Vx=new IntersectionObserver(function(t){t.forEach(function(e){let r="inside";e.boundingClientRect.top-e.boundingClientRect.height<0&&!e.isIntersecting?r="above":e.boundingClientRect.top>0&&!e.isIntersecting&&(r="below"),Pt(e.target,"backdropContentViewportChange",{detail:{visible:e.isIntersecting,position:r},target:e.target})})},{root:document,rootMargin:"0px",threshold:[0,1]}),np=new IntersectionObserver(function(t){t.forEach(function(e){let r="inside";e.boundingClientRect.top-e.boundingClientRect.height<0&&!e.isIntersecting?r="above":e.boundingClientRect.top>0&&!e.isIntersecting&&(r="below"),Pt(e.target,"backdropWrapperViewportChange",{detail:{visible:e.isIntersecting,position:r},target:e.target})})},{root:document,rootMargin:window.screen.height+"px 0px",threshold:[0,1]}),op=new ResizeObserver(t=>{t.forEach(e=>{Pt(e.target,"backdropContentResize",{detail:{width:e.contentRect.width,height:e.contentRect.height},target:e.target})})}));Xae=["wallpaper","gradient","legacy/ripple","legacy/slitscan","legacy/badtv","legacy/gmaps","legacy/halftone","legacy/kaleidoscope","legacy/morphovision","legacy/parallax","legacy/pixelation","legacy/polygon_engine","legacy/refraction","legacy/ripple","legacy/slitscan","legacy/video","legacy/wave"],Zae={wallpaper:xz,gradient:_z},$x={};Xae.forEach(t=>{t.startsWith("legacy")?$x[t]=Q5:$x[t]=Zae[t]});jx=class extends me{constructor(e){super(e),this.backdropRef=Se(),this.backdropWrapperRef=Se(),this.state={loaded:0,wrapperDimensions:{width:800,height:800},dimensions:{width:800,height:800},visibility:{visible:!1,position:"inside"},innerVisibility:{visible:!1,position:"inside"},wrapperVisibility:{visible:!1,position:"inside"},viewportVisibility:{visible:!1,position:"inside"}}}onViewportIntersectionChange=e=>{this.setState({viewportVisibility:e.detail})};onIntersectionChange=e=>{e.target==this.backdropRef.current?this.setState({innerVisibility:e.detail}):this.setState({wrapperVisibility:e.detail})};onResize=e=>{e.target==this.backdropRef.current?this.setState({dimensions:e.detail}):this.setState({wrapperDimensions:e.detail})};render(e,r){let{settings:i,id:n}=this.props,o=$x[i.activeBackdrop];if(!o)return i.activeBackdrop!=="none"&&console.warn(`Error: Selected Backdrop mode "${i.activeBackdrop}" not found`),null;let s=i.backdropSettings?.[i.activeBackdrop]||{},a=s.clipScroll==!0;return S("div",{className:`backdrop ${a?"clip":""}`,ref:this.backdropWrapperRef,children:[S("div",{className:`backdrop-contents ${this.state.visibility.visible?"visible":""} ${this.state.visibility.position} ${this.state.loaded>0?"loaded":""}`,ref:this.backdropRef,style:{"--backdrop-width":this.state.wrapperDimensions.width+"px","--backdrop-height":this.state.wrapperDimensions.height+"px"},children:S(o,{...this.props,wrapperDimensions:this.state.wrapperDimensions,backdropRef:this.backdropRef,id:this.props.id,path:i.activeBackdrop,settings:s,dimensions:this.state.dimensions,visibility:this.state.visibility,inViewport:this.state.viewportVisibility.visible,onLoad:this.onLoad})}),S(Ao,{baseNodeRef:this.backdropWrapperRef})]})}onLoad=e=>{let r=this.backdropRef.current.querySelector("[data-backdrop]");r&&r.removeAttribute("style"),e&&(e.preventDefault(),e.stopPropagation()),this.setState(i=>({loaded:i.loaded+1})),setTimeout(()=>{this.fireBackdropLoadComplete()})};fireBackdropLoadComplete=()=>{this.backdropLoadCompleteFired||(this.backdropLoadCompleteFired=!0,window.dispatchEvent(new CustomEvent("backdrop-load-complete",{bubbles:!0,composed:!0,detail:{}})))};componentDidUpdate(e,r){if(this.state.innerVisibility!==r.innerVisibility||this.state.wrapperVisibility!==r.wrapperVisibility){let n=(this.props.settings.backdropSettings?.[this.props.settings.activeBackdrop]||{}).clipScroll==!0;this.setState({visibility:n?{...this.state.wrapperVisibility}:{...this.state.innerVisibility}})}e.settings?.activeBackdrop!==this.props.settings?.activeBackdrop&&this.setState(i=>({loaded:i.loaded-1}))}componentDidMount(){this.backdropRef.current&&(window.dispatchEvent(new CustomEvent("backdrop-load-start",{bubbles:!0,composed:!0,detail:{}})),setTimeout(()=>{this.fireBackdropLoadComplete()},3e3),this.backdropWrapperRef.current.addEventListener("legacy-backdrop-loaded",this.onLoad),yt(this.backdropRef.current,"backdropContentResize",this.onResize),yt(this.backdropRef.current,"backdropWrapperViewportChange",this.onIntersectionChange),yt(this.backdropWrapperRef.current,"backdropContentResize",this.onResize),yt(this.backdropWrapperRef.current,"backdropWrapperViewportChange",this.onIntersectionChange),yt(this.backdropRef.current,"backdropContentViewportChange",this.onViewportIntersectionChange),op.observe(this.backdropRef.current),op.observe(this.backdropWrapperRef.current),np.observe(this.backdropWrapperRef.current),np.observe(this.backdropRef.current),Vx.observe(this.backdropRef.current))}componentWillUnmount(){this.backdropRef.current&&(this.backdropWrapperRef.current.removeEventListener("legacy-backdrop-loaded",this.onLoad),wt(this.backdropRef.current,"backdropContentResize",this.onResize),wt(this.backdropRef.current,"backdropWrapperViewportChange",this.onIntersectionChange),wt(this.backdropWrapperRef.current,"backdropContentResize",this.onResize),wt(this.backdropWrapperRef.current,"backdropWrapperViewportChange",this.onIntersectionChange),wt(this.backdropRef.current,"backdropContentViewportChange",this.onViewportIntersectionChange),op.unobserve(this.backdropRef.current),op.unobserve(this.backdropWrapperRef.current),np.unobserve(this.backdropWrapperRef.current),np.unobserve(this.backdropRef.current),Vx.unobserve(this.backdropRef.current))}},Cz=jx});var di,De,sp,Pz=$(()=>{di=ye(Pe(),1);Fe();De={handledEmbeds:[],embedsIniting:[],embedScriptsCache:{},songKickWidgets:{},embedInitAttempts:new WeakMap,embedChangeObserver:de?null:new MutationObserver(t=>{t.forEach(e=>{e.removedNodes.length>0&&e.target.children.length===0&&De.add(e.target);let r=Array.from(e.addedNodes).filter(i=>i?.nodeName==="IFRAME");r.length>0&&(Array.from(e.target.querySelectorAll("iframe")).forEach(i=>{r.includes(i)||i.remove()}),e.target.getAttribute?.("data-type")==="tixtree"&&requestAnimationFrame(()=>{window.iFrameResize?.()}))})}),loadEmbedScript:(t,e)=>{if(De.embedScriptsCache[t])return De.embedScriptsCache[t];let r=new Promise(i=>{let n=document.createElement("script");n.setAttribute("src",t),n.onload=i,document.head.appendChild(n)});return De.embedScriptsCache[t]=r,r},initializeBandsInTown:function(t,e){var r="https://widget.bandsintown.com/main.min.js";e==="v3"&&(r="https://widgetv3.bandsintown.com/main.min.js"),De.loadEmbedScript(r).then(function(){BIT.widgetInitializer?t():BIT.onReady=t})},findEmbedsIn:function(t){t&&(di.default.each(t.querySelectorAll("cargo-embed"),De.add,De),di.default.each(t.querySelectorAll("#tixtree-wrapper"),e=>{e.setAttribute("data-type","tixtree"),De.add(e)}),di.default.each(t.querySelectorAll(".tt-widget"),e=>{e.setAttribute("data-type","ticket-tailor"),De.add(e)}),di.default.each(t.querySelectorAll(".shopify-buy-frame"),e=>{e.setAttribute("data-type","shopify-buy-frame"),De.add(e)}))},add:function(t){if(!(!t||t.nodeType!==Node.ELEMENT_NODE)){var e=t.getAttribute("data-type");if(!(!e||De.handledEmbeds.includes(t)&&t.children.length>0)){if(De.embedInitAttempts.get(t)===void 0?De.embedInitAttempts.set(t,0):De.embedInitAttempts.set(t,De.embedInitAttempts.get(t)+1),De.embedInitAttempts.get(t)>10){console.log("Exceeded max init attempts");return}switch(e){case"tweet":De.handleTwitterEmbed(t);break;case"twitter-timeline":De.handleTwitterTimelineEmbed(t);break;case"bandsintown":De.handleBandsIntownEmbed(t);break;case"songkick":De.handleSongkickEmbed(t);break;case"opentable":De.handleOpentableEmbed(t);break;case"typeform":De.handleTypeFormEmbed(t);break;case"shoprocket":De.handleShopRocketEmbed(t);break;case"tixtree":De.handleTixTreeEmbed(t);break;case"ticket-tailor":De.handleTicketTailorEmbed(t);break;case"shopify-buy-frame":De.handleShopifyEmbed(t);break;default:console.log("No method for handling",e,"embed")}}}},handleTwitterEmbed:function(t){var e=t.getAttribute("data-id");!e||e===""||De.embedsIniting.includes(t)||(De.embedsIniting.push(t),De.loadEmbedScript("https://platform.twitter.com/widgets.js").then(()=>{t.innerHTML="",twttr.widgets.createTweet(e,t).then(function(r){r&&(r.setAttribute("contenteditable","false"),De.embedChangeObserver?.observe(t,{childList:!0,attributes:!0})),De.embedsIniting=De.embedsIniting.filter(i=>i!==t)})}),De.handledEmbeds.push(t))},handleTwitterTimelineEmbed:function(t){if(!De.embedsIniting.includes(t)){De.embedsIniting.push(t);try{var e=JSON.parse(t.getAttribute("data-source"))}catch{return}typeof e=="number"&&(e=t.getAttribute("data-source"));var r;if(t.hasAttribute("data-options"))try{r=JSON.parse(t.getAttribute("data-options"))}catch{}De.loadEmbedScript("https://platform.twitter.com/widgets.js").then(()=>{t.innerHTML="",twttr.widgets.createTimeline(e,t,r).then(function(i){i&&(i.setAttribute("contenteditable","false"),De.embedChangeObserver?.observe(t,{childList:!0,attributes:!0})),De.embedsIniting=De.embedsIniting.filter(n=>n!==t)})}),De.handledEmbeds.push(t)}},handleOpentableEmbed:function(t){if(!t.ownerDocument.contains(t)||De.embedsIniting.includes(t))return;De.embedsIniting.push(t);let e=document.createElement("opentable-embed-anchor");e.src=t.getAttribute("data-src"),t.appendChild(e),fetch(t.getAttribute("data-src")).then(r=>r.text()).then(r=>{if(De.embedsIniting=De.embedsIniting.filter(i=>i!==t),!e.ownerDocument.contains(e)){De.handleOpentableEmbed(t);return}e.id=di.default.uniqueId("opentable-"),r=r.replaceAll('getElementsByTagName("script")','querySelectorAll("opentable-embed-anchor#'+e.id+'")'),window.eval(r),e.remove(),De.embedChangeObserver?.observe(t,{childList:!0,attributes:!0}),De.handledEmbeds.push(t)})},handleBandsIntownEmbed:function(t){De.initializeBandsInTown(()=>{t.innerHTML="";var e={},r={};di.default.each(t.attributes,function(o){if(/^data-/.test(o.name)&&o.name!=="data-type"){var s=o.name.substr(5).replace(/-/g,"_");e[s]=o.value;var a=s.split("_").map(function(l,p){return p>0?l.charAt(0).toUpperCase()+l.slice(1):l}).join("");r[a]=o.value}});var i=document.createElement("a");if(i.setAttribute("id","bit-widget-"+di.default.uniqueId()),i.setAttribute("class","bit-widget-initializer"),di.default.each(e,function(o,s){i.setAttribute("data-"+s.replace(/_/g,"-"),o)}),t.appendChild(i),Dr){var n=new MutationObserver(function(o){di.default.each(o,function(s){s.type=="childList"&&s.addedNodes.forEach(function(a){a&&a.nodeType===Node.ELEMENT_NODE&&(a.setAttribute("contenteditable",!1),a.classList.contains("bit-widget-container")&&(a.style.pointerEvents="none",n.disconnect()))})})});n.observe(t,{childList:!0})}BIT.widgetInitializer.append(i,r),De.embedChangeObserver?.observe(t,{childList:!0}),De.handledEmbeds.push(t)},t.getAttribute("data-bit-widget-version"))},handleSongkickEmbed:function(t){if(!De.embedsIniting.includes(t)){De.embedsIniting.push(t);var e={};di.default.each(t.attributes,function(n){if(/^data-/.test(n.name)&&n.name!=="data-type"){var o=n.name.substr(5).replace(/-/g,"_");e[o]=n.value}});var r=document.createElement("a");r.setAttribute("class","songkick-widget"),r.setAttribute("href","https://www.songkick.com/artists/"+e.id),r.setAttribute("contenteditable","false"),di.default.each(e,function(n,o){r.setAttribute("data-"+o.replace(/_/g,"-"),n)}),t.appendChild(r);var i="https://widget-app.songkick.com/injector/"+e.id;De.songKickWidgets[e.id]===void 0?De.songKickWidgets[e.id]=0:i=i+"?"+ ++De.songKickWidgets[e.id],De.loadEmbedScript(i).then(()=>{De.embedsIniting=De.embedsIniting.filter(n=>n!==t),t.children.length===0&&De.add(t)}),De.embedChangeObserver?.observe(t,{childList:!0}),De.handledEmbeds.push(t)}},handleTypeFormEmbed:function(t){De.embedsIniting.includes(t)||(De.embedsIniting.push(t),De.loadEmbedScript("https://embed.typeform.com/next/embed.js").then(()=>{if(t.dataset.embed)t.innerHTML=di.default.unescape(t.dataset.embed),window.tf.load();else{let e={};di.default.each(t.attributes,function(r){r.name.startsWith("data-tf")&&(e[di.default.camelCase(r.name.replace("data-tf",""))]=r.value)}),e.container=t,delete e.iframeProps,t.innerHTML="",window.tf.createWidget(e.widget||e.live,e),t.children[0]?.setAttribute("style",t.getAttribute("data-style")),setTimeout(()=>{t.children[0]?.setAttribute("style",t.getAttribute("data-style"))},100),setTimeout(()=>{t.children[0]?.setAttribute("style",t.getAttribute("data-style"))},1e3)}De.embedsIniting=De.embedsIniting.filter(e=>e!==t)}),De.embedChangeObserver?.observe(t,{childList:!0}),De.handledEmbeds.push(t))},handleShopRocketEmbed:function(t){De.embedsIniting.includes(t)||!t.dataset.embed||(De.embedsIniting.push(t),De.loadEmbedScript("https://cdn.shoprocket.io/loader.js").then(()=>{if(Dr){var e=new MutationObserver(function(r){di.default.each(r,function(i){i.type=="childList"&&i.addedNodes.forEach(function(n){n&&n.nodeType===Node.ELEMENT_NODE&&(n.setAttribute("contenteditable",!1),n.classList.contains("sr-embed")&&(n.style.pointerEvents="none",e.disconnect()))})})});e.observe(t,{childList:!0})}t.innerHTML=di.default.unescape(t.dataset.embed),window.Shoprocket?.init(),De.embedsIniting=De.embedsIniting.filter(r=>r!==t)}),De.embedChangeObserver?.observe(t,{childList:!0}),De.handledEmbeds.push(t))},handleTixTreeEmbed:function(t){De.handledEmbeds.push(t),De.embedChangeObserver?.observe(t,{childList:!0,attributes:!0})},handleTicketTailorEmbed:function(t){De.handledEmbeds.push(t),Array.from(t.querySelectorAll(".tt-widget-wrapper")).forEach(e=>e.remove())},handleShopifyEmbed:function(t){t.setAttribute("contenteditable","false"),De.embedChangeObserver?.observe(t,{childList:!0,attributes:!0}),De.handledEmbeds.push(t)},remove:function(){}},sp=De});var Iz,iMe,Kx,Wu,vg=$(()=>{ke();Iz=ye(Nn(),1);ea();Pr();gt();rr();iMe=ye(Pe(),1);fe();Kx=class extends me{constructor(e){super(e),this.state={error:!1}}render(e){return S(he,{children:[S("style",{children:`
					.pages > .page:only-child,
					.pages :has(.page-password) > .page:only-child {
						min-height: var(--viewport-height);
					}
					
					.pages > .page:only-child .page-content,
					.pages :has(.page-password) > .page:only-child .page-content {
						align-items: center;
					}

					.site-password,
					.page-password {
						text-align: center;
						margin: auto;
						height: 0;
						width: 340px;
						display: table;
					}

					.site-password {
						position: fixed;
						top: 0;
						bottom: 0;
						left: 0;
						right: 0;
					}

					.error {
					    transform: translate(0, 20px);
					    position: absolute;
					    width: 100%;
					    text-align: center;
					    left: 0;
					    color: rgba(0,0,0,0.75);
					    user-select: none;
					}

					.submit-wrapper {
						display: grid;
						grid-template-columns: auto 40px;
						border-radius: 100px;
					    border: 1px solid rgba(0,0,0,0.75);
						grid-gap: 5px;
						background: #fff;
					}

					.button-area {
						position: relative;
						width: 40px;
						justify-content: center;
						align-items: center;
						display: flex;
						cursor: pointer;
					}

					.submit-button {
						display: block;
						width: 36px;
						height: 36px;
						border-radius: 50%;
						background: #000;
						transform-origin: 50% 50%;
						transform: scale(1);
						border: none;
						background-image: url("data:image/svg+xml,%3Csvg width='21' height='19' viewBox='0 0 21 19' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.8438 1.9375L19.3438 9.4375L11.8438 16.9375' stroke='%23fff' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M19.3437 9.4375L1.40625 9.4375' stroke='%23fff' stroke-width='2.5' stroke-linecap='round'/%3E%3C/svg%3E%0A");
						background-position: 46% 50%;
						background-repeat: no-repeat;
						background-size: 17px 17px;
						pointer-events: auto;
						cursor: pointer;
						margin-right: 1px;
						padding: 0;
					}

					.submit-button:active {
						opacity: 0.7;
					}


					input[type="password"] {
						border-radius: 100px;
					    border: none;
						padding: 10px 0px 10px 20px;
					    font-size: 14px;
					    font-family: Helvetica;
					    font-size: 18px;
					    font-style: normal;
					    font-weight: 400;
					    line-height: 21px;
					    letter-spacing: -0.004em;
					    text-align: left;
						width: auto;
					}

					input[type="password"]:placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]::-webkit-input-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]::-moz-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]:-moz-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
	            `}),S("div",{className:this.props.target==="site"?"site-password":"page-password",children:[S("form",{onSubmit:this.submit,class:"submit-wrapper",children:[S("input",{name:"pw",type:"password",placeholder:"Enter password...",autofocus:"true",onKeyDown:this.onKeyDown}),S("div",{className:"button-area",children:S("button",{className:"submit-button",type:"submit"})})]}),this.state.error&&S("span",{class:"error",children:"Invalid password"})]})]})}onKeyDown=e=>{this.state.error&&this.setState({error:!1})};submit=e=>{e.preventDefault();let r;this.props.target==="site"?r=`/sites/${this.props.siteId}/validatepassword`:r=`/pages/${this.props.siteId}/id/${this.props.target}/validatepassword`,Iz.default.post(ar+r,{[this.props.target==="site"?"site_password":"password"]:e.target.elements.pw.value}).then(({data:i})=>{if(!i.token){this.setState({error:!0});return}this.setState({error:!1}),this.props.setAuthentication({authenticated:!0,data:{access_token:i.token,id:null}}),this.props.onSucces?.()}).catch(i=>{console.error(i),this.setState({error:!0})})}},Wu=Ue((t,e)=>({siteId:t.site.id}),t=>Wt({setAuthentication:Ke.setAuthentication},t))(Kx)});var Yx,Az,Tz=$(()=>{ke();Ye();ko();Wr();Ut();Ut();fe();Yx=class extends me{constructor(e){super(e),this.state={hover:!1,buttonHovered:!1},this.editPageButtonRef=Se(),this.layoutButtonRef=Se(),CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents)}editorIsEmpty=(e,r)=>{requestAnimationFrame(()=>{this.setState({showEmpty:this.props.isEditingPage})})};editorHasContent=(e,r)=>{this.setState({showEmpty:!1})};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.CargoEditor=CargoEditor,this.CargoEditor.events.on("editor-no-content",this.editorIsEmpty),this.CargoEditor.events.on("editor-has-content",this.editorHasContent)};componentWillUnmount=()=>{this.CargoEditor&&(this.CargoEditor.events.off("editor-no-content",this.editorIsEmpty),this.CargoEditor.events.off("editor-has-content",this.editorHasContent))};onButtonEnter=()=>{this.setState({hover:!0})};onButtonLeave=()=>{this.setState({hover:!1})};launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.layoutButtonRef.current.getBoundingClientRect(),i={x:r.x+0,y:r.y+-212,left:r.left+0,right:r.right+0,top:r.top+0+-212,bottom:r.top+27+-212,width:r.width,height:r.height};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"layouttemplate",supportsMobile:!0,positionRect:i,closeButton:!1,closeOnAllClickout:!1})};render(e){let r=this.props.isEditingPage,i=this.props.pageIsPin,n=this.state.showEmpty,o=23;return S(Pi,{isEditingPage:r,name:"EditPageButton",trackResize:!0,noPointerEvents:!0,buttonHeight:o,buttonMode:"outside",baseNode:this.props.bodycopyRef.current,render:s=>{let{pointerAttention:a,overlayPosition:l,shiftButtonX:p,shifted:f}=s,c=-o,m=-2;return l.y<=o&&(c=Math.max(0,-l.y),m=0,c>l.height&&(m=-2,c=l.height+1)),r&&n||r?null:S(he,{children:[S("div",{className:`in-editor-buttons page${a?" hover button-hover":""} ${f?"shifted":""}`,style:{transform:`translate3d(${m+l.x}px, ${c+l.y}px, 0)`},children:S("div",{className:"pointer-mask",style:{transform:`translateX(${p}px)`},children:S("button",{className:"edit-page text",onMouseDown:v=>{v.button==2||v.metaKey||this.props.editPage(v)},ref:this.editPageButtonRef,children:[S("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 16H6V4H10.9875V8.09705H15V16ZM16 7.64491L11.4226 3H5V17H16V7.64491Z",fill:"black"})}),this.props.pageTitle]})})}),S("div",{className:`editor-overlay editor-outline page-outline${a?" hover button-hover":""}${this.state.showEmpty?" hover":""}`,style:{width:l.width+"px",height:l.height+"px",transform:`translate3d(${l.x}px, ${l.y}px, 0)`}})]})}})}},Az=Yx});function ele(t,e){let r={};for(let i in e)r[i]=t.style.getPropertyValue(i),t.style.setProperty(i,"unset");t.offsetHeight;for(let i in e)t.style.setProperty(i,r[i])}function kz(){let t=document.querySelectorAll(".page");for(let e of t){let r=window.getComputedStyle(e),i=r.getPropertyValue("--page-layout-mix"),n=r.getPropertyValue("--page-mix");(n.length||i.length)&&ele(e,{"--page-mix":n,"--page-layout-mix":i})}}function tle(t){return Wt({pageMounted:Ke.pageMounted,pageUnMounted:Ke.pageUnMounted,updateFrontendState:Ke.updateFrontendState,fetchContent:Ke.fetchContent,fetchCommerceProducts:Ke.fetchCommerceProducts},t)}var Ii,ys,yg,ap,bg,vs,Xx,wg,Zx,Qx,Mz,Vu,Rz,Qae,Jae,xg,rle,ha,Sg=$(()=>{ke();Pr();gt();rr();Ii=ye(Pe(),1);kr();Md();qr();Io();Qr();ll();Hr();Gx();Pz();Fe();vg();Tz();Ji();Qa();fe();ys=new WeakMap,yg=new WeakMap,ap=new WeakMap,bg=new WeakMap,Mz=null,Vu=null,Rz=t=>{t.forEach(function(e){ys.has(e.target)&&ys.get(e.target).onAboveViewPort(e)})},Qae=Ii.default.once(()=>{let t=document.implementation.createDocument("http://www.w3.org/1999/xhtml","body",null),e=document.createElement("style");return t.children[0].appendChild(e),e}),Jae=t=>{let e=Qae();return t!==Mz&&(e.innerHTML=t,Mz=t),e};de||(vs=new ResizeObserver(function(t){ui()&&(Vu===null?Vu=window.innerWidth:Vu!==window.innerWidth&&(Vu<2050&&window.innerWidth>=2050&&kz(),Vu>=2050&&window.innerWidth<2050&&kz(),Vu=window.innerWidth));let e={};Rz(wg.takeRecords()),t.forEach(function(r){let i=ys.get(r.target);if(i&&(i.onResize(r.target.getBoundingClientRect()),e[i.props.id]=r.contentRect.height),yg.has(r.target)&&yg.get(r.target).onBodyCopyResize(r.contentRect.width),ap.has(r.target)||bg.has(r.target)){var n=window.getComputedStyle(r.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),s=parseFloat(n.getPropertyValue("margin-bottom"))+parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("border-bottom"));if(ap.has(r.target)){let a=ap.get(r.target);(a.state.pageContentPad.top!==o||a.state.pageContentPad.bottom!==s)&&a.setState({pageContentPad:{top:o,bottom:s}})}else{let a=bg.get(r.target);(a.state.pageLayoutPad.top!==o||a.state.pageLayoutPad.bottom!==s)&&a.setState({pageLayoutPad:{top:o,bottom:s}})}}}),G0(e)}),wg=new IntersectionObserver(Rz,{root:document,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}),Zx=new IntersectionObserver((t,e)=>{t.forEach(function(r){ys.has(r.target)&&ys.get(r.target).onViewportBoundaryIntersection(r)})},{root:document,rootMargin:Math.max(screen.height*6,2500)+"px",threshold:[0,1]}),Qx=new IntersectionObserver((t,e)=>{t.forEach(r=>{let i=ys.get(r.target);r.isIntersecting&&i&&!i.props.isPin&&window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{lastVisiblePid:i.props.id}})})},{root:null,rootMargin:"-20% 0px -80% 0px",threshold:[0,1]}),Xx=new MutationObserver(function(t){Ii.default.each(t,function(e){e.type=="childList"&&e.addedNodes.forEach(function(r){r.nodeName==="CARGO-EMBED"&&sp.add(r)})})}));xg=class extends me{constructor(e){super(e),this.overlayContentRef=Se(),this.bodycopyRef=Se(),this.pageContentRef=Se(),this.pageRef=Se(),this.pageLayoutRef=Se(),this.lastBodycopyRef=Se(),this.lastPageContentRef=Se(),this.lastPageRef=Se(),this.lastPageLayoutRef=Se(),this.lastHeight=0,this.state={resizeParentWidth:"100%",mobileOffsetsString:null,pageContentPad:{top:0,bottom:0},pageLayoutPad:{top:0,bottom:0},windowHeight:null,fullyRender:!0,lastPageContainerHeight:100,overlayContentFromTransformValue:null,overlayContentToTransformValue:null},this.localStyleRef=Se()}setOverlayContentTransformValues=()=>{let e=this.overlayContentRef.current?.getBoundingClientRect();if(!e)return;let r=this.pageContentRef.current?.getBoundingClientRect();if(!r)return;let i=0,n=0,o=this.props.overlayOptions?.animateOnOpen?.slideAmount/100,s=this.props.overlayOptions?.animateOnClose?.slideAmount/100;if(this.props.overlayOptions?.animateOnOpen?.speed!==0)switch(this.props.overlayOptions?.animateOnOpen?.slideDirection){case"bottom":i=(r.height+(e.height-r.bottom))*o;break;case"top":i=-r.bottom*o;break;case"right":i=(r.width+(e.width-r.right))*o;break;case"left":i=-r.right*o;break}if(this.props.overlayOptions?.animateOnClose?.speed!==0)switch(this.props.overlayOptions?.animateOnClose?.slideDirection){case"bottom":n=(r.height+(e.height-r.bottom))*s;break;case"top":n=-r.bottom*s;break;case"right":n=(r.width+(e.width-r.right))*s;break;case"left":n=-r.right*s;break}if(this.state.overlayContentFromTransformValue!==i&&this.state.overlayContentToTransformValue!==n){this.setState({overlayContentFromTransformValue:i,overlayContentToTransformValue:n});return}if(this.state.overlayContentFromTransformValue!==i){this.setState({overlayContentFromTransformValue:i});return}if(this.state.overlayContentToTransformValue!==n){this.setState({overlayContentToTransformValue:n});return}};setMobileOffsets=()=>{if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}let e=["ul","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","small-caps"];if(!this.localStyleRef.current)return;let r=Jae(this.props.globalStylesheet),i=!1;r.sheet&&Ii.default.each(r.sheet.rules,o=>{o?.selectorText===".mobile [id] .page-layout"&&o?.style?.getPropertyValue("padding")==="0px"&&(i=!0)}),i&&e.push(`[id="${this.props.pid}"] .page-layout`);let n=au(this.localStyleRef.current.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:e}]);this.setState({mobileOffsetsString:n})};onBodyCopyResize=e=>{this.lastWidth!==e&&(this.setState({resizeParentWidth:e+"px"}),this.lastWidth=e)};onWindowResize=e=>{this.setState(r=>r.windowHeight===nt.data.window.h?null:{windowHeight:nt.data.window.h})};onResize=e=>{if(!e)return;let r=0;if(this.isAboveViewport&&this.lastHeight!==e.height&&(r+=e.height-this.lastHeight),this.lastHeight=e.height,r!==0){let i=document.scrollingElement.scrollTop+r;document.scrollingElement.scrollTo({top:i,behavior:"instant"})}};onAboveViewPort=e=>{e.rootBounds.height!==0&&(this.isAboveViewport=e.boundingClientRect.bottom<0)};onViewportBoundaryIntersection=e=>{if(e.rootBounds.height===0)return;let r=e.isIntersecting;(de||this.props.isPin||this.props.isEditingPage)&&(r=!0),this.setFullRenderState(r)};setFullRenderState=e=>{let r={fullyRender:e,renderSparseHeightDiv:!e};e?this.state.fullyRender!==!0&&(r.renderSparseHeightDiv=!0,setTimeout(()=>{this.state.fullyRender===!0&&this.setState({renderSparseHeightDiv:!1})},100)):r.lastPageContainerHeight=this.pageRef.current?.getBoundingClientRect().height||100,this.setState(r)};updateAdminState=e=>{this.props.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:e})};zIndexLayerPosition=e=>e?.toString().padStart(2,"0");findPageAdjusteeStatus=e=>{let r={top:null,bottom:null},i=Ii.default.pickBy(this.context?.adjustPairs,n=>n.adjusts.indexOf(this.props.pid)!==-1);return Ii.default.keys(i).length>0&&Ii.default.each(i,function(n){r[n.location]=n.adjustedHeight}),r};determinePinCSS=()=>{if(de||this.props.isOverlay||Ii.default.isEmpty(this.context.levelData))return;let e=1,r={},i=this.context?.renderedPins&&this.props.isPin,n=this.findPageAdjusteeStatus(this.props.pid);if(r.paddingTop=n.top,r.paddingBottom=n.bottom,i){let o=this.context?.renderedPins[this.props.pid];if(o){let s=o.depth,a=Ii.default.keys(this.context.levelData?.levels)?.length+e,l=a-s+e,p=l+this.zIndexLayerPosition(100-o?.pinSort);if(r.zIndex=o.type!=="adjust"?p??null:null,localStorage.getItem("pin_testing")==="true"){let c={old_zIndex:l+this.zIndexLayerPosition(100-o?.sort),new_zIndex:p,pid:this.props.pid,pageList_sort:o?.sort,renderedPageSort:o?.pinSort};console.log(c)}let f=this.context.levelData?.levels[s][o.location];o.type==="overlay"?r[o.location]=f.startingHeight-n[o.location]:o.type==="adjust"&&n[o.location]!==null&&(r[o.location]=f.adjustsSelf?null:f.startingHeight-n[o.location])}}return r["--pin-padding-top"]=(r.paddingTop||0)+"px",r["--pin-padding-bottom"]=(r.paddingBottom||0)+"px",Ii.default.isEmpty(r)?null:r};getAdjustOnlyPinStartHeight=(e,r,i)=>{let n=0;return Ii.default.each(this.context.renderedPins,(o,s)=>{o.depth===e&&o.location===i&&(i==="top"?o.sort<r:o.sort>r)&&o.type==="adjust"&&(n+=this.context.pageHeights[s])}),n};determinePinClassList(e){if(!e||this.props.isOverlay)return"";let r=null;if(this.props.isMobile){let n=this.props?.local_css?.match(/--mobile-pin-options: (.*);/);r=n?n[1].replace(/['"]+/g,"").split(" "):null}let i="";return i+=" pinned pinned-"+e.position,r?i+=r.includes("fixed")?" fixed":r.includes("overlay")?" overlay":"":i+=e.fixed?" fixed":e.overlay?" overlay":"",i}editPage=e=>{if(e.preventDefault(),parent.window.Cargo?.Ecommerce?.View?.currentView?.saveButton?.saveEnabled===!0||parent.window.Cargo?.Ecommerce?.View?.currentView?.SaveButton?.saveEnabled===!0){parent.window.dispatchEvent(new CustomEvent("navigate-after-commerce-save",{detail:{pid:this.props.pid}}));return}parent.editorActivationEvent=e,parent.navigateAdmin("/"+this.props.pid),this.updateAdminState({pageTitleBarTransition:!0}),setTimeout(()=>{this.updateAdminState({pageTitleBarTransition:!1})},600)};getPageInfoContextValue(){return(this.props.isEditingPage!==this.lastProps?.isEditingPage||this.props.pid!==this.lastProps?.pid)&&(this.pageInfoContextValue={isEditing:this.props.isEditingPage,pid:this.props.pid}),this.lastProps=this.props,this.pageInfoContextValue}render(){if(!this.props.hasPage||de&&this.props.access_level!=="public")return null;let e=this.props.backdrops?.activeBackdrop&&this.props.backdrops?.activeBackdrop!="none",r=this.props.isPin&&this.props.pin_options,i=r?this.props.pin_options:null,n=null,o=null,s=this.determinePinCSS(),a=this.determinePinClassList(i),l={};this.props?.local_css?.includes("--page-layout-mix:")&&!this.props?.local_css?.includes("--page-layout-mix: normal")?l["--page-content-backdrop-filter"]="none":l["--page-content-backdrop-filter"]="";let p={},f="";if(this.props.isOverlay===!0){let m="translate3d(0, 0, 0)";switch(this.props.overlayOptions?.animateOnOpen?.slideDirection){case"bottom":m=`translate3d(0, ${this.state.overlayContentFromTransformValue}px, 0)`;break;case"top":m=`translate3d(0, ${this.state.overlayContentFromTransformValue}px, 0)`;break;case"right":m=`translate3d(${this.state.overlayContentFromTransformValue}px, 0, 0)`;break;case"left":m=`translate3d(${this.state.overlayContentFromTransformValue}px, 0, 0)`;break}if(this.props.overlayOptions?.animateOnOpen?.scaleAmount){let I=1-Number(this.props.overlayOptions?.animateOnOpen?.scaleAmount)/100;m+=` scale(${I})`}this.props.overlayOptions?.animateOnOpen?.rotateAmount&&(m+=` rotate(${Number(this.props.overlayOptions?.animateOnOpen?.rotateAmount)*-1}deg)`);let v="translate3d(0, 0, 0)";switch(this.props.overlayOptions?.animateOnClose?.slideDirection){case"top":v=`translate3d(0, ${this.state.overlayContentToTransformValue}px, 0)`;break;case"bottom":v=`translate3d(0, ${this.state.overlayContentToTransformValue}px, 0)`;break;case"left":v=`translate3d(${this.state.overlayContentToTransformValue}px, 0, 0)`;break;case"right":v=`translate3d(${this.state.overlayContentToTransformValue}px, 0, 0)`;break}if(this.props.overlayOptions?.animateOnClose?.scaleAmount){let I=1-Number(this.props.overlayOptions?.animateOnClose?.scaleAmount)/100*-1;v+=` scale(${I})`}this.props.overlayOptions?.animateOnClose?.rotateAmount&&(v+=` rotate(${this.props.overlayOptions?.animateOnClose?.rotateAmount}deg)`);let g="none";switch(this.props.overlayOptions?.animateOnOpen?.wipeShape){case"right":g="inset(0 0 0 100%)";break;case"left":g="inset(0 100% 0 0)";break;case"top":g="inset(0 0 100% 0)";break;case"bottom":g="inset(100% 0 0 0)";break;case"circle":g="circle(0%)";break;case"diamond":g="polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)";break;case"square":g="inset(100% 100% 100% 100%)";break}let x="none";switch(this.props.overlayOptions?.animateOnClose?.wipeShape){case"right":case"left":case"top":case"bottom":x="inset(0 0 0 0)";break;case"circle":x="circle(125%)";break;case"diamond":x="polygon(-50% 50%, 50% -50%, 150% 50%, 50% 150%)";break;case"square":x="inset(0 0 0 0)";break}let E="none";switch(this.props.overlayOptions?.animateOnOpen?.wipeShape){case"right":case"left":case"top":case"bottom":E="inset(0 0 0 0)";break;case"circle":E="circle(125%)";break;case"diamond":E="polygon(-50% 50%, 50% -50%, 150% 50%, 50% 150%)";break;case"square":E="inset(0 0 0 0)";break}let _="none";switch(this.props.overlayOptions?.animateOnClose?.wipeShape){case"left":_="inset(0 0 0 100%)";break;case"right":_="inset(0 100% 0 0)";break;case"bottom":_="inset(0 0 100% 0)";break;case"top":_="inset(100% 0 0 0)";break;case"circle":_="circle(0%)";break;case"diamond":_="polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)";break;case"square":_="inset(100% 100% 100% 100%)";break}let D="linear";switch(this.props.overlayOptions?.animateOnOpen?.easing){case"ease-in":D="ease-in";break;case"ease-out":D="ease-out";break;case"ease-in-out":D="ease-in-out";break;case"bounce":D="cubic-bezier(.47,1.64,.41,.8)";break;case"elastic":D="cubic-bezier(.2,.69,.41,1.12)";break;case"hesitate":D="cubic-bezier(0,.8,1,0)";break;case"smooth":D="cubic-bezier(.240,1,.290,1.0)";break;case"linear":default:D="linear";break}let M="linear";switch(this.props.overlayOptions?.animateOnClose?.easing){case"ease-in":M="ease-in";break;case"ease-out":M="ease-out";break;case"ease-in-out":M="ease-in-out";break;case"smooth":M="cubic-bezier(.240,1,.290,1.0)";break;case"bounce":M="cubic-bezier(.47,1.64,.41,.8)";break;case"elastic":M="cubic-bezier(.2,.69,.41,1.12)";break;case"hesitate":M="cubic-bezier(0,.8,1,0)";break;case"linear":default:M="linear";break}p={"--overlay-open-duration":this.props.overlayOptions?.animateOnOpen?.speed?`${this.props.overlayOptions?.animateOnOpen?.speed}s`:"0s","--overlay-open-from-opacity":this.props.overlayOptions?.animateOnOpen?.fade?0:1,"--overlay-open-from-background-color":this.props.overlayOptions?.animateOnOpen?.fade?"inherit":"transparent","--overlay-open-content-from-transform":m,"--overlay-open-content-from-clip-mask":g,"--overlay-open-content-to-clip-mask":E,"--overlay-close-duration":this.props.overlayOptions?.animateOnClose?.speed?`${this.props.overlayOptions?.animateOnClose?.speed}s`:"0s","--overlay-close-to-opacity":this.props.overlayOptions?.animateOnClose?.fade?0:1,"--overlay-close-to-background-color":this.props.overlayOptions?.animateOnClose?.fade?"inherit":"transparent","--overlay-close-content-to-transform":v,"--overlay-close-content-from-clip-mask":x,"--overlay-close-content-to-clip-mask":_,"--overlay-open-easing":D,"--overlay-close-easing":M,opacity:this.state.overlayContentFromTransformValue!==null?void 0:0,zIndex:999}}if(this.state.fullyRender){let m=this.props.contentPad.top+this.state.pageLayoutPad.top+this.state.pageContentPad.top+this.state.pageContentPad.bottom+this.state.pageLayoutPad.bottom+this.props.contentPad.bottom;s&&(s.paddingTop&&(m+=s.paddingTop),s.paddingBottom&&(m+=s.paddingBottom));let v=Math.max(10,this.state.windowHeight-m),g=null;this.props.access_level==="password"?g=S(Wu,{target:this.props.pid,onSucces:()=>{this.props.fetchContent(this.props.pid,{force:!0})}}):this.hasOwnProperty("lockedContent")?g=this.lockedContent:g=this.lockedContent=this.props.content,this.maxFitHeight=v;let x=S("bodycopy",{style:{"--fit-height":v+"px","--resize-parent-width":this.state.resizeParentWidth},ref:this.bodycopyRef,dangerouslySetInnerHTML:typeof g=="string"?{__html:g}:void 0,children:qc(g)?g:null});o=S(tm,{pageRef:this.pageRef,value:this.getPageInfoContextValue(),children:S("div",{className:"page-layout",ref:this.pageLayoutRef,children:S("div",{className:`page-content${this.props?.local_css?.includes("--page-content-backdrop-filter")?" has-content-backdrop-filter":""}`,ref:this.pageContentRef,style:l,children:[this.props.adminMode&&this.props.Editor_PageEditorOutlines!==!1&&S(Az,{bodycopyRef:this.bodycopyRef,pageTitle:this.props.title,pageContent:this.props.content,pageIsPin:this.isPinned,isEditingPage:this.props.isEditingPage,editPage:this.editPage}),S(sg,{pageInfo:this.getPageInfoContextValue(),adminMode:this.props.adminMode,bodycopyRef:this.bodycopyRef,children:[S(Ao,{portalHost:x}),x]})]})})})}let c=!0;return(i?.fixed||this.props.isOverlay)&&(c=!1),this.state.renderSparseHeightDiv&&(s=s||{},s.height=this.state.lastPageContainerHeight+"px",s.overflow="hidden"),n=S("div",{id:this.props.pid,"page-url":this.props.purl?.toLowerCase(),className:`page${a!==null?a:""}${this.props.stackedPage?" stacked-page":""}${this.props?.local_css?.includes("--page-backdrop-filter")?" has-backdrop-filter":""}`,ref:this.pageRef,style:{...s},editing:this.props.isEditingPage,children:[e&&S(Cz,{id:this.props.pid,settings:this.props.backdrops}),S("a",{id:this.props.purl}),S(hu,{passthrough:c,scrollingElement:this.props.isOverlay?this.overlayContentRef:this.pageContentRef,children:[this.state.renderSparseHeightDiv&&S("div",{style:{height:this.state.lastPageContainerHeight+"px"}}),o]}),S("style",{ref:this.localStyleRef,dangerouslySetInnerHTML:{__html:this.props.local_css}}),S("style",{id:`mobile-offset-styles-${this.props.pid}`,dangerouslySetInnerHTML:{__html:this.state.mobileOffsetsString}})]}),this.props.isOverlay===!0?S("div",{ref:this.overlayContentRef,className:"overlay-content "+f,style:p,children:n}):n}componentDidUpdate=(e,r)=>{this.bindObservers(),this.setPinProperties(e),this.props.isOverlay===!0&&(this.setOverlayScrollability(),this.state.overlayContentFromTransformValue!==null&&this.overlayContentRef?.current?.classList.contains("overlay-open")===!1&&this.props.overlayOptions?.animateOnOpen!==!1&&this.props.overlayOptions?.animateOnOpen?.speed!==0&&(this.overlayContentRef?.current?.classList.add("overlay-open"),this.overlayContentRef?.current?.classList.add("overlay-animating"))),e.content===void 0&&this.props.content!==e.content&&(this.checkAndSetActiveLinks(),this.fetchCommerceProductsByLink(),sp.findEmbedsIn(this.pageRef.current)),this.state.fullyRender===!0&&r.fullyRender===!1?this.onFullComponentRender():this.state.fullyRender===!1&&r.fullyRender===!0&&this.onSparseComponentRender(),(e.activePURL!==this.props.activePURL||e.hashPurl!==this.props.hashPurl||e.activePID!==this.props.activePID||e.adminMode!==this.props.adminMode)&&(this.checkAndSetActiveLinks(),this.temporarySafariRenderingFix()),this.props.local_css!==e.local_css&&this.setMobileOffsets(),this.props.globalStylesheet!==e.globalStylesheet&&this.setMobileOffsets(),e.isMobile!==this.props.isMobile&&this.setMobileOffsets(),this.props.position!==e.position&&(this.isAboveViewport=this.props.position==="above",this.onResize(this.pageRef.current.getBoundingClientRect()))};shouldComponentUpdate(e,r,i){return!(this.props===e&&this.state===r&&this.context===i||this.hasOwnProperty("lockedContent")&&this.props.content!==e.content&&Jf({...this.props,content:null},{...e,content:null})&&this.state===r&&this.context===i)}setPinProperties=e=>{if(this.props.isPin&&this.pageRef.current){if(this.props.adminMode&&Ii.default.isEqual(this.props.pin_options,e.pin_options)===!1){if(window.PRESERVE_SCROLL_ON_NEXT_NAVIGATION){window.PRESERVE_SCROLL_ON_NEXT_NAVIGATION=!1;return}if(this.pageRef.current.scrollIntoView(),this.props.pin_options.position==="bottom"){let r=this.context.adjustPairs[this.props.pid];if(r&&r.adjusts){let i=document.body.querySelector("[id='"+r.adjusts[0]+"']");requestAnimationFrame(()=>{i.scrollIntoView({block:"end"})})}}}this.props.pin_options.fixed===!0&&this.setFixedPinScrollability(),this.props.pin_options.overlay===!0&&this.props.local_css!==""&&this.checkBackgroundColor()}};checkBackgroundColor=Ii.default.debounce(()=>{if(!this.pageRef.current)return;!(this.props.backdrops?.activeBackdrop&&this.props.backdrops?.activeBackdrop!="none")&&this.hasNoBackgroundColor(this.pageRef.current)?this.pageRef.current.classList.remove("accepts-pointer-events"):this.pageRef.current.classList.add("accepts-pointer-events");let r=this.pageRef.current?.querySelector(".page-content");this.hasNoBackgroundColor(r)?r.classList.remove("accepts-pointer-events"):r.classList.add("accepts-pointer-events")},100);hasNoBackgroundColor=e=>{if(e==null)return!1;let r=window.getComputedStyle(e,null),i=r.getPropertyValue("background-color"),n=i.match("rgba")?i.replace(/^.*,(.+)\)/,"$1"):null;return i==null||i=="transparent"||i=="initial"||n==0};setFixedPinScrollability=()=>{!this.pageContentRef.current||!this.pageRef.current||(this.pageContentRef.current.scrollHeight>this.pageContentRef.current.clientHeight+1?this.pageRef.current.classList.add("allow-scroll"):this.pageRef.current.classList.remove("allow-scroll"))};setOverlayScrollability=()=>{this.overlayContentRef.current&&(this.overlayContentRef.current.scrollHeight>this.overlayContentRef.current.clientHeight+1?this.overlayContentRef.current.classList.add("overlay-allow-scroll"):this.overlayContentRef.current.classList.remove("overlay-allow-scroll"))};checkAndSetActiveLinks=e=>{if(!this.pageRef.current)return;let r=e?.detail?.filter;r?.startsWith("tag:")?r=r.replace("tag:","").trim():r?r="all":r=null;let i=this.props.inAdminFrame&&this.props.adminMode===!0;if(this.props.isEditingPage&&!i)return;let n=this.pageRef.current.querySelectorAll('[rel="history"], [rel="filter-index"], [rel="home-page"]'),o=this.props.activePURL===this.props.homepagePURL||this.props.activePID==="root";Ii.default.each(n,s=>{let a=s.getAttribute("href")?.toLowerCase().replace(/^#/,""),l=this.props.homepagePURL===a||s.getAttribute("rel")==="home-page",p=this.props.activePURL&&a===this.props.activePURL||this.props.hashPurl&&a===this.props.hashPurl||this.props.activePurlParents?.includes(a);!i&&p&&!l&&!this.props?.activePURLIsOverlay?s.classList.add("active"):s.classList.remove("active"),!i&&l&&this.props.enableHomeLinkActiveStates&&(o?s.classList.add("active"):s.classList.remove("active"))})};bindObservers=(e=!1)=>{(this.pageRef.current!==this.lastPageRef.current||e)&&(this.lastPageRef.current&&(ys.delete(this.lastPageRef.current),vs.unobserve(this.lastPageRef.current),wg.unobserve(this.lastPageRef.current),Zx.unobserve(this.lastPageRef.current),Qx.unobserve(this.lastPageRef.current)),this.pageRef.current&&!e&&(ys.set(this.pageRef.current,this),vs.observe(this.pageRef.current),wg.observe(this.pageRef.current),Zx.observe(this.pageRef.current),Qx.observe(this.pageRef.current)),this.lastPageRef.current=this.pageRef.current),(this.pageLayoutRef.current!==this.lastPageLayoutRef.current||e)&&(this.lastPageLayoutRef.current&&(bg.delete(this.lastPageLayoutRef.current),vs.unobserve(this.lastPageLayoutRef.current)),this.pageLayoutRef.current&&!e&&(bg.set(this.pageLayoutRef.current,this),vs.observe(this.pageLayoutRef.current)),this.lastPageLayoutRef.current=this.pageLayoutRef.current),(this.pageContentRef.current!==this.lastPageContentRef.current||e)&&(this.lastPageContentRef.current&&(ap.delete(this.lastPageContentRef.current),vs.unobserve(this.lastPageContentRef.current)),this.pageContentRef.current&&!e&&(ap.set(this.pageContentRef.current,this),vs.observe(this.pageContentRef.current)),this.lastPageContentRef.current=this.pageContentRef.current),(this.bodycopyRef.current!==this.lastBodycopyRef.current||e)&&(this.lastBodycopyRef.current&&(this.lastBodycopyRef.current.removeEventListener("filter-thumbnail-index",this.checkAndSetActiveLinks),this.lastBodycopyRef.current.removeEventListener("new-thumbnails-rendered",this.checkAndSetActiveLinks),yg.delete(this.lastBodycopyRef.current),vs.unobserve(this.lastBodycopyRef.current)),this.bodycopyRef.current&&!e&&(yg.set(this.bodycopyRef.current,this),vs.observe(this.bodycopyRef.current),this.bodycopyRef.current.addEventListener("filter-thumbnail-index",this.checkAndSetActiveLinks),this.bodycopyRef.current.addEventListener("new-thumbnails-rendered",this.checkAndSetActiveLinks)),this.lastBodycopyRef.current=this.bodycopyRef.current)};componentDidMount(){this.isAboveViewport=this.props.position==="above",this.onWindowResize(),nt.on("window-resize",this.onWindowResize),this.state.fullyRender===!0&&this.onFullComponentRender(),this.pageRef.current&&(this.onResize(this.pageRef.current.getBoundingClientRect()),this.context.onPageMount(this.pageRef.current),sp.findEmbedsIn(this.pageRef.current),Xx&&Xx.observe(this.pageRef.current,{childList:!0,subtree:!0}),this.pageRef.current.addEventListener("dom-binding-initialized",()=>{sp.findEmbedsIn(this.pageRef.current)}),this.props.isOverlay&&(window.setTimeout(this.setOverlayContentTransformValues,100),this.calculateOverlayPassthroughClasses(),this.pageRef.current.addEventListener("animationend",this.calculateOverlayPassthroughClasses)),this.temporarySafariRenderingFix())}calculateOverlayPassthroughClasses=()=>{if(!this.pageRef.current||!this.pageContentRef.current)return;let e=window.getComputedStyle(this.pageRef.current,null),r=window.getComputedStyle(this.pageContentRef.current,null),i=e.getPropertyValue("background-color"),n=r.getPropertyValue("background-color"),o=this.props.isOverlay&&(i==="transparent"||i==="initial"||i==="rgba(0, 0, 0, 0)")&&this.props.overlayOptions?.closeOnNavigate===!0,s=this.props.isOverlay&&(n==="transparent"||n==="initial"||n==="rgba(0, 0, 0, 0)")&&i.startsWith("rgba(");o?this.overlayContentRef.current.classList.add("is-passthrough-overlay"):this.overlayContentRef.current.classList.remove("is-passthrough-overlay"),s?this.overlayContentRef.current.classList.add("is-content-passthrough-overlay"):this.overlayContentRef.current.classList.remove("is-content-passthrough-overlay")};temporarySafariRenderingFix=()=>{this.props.adminMode||setTimeout(()=>{!de&&ui()&&this.props?.pin_options?.position==="bottom"&&(this.pageRef?.current?.classList.add("loading"),setTimeout(()=>{this.pageRef?.current?.classList.remove("loading")},1200))},10)};onFullComponentRender(){if(this.pageLayoutRef.current){let e=function(r){r.childNodes.forEach(i=>i.setSaveable(!0));for(let i of r.childNodes)e(i)};e(this.pageLayoutRef.current)}this.pageRef.current&&(this.initializeScriptTags(),this.props.pageMounted(this.pageRef.current).then(()=>{this.checkAndSetActiveLinks(),this.fetchCommerceProductsByLink()})),this.props.isPin&&this.props.pin_options?.fixed===!0&&this.setFixedPinScrollability(),this.props.isOverlay===!0&&this.setOverlayScrollability(),this.props.isMobile&&this.setMobileOffsets(),this.bindObservers()}componentWillUnmount(){this.pageRef.current&&this.pageRef.current.removeEventListener("animationend",this.calculateOverlayPassthroughClasses),nt.off("window-resize",this.onWindowResize),ys.delete(this.pageRef.current),this.onSparseComponentRender(!0),this.onResize({height:0}),this.context.onPageUnmount(this.pageRef.current)}onSparseComponentRender(e=!1){this.bindObservers(e),this.pageRef.current&&this.props.pageUnMounted(this.pageRef.current)}fetchCommerceProductsByLink=()=>{if(!this.pageRef.current||!this.props.has_shop)return;let e=this.pageRef.current.querySelectorAll('[rel="add-to-cart"], [rel="add_to_cart"]'),r=[];Ii.default.each(e,i=>{let n=i.getAttribute("data-product");n&&r.push(n)}),this.props.fetchCommerceProducts({idArray:r,onlyNew:!0})};initializeScriptTags=()=>{let e=!1,r=function(i){e=!0};window.addEventListener("error",r,!1),Ii.default.each(this.bodycopyRef.current?.querySelectorAll("script"),i=>{if(i.getAttribute("type")==="text/thumbnail-metadata")return;e=!1;let n=document.createElement("script");[...i.attributes].forEach(o=>{n.setAttribute(o.nodeName,o.nodeValue)}),n.innerHTML=i.textContent,i.replaceWith(n),e&&(e=!1,n.parentNode.insertBefore(document.createComment(n.outerHTML),n),n.remove(),this.props.adminMode&&this.props.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"One or more scripts on this page are broken and were disabled.",type:"notice"}}}))}),window.removeEventListener("error",r)}};xg.contextType=ps;rle=gn((t,e)=>t.map(r=>e[r]?.purl).filter(r=>r&&typeof r=="string").map(r=>r.toLowerCase())),ha=Dn(Ue((t,e)=>{let r=We.getContentById(t,e.id),i=t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID],n,o;i&&(n=i.purl?.toLowerCase(),o=rle(We.getParentSetList(t,i.id),t.sets.byId)),!de&&!n&&(n=window.location.pathname.replace(/^\//,"").toLowerCase());let s=!1;return n&&(s=We.getContentByPurl(t,n)?.overlay===!0),{inAdminFrame:t.frontendState.inAdminFrame,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,isEditingPage:r?.id&&t.frontendState.PIDBeingEdited===r?.id,hasPage:r!==void 0,homepagePURL:We.getHomepagePurl(t),pid:r?.id,purl:r?.purl,isPin:r?.pin,title:r?.title,backdrops:r?.backdrops,content:r?.content,access_level:r?.access_level,local_css:r?.local_css,pin_options:r?.pin_options,PIDBeingEdited:t.frontendState.PIDBeingEdited,hashPurl:t.frontendState.activeHashPurl,globalStylesheet:t.css?.stylesheet,enableHomeLinkActiveStates:t.siteDesign?.site?.enableHomeLinkActiveStates,activePID:t.frontendState.activePID,activePURL:n,activePurlParents:o,activePURLIsOverlay:s,pageDepth:We.getParentSetList(t,e.id).length-1,has_shop:t.site.shop_id!==null,Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}},tle)(xg))});var Jx,Nz,Oz=$(()=>{ke();Sg();fe();Jx=class t extends me{constructor(e){super(e)}render=()=>{let e=this.props.childNodes.filter(i=>i.parent===this.props.id),r=e.filter(i=>i.content.page_type=="page").length>1;return S("div",{"data-container":"set","data-id":this.props.id,children:e.map((i,n)=>i.content.page_type==="set"?S(t,{id:i.content.id,childNodes:this.props.childNodes,contentPad:this.props.contentPad},i.content.id):S(ha,{id:i.content.id,position:i.position,contentPad:this.props.contentPad,stackedPage:r},i.content.id))})}},Nz=Jx});var WMe,e1,_g,t1=$(()=>{ke();WMe=ye(Pe(),1);fe();e1=class extends me{constructor(e){super(e)}render=()=>S(he,{children:[S("style",{children:`
					body {
						letter-spacing: 0;
						padding: 30px;
						color: rgba(0,0,0,.85);
						font-size: 18px;
						line-height: 1;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif, "Sans Serif", Icons;
					}
				`}),this.props.message]})},_g=e1});var Dz,Lz=$(()=>{Dz={closeOnClickout:!1,closeOnNavigate:!1,closeOthersOnOpen:!1,animateOnOpen:{fade:!1,speed:0,slideAmount:0,slideDirection:"default",wipeShape:"default",easing:"linear",scaleAmount:0,rotateAmount:0},animateOnClose:{fade:!1,speed:0,slideAmount:0,slideDirection:"default",wipeShape:"default",easing:"linear",scaleAmount:0,rotateAmount:0}}});function sle(t,e){return{adminMode:t.frontendState.adminMode,PIDToEdit:t.frontendState.PIDToEdit,overlayBeingPreviewed:t.frontendState.overlayBeingPreviewed,overlayOptionsByPID:ole(t.pages.byId),sortMap:t.structure.bySort,autoRenderableOverlays:We.getAutoRenderableOverlaysForSet(t,e.pinContextPID,e.match?.params?.page)}}function ale(t){return Wt({fetchContent:Ke.fetchContent},t)}var YMe,bs,ile,a1,ei,l1,nle,ole,r1,Sr,$u,Hi,i1,Eg,Cg,n1,o1,Fz,zz,Pg,Bn,ju,Gu,pl,s1,Ig,Ag,Bz,Tg=$(()=>{ke();YMe=ye(Nn(),1);gt();Pr();rr();ss();bs=ye(Pe(),1);Fe();kr();Sg();Lz();Ji();Hr();Qa();fe();ile={top:0,bottom:0},a1=new Array,ei={closeOverlay:()=>{},openOverlay:()=>{},getOverlay:()=>{},toggleOverlay:()=>{},handleGlobalClick:()=>{},getAllOverlays:()=>{}},l1=class extends me{constructor(e){super(e),this.state={activeOverlays:[]},this.intermediateActiveOverlays=this.state.activeOverlays,ei.openOverlay=this.openOverlay,ei.closeOverlay=this.closeOverlay,ei.toggleOverlay=this.toggleOverlay,ei.getOverlay=this.getOverlay,ei.handleGlobalClick=this.handleGlobalClick,ei.getAllOverlays=this.getAllOverlays}componentDidMount(){requestAnimationFrame(()=>{this.autoRenderOverlays()})}autoRenderOverlays=(e=[])=>{if(this.props.adminMode){let s=this.props.store.getState(),a=[this.props.PIDToEdit,this.props.overlayBeingPreviewed].filter(l=>!!l&&s.pages.byId[l]?.overlay===!0);a.includes(this.props.PIDToEdit)&&this.openOverlay(this.props.PIDToEdit),this.state.activeOverlays.forEach(l=>{a.includes(l.pid)||this.closeOverlay(l?.pid)});return}let r=this.props.autoRenderableOverlays.map(s=>s.id),i=e.map(s=>s.id),n=bs.default.difference(i,r),o=bs.default.difference(r,i);n.forEach(s=>{this.closeOverlay(s)}),o.sort((s,a)=>this.props.sortMap[a]-this.props.sortMap[s]),o.forEach(s=>{this.openOverlay(s)})};componentDidUpdate=(e,r)=>{if((this.props.autoRenderableOverlays!==e.autoRenderableOverlays||this.props.adminMode&&!e.adminMode)&&this.autoRenderOverlays(e.autoRenderableOverlays),this.props.adminMode!==e.adminMode&&this.autoRenderOverlays([]),this.props.location!==e.location&&!this.props.adminMode&&this.state.activeOverlays.length>0){let i=this.props.location.pathname!==e.location.pathname,n=this.props.location.search!==e.location.search;if(i||n){let o=this.props.store.getState(),s=this.props.location.pathname.startsWith("/contact-form")||this.props.location.pathname.startsWith("/cart"),a=this.props.history?.action==="POP";!s&&!o.frontendState.contactForm.inited&&!o.frontendState.cartOpen&&this.state.activeOverlays.forEach(l=>{l.getOverlayOptions().closeOnNavigate&&this.closeOverlay(l.pid,a)})}}if(this.state.activeOverlays!==r.activeOverlays){let i=bs.default.difference(this.state.activeOverlays,r.activeOverlays),n=bs.default.difference(r.activeOverlays,this.state.activeOverlays);if(a1=[...this.state.activeOverlays],Ag(),i.length>0)for(let o of i)(o.getOverlayOptions().animateOnOpen||o.getOverlayOptions().animateOnClose)&&o.ref?.current?.base.addEventListener("animationend",this.handleAnimationEnd)}};componentWillUnmount=()=>{};handleGlobalClick=(e,r)=>{if(this.props.adminMode||r.closest(".quick-view")||document.querySelector(".alert-window"))return;let o=r.closest(".page-content, .wallpaper-navigation")?.closest(".page")?.getAttribute("id"),s=this.state.activeOverlays.find(m=>m.pid===o),a=this.state.activeOverlays[this.state.activeOverlays.length-1],l=this.props.store.getState(),p=Object.keys(l?.pages?.byId).some(m=>{let v=l.pages.byId[m];if(!v.overlay)return!1;let g=e.getAttribute("href")?.replace(/\//,"");return v.purl===g}),f=l.pages.byId[a?.pid]?.purl,c=e?.getAttribute("href")?.replace(/\//,"");if(this.state.activeOverlays.some(m=>m.getOverlayOptions().closeOnNavigate)&&e.hasAttribute("href")&&(e.getAttribute("rel")==="history"||e.getAttribute("rel")==="home-page")&&e.getAttribute("href").replace(/\//,"").toLowerCase()!=="contact-form"&&!l.frontendState.contactForm.inited&&!l.frontendState.cartOpen&&p===!1){requestAnimationFrame(()=>{window.__deferred_page_load_promise__?window.__deferred_page_load_promise__.then(()=>{requestAnimationFrame(()=>{this.state.activeOverlays.forEach(m=>{m.getOverlayOptions().closeOnNavigate&&this.closeOverlay(m.pid)})})}):s?this.closeOverlay(s.pid):this.state.activeOverlays.forEach(m=>{m.getOverlayOptions().closeOnNavigate&&this.closeOverlay(m.pid)})});return}else e.hasAttribute("href")&&(e.tagName==="MEDIA-ITEM"||e.tagName);if(a&&a.getOverlayOptions().closeOnClickout===!0&&!l.frontendState.contactForm.inited&&!l.frontendState.cartOpen&&o!==a?.pid){this.closeOverlay(a?.pid);return}};handleAnimationEnd=e=>{if(e.target.classList.contains("page"))switch(e.animationName){case"overlayOpen":case"overlayOpenWithoutOpacity":{let r=e.target.closest(".overlay-animating");r&&r?.classList?.remove("overlay-animating"),e.target.classList.remove("overlay-open");break}case"overlayClose":case"overlayCloseWithoutOpacity":{setTimeout(()=>{let i=e.target.closest(".overlay-animating");i&&i?.classList?.remove("overlay-animating")},101),e.target.classList.remove("overlay-close");let r=e.target.getAttribute("id");this.closeOverlay(r,!0);break}}};openOverlay=(e,r={})=>{if(!e||this.getOverlay(e))return;let i=nle(e,this.props.overlayOptionsByPID[e],r);i.closeOthersOnOpen&&[...this.intermediateActiveOverlays].forEach(o=>{this.closeOverlay(o.pid)}),this.intermediateActiveOverlays=[...this.intermediateActiveOverlays,{pid:e,ref:Se(),getOverlayOptions:()=>i}],this.setState({activeOverlays:this.intermediateActiveOverlays})};closeOverlay=(e,r=!1)=>{if(e){if(r===!1){let i=this.getOverlay(e);if(!i)return;let n=i.getOverlayOptions();if(i.ref?.current?.base&&n?.animateOnClose?.speed>0){i.ref.current.base.classList.add("overlay-close"),i.ref.current.base.classList.add("overlay-animating");return}}this.intermediateActiveOverlays=this.intermediateActiveOverlays.filter(i=>i.pid!==e),this.setState({activeOverlays:this.intermediateActiveOverlays})}};toggleOverlay=(e,r)=>{this.getOverlay(e)?this.closeOverlay(e):this.openOverlay(e,r)};getAllOverlays=()=>this.intermediateActiveOverlays;getOverlay=e=>this.intermediateActiveOverlays.find(r=>r.pid===e);render(){return this.state.activeOverlays.map(({pid:e,getOverlayOptions:r,ref:i})=>S(ha,{id:e,contentPad:ile,isOverlay:!0,overlayOptions:r(),ref:i},e))}},nle=gn((t,e,r)=>bs.default.merge({},Dz,e,r)),ole=gn(t=>t=bs.default.mapValues(t,e=>e.overlay_options));if(!de){r1=null,Sr=null,$u=!1,Hi=!1,i1=_=>{let D=_.type=="touchstart"?_.touches[0].target:_.target,M=_.type=="touchstart"?_.touches[0].clientX:_.clientX,P=_.type=="touchstart"?_.touches[0].clientY:_.clientY;if(!$u){Sr=null,Hi=!1;let L=[...a1].reverse().map(q=>document.getElementById(q.pid)?.closest(".overlay-content:not(.overlay-animating)")),I=L.find(q=>q?.contains(D));if(I&&(Sr=I),!Sr&&L.length>0){let q=L[0]?.querySelector?.(".page-content");if(q){let N=q.getBoundingClientRect();M>=N.left&&M<=N.right&&P>=N.top&&P<=N.bottom&&(Hi=!0,Sr=L[0]||null)}}Sr||(D.closest(".pinned.page.allow-scroll")||(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight?document.scrollingElement:null)||null?Sr=null:Sr=L[0]||null,Sr&&(Hi=!0)),Sr&&Sr.scrollHeight<=Sr.clientHeight&&(Sr=null,Hi=!1),I&&!Sr&&(Hi=!0),Sr&&($u=!0)}};let t=0,e=!1,r=0,i={x:0,y:0},n=0,o=0,s=0,a=null,l,p=null,f=0,c=!1,m=!1,v=!0,g=!1,x=0,E=0;Eg=0,Cg=0,n1=_=>{if(_.defaultPrevented)return;n=_.touches[0].clientY,(Hi||c)&&(Hi=!0,_.preventDefault());let D={x:i.x-_.touches[0].clientX,y:i.y-_.touches[0].clientY};Math.sqrt(D.x*D.x+D.y*D.y)>3&&(v=!1)},o1=_=>{document.scrollingElement.scrollTop!=f&&(document.scrollingElement.scrollTop=f)},Fz=_=>{Math.sign(_.deltaY)!=Math.sign(Cg)&&($u=!1,Hi=!1),Cg=_.deltaY,clearTimeout(r1),r1=setTimeout(()=>{$u=!1,Hi=!1,Cg=0},100),i1(_),Hi&&_.preventDefault(),Sr&&Hi&&(Sr.scrollTop=Sr.scrollTop+_.deltaY)},zz=()=>{g||(g=!0,f=document.scrollingElement.scrollTop,document.scrollingElement.style.overflow="hidden",document.scrollingElement.style.overscrollBehavior="none",document.scrollingElement.scrollTop=f)},Pg=bs.default.debounce(()=>{g&&(g=!1,document.scrollingElement.style.overflow="",document.scrollingElement.style.overscrollBehavior="",document.scrollingElement.scrollTop=f)},150),Bn=0,ju=!1,Gu=void 0,pl=0,s1=!0,Ig=_=>{if(!a){pl=0,Bn=0,Pg();return}l==null&&(l=_);let D=_-l;if(D==0){p=requestAnimationFrame(Ig);return}l=_;let M=Math.max(1,Math.round((D+Eg)/8.333));Eg=(D/8.333-M)*8.333;let P=o-n;if(o=n,e)x=0,P==0&&(E+=D),(E>150||P!=0)&&(s=P*(8.333/D)),Bn=Bn+P,a.scrollTop=r+Bn;else{E=0;for(var L=0;L<M;L++)Bn=Bn+s,s=s*.9746795;let F=a.scrollTop;a.scrollTop=r+Bn,a.scrollTop-F!=0?x=0:x+=D}let I=a.scrollTop<1,q=Math.abs(a.scrollTop+a.clientHeight-a.scrollHeight)<1,N=0;if((I||q)&&s1){if(x=0,I?(N=-(r+Bn),N=(1-1/(N*.55/640+1))*640):(N=a.scrollHeight-(r+Bn+a.clientHeight),N=-(1-1/(-N*.55/640+1))*640),e)(N<0&&q||N>0&&I)&&(Gu=N,ju=!0);else{let F=Gu??-s,W=ju?700:1e3,U=Math.min(1,pl/W);if(ju)N=F-F*cf(U);else{let Z=0,J=60/W;U<=J?(Z=U/J,N=F*cf(Z)):(Z=(U-J)/(1-J)+.375,Z=Math.min(1,Z),N=F-F*Db(Z))}pl=pl+D,U>=1&&(s=0)}a.style.setProperty("--touch-overscroll-transform","translateY("+N+"px)")}else a.style.setProperty("--touch-overscroll-transform",null);!e&&Math.abs(N)<.01&&(Math.abs(s)<.005||x>500)?(pl=0,Bn=0,l=void 0,a.classList.remove("touch-overscroll-transform"),a=null,Pg()):p=requestAnimationFrame(Ig)},window.addEventListener("wheel",Fz,{passive:!1}),document.addEventListener("touchstart",_=>{if(!Array.from(_.composedPath()).some(D=>D.tagName=="SELECT")){if(pl=0,Gu=void 0,ju=!1,x=0,m=!1,a=null,e=!0,s=0,v=!0,cancelAnimationFrame(p),i1(_),n=_.touches[0].clientY,c=_.touches[0].target.closest(".overlay-content"),c){let D=c.querySelector(".page-content")?.contains(_.touches[0].target),M=c.querySelector(".backdrop");(!D&&c.classList.contains("is-passthrough-overlay")&&!M||D&&c.classList.contains("is-content-passthrough-overlay"))&&(c=null)}Sr&&(Hi=!0,_.preventDefault()),Sr?(zz(),i={x:_.touches[0].clientX,y:_.touches[0].clientY},o=n,Bn=0,E=0,x=0,Eg=0,Sr&&(r=Sr.scrollTop,a=Sr,s1=window.getComputedStyle(a).getPropertyValue("--elastic-scroll")=="true",a.classList.add("touch-overscroll-transform")),window.addEventListener("scroll",o1,{passive:!1}),document.addEventListener("touchmove",n1,{passive:!1}),p=requestAnimationFrame(Ig)):Pg()}},{passive:!1}),document.body.addEventListener("click",_=>{_.pointerId!=-1&&(m=!0)},{useCapture:!0,passive:!0}),document.addEventListener("touchend",_=>{if(e=!1,document.removeEventListener("touchmove",n1,{passive:!1}),window.removeEventListener("scroll",o1,{passive:!1}),v&&Hi){let D=_.changedTouches[0].target;setTimeout(()=>{if(!m)if(D.shadowRoot){let M=D.shadowRoot.elementFromPoint(_.changedTouches[0].clientX,_.changedTouches[0].clientY)||D;for(;M&&!M.click;)M=M.parentElement;M||(M=D),M.click()}else D.click()},150)}$u=!1,Hi=!1},{passive:!1}),nt.on("window-resize",()=>{Ag()}),Ag=bs.default.debounce(()=>{let _=[...a1].reverse(),D=_.findIndex(M=>{let P=M.ref?.current?.base.closest(".overlay-content");return P?P.classList.contains("overlay-allow-scroll")&&!P.classList.contains("overlay-close"):!1});_.forEach((M,P)=>{let L=M.ref?.current?.base.closest(".overlay-content");L&&(P==0?L.classList.add("top-overlay"):L.classList.remove("top-overlay"),D==-1?(L.classList.remove("top-scrollable-overlay"),L.classList.remove("behind-top-scrollable-overlay")):P>D?(L.classList.remove("top-scrollable-overlay"),L.classList.add("behind-top-scrollable-overlay")):P==D?(L.classList.add("top-scrollable-overlay"),L.classList.remove("behind-top-scrollable-overlay")):(L.classList.remove("top-scrollable-overlay"),L.classList.remove("behind-top-scrollable-overlay")))}),D>-1?document.documentElement.classList.add("has-scrollable-overlay"):document.documentElement.classList.remove("has-scrollable-overlay")},30),Ag()}Bz=Dn(Kn(Ue(sle,ale)(l1)))});function cle(t,e){let r=e.idType==="purl"?We.getContentByPurl(t,e.id):We.getContentById(t,e.id),i,n=null,o=null;if(!r){let s=!1;if(t.frontendState.networkErrors.find(a=>a.id===e.id&&a.idType===e.idType&&a)!==void 0||t.frontendState.inAdminFrame){if(e.idType==="purl"&&(i=t.site.tags.find(a=>a.url===e.id),!i)){for(let a in t.pages.byId)if(i=t.pages.byId[a].tags.find(l=>l.url===e.id),i)break}i||(s=!0)}if(s)return{content:null,pageNotFound:s}}if(r)if(r.page_type==="set"){n=r.id;let s=We.getContentByPurl(t,e.hashPurl),a=t.structure.indexById[s?.id]||0,l=t.sets.byId[We.getItemParentId(t,s?.id)]||r;o=ule(t.structure,t.pages,t.sets,l,a,d1(We.getSetsByParent(t),n))}else n=We.getItemParentId(t,r.id);else i&&(n="root",o=Object.values(t.pages.byId).filter(s=>t.structure.indexById[s.id]===null||s.crdt_state===tr.Deleted?!1:s.tags.some(a=>a.tag===i.tag)).map(s=>({content:s,position:"below"})),o.sort((s,a)=>t.structure.bySort[s.content.id]-t.structure.bySort[a.content.id]));return{tag:i,hasContent:r!==void 0,contentId:r?.id,contentType:r?.page_type,contentTitle:r?.title,contentPurl:r?.purl,contentIsStack:r?.stack,contentIsPin:r?.pin,contentIsOverlay:r?.overlay,contentCRDTState:r?.crdt_state,children:o,parentSetPID:n,isFeed:t.sets.byId.root.stack,topPins:We.getPinsForSet(t,n,"top",r?.id),bottomPins:We.getPinsForSet(t,n,"bottom",r?.id),adminMode:t.frontendState.adminMode}}function dle(t){return Wt({fetchContent:Ke.fetchContent,fetchPagesByTag:Ke.fetchPagesByTag,fetchSitePackage:Ke.fetchSitePackage,updateFrontendState:Ke.updateFrontendState},t)}var Uz,Lo,lle,u1,c1,Mg,d1,qz,ule,p1,h1=$(()=>{ke();Pr();gt();Uz=ye(Xh(),1);Qa();Lo=ye(Pe(),1);fa();rr();Fe();kr();Ut();Sg();Oz();t1();Md();Ji();Tg();fe();lle=async t=>{let e=[];if(!t.hasContent){let r=t.fetchContent(t.id,{idType:t.idType});e.push(r)}de&&e.push(qz(t,{up:!1,down:!0})),await Promise.allSettled(e).catch(r=>{})},u1={top:0,bottom:0},c1=10,Mg=class extends me{constructor(e){super(e),this.contentRef=Se(),this.contentParentRef=Se(),this.topPaginationWatcherRef=Se(),this.bottomPaginationWatcherRef=Se(),this.paginationLimitsTriggered={up:!1,down:!1},this.state={contentPad:u1,pageRenderLimits:{above:this.props.hashPurl?25:0,below:25},completedPaginationAbove:!1,completedPaginationBelow:!1},de||(this.paginationObserver=new IntersectionObserver(this.onPaginationObserverCallback,{root:document,rootMargin:screen.height*2+"px",threshold:[0,1]}),this.resizeObserver=new ResizeObserver(r=>{r.forEach(i=>{var n=window.getComputedStyle(i.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),s=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top"));(o!==this.state.contentPad.top||s!==this.state.contentPad.bottom)&&this.setState({contentPad:{top:o,bottom:s}})})})),this.props.hasContent&&this.props.updateFrontendState({activePID:this.props.contentId,activeTag:void 0,activeHashPurl:this.props.hashPurl})}getContentByPosition(e){return this.props.children?.filter(r=>r.position===e)||[]}getPageStack(){let e=this.getPageContainerPinOffsets(),r=[];return this.props.topPins.forEach(i=>{r.push(S(ha,{id:i.id,contentPad:u1,stackedPage:this.props.topPins.length>1},i.id))}),this.renderedChildren=[...Lo.default.takeRight(this.getContentByPosition("above"),this.state.pageRenderLimits.above),...Lo.default.take(this.getContentByPosition("below"),this.state.pageRenderLimits.below)],r.push(S("div",{className:"pages",ref:this.contentRef,style:e,children:this.props.contentType==="set"||this.props.tag?!this.props.tag&&this.props.isFeed!==!0&&this.props.contentIsStack!==!0?null:S(he,{children:[S("div",{className:`pagination-watcher ${this.state.completedPaginationAbove?"pagination-complete":""}`,"data-direction":"up",ref:this.topPaginationWatcherRef},"pagination_watcher_up"),S(Nz,{id:this.props.contentId,childNodes:this.renderedChildren,contentPad:this.state.contentPad},this.props.contentId),S("div",{className:`pagination-watcher ${this.state.completedPaginationBelow?"pagination-complete":""}`,"data-direction":"down",ref:this.bottomPaginationWatcherRef},"pagination_watcher_down")]},"page_container_fragment"):this.props.contentIsPin||this.props.contentIsOverlay?null:S(ha,{id:this.props.contentId,contentPad:this.state.contentPad,stackedPage:!1},this.props.contentId)},"page_container")),this.props.bottomPins.forEach(i=>{r.push(S(ha,{id:i.id,contentPad:u1,stackedPage:this.props.bottomPins.length>1},i.id))}),r}render(){if(this.props.pageNotFound)return S(_g,{message:"Page not found."});let e;return(!this.props.hasContent||this.props.contentCRDTState===tr.Deleted)&&!this.props.tag?e=null:e=this.getPageStack(),S("div",{className:"content",ref:this.contentParentRef,children:[S(Bz,{pinContextPID:this.props.parentSetPID}),e]})}bindContentParent=()=>{this.resizeObserver&&this.contentParentRef.current&&!this.state.contentParentRef&&(this.resizeObserver.observe(this.contentParentRef.current),this.setState({contentParentRef:this.contentParentRef.current}))};componentDidMount(){this.bindContentParent(),this.attachPaginationWatchers(),this.props.hasContent&&this.props.updateFrontendState({activePID:this.props.contentId,activeTag:void 0,activeHashPurl:this.props.hashPurl})}shouldComponentUpdate(e,r,i){if(this.props===e&&this.state===r&&this.context===i)return!1;if(this.props.contentId!==e.contentId||this.props.hashPurl!==e.hashPurl||this.props.tag!==e.tag){let n=e.hashPurl&&this.props.hashPurl!==e.hashPurl;this.setState({pageRenderLimits:{above:n?25:0,below:25}})}return!0}componentDidUpdate(e,r,i){this.bindContentParent(),!this.props.adminMode&&e.contentCRDTState!==tr.Deleted&&this.props.contentCRDTState===tr.Deleted&&(this.props.updateFrontendState({alertModal:{message:"Page not found",type:"notice"}}),so.replace("/"+e.contentPurl||"/")),this.props.id&&e.id!==this.props.id&&this.props.fetchContent(this.props.id,{idType:this.props.idType}),this.props.tag&&e.tag!==this.props.tag&&(this.props.updateFrontendState({activePID:void 0,activeTag:this.props.tag}),this.requestPagination()),this.props.hashPurl!==e.hashPurl&&this.props.updateFrontendState({activeHashPurl:this.props.hashPurl}),this.props.hasContent&&this.props.contentId!==e.contentId&&(this.props.updateFrontendState({activePID:this.props.contentId,activeTag:void 0}),this.requestPagination()),this.attachPaginationWatchers(),this.props.pageNotFound!==e.pageNotFound&&this.props.updateFrontendState({pageNotFound:this.props.pageNotFound})}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.unobserve(this.contentParentRef.current),this.paginationObserver&&this.paginationObserver.disconnect(),this.props.updateFrontendState({activePID:void 0,activeTag:void 0,activeHashPurl:""})}attachPaginationWatchers(){this.paginationObserver&&this.topPaginationWatcherRef.current&&this.bottomPaginationWatcherRef.current?(this.topPaginationWatcherRef.current!==this.topPaginationWatcherEl&&(this.topPaginationWatcherEl&&this.paginationObserver.unobserve(this.topPaginationWatcherEl),this.paginationObserver.observe(this.topPaginationWatcherRef.current),this.topPaginationWatcherEl=this.topPaginationWatcherRef.current),this.bottomPaginationWatcherRef.current!==this.bottomPaginationWatcherEl&&(this.bottomPaginationWatcherEl&&this.paginationObserver.unobserve(this.bottomPaginationWatcherEl),this.paginationObserver.observe(this.bottomPaginationWatcherRef.current),this.bottomPaginationWatcherEl=this.bottomPaginationWatcherRef.current)):(delete this.topPaginationWatcherEl,delete this.bottomPaginationWatcherEl)}onPaginationObserverCallback=e=>{let r=!1;e.forEach(i=>{let n=i.target.dataset.direction;i.isIntersecting?(this.paginationLimitsTriggered[n]=!0,r=!0):this.paginationLimitsTriggered[n]=!1}),r&&this.requestPagination()};requestPagination=async()=>{if(this.isPaginating)return;this.isPaginating=!0;let e=0;for(;this.isPaginating;){if(e++>25){console.log("Exceeded max consecutive pagination attempts...");break}(this.paginationLimitsTriggered.up||this.paginationLimitsTriggered.down)&&this.setState({pageRenderLimits:{above:(this.state.pageRenderLimits.above||0)+(this.paginationLimitsTriggered.up?c1:0),below:(this.state.pageRenderLimits.below||0)+(this.paginationLimitsTriggered.down?c1:0)}}),await qz(this.props,this.paginationLimitsTriggered).then(r=>{let i=r.length===0&&!(this.paginationLimitsTriggered.up&&this.state.pageRenderLimits.above<this.getContentByPosition("above").length),n=r.length===0&&!(this.paginationLimitsTriggered.down&&this.state.pageRenderLimits.below<this.getContentByPosition("below").length);this.setState({completedPaginationAbove:i,completedPaginationBelow:n}),i&&n&&(this.isPaginating=!1)}).catch(r=>{console.error(r),this.isPaginating=!1}),this.props.tag&&(this.isPaginating=!1,this.setState({pageRenderLimits:{above:9e9,below:9e9}})),await new Promise(r=>setTimeout(r,250))}};getPageContainerPinOffsets=()=>{let e={marginTop:0,marginBottom:0};if(de)return e;let r=i=>(i.hasOverlayPins&&!i.adjustsSelf&&i.adjusterId!==null?i.totalHeight:0)-(i.adjustedLevel==="content"?i.adjusterHeight:0);return Lo.default.each(this.context.levelData.levels,(i,n)=>{e.marginTop+=r(i.top),e.marginBottom+=r(i.bottom)}),e}},d1=(t,e,r=[])=>(r.push(e),t[e]?.forEach(i=>{d1(t,i,r)}),r),qz=(t,e,r={})=>new Promise((i,n)=>{if(!t||!e)return n("Missing pagination parameters");if(t.tag)return t.fetchPagesByTag(t.tag.url).then(i).catch(n);let o=t.store.getState(),s=[];if(Lo.default.each(e,(a,l)=>{if(!a)return;let p,f;if(l==="up"){let v=Lo.default.first(t.children);v&&(f=v.index,p=v.parent)}else if(l==="down"){let v=Lo.default.last(t.children);v?(f=v.index,p=v.parent):t.contentType==="set"&&(f=0,p=t.contentId)}if(p===void 0||f===void 0)return;let c=0,m=d1(We.getSetsByParent(o),t.parentSetPID);cs(o.structure,o.pages,o.sets,o.sets.byId[p],f,{reverse:l==="up",callback:(v,g,x)=>{if(!x&&m.includes(v)&&(s.push({parent:v,index:g}),c++),c>=c1)return"break"}})}),s.length>0){let a=Lo.default.groupBy(s,"parent"),l=Lo.default.map(a,(p,f)=>t.fetchContent(f,{indexes:Lo.default.map(p,"index"),idType:"pid"}));Promise.all(l).then(i).catch(n)}else i([])}),ule=gn((t,e,r,i,n,o)=>{let s=[],a=[],l=r.byId.root.stack;return cs(t,e,r,i,n-1,{reverse:!0,traverseUp:!0,includeSets:!0,callback:(p,f,c)=>{if(!c||!o.includes(p))return"break";c&&(s.unshift({parent:p,index:f,content:c,position:"above"}),a.push(c))}}),cs(t,e,r,i,n,{reverse:!1,traverseUp:!0,includeSets:!0,callback:(p,f,c)=>{if(!c||!o.includes(p))return"break";c&&!a.includes(c)&&s.push({parent:p,index:f,content:c,position:"below"})}}),s});Mg.contextType=ps;p1=Dn(Ue(cle,dle)((0,Uz.frontloadConnect)(lle,{onMount:!0,onUpdate:!1})(Mg)))});function ple(t){return Wt({pageMounted:Ke.pageMounted,pageUnMounted:Ke.pageUnMounted,updateFrontendState:Ke.updateFrontendState,fetchContent:Ke.fetchContent,fetchCommerceProducts:Ke.fetchCommerceProducts},t)}var ws,hl,Rg,lp,kg,xs,Ng,f1,Hz,Ku,up,Wz,Vz=$(()=>{ke();Pr();gt();rr();Ar();ws=ye(Pe(),1);kr();Md();qr();Io();Qr();ll();Hr();Gx();Fe();vg();Ji();fe();hl=new WeakMap,Rg=new WeakMap,lp=new WeakMap,kg=new WeakMap,Hz=t=>{t.forEach(function(e){hl.has(e.target)&&hl.get(e.target).onAboveViewPort(e)})},Ku=0;de||(xs=new ResizeObserver(function(t){let e={};Hz(Ng.takeRecords()),t.forEach(function(r){let i=hl.get(r.target);if(i&&(i.onResize(r.contentRect),e[i.props.id]=r.contentRect.height),Rg.has(r.target)&&Rg.get(r.target).onBodyCopyResize(r.contentRect.width),lp.has(r.target)||kg.has(r.target)){var n=window.getComputedStyle(r.target);let o=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),s=parseFloat(n.getPropertyValue("margin-bottom"))+parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("border-bottom"));if(lp.has(r.target)){let a=lp.get(r.target);(a.state.pageContentPad.top!==o||a.state.pageContentPad.bottom!==s)&&a.setState({pageContentPad:{top:o,bottom:s}})}else{let a=kg.get(r.target);(a.state.pageLayoutPad.top!==o||a.state.pageLayoutPad.bottom!==s)&&a.setState({pageLayoutPad:{top:o,bottom:s}})}}}),Ku!==0&&(document.scrollingElement.scrollTop+=Ku,Ku=0)}),Ng=new IntersectionObserver(Hz,{root:null,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}),f1=new IntersectionObserver((t,e)=>{t.forEach(function(r){hl.has(r.target)&&hl.get(r.target).onViewportBoundaryIntersection(r)})},{root:null,rootMargin:Math.max(screen.height*6,2500)+"px",threshold:[0,1]}));up=class extends me{constructor(e){if(super(e),this.bodycopyRef=Se(),this.pageContentRef=Se(),this.pageRef=Se(),this.pageLayoutRef=Se(),this.galleryRef=Se(),this.lastBodycopyRef=Se(),this.lastPageContentRef=Se(),this.lastPageRef=Se(),this.lastPageLayoutRef=Se(),this.currentHeight=0,this.state={resizeParentWidth:"100%",mobileOffsetsString:null,pageContentPad:{top:0,bottom:0},pageLayoutPad:{top:0,bottom:0},pagesLoaded:0,authorized:de?null:localStorage.getItem("images-include-offline"),imageSort:"forward",windowHeight:nt.data.window.h,fullyRender:!0,lastPageLayoutHeight:100,visibleGalleryPages:{0:!0},galleryHeightsVersion:0},this.localStyleRef=Se(),this.galleryHeights={},this.galleryWrappers=[],de)this.scrollingElement={current:null};else{let r=document.scrollingElement||document.documentElement||document.body;this.scrollingElement={current:r},this.galleryIntersectionObserver=new IntersectionObserver(i=>{i.forEach(this.onGalleryIntersection)},{root:null,rootMargin:Math.max(window.innerHeight*3,2e3)+"px",threshold:0}),this.galleryResizeObserver=new ResizeObserver(i=>{i.forEach(this.onGalleryResize)})}}setMobileOffsets=()=>{if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.localStyleRef.current)return;let e=au(this.localStyleRef.current.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","small-caps"]}]);this.setState({mobileOffsetsString:e})};onBodyCopyResize=e=>{e=parseInt(e),this.lastWidth!==e&&(this.setState({resizeParentWidth:e+"px"}),this.lastWidth=e)};onWindowResize=()=>{this.setState(e=>this.state.windowHeight===nt.data.window.h?null:{windowHeight:nt.data.window.h})};onResize=(e,r=!0)=>{((this.isAboveViewport??this.pageRef.current?.getBoundingClientRect().bottom<1)||this.props.position==="above"&&this.firstResizeOccurred!==!0)&&(Ku+=e.height-this.currentHeight,r||(document.scrollingElement.scrollTop+=Ku,Ku=0)),this.currentHeight=e.height,this.firstResizeOccurred=!0};onAboveViewPort=e=>{e.rootBounds.height!==0&&(this.isAboveViewport=e.boundingClientRect.bottom<0)};onViewportBoundaryIntersection=e=>{let r=e.isIntersecting;de&&(r=!0),this.setFullRenderState(r)};setFullRenderState=(e,r)=>{this.setState({fullyRender:e,lastPageLayoutHeight:this.pageLayoutRef.current?.getBoundingClientRect().height||100},r)};updateAdminState=e=>{store.dispatch({type:"UPDATE_ADMIN_STATE",payload:e})};zIndexLayerPosition=e=>e?.toString().padStart(2,"0");findPageAdjusteeStatus=e=>{let r={top:null,bottom:null},i=ws.default.pickBy(this.context?.adjustPairs,n=>n.adjusts.indexOf(this.props.pid)!==-1);return ws.default.keys(i).length>0&&ws.default.each(i,function(n){r[n.location]=n.adjustedHeight}),r};getPageInfoContextValue(){return(this.props.isEditingPage!==this.lastProps?.isEditingPage||this.props.pid!==this.lastProps?.pid)&&(this.pageInfoContextValue={isEditing:this.props.isEditingPage,pid:this.props.pid}),this.lastProps=this.props,this.pageInfoContextValue}onItemClick=e=>{if(e.button!==2||!this.state.zoomedOut)return;let r=e?.target.closest("media-item");r&&(e.preventDefault(),this.setState({zoomedOut:!1},()=>{setTimeout(()=>{r?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:0,preventQuickViewClose:!0,lazyScroll:!1}})),r.classList.add("hey-listen"),this.flashInterval=setInterval(()=>{r.classList.contains("hey-listen")?r.classList.remove("hey-listen"):r.classList.add("hey-listen")},300),setTimeout(()=>{r.classList.remove("hey-listen"),clearInterval(this.flashInterval)},1200)},0)}),console.log(e))};render(){if(!this.props.hasPage)return null;let e=null,r=!1;if(this.state.fullyRender){let i=this.props.contentPad.top+this.state.pageLayoutPad.top+this.state.pageContentPad.top+this.state.pageContentPad.bottom+this.state.pageLayoutPad.bottom+this.props.contentPad.bottom,n=Math.max(10,this.state.windowHeight-i),o=null;this.props.access_level==="password"?o=S(Wu,{target:this.props.pid,onSucces:()=>{this.props.fetchContent(this.props.pid,{force:!0})}}):this.hasOwnProperty("lockedContent")?o=this.lockedContent:o=this.lockedContent=this.props.content;let s=[],a=this.state.pagesLoaded+1,l=this.state.visibleGalleryPages||{},p=a>3,f=this.state.zoomedOut?800:1800;for(let c=0;c<a;c++){let m=p?l[c]||c===0:!0,v=this.galleryHeights[c],g=p&&!m?{height:(v||f)+"px"}:void 0;s.push(S("div",{ref:x=>this.setGalleryWrapperRef(c,x),"data-gallery-index":c,style:g,children:m?S("gallery-justify",{page:c,onContextMenu:this.onItemClick,"thumbnail-index":"img:all",sort:this.state.imageSort,"row-height":this.state.zoomedOut?"10vw":"15vw","mobile-row-height":this.state.zoomedOut?"200px":"100vh","show-title":!0,gutter:this.state.zoomedOut?"1px":"2rem 3rem"},"siteimages-"+c):null},"siteimages-wrapper-"+c))}e=S(he,{children:S(tm,{pageRef:this.pageRef,value:this.getPageInfoContextValue(),children:[S("style",{id:"img-style",children:`
							body.mobile .page-content{
								${this.state.zoomedOut?"padding: 1px 1px 8rem 1px;":"padding: 2rem 2rem 8rem 2rem;"}
							}
							.page-content {
								${this.state.zoomedOut?"padding: 1px;":"padding: 3rem 3rem 8rem 3rem;"}
							}
							body.mobile .caption {
								font-size: 3rem;
							}
							.caption {

							    margin-top: 1rem;
							    font-size: .75rem;
							    font-weight: 400;
							    color: rgba(0, 0, 0, 0.35);
							    font-style: normal;
							    line-height: 1.3;
							}

							.caption a {
							    color: rgba(0, 0, 0, 0.35);
								text-decoration:none;
							}

							.hey-listen::part(media){
			                	opacity: 0.3;
							}
									

							media-item::part(media){
								transition: opacity ease-in-out 0.1s;								
								outline: 1px solid rgba(0,0,0,0.08);
								outline-offset: -1px;
							}

							media-item:hover a.original {
								display: block;
							}
							.caption a.original {
								padding: 8px;
								margin: -8px;
								display:none;
								float: right;
							}

							.quick-view-background {
								background-color: rgba(21,21,21, 0.8);
							}

							body.mobile .sort-controls text-icon {
								height: 5rem;
								border: 1rem solid white;								
							}

							.sort-controls {
								display: grid;
								position: fixed;
								bottom: 1.8rem;
								left: 1.4rem;
								z-index: 1000;
								column-gap: 1px;
								grid-template-columns: 1fr 1fr 1fr 1fr;
								filter: drop-shadow(0px 1px 2px rgba(0,0,0, 0.2));
							}

							.sort-controls text-icon.active {
								color: black;
							}

							.sort-controls text-icon:active {
								transform: translate3d(0px, 2px, 0px);
							}

							.sort-controls text-icon {
								user-select:none;
								transform: translate3d(0px, 0px, 0px);
								transition: .05s transform linear;
								color: #ccc;
								background-color: white;
								border: .5rem solid white;
								border-radius: 100%;
								height: 2.5rem;
								cursor: pointer;
							}

							.sort-controls text-icon.zoom {
								color: black;
							}

							${this.state.zoomedOut?`
							media-item:hover .caption a.page-link {
								display: block;
							}

							media-item .caption {
								margin: 0;
								padding: 0;
								position: absolute;
								inset: 0;
								pointer-events:none;
							}
							media-item .caption a {
								display: none;
								color: transparent;
								pointer-events:auto;
							}

							media-item .caption a.page-link {
								pointer-events: auto;
								overflow: hidden;
								font-size: 0;

								border-style: solid;
								position: absolute;
								top: 0px;
								right: 0px;
								z-index: 99;
							}

							media-item .caption a.page-link::after {
								display: block;
								padding: 5px;
								content: '\u{1F517}';
								font-size: 14px;
								font-family:monospace;
								color: black;
								filter:saturate(0);
							}

							`:""}
						`}),S("div",{className:"page-layout",ref:this.pageLayoutRef,children:S("div",{className:"page-content",ref:this.pageContentRef,children:[this.state.authorized?S("div",{className:"sort-controls",children:[S("text-icon",{icon:"downwards-arrow",onPointerDown:c=>{c.preventDefault(),c.stopPropagation(),this.setState({imageSort:"forward"})},className:this.state.imageSort==="forward"?"active":""}),S("text-icon",{icon:"upwards-arrow",onPointerDown:c=>{c.preventDefault(),c.stopPropagation(),this.setState({imageSort:"reverse"})},className:this.state.imageSort==="reverse"?"active":""}),S("text-icon",{icon:"shuffle",onPointerDown:c=>{c.preventDefault(),c.stopPropagation();let m=()=>{this.setState({imageSort:"shuffle"})};this.state.imageSort==="shuffle"?this.bodycopyRef.current&&this.bodycopyRef.current.querySelectorAll('gallery-justify[thumbnail-index="img:all"]').forEach(function(g){g.dispatchEvent(new Event("refresh-thumbnail-index"))}):m()},className:this.state.imageSort==="shuffle"?"active":""}),S("text-icon",{icon:this.state.zoomedOut?"expand-arrows":"collapse-arrows",onPointerDown:c=>{c.preventDefault(),c.stopPropagation(),this.setState({zoomedOut:!this.state.zoomedOut})},className:"zoom"})]}):null,S(sg,{pageInfo:this.getPageInfoContextValue(),adminMode:this.props.adminMode,bodycopyRef:this.bodycopyRef,children:[S(Ao,{portalHost:this.bodycopyRef}),S("bodycopy",{style:{"--fit-height":n+"px","--resize-parent-width":this.state.resizeParentWidth},ref:this.bodycopyRef,children:this.state.authorized?s:null})]})]})})]})})}else e=S("div",{style:{height:this.state.lastPageLayoutHeight+"px"}});return S("div",{"page-url":this.props.purl?.toLowerCase(),className:"page",ref:this.pageRef,editing:!1,children:[S("a",{id:this.props.purl}),S(hu,{passthrough:!1,scrollingElement:this.scrollingElement,children:e})]})}componentDidUpdate=(e,r,i)=>{this.bindObservers(),this.state.fullyRender===!0&&r.fullyRender===!1?this.onFullComponentRender():this.state.fullyRender===!1&&r.fullyRender===!0&&this.onSparseComponentRender(),(e.activePURL!==this.props.activePURL||e.adminMode!==this.props.adminMode)&&this.updateShowCartLinkCounts(),this.props.local_css!==e.local_css&&this.setMobileOffsets(),e.isMobile!==this.props.isMobile&&this.setMobileOffsets(),this.props.hashPurl!==e.hashPurl&&this.runHashScroll(),(r.imageSort!==this.state.imageSort||r.zoomedOut!==this.state.zoomedOut)&&(this.galleryHeights={},this.setState(n=>({galleryHeightsVersion:(n.galleryHeightsVersion||0)+1})))};shouldComponentUpdate(e,r,i){return!(this.props===e&&this.state===r&&this.context===i||this.hasOwnProperty("lockedContent")&&this.props.content!==e.content&&Jf({...this.props,content:null},{...e,content:null})&&this.state===r&&this.context===i)}bindObservers=(e=!1)=>{(this.pageRef.current!==this.lastPageRef.current||e)&&(this.lastPageRef.current&&(hl.delete(this.lastPageRef.current),xs.unobserve(this.lastPageRef.current),Ng.unobserve(this.lastPageRef.current),f1.unobserve(this.lastPageRef.current)),this.pageRef.current&&!e&&(hl.set(this.pageRef.current,this),xs.observe(this.pageRef.current),Ng.observe(this.pageRef.current),f1.observe(this.pageRef.current)),this.lastPageRef.current=this.pageRef.current),(this.pageLayoutRef.current!==this.lastPageLayoutRef.current||e)&&(this.lastPageLayoutRef.current&&(kg.delete(this.lastPageLayoutRef.current),xs.unobserve(this.lastPageLayoutRef.current)),this.pageLayoutRef.current&&!e&&(kg.set(this.pageLayoutRef.current,this),xs.observe(this.pageLayoutRef.current)),this.lastPageLayoutRef.current=this.pageLayoutRef.current),(this.pageContentRef.current!==this.lastPageContentRef.current||e)&&(this.lastPageContentRef.current&&(lp.delete(this.lastPageContentRef.current),xs.unobserve(this.lastPageContentRef.current)),this.pageContentRef.current&&!e&&(lp.set(this.pageContentRef.current,this),xs.observe(this.pageContentRef.current)),this.lastPageContentRef.current=this.pageContentRef.current),(this.bodycopyRef.current!==this.lastBodycopyRef.current||e)&&(this.lastBodycopyRef.current&&(Rg.delete(this.lastBodycopyRef.current),xs.unobserve(this.lastBodycopyRef.current)),this.bodycopyRef.current&&!e&&(Rg.set(this.bodycopyRef.current,this),xs.observe(this.bodycopyRef.current)),this.lastBodycopyRef.current=this.bodycopyRef.current)};setGalleryWrapperRef=(e,r)=>{if(de)return;let i=this.galleryWrappers[e];i&&i!==r&&(this.galleryIntersectionObserver&&this.galleryIntersectionObserver.unobserve(i),this.galleryResizeObserver&&this.galleryResizeObserver.unobserve(i)),this.galleryWrappers[e]=r,r&&(this.galleryIntersectionObserver&&this.galleryIntersectionObserver.observe(r),this.galleryResizeObserver&&this.galleryResizeObserver.observe(r))};onGalleryIntersection=e=>{if(de)return;let i=e.target.getAttribute("data-gallery-index");if(i==null)return;let n=parseInt(i,10);Number.isNaN(n)||this.setState(o=>{let s=o.visibleGalleryPages||{},a=!!s[n],l=e.isIntersecting,p={...s,0:!0};return l?p[n]=!0:n!==0&&(p[n]=!1),a===l?null:{visibleGalleryPages:p}})};onGalleryResize=e=>{if(de)return;let i=e.target.getAttribute("data-gallery-index");if(i==null)return;let n=parseInt(i,10);if(Number.isNaN(n))return;let o=e.contentRect.height||0;!o||this.galleryHeights[n]===o||(this.galleryHeights[n]=o,this.setState(a=>({galleryHeightsVersion:(a.galleryHeightsVersion||0)+1})))};runHashScroll(){if(this.props.hashPurl===this.props.purl){if(window.PRESERVE_SCROLL_ON_NEXT_NAVIGATION){window.PRESERVE_SCROLL_ON_NEXT_NAVIGATION=!1;return}this.state.fullyRender!==!0?this.setFullRenderState(!0,()=>{this.pageRef.current.scrollIntoView()}):this.pageRef.current.scrollIntoView()}}checkLocalStorage=()=>{localStorage.getItem("images-include-offline")&&!this.state.authorized&&(this.setState({authorized:!0}),clearInterval(this.checkStorageInterval))};onKeyDown=e=>{e.keyCode===27&&!store.getState().frontendState.quickView.inited&&(e.preventDefault(),window.location=window.location.origin)};onPagination=e=>{!e||e.paginationComplete===!0||this.setState(r=>({pagesLoaded:r.pagesLoaded+1}))};componentDidMount(){window.addEventListener("keydown",this.onKeyDown),yt(this.pageLayoutRef.current,"image-pagination",this.onPagination),this.checkStorageInterval=setInterval(()=>{this.checkLocalStorage()},180);var e=document.body.querySelectorAll("style");e.forEach(r=>{r.id!=="img-style"&&(r.disabled=!0)}),setTimeout(()=>{e.forEach(r=>{r.id!=="img-style"&&(r.disabled=!0)})},100),this.runHashScroll(),nt.on("window-resize",this.onWindowResize),this.state.fullyRender===!0&&this.onFullComponentRender()}onFullComponentRender(){if(this.pageLayoutRef.current){let e=function(r){r.childNodes.forEach(i=>i.setSaveable(!0));for(let i of r.childNodes)e(i)};e(this.pageLayoutRef.current)}this.pageRef.current&&(this.initializeScriptTags(),this.props.pageMounted(this.pageRef.current).then(()=>{this.updateShowCartLinkCounts(),this.fetchCommerceProductsByLink()})),this.props.isMobile&&this.setMobileOffsets(),this.bindObservers()}componentWillUnmount(){wt(this.pageLayoutRef.current,"image-pagination",this.onPagination),window.removeEventListener("keydown",this.onKeyDown),clearInterval(this.checkStorageInterval);var e=document.body.querySelectorAll("style");e.forEach(r=>{r.disabled=!1}),nt.off("window-resize",this.onWindowResize),this.onSparseComponentRender(!0),this.onResize({height:0},!1),de||this.galleryWrappers&&this.galleryWrappers.length&&this.galleryWrappers.forEach(r=>{r&&(this.galleryIntersectionObserver&&this.galleryIntersectionObserver.unobserve(r),this.galleryResizeObserver&&this.galleryResizeObserver.unobserve(r))})}onSparseComponentRender(e=!1){this.bindObservers(e),this.pageRef.current&&this.props.pageUnMounted(this.pageRef.current)}fetchCommerceProductsByLink=()=>{if(!this.pageRef.current||!this.props.has_shop)return;let e=this.pageRef.current.querySelectorAll('[rel="add-to-cart"], [rel="add_to_cart"]'),r=[];ws.default.each(e,i=>{let n=i.getAttribute("data-product");n&&r.push(n)}),this.props.fetchCommerceProducts({idArray:r,onlyNew:!0})};updateShowCartLinkCounts=()=>{if(!this.pageRef.current||!this.props.has_shop||!this.props.cartData||ws.default.isEmpty(this.props.cartData)||this.props.adminFrame)return;let e=ws.default.keys(this.props.cartData).length,r=this.pageRef.current.querySelectorAll('a[rel="show-cart"], a[rel="show_cart"]');ws.default.each(r,i=>{if(i.hasAttribute("show-count")){let n=i.innerHTML.replace(/ *\([^)]*\) */g,"");i.innerText=n+" ("+e+")"}})};initializeScriptTags=()=>{let e=!1,r=function(i){e=!0};window.addEventListener("error",r,!1),ws.default.each(this.bodycopyRef.current?.querySelectorAll("script"),i=>{if(i.getAttribute("type")==="text/thumbnail-metadata")return;e=!1;let n=document.createElement("script");[...i.attributes].forEach(o=>{n.setAttribute(o.nodeName,o.nodeValue)}),n.innerHTML=i.textContent,i.replaceWith(n),e&&(e=!1,n.parentNode.insertBefore(document.createComment(n.outerHTML),n),n.remove(),this.props.adminMode&&window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"One or more scripts on this page are broken and were disabled.",type:"notice"}}}))}),window.removeEventListener("error",r)}};up.defaultProps={contentPad:{top:0,left:0,bottom:0,right:0}};up.contextType=ps;Wz=Ue((t,e)=>{let r={id:"img",purl:"/img",pin:!1,title:"Images",backdrops:{},content:"",access_level:"public"},i=(t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID])?.purl;return!de&&!i&&(i=window.location.pathname.replace(/^\//,"").toLowerCase()),typeof i=="string"&&(i=i.toLowerCase()),{inAdminFrame:!1,isMobile:t.frontendState.isMobile,adminMode:!1,isEditingPage:!1,hasPage:r!==void 0,pid:r?.id,purl:r?.purl,isPin:r?.pin,title:r?.title,backdrops:r?.backdrops,content:r?.content,access_level:r?.access_level,local_css:r?.local_css,pin_options:r?.pin_options,PIDBeingEdited:t.frontendState.PIDBeingEdited,activePID:t.frontendState.activePID,activePURL:i,pageDepth:We.getParentSetList(t,e.id).length-1,has_shop:t.site.shop_id!==null,cartData:t.commerce?.cart,Editor_PageEditorOutlines:t.adminState?.localStorage?.Editor_PageEditorOutlines}},ple)(up)});var $z,ZRe,m1,jz,Gz=$(()=>{ke();$z=ye(Nn(),1);ea();Fe();ZRe=ye(Pe(),1);fe();m1=class extends me{constructor(e){super(e),this.state={error:!1},this.inputRef=Se()}submit=e=>{e.preventDefault(),this.setState({error:!1,downloadStarted:!1});let r=this.inputRef.current?.value;if(!r)return this.setState({error:"Email address is not valid."});$z.default.post(`https://${lf?Ka:"dev.cargo.site"}/c3filedownload/validate/${r}/${this.props.hash}`).then(i=>{if(i?.data?.jdata?.valid)return this.setState({error:!1,downloadStarted:!0}),window.location.href=`https://${lf?Ka:"dev.cargo.site"}/c3filedownload/download/${r}/${this.props.hash}`;this.setState({error:i?.data?.error||"Email address is not valid."})}).catch(i=>{this.setState({error:"Email address is not valid."})})};onKeyDown=e=>{this.setState({error:!1})};render(){return S(he,{children:[S("style",{children:`

					body {
						letter-spacing: 0;
						padding: 30px;
						color: rgba(0,0,0,.85);
						font-size: 18px;
						line-height: 1;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif, "Sans Serif", Icons;
					}

					.message {
						margin-bottom: 15px;
					}

					.error {
						color: #f00;
					}

					input[type="email"] {
						border-radius: 100px;
						border: 1px solid rgba(0,0,0,0.75);
						padding: 10px 20px;
						font-family: Helvetica;
						font-size: 18px;
						font-style: normal;
						font-weight: 400;
						line-height: 21px;
						letter-spacing: -0.004em;
						text-align: left;
						width: 340px;
					}

					input[type="email"]:placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]::-webkit-input-placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]::-moz-placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]:-moz-placeholder {
						color: rgba(0,0,0,0.75);
					}
					
					.submit {
						-webkit-appearance: none;
						border: none;
						cursor: pointer;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
						font-size: 14.5px;
						white-space: nowrap;
						display: flex;
						margin: 0;
						width: 130px;
						justify-content: flex-start;
						padding: 6.5px 12px 7.5px 15px;
						font-weight: 500;
						flex: 1 1;
						text-align: center;
						height: auto;
						min-height: 28.5px;
						line-height: 1;
						border-radius: 100px;
						user-select: none;
						position: relative;
						background: #262626;
						color: #fff;
						padding-right: 5px;
						margin-top: 10px;
					}
					.submit:active {
						opacity: .7;
					}
				`}),this.state.downloadStarted?S("span",{className:"message",children:"Your download will begin shortly..."}):S(he,{children:[S("span",{className:"message",children:"Please verify your email address:"}),S("form",{noValidate:!0,onSubmit:this.submit,children:[S("input",{name:"email",type:"Email",placeholder:"Email address...",autofocus:"true",onKeyDown:this.onKeyDown,ref:this.inputRef,formNoValidate:!0}),S("button",{className:"submit",type:"submit",children:"Submit"})]}),this.state.error&&S(he,{children:[S("br",{}),S("span",{class:"error",children:this.state.error})]})]})]})}},jz=m1});var Xz={};mr(Xz,{default:()=>vle});function fle(t,e){return{siteId:t.site.id,contactForm:t.frontendState.contactForm,colorTheme:t.siteDesign?.contact_form?.theme||"auto",adminMode:Dr}}function mle(t){return Wt({updateFrontendState:Ke.updateFrontendState},t)}var Kz,Yz,Og,y1,g1,ake,v1,hle,gle,vle,Zz=$(()=>{ke();Ye();js();Kz=ye(Nn(),1);gt();Pr();rr();Yz=ye(Pe(),1);Fe();fe();Og={},y1=window.matchMedia("(max-aspect-ratio: 1/1)"),g1=y1.matches,ake=y1.addEventListener("change",t=>{g1=t.matches,Og[1]&&Og[1].setState({isMobile:g1})}),v1=class extends me{constructor(e){super(e),this.state={loaded:!1,showContents:!1,animate:!1,sent:!1,loading:!1,emailValue:"",messageValue:"",emailError:!1,messageError:!1,isMobile:g1,shadowRoot:null,systemTheme:window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light",transitioningTheme:!1},this.cssLinkRef=Se(),this.contactFormRef=Se(),this.startTime=null,this.inputRef=Se(),this.throttledResize=Yz.default.throttle(this.resizeHandler,200)}componentDidMount(){this.contactFormRef.current&&!this.contactFormRef.current.shadowRoot&&this.contactFormRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.contactFormRef.current?.shadowRoot}),this.props.contactForm.inited||this.props.updateFrontendState({contactForm:{transition:!1,inited:!0}}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.darkModeMediaQueryCallback),this.props.adminMode&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}})}darkModeMediaQueryCallback=e=>{let r=window.matchMedia("(prefers-color-scheme: dark)");this.setState({systemTheme:r.matches?"dark":"light"})};resizeHandler=()=>{let e=(window.innerHeight-30)*.01,r=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--contact-form-vh",`${e}px`),document.documentElement.style.setProperty("--contact-form-vw",`${r}px`)};handleEmailChange=e=>{this.setState({emailValue:e.target.value,emailError:!1})};handleMessageChange=e=>{this.setState({messageValue:e.target.value,messageError:!1})};submitForm=()=>{this.validate()&&this.setState({loading:!0},()=>{this.startTime=new Date;let e={from:this.state.emailValue,site_id:this.props.siteId,message:this.state.messageValue};Kz.default.post("https://cargo.site/dispatch/notifications/sendContactMessage",e,{headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(i=>{let o=new Date-this.startTime;if(this.startTime=null,o<=2500){let s=2500-o;setTimeout(()=>{this.closeForm(null,"submit")},s)}else this.closeForm(null,"submit")}).catch(i=>{window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"Message failed to send, please try again.",type:"notice"}}}),this.startTime=null,this.handleFormError()})})};closeForm=(e,r)=>{this.startTime===null&&(document.body.style.overflow="",window.removeEventListener("resize",this.throttledResize),r?window.requestAnimationFrame(()=>{this.setState({sent:!0},()=>{this.resetForm()})}):window.requestAnimationFrame(()=>{this.setState({animate:!1},()=>{this.resetForm()})}))};resetForm=()=>{delete Og[1],setTimeout(()=>{this.props.closeOverlay()},280)};componentDidUpdate=e=>{this.props.contactForm.transition!==e.contactForm.transition&&!e.contactForm.transition&&this.props.contactForm.transition&&this.startTime===null&&this.state.animate&&this.closeForm(),this.props.colorTheme!==e.colorTheme&&this.setState({transitioningTheme:!0},()=>{setTimeout(()=>{this.setState({transitioningTheme:!1})},500)})};componentWillUnmount=()=>{this.props.contactForm.inited&&this.props.updateFrontendState({contactForm:{transition:!1,inited:!1}}),this.props.adminMode&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}}),document.body.style.overflow="",document.documentElement.style.removeProperty("--contact-form-vh"),document.documentElement.style.removeProperty("--contact-form-vw")};handleFormError=()=>{this.setState({loading:!1})};handleTransitionEnd=()=>{};focusInput=()=>{this.inputRef?.current?.focus()};validate=()=>{let e=/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+$/i,r=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)+$/i,i=!0,n=!0,o=this.state.emailValue,s=this.state.messageValue;o.length<=0&&(i=!1),s.length<=0&&(n=!1);let a=o.split("@");return a.length!==2&&(i=!1),e.test(a[0])||(i=!1),r.test(a[1])||(i=!1),i||this.setState({emailError:!0}),n||this.setState({messageError:!0}),!(!i||!n)};onCSSLoad=()=>{this.setState({showContents:!0,isMobile:y1.matches},()=>{let e=(window.innerHeight-30)*.01,r=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--contact-form-vh",`${e}px`),document.documentElement.style.setProperty("--contact-form-vw",`${r}px`),window.addEventListener("resize",this.throttledResize),document.body.style.overflow="hidden",Og[1]=this,setTimeout(()=>{this.setState({animate:!0})},33)})};render(){let e=this.props.colorTheme==="auto"||!this.props.colorTheme?this.state.systemTheme:this.props.colorTheme;return S("div",{className:"contact-form",ref:this.contactFormRef,children:[" ",this.state.shadowRoot&&it(S(he,{children:[S("link",{rel:"stylesheet",onLoad:this.onCSSLoad,ref:this.cssLinkRef,type:"text/css",href:"https://build.cargo.site/frontend/4ede51/css/front-end/contact-form.css"}),this.state.showContents===!0?S("div",{className:`background${this.state.animate?" active":""}${this.state.sent?" sent":""}${e?" "+e:""}${this.state.transitioningTheme?" transitioning-theme":""}`,children:S("div",{className:`modal${this.state.animate?" active":""}${this.state.sent?" sent":""}${this.state.isMobile?" mobile":""}`,onTransitionEnd:r=>{this.state.sent===!0&&this.handleTransitionEnd(r)},children:S("div",{className:"modal-inner",children:[S("div",{className:"header",children:[S("div",{className:"title"}),S("div",{className:"exit",onPointerUp:r=>{this.closeForm(r)},children:S("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[S("circle",{opacity:"var(--contact-form-close-circle-opacity)",cx:"10",cy:"10",r:"10",fill:"var(--contact-form-color-flat-reverse)"}),S("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 11.0607L14.3099 15.3703L15.3705 14.3096L11.0609 10L15.3705 5.69036L14.3099 4.6297L10.0002 8.93934L5.69054 4.62964L4.62988 5.6903L8.93958 10L4.62988 14.3097L5.69054 15.3704L10.0002 11.0607Z",fill:"var(--contact-form-color-flat)"})]})})]}),S("hr",{}),S("div",{onPointerUp:r=>{this.focusInput(r)},className:"email",children:[S("label",{htmlfor:"email",children:["From:","\xA0"]}),S("div",{className:`text-input${this.state.emailError?" error":""}`,children:S("input",{ref:this.inputRef,type:"email",name:"email",autocomplete:"email",value:this.state.emailValue,onChange:r=>{this.handleEmailChange(r)},placeholder:"(enter your email address)..."})})]}),S("hr",{}),S("div",{className:`text-area${this.state.messageError?" error":""}`,children:S("textarea",{name:"message",type:"text",placeholder:"Write your message...",rows:"1",resize:"false",value:this.state.messageValue,onChange:r=>{this.handleMessageChange(r)}})}),S("hr",{}),S("div",{className:"button-area",children:this.state.loading?S(he,{children:S("button",{className:"send",children:["Sending",S(hle,{})]})}):S(he,{children:[S("button",{className:"cancel",onPointerUp:r=>{this.closeForm(r)},children:"Cancel"}),S("button",{className:"send",onPointerUp:r=>{this.submitForm(r)},children:"Send"})]})})]})})}):null]}),this.state.shadowRoot)]})}},hle=()=>S("div",{className:"caution-processing"});gle=Ue(fle,mle)(v1),vle=gle});var Qz={};mr(Qz,{default:()=>wle,validateShopModel:()=>Fg});function yle(t){return Wt({updateFrontendState:Ke.updateFrontendState,fetchCommerceProducts:Ke.fetchCommerceProducts,fetchContent:Ke.fetchContent,fetchShopModel:Ke.fetchShopModel,addCommerceProductToCart:Ke.addCommerceProductToCart,resetCommerceCart:Ke.resetCommerceCart},t)}var gke,Lg,Dg,cp,b1,Fg,w1,ble,wle,x1=$(()=>{ke();Ye();ss();gt();Pr();rr();fa();Fe();gke=ye(Nn(),1),Lg=ye(Pe(),1);fe();de||(Dg=window.matchMedia("(prefers-color-scheme: dark)"),cp=window.matchMedia("(max-aspect-ratio: 1/1)"),cp.addEventListener("change",()=>{b1?.setState({isMobile:cp.matches})}));Fg=async()=>{if(Vt.getState().site.shop_id===null)throw"site does not have shop setup";let e=await Vt.dispatch(Ke.fetchShopModel());if(Lg.default.isEmpty(e))throw"no model data";if(Dr===!1&&e.has_valid_config===!1&&!Vt.getState().site?.is_template)throw Vt.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{header:"Coming Soon",type:"notice"}}}),"shop modal contains invalid config";return e},w1=class extends me{constructor(e){super(e),Fg().then(r=>{this.setState({shopModel:r},()=>{this.openOverlay()})}).catch(r=>{console.warn(r),this.closeOverlay()}),this.state={shopModel:null,loaded:!1,animate:!1,isMobile:cp.matches,shadowRoot:null,theme:this.getTheme()},this.cartElementRef=Se(),this.iframeRef=Se(),this.startTime=null,this.inputRef=Se(),this.throttledResize=Lg.default.throttle(this.resizeHandler,200)}closeOverlay=()=>{Vt.getState().frontendState.cartOpen!==!0?this.props.closeOverlay({replaceHistory:!0}):window.requestAnimationFrame(()=>{this.setState({closing:!0},()=>{setTimeout(this.props.closeOverlay,280)}),document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no")})};onKeyDown=e=>{if(e.key==="Escape"||e.keyCode===9){let i=window.store?.getState()?.frontendState.alertModal!==!1,n=document.querySelector(".alert-window")!==null;if(i||n)return;this.closeOverlay(e)}};openOverlay(){this.cartElementRef.current&&!this.cartElementRef.current.shadowRoot&&this.cartElementRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.cartElementRef.current?.shadowRoot}),this.props.updateFrontendState({cartOpen:!0}),window.addEventListener("keydown",this.onKeyDown,!0),requestAnimationFrame(()=>{this.iframeRef.current&&(document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1"),this.iframeRef.current.src="/following_frame.html")})}onBeforeCartInit=()=>{this.iframeRef.current.contentWindow.__fetchCommerceProducts__=this.props.fetchCommerceProducts,this.iframeRef.current.contentWindow.__fetchContent__=this.props.fetchContent,this.iframeRef.current.contentWindow.__frontend_history__=this.props.history,this.iframeRef.current.contentWindow.__add_to_cart__=this.props.addCommerceProductToCart,this.iframeRef.current.contentWindow.__reset_cart__=this.props.resetCommerceCart,this.iframeRef.current.contentWindow.__close_overlay__=()=>{this.closeOverlay()}};onCartReady=()=>{this.proxyRoute(),this.proxyTheme()};onCSSLoad=()=>{this.setState({loaded:!0,isMobile:cp.matches},()=>{let e=(window.innerHeight-30)*.01,r=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--cart-vh",`${e}px`),document.documentElement.style.setProperty("--cart-vw",`${r}px`),window.addEventListener("resize",this.throttledResize),document.body.style.overflow="hidden",requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.setState({animate:!0})})})})})})})};resizeHandler=()=>{let e=(window.innerHeight-30)*.01,r=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--cart-vh",`${e}px`),document.documentElement.style.setProperty("--cart-vw",`${r}px`)};componentWillUnmount=()=>{this.props.updateFrontendState({cartOpen:!1}),b1=null,Dg.removeEventListener("change",this.onThemeChange),window.removeEventListener("cart-before-init",this.onBeforeCartInit),window.removeEventListener("cart-ready",this.onCartReady),document.body.style.overflow="",window.removeEventListener("resize",this.throttledResize),window.removeEventListener("keydown",this.onKeyDown,!0),document.documentElement.style.removeProperty("--cart-vh"),document.documentElement.style.removeProperty("--cart-vw"),document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no")};componentDidMount(){b1=this,Dg.addEventListener("change",this.onThemeChange),window.addEventListener("cart-before-init",this.onBeforeCartInit,!1),window.addEventListener("cart-ready",this.onCartReady,!1)}componentDidUpdate(e,r){this.props.requestedTheme!==e.requestedTheme&&this.onThemeChange(),this.state.theme!==r.theme&&this.proxyTheme(),this.proxyRoute()}onThemeChange=()=>{this.setState({theme:this.getTheme()})};getTheme=()=>this.props.requestedTheme==="auto"?Dg.matches?"dark":"light":this.props.requestedTheme;proxyRoute(){!this.iframeRef||!this.iframeRef.current||Lg.default.isEqual(this.props.match,this.currentMatch)||this.iframeRef.current.contentWindow.renderRoute&&(this.currentMatch=this.props.match,this.iframeRef.current.contentWindow.renderRoute?.(this.currentMatch))}proxyTheme(){try{this.iframeRef.current.contentWindow.dispatchEvent(new CustomEvent("colorScheme",{detail:this.state.theme}))}catch{}}render(){return this.state.shopModel?S("div",{className:"cart",ref:this.cartElementRef,children:[" ",this.state.shadowRoot&&it(S(he,{children:[S("link",{rel:"stylesheet",onLoad:this.onCSSLoad,type:"text/css",href:"https://build.cargo.site/frontend/4ede51/css/front-end/cart.css"}),S("div",{className:`background${this.state.animate?" active":""}${this.state.closing?" closing ":" "}${this.state.theme}`,onMouseDown:()=>{this.currentMatch&&!this.currentMatch.url.match("checkout")&&this.closeOverlay()},style:{height:this.state.loaded?"":"0"},children:S("div",{className:`modal${this.state.animate?" active":""}${this.state.closing?" closing":""}${this.state.isMobile?" mobile":""}`,style:{visibility:this.state.loaded?"":"hidden"},children:S("div",{className:"modal-inner",children:S("iframe",{ref:this.iframeRef,src:"about:blank"})})})})]}),this.state.shadowRoot)]}):null}};ble=Kn(Ue(t=>({requestedTheme:t.siteDesign.cart?.theme||"light"}),yle)(w1)),wle=ble});function xle(t){return Wt({fetchContent:Ke.fetchContent,updateFrontendState:Ke.updateFrontendState},t)}var dp,Ss,zg,Jz,e3,pp,S1,t3,_1=$(()=>{ke();ss();Pr();zk();gt();Fe();rr();Qa();kr();Md();h1();Vz();Gz();dp=ye(Pe(),1);Ji();fe();Ss={ROOT_PATH:"/",IMG_PATH:"/siteimages",SITE_PREVIEW_PROXY_PATH:"/site.preview/*",ADMIN_CLIENT_SIDE_RENDERING_PATH:"/client-side-rendering.html",PAGE_PATH:"/:page",PAGE_BY_ID_PATH:"/pid/:pid/:args?",DIGITAL_PRODUCT_DOWNLOAD:"/filedownload/:hash"},zg={CART:"/cart/:section?/:order_id?",CONTACT:"/contact-form"};de||(Jz=(Zz(),Fc(Xz)).default,e3=(x1(),Fc(Qz)).default);pp={runAnchorScroll:()=>{},getAnchorForHash:()=>{}},S1=class extends me{constructor(e){super(e),this.currentHashPurl="",this.checkForOverlayPath(this.props.location),this.hashPurlLoadsInProgress=[],this.contentLoadsInProgress=[],this.currentAnchorScrollAttempt=0,this.fixedPinScrollOffset=0,de||(pp.runAnchorScroll=this.runAnchorScroll,pp.getAnchorForHash=this.getAnchorForHash,window.addEventListener("click",r=>{let i=r.target;i.shadowRoot?i=r.composedPath().find(n=>n.tagName==="A")||i:i.closest("a")&&(i=i.closest("a")),i.nodeName==="A"&&i.hash&&i.hash===window.location.hash&&(r.preventDefault(),this.runAnchorScroll(this.getAnchorForHash(i.hash.substring(1).toLowerCase())))}))}shouldComponentUpdate(e){return this.props.location!==e.location&&this.checkForOverlayPath(e.location),!0}checkForOverlayPath=e=>{for(let r in zg){let i=zg[r],n=os(e.pathname,{path:i});if(n){if(dp.default.isEqual(n,this.lastMatch))return;this.lastMatch=n,this.lockedUnderlayLocation||(this.lockedUnderlayLocation={...this.props.location},this.lockedUnderlayLocation.pathname===n.url&&(this.lockedUnderlayLocation.pathname="/"));return}else delete this.lastMatch}this.lockedUnderlayLocation&&(this.lockedUnderlayLocation=null)};getAnchorForHash=e=>{let r=null;e=decodeURIComponent(e);try{r=document.querySelector(`a#${e}`)}catch{}if(!r){let i=document.getElementById(e);i&&i.nodeName==="A"&&(r=i)}return r};runAnchorScroll=(e,r={})=>{if(!e)return;if(window.PRESERVE_SCROLL_ON_NEXT_NAVIGATION){window.PRESERVE_SCROLL_ON_NEXT_NAVIGATION=!1;return}let i=document.documentElement.clientHeight,n=e.closest(".fixed.page.allow-scroll")||document.scrollingElement,o=n.scrollHeight,s=n.scrollTop,a=e.getBoundingClientRect(),l=o-i-(s+a.top);r.hasOwnProperty("snapScrollDistance")||(a.top>i*1.5?r.snapScrollDistance=-200:a.top<-i*1.5&&(r.snapScrollDistance=200)),l<200&&delete r.snapScrollDistance;let p={transitionTime:300,callback:null,verticalAlign:"top",windowAlign:"top",easing:"easeOutExponential",offset:{x:0,y:0},preventQuickViewClose:!1,lazyScroll:!1};r.hasOwnProperty("snapScrollDistance")&&(p.offset.y=r.snapScrollDistance,p.easing="linear",p.transitionTime=0,p.callback=()=>{requestAnimationFrame(()=>{e.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{...p,offset:{x:0,y:this.fixedPinScrollOffset},callback:null,easing:"easeOutExponential",transitionTime:350}}))})}),requestAnimationFrame(()=>{requestAnimationFrame(()=>{p.offset.y+=this.fixedPinScrollOffset,e&&!document.contains(e)&&(e=this.getAnchorForHash(e.id)),e?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:p}))})})};deferredContentRenderer(e,r){let i=decodeURIComponent((this.lockedUnderlayLocation||this.props.location).hash).substring(1).toLowerCase(),n=this.props.store.getState(),o=r==="purl"?We.getContentByPurl(n,e):We.getContentById(n,e);if(!this.currentId&&o?.overlay&&(e=Fb(n,We,o.id),r="pid"),de)return S(p1,{id:e,idType:r});if(this.lastRequestedId=e,this.lastRequestedIdType=r,this.lastRequestedHashPurl=i,!this.currentId)this.currentId=this.lastRequestedId,this.currentIdType=this.lastRequestedIdType;else if(this.currentId!==this.lastRequestedId||this.currentIdType!==this.lastRequestedIdType){let s=this.lastRequestedId+"/"+this.lastRequestedIdType;this.contentLoadsInProgress.includes(s)||(this.contentLoadsInProgress.push(s),window.__deferred_page_load_promise__=new Promise(a=>{((l,p)=>{this.props.fetchContent(l,{idType:p}).catch(()=>{}).finally(()=>{this.contentLoadsInProgress=this.contentLoadsInProgress.filter(f=>f!==s),this.lastRequestedId===l&&this.lastRequestedIdType===p&&(this.currentId=l,this.currentIdType=p,this.forceUpdate()),delete window.__deferred_page_load_promise__,a()})})(this.lastRequestedId,this.lastRequestedIdType)}))}return this.lastRequestedHashPurl&&this.currentHashPurl!==this.lastRequestedHashPurl?(s=>{if(!this.hashPurlLoadsInProgress.includes(s)){if(this.hashPurlLoadsInProgress.push(s),o?.purl!==s)try{if(this.getAnchorForHash(s)){this.currentHashPurl=s,this.forceUpdate(()=>{this.hashPurlLoadsInProgress=this.hashPurlLoadsInProgress.filter(l=>l!==s),this.runAnchorScroll(this.getAnchorForHash(s))});return}}catch(a){console.error(a),this.hashPurlLoadsInProgress=this.hashPurlLoadsInProgress.filter(l=>l!==s)}this.props.fetchContent(s,{idType:"purl"}).finally(()=>{if(this.hashPurlLoadsInProgress=this.hashPurlLoadsInProgress.filter(v=>v!==s),this.lastRequestedHashPurl!==s)return;let a=this.props.store.getState(),l=We.getContentByPurl(a,s);if(!l||l.page_type!=="page"||l.pin&&l.pin_options?.fixed===!0){console.log("No valid target found. Just scroll to an anchor if it exists"),this.currentHashPurl=s;try{this.getAnchorForHash(s)?.scrollIntoView()}catch(v){console.error(v)}return}if(!o||o.stack!==!0||We.getParentSetList(a,l.id).includes(o.id)!==!0){if(this.props.adminMode){this.runAnchorScroll(this.getAnchorForHash(s)),this.currentHashPurl=s,this.forceUpdate(()=>{this.runAnchorScroll(this.getAnchorForHash(s))});return}let g=We.getParentSetList(a,l.id).map(x=>a.sets.byId[x]).find(x=>x.stack);g?(this.props.history.replace(`/${g.id==="root"?"":g.purl}#${s}`),document.scrollingElement.scrollTo({top:0,left:0,behavior:"instant"})):(this.currentHashPurl="",this.props.history.replace(`/${s}`),document.scrollingElement.scrollTo({top:0,left:0,behavior:"instant"}));return}let p=[],f=a.sets.byId[We.getItemParentId(a,l.id)],c=5;cs(a.structure,a.pages,a.sets,f,a.structure.indexById[l.id]-1,{reverse:!0,traverseUp:!!this.props.isFeed,callback:(v,g,x)=>{if(x||p.push({parent:v,index:g}),c--===0)return"break"}}),c=5,cs(a.structure,a.pages,a.sets,f,a.structure.indexById[l.id]+1,{reverse:!1,traverseUp:!!this.props.isFeed,callback:(v,g,x)=>{if(x||p.push({parent:v,index:g}),c--===0)return"break"}});let m=dp.default.map(dp.default.groupBy(p,"parent"),(v,g)=>this.props.fetchContent(g,{indexes:dp.default.map(v,"index"),idType:"pid"}));Promise.all(m).finally(()=>{if(this.lastRequestedHashPurl!==s)return;this.currentHashPurl=s;let v=this.props.store.getState(),g=document.querySelector("body > .content > .pages .page"),x=!1;g&&v.structure.bySort[l.id]<v.structure.bySort[g.id]&&(x=!0),this.forceUpdate(()=>{if(this.lastRequestedHashPurl!==s)return;let E=this.getAnchorForHash(s);if(E){let _=x?200:-200,D=E.closest(".fixed.page.allow-scroll")||document.scrollingElement,M=E.getBoundingClientRect();D.scrollTop===0&&M.top===0&&(_=0),this.runAnchorScroll(E,{snapScrollDistance:_})}})})})}})(this.lastRequestedHashPurl):this.lastRequestedHashPurl||(this.currentHashPurl=""),S(qk,{children:[S(ps.Consumer,{children:s=>{this.fixedPinScrollOffset=(s.totalTopFixedPinsHeight||0)*-1}}),S(p1,{id:this.currentId,idType:this.currentIdType,hashPurl:this.currentHashPurl})]})}setHomepageClass=()=>{this.props.location?.pathname==="/"||this.props.location?.pathname.includes(this.props.homepageId)?document.querySelector("body").classList.add("home"):document.querySelector("body").classList.remove("home")};componentDidUpdate=()=>{this.setHomepageClass()};componentDidMount=()=>{this.setHomepageClass()};render(){if(this.props.adminMode&&this.props.adminInitialized===!1||!this.props.hasSite)return null;let e=null,r=null,i=this.props.location;return this.lockedUnderlayLocation&&(i=this.lockedUnderlayLocation,r=this.props.location,e=S("div",{class:"overlay",children:S(of,{location:r,children:[S(kn,{exact:!0,path:zg.CART,render:({match:n})=>S(e3,{closeOverlay:(o={})=>{this.props.history[o.replaceHistory?"replace":"push"](this.lockedUnderlayLocation.pathname+this.lockedUnderlayLocation.hash,{preventScrollReset:!0})}})}),S(kn,{exact:!0,path:zg.CONTACT,render:({match:n})=>S(Jz,{closeOverlay:()=>{this.props.history.push(this.lockedUnderlayLocation.pathname+this.lockedUnderlayLocation.hash,{preventScrollReset:!0})}})})]})})),S(he,{children:[e,S(of,{location:i,children:[S(kn,{exact:!0,path:Ss.ROOT_PATH,render:({match:n})=>this.props.isFeed?this.deferredContentRenderer("root","pid"):this.deferredContentRenderer(this.props.homepageId||"root","pid")}),S(kn,{exact:!0,path:Ss.DIGITAL_PRODUCT_DOWNLOAD,render:({match:n})=>S(jz,{hash:n.params.hash})}),S(kn,{exact:!0,path:Ss.IMG_PATH,render:({match:n})=>S(Wz,{})}),S(kn,{exact:!0,path:Ss.SITE_PREVIEW_PROXY_PATH,render:({match:n})=>this.props.isFeed?this.deferredContentRenderer("root","pid"):this.deferredContentRenderer(this.props.homepageId||"root","pid")}),S(kn,{exact:!0,path:Ss.ADMIN_CLIENT_SIDE_RENDERING_PATH,render:({match:n})=>null}),S(kn,{exact:!0,path:Ss.PAGE_PATH,render:({match:n})=>this.deferredContentRenderer(n.params.page.toLowerCase(),"purl")}),S(kn,{exact:!0,path:Ss.PAGE_BY_ID_PATH,render:({match:n})=>this.deferredContentRenderer(n.params.pid,"pid")}),S(kn,{path:"*",render:({location:n})=>this.deferredContentRenderer(n.pathname.substring(1),"purl")})]})]})}};t3=Dn(Kn(Ue((t,e)=>({hasSite:!!t.site,homepageId:We.getHomepageId(t),isFeed:t.sets.byId.root.stack,adminInitialized:t.adminState?.initialized||!1,adminMode:t.frontendState.adminMode}),xle)(S1)))});var r3=oe((exports,module)=>{"use strict";var numeric=typeof exports>"u"?function(){}:exports;typeof global<"u"&&(global.numeric=numeric);numeric.version="1.2.6";numeric.bench=function(e,r){var i,n,o,s;for(typeof r>"u"&&(r=15),o=.5,i=new Date;;){for(o*=2,s=o;s>3;s-=4)e(),e(),e(),e();for(;s>0;)e(),s--;if(n=new Date,n-i>r)break}for(s=o;s>3;s-=4)e(),e(),e(),e();for(;s>0;)e(),s--;return n=new Date,1e3*(3*o-1)/(n-i)};numeric._myIndexOf=function(e){var r=this.length,i;for(i=0;i<r;++i)if(this[i]===e)return i;return-1};numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf;numeric.Function=Function;numeric.precision=4;numeric.largeArray=50;numeric.prettyPrint=function(e){function r(o){if(o===0)return"0";if(isNaN(o))return"NaN";if(o<0)return"-"+r(-o);if(isFinite(o)){var s=Math.floor(Math.log(o)/Math.log(10)),a=o/Math.pow(10,s),l=a.toPrecision(numeric.precision);return parseFloat(l)===10&&(s++,a=1,l=a.toPrecision(numeric.precision)),parseFloat(l).toString()+"e"+s.toString()}return"Infinity"}var i=[];function n(o){var s;if(typeof o>"u")return i.push(Array(numeric.precision+8).join(" ")),!1;if(typeof o=="string")return i.push('"'+o+'"'),!1;if(typeof o=="boolean")return i.push(o.toString()),!1;if(typeof o=="number"){var a=r(o),l=o.toPrecision(numeric.precision),p=parseFloat(o.toString()).toString(),f=[a,l,p,parseFloat(l).toString(),parseFloat(p).toString()];for(s=1;s<f.length;s++)f[s].length<a.length&&(a=f[s]);return i.push(Array(numeric.precision+8-a.length).join(" ")+a),!1}if(o===null)return i.push("null"),!1;if(typeof o=="function"){i.push(o.toString());var c=!1;for(s in o)o.hasOwnProperty(s)&&(c?i.push(`,
`):i.push(`
{`),c=!0,i.push(s),i.push(`: 
`),n(o[s]));return c&&i.push(`}
`),!0}if(o instanceof Array){if(o.length>numeric.largeArray)return i.push("...Large Array..."),!0;var c=!1;for(i.push("["),s=0;s<o.length;s++)s>0&&(i.push(","),c&&i.push(`
 `)),c=n(o[s]);return i.push("]"),!0}i.push("{");var c=!1;for(s in o)o.hasOwnProperty(s)&&(c&&i.push(`,
`),c=!0,i.push(s),i.push(`: 
`),n(o[s]));return i.push("}"),!0}return n(e),i.join("")};numeric.parseDate=function(e){function r(i){if(typeof i=="string")return Date.parse(i.replace(/-/g,"/"));if(!(i instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var n=[],o;for(o=0;o<i.length;o++)n[o]=r(i[o]);return n}return r(e)};numeric.parseFloat=function(e){function r(i){if(typeof i=="string")return parseFloat(i);if(!(i instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var n=[],o;for(o=0;o<i.length;o++)n[o]=r(i[o]);return n}return r(e)};numeric.parseCSV=function(e){var r=e.split(`
`),i,n,o=[],s=/(([^'",]*)|('[^']*')|("[^"]*")),/g,a=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,l=function(m){return m.substr(0,m.length-1)},p=0;for(n=0;n<r.length;n++){var f=(r[n]+",").match(s),c;if(f.length>0){for(o[p]=[],i=0;i<f.length;i++)c=l(f[i]),a.test(c)?o[p][i]=parseFloat(c):o[p][i]=c;p++}}return o};numeric.toCSV=function(e){var r=numeric.dim(e),i,n,o,s,a,l;for(o=r[0],s=r[1],l=[],i=0;i<o;i++){for(a=[],n=0;n<o;n++)a[n]=e[i][n].toString();l[i]=a.join(", ")}return l.join(`
`)+`
`};numeric.getURL=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(),r};numeric.imageURL=function(e){function r(D){var M=D.length,P,L,I,q,N,F,W,U,Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",J="";for(P=0;P<M;P+=3)L=D[P],I=D[P+1],q=D[P+2],N=L>>2,F=((L&3)<<4)+(I>>4),W=((I&15)<<2)+(q>>6),U=q&63,P+1>=M?W=U=64:P+2>=M&&(U=64),J+=Z.charAt(N)+Z.charAt(F)+Z.charAt(W)+Z.charAt(U);return J}function i(D,M,P){typeof M>"u"&&(M=0),typeof P>"u"&&(P=D.length);var L=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],I=-1,q=0,N=D.length,F;for(F=M;F<P;F++)q=(I^D[F])&255,I=I>>>8^L[q];return I^-1}var n=e[0].length,o=e[0][0].length,s,a,l,p,f,c,m,v,g,x,E,_=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,o>>24&255,o>>16&255,o>>8&255,o&255,n>>24&255,n>>16&255,n>>8&255,n&255,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(E=i(_,12,29),_[29]=E>>24&255,_[30]=E>>16&255,_[31]=E>>8&255,_[32]=E&255,s=1,a=0,v=0;v<n;v++){for(v<n-1?_.push(0):_.push(1),c=3*o+1+(v===0)&255,m=3*o+1+(v===0)>>8&255,_.push(c),_.push(m),_.push(~c&255),_.push(~m&255),v===0&&_.push(0),g=0;g<o;g++)for(p=0;p<3;p++)c=e[p][v][g],c>255?c=255:c<0?c=0:c=Math.round(c),s=(s+c)%65521,a=(a+s)%65521,_.push(c);_.push(0)}return x=(a<<16)+s,_.push(x>>24&255),_.push(x>>16&255),_.push(x>>8&255),_.push(x&255),f=_.length-41,_[33]=f>>24&255,_[34]=f>>16&255,_[35]=f>>8&255,_[36]=f&255,E=i(_,37),_.push(E>>24&255),_.push(E>>16&255),_.push(E>>8&255),_.push(E&255),_.push(0),_.push(0),_.push(0),_.push(0),_.push(73),_.push(69),_.push(78),_.push(68),_.push(174),_.push(66),_.push(96),_.push(130),"data:image/png;base64,"+r(_)};numeric._dim=function(e){for(var r=[];typeof e=="object";)r.push(e.length),e=e[0];return r};numeric.dim=function(e){var r,i;return typeof e=="object"?(r=e[0],typeof r=="object"?(i=r[0],typeof i=="object"?numeric._dim(e):[e.length,r.length]):[e.length]):[]};numeric.mapreduce=function(e,r){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+r+`;
if(typeof x === "number") { var xi = x; `+e+`; return accum; }
if(typeof _s === "undefined") _s = numeric.dim(x);
if(typeof _k === "undefined") _k = 0;
var _n = _s[_k];
var i,xi;
if(_k < _s.length-1) {
    for(i=_n-1;i>=0;i--) {
        accum = arguments.callee(x[i],accum,_s,_k+1);
    }    return accum;
}
for(i=_n-1;i>=1;i-=2) { 
    xi = x[i];
    `+e+`;
    xi = x[i-1];
    `+e+`;
}
if(i === 0) {
    xi = x[i];
    `+e+`
}
return accum;`)};numeric.mapreduce2=function(e,r){return Function("x",`var n = x.length;
var i,xi;
`+r+`;
for(i=n-1;i!==-1;--i) { 
    xi = x[i];
    `+e+`;
}
return accum;`)};numeric.same=function t(e,r){var i,n;if(!(e instanceof Array)||!(r instanceof Array)||(n=e.length,n!==r.length))return!1;for(i=0;i<n;i++)if(e[i]!==r[i])if(typeof e[i]=="object"){if(!t(e[i],r[i]))return!1}else return!1;return!0};numeric.rep=function(e,r,i){typeof i>"u"&&(i=0);var n=e[i],o=Array(n),s;if(i===e.length-1){for(s=n-2;s>=0;s-=2)o[s+1]=r,o[s]=r;return s===-1&&(o[0]=r),o}for(s=n-1;s>=0;s--)o[s]=numeric.rep(e,r,i+1);return o};numeric.dotMMsmall=function(e,r){var i,n,o,s,a,l,p,f,c,m,v,g,x,E;for(s=e.length,a=r.length,l=r[0].length,p=Array(s),i=s-1;i>=0;i--){for(f=Array(l),c=e[i],o=l-1;o>=0;o--){for(m=c[a-1]*r[a-1][o],n=a-2;n>=1;n-=2)v=n-1,m+=c[n]*r[n][o]+c[v]*r[v][o];n===0&&(m+=c[0]*r[0][o]),f[o]=m}p[i]=f}return p};numeric._getCol=function(e,r,i){var n=e.length,o;for(o=n-1;o>0;--o)i[o]=e[o][r],--o,i[o]=e[o][r];o===0&&(i[0]=e[0][r])};numeric.dotMMbig=function(e,r){var i=numeric._getCol,n=r.length,o=Array(n),s=e.length,a=r[0].length,l=new Array(s),p,f=numeric.dotVV,c,m,v,g;for(--n,--s,c=s;c!==-1;--c)l[c]=Array(a);for(--a,c=a;c!==-1;--c)for(i(r,c,o),m=s;m!==-1;--m)g=0,p=e[m],l[m][c]=f(p,o);return l};numeric.dotMV=function(e,r){var i=e.length,n=r.length,o,s=Array(i),a=numeric.dotVV;for(o=i-1;o>=0;o--)s[o]=a(e[o],r);return s};numeric.dotVM=function(e,r){var i,n,o,s,a,l,p,f,c,m,v,g,x,E,_,D,M,P,L;for(s=e.length,a=r[0].length,p=Array(a),o=a-1;o>=0;o--){for(m=e[s-1]*r[s-1][o],n=s-2;n>=1;n-=2)v=n-1,m+=e[n]*r[n][o]+e[v]*r[v][o];n===0&&(m+=e[0]*r[0][o]),p[o]=m}return p};numeric.dotVV=function(e,r){var i,n=e.length,o,s=e[n-1]*r[n-1];for(i=n-2;i>=1;i-=2)o=i-1,s+=e[i]*r[i]+e[o]*r[o];return i===0&&(s+=e[0]*r[0]),s};numeric.dot=function(e,r){var i=numeric.dim;switch(i(e).length*1e3+i(r).length){case 2002:return r.length<10?numeric.dotMMsmall(e,r):numeric.dotMMbig(e,r);case 2001:return numeric.dotMV(e,r);case 1002:return numeric.dotVM(e,r);case 1001:return numeric.dotVV(e,r);case 1e3:return numeric.mulVS(e,r);case 1:return numeric.mulSV(e,r);case 0:return e*r;default:throw new Error("numeric.dot only works on vectors and matrices")}};numeric.diag=function(e){var r,i,n,o=e.length,s=Array(o),a;for(r=o-1;r>=0;r--){for(a=Array(o),i=r+2,n=o-1;n>=i;n-=2)a[n]=0,a[n-1]=0;for(n>r&&(a[n]=0),a[r]=e[r],n=r-1;n>=1;n-=2)a[n]=0,a[n-1]=0;n===0&&(a[0]=0),s[r]=a}return s};numeric.getDiag=function(t){var e=Math.min(t.length,t[0].length),r,i=Array(e);for(r=e-1;r>=1;--r)i[r]=t[r][r],--r,i[r]=t[r][r];return r===0&&(i[0]=t[0][0]),i};numeric.identity=function(e){return numeric.diag(numeric.rep([e],1))};numeric.pointwise=function(e,r,i){typeof i>"u"&&(i="");var n=[],o,s=/\[i\]$/,a,l="",p=!1;for(o=0;o<e.length;o++)s.test(e[o])?(a=e[o].substring(0,e[o].length-3),l=a):a=e[o],a==="ret"&&(p=!0),n.push(a);return n[e.length]="_s",n[e.length+1]="_k",n[e.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+l+`);
if(typeof _k === "undefined") _k = 0;
var _n = _s[_k];
var i`+(p?"":", ret = Array(_n)")+`;
if(_k < _s.length-1) {
    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee(`+e.join(",")+`,_s,_k+1);
    return ret;
}
`+i+`
for(i=_n-1;i!==-1;--i) {
    `+r+`
}
return ret;`,Function.apply(null,n)};numeric.pointwise2=function(e,r,i){typeof i>"u"&&(i="");var n=[],o,s=/\[i\]$/,a,l="",p=!1;for(o=0;o<e.length;o++)s.test(e[o])?(a=e[o].substring(0,e[o].length-3),l=a):a=e[o],a==="ret"&&(p=!0),n.push(a);return n[e.length]="var _n = "+l+`.length;
var i`+(p?"":", ret = Array(_n)")+`;
`+i+`
for(i=_n-1;i!==-1;--i) {
`+r+`
}
return ret;`,Function.apply(null,n)};numeric._biforeach=function t(e,r,i,n,o){if(n===i.length-1){o(e,r);return}var s,a=i[n];for(s=a-1;s>=0;s--)t(typeof e=="object"?e[s]:e,typeof r=="object"?r[s]:r,i,n+1,o)};numeric._biforeach2=function t(e,r,i,n,o){if(n===i.length-1)return o(e,r);var s,a=i[n],l=Array(a);for(s=a-1;s>=0;--s)l[s]=t(typeof e=="object"?e[s]:e,typeof r=="object"?r[s]:r,i,n+1,o);return l};numeric._foreach=function t(e,r,i,n){if(i===r.length-1){n(e);return}var o,s=r[i];for(o=s-1;o>=0;o--)t(e[o],r,i+1,n)};numeric._foreach2=function t(e,r,i,n){if(i===r.length-1)return n(e);var o,s=r[i],a=Array(s);for(o=s-1;o>=0;o--)a[o]=t(e[o],r,i+1,n);return a};numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="};numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"];numeric.mathfuns2=["atan2","pow","max","min"];numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""};numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]};(function(){var t,e;for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],numeric.ops2[e]=e;for(t in numeric.ops2)if(numeric.ops2.hasOwnProperty(t)){e=numeric.ops2[t];var r,i,n="";numeric.myIndexOf.call(numeric.mathfuns2,t)!==-1?(n="var "+e+" = Math."+e+`;
`,r=function(o,s,a){return o+" = "+e+"("+s+","+a+")"},i=function(o,s){return o+" = "+e+"("+o+","+s+")"}):(r=function(o,s,a){return o+" = "+s+" "+e+" "+a},numeric.opseq.hasOwnProperty(t+"eq")?i=function(o,s){return o+" "+e+"= "+s}:i=function(o,s){return o+" = "+o+" "+e+" "+s}),numeric[t+"VV"]=numeric.pointwise2(["x[i]","y[i]"],r("ret[i]","x[i]","y[i]"),n),numeric[t+"SV"]=numeric.pointwise2(["x","y[i]"],r("ret[i]","x","y[i]"),n),numeric[t+"VS"]=numeric.pointwise2(["x[i]","y"],r("ret[i]","x[i]","y"),n),numeric[t]=Function(`var n = arguments.length, i, x = arguments[0], y;
var VV = numeric.`+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+`SV;
var dim = numeric.dim;
for(i=1;i!==n;++i) { 
  y = arguments[i];
  if(typeof x === "object") {
      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);
      else x = numeric._biforeach2(x,y,dim(x),0,VS);
  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);
  else `+i("x","y")+`
}
return x;
`),numeric[e]=numeric[t],numeric[t+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],i("ret[i]","x[i]"),n),numeric[t+"eqS"]=numeric.pointwise2(["ret[i]","x"],i("ret[i]","x"),n),numeric[t+"eq"]=Function(`var n = arguments.length, i, x = arguments[0], y;
var V = numeric.`+t+"eqV, S = numeric."+t+`eqS
var s = numeric.dim(x);
for(i=1;i!==n;++i) { 
  y = arguments[i];
  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);
  else numeric._biforeach(x,y,s,0,S);
}
return x;
`)}for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],delete numeric.ops2[e];for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],numeric.ops1[e]=e;for(t in numeric.ops1)numeric.ops1.hasOwnProperty(t)&&(n="",e=numeric.ops1[t],numeric.myIndexOf.call(numeric.mathfuns,t)!==-1&&Math.hasOwnProperty(e)&&(n="var "+e+" = Math."+e+`;
`),numeric[t+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",n),numeric[t+"eq"]=Function("x",'if(typeof x !== "object") return '+e+`x
var i;
var V = numeric.`+t+`eqV;
var s = numeric.dim(x);
numeric._foreach(x,s,0,V);
return x;
`),numeric[t+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",n),numeric[t]=Function("x",'if(typeof x !== "object") return '+e+`(x)
var i;
var V = numeric.`+t+`V;
var s = numeric.dim(x);
return numeric._foreach2(x,s,0,V);
`));for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],delete numeric.ops1[e];for(t in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(t)&&(e=numeric.mapreducers[t],numeric[t+"V"]=numeric.mapreduce2(e[0],e[1]),numeric[t]=Function("x","s","k",e[1]+`if(typeof x !== "object") {    xi = x;
`+e[0]+`;
    return accum;
}if(typeof s === "undefined") s = numeric.dim(x);
if(typeof k === "undefined") k = 0;
if(k === s.length-1) return numeric.`+t+`V(x);
var xi;
var n = x.length, i;
for(i=n-1;i!==-1;--i) {
   xi = arguments.callee(x[i]);
`+e[0]+`;
}
return accum;
`))})();numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;");numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;");numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;");numeric.trunc=function(e,r){return typeof e=="object"?typeof r=="object"?numeric.truncVV(e,r):numeric.truncVS(e,r):typeof r=="object"?numeric.truncSV(e,r):Math.round(e/r)*r};numeric.inv=function(x){var r=numeric.dim(x),i=Math.abs,n=r[0],o=r[1],s=numeric.clone(x),a,l,p=numeric.identity(n),f,c,m,v,g,x;for(v=0;v<o;++v){var E=-1,_=-1;for(m=v;m!==n;++m)g=i(s[m][v]),g>_&&(E=m,_=g);for(l=s[E],s[E]=s[v],s[v]=l,c=p[E],p[E]=p[v],p[v]=c,x=l[v],g=v;g!==o;++g)l[g]/=x;for(g=o-1;g!==-1;--g)c[g]/=x;for(m=n-1;m!==-1;--m)if(m!==v){for(a=s[m],f=p[m],x=a[v],g=v+1;g!==o;++g)a[g]-=l[g]*x;for(g=o-1;g>0;--g)f[g]-=c[g]*x,--g,f[g]-=c[g]*x;g===0&&(f[0]-=c[0]*x)}}return p};numeric.det=function(e){var r=numeric.dim(e);if(r.length!==2||r[0]!==r[1])throw new Error("numeric: det() only works on square matrices");var i=r[0],n=1,o,s,a,l=numeric.clone(e),p,f,c,m,v,g,x;for(s=0;s<i-1;s++){for(a=s,o=s+1;o<i;o++)Math.abs(l[o][s])>Math.abs(l[a][s])&&(a=o);for(a!==s&&(m=l[a],l[a]=l[s],l[s]=m,n*=-1),p=l[s],o=s+1;o<i;o++){for(f=l[o],c=f[s]/p[s],a=s+1;a<i-1;a+=2)v=a+1,f[a]-=p[a]*c,f[v]-=p[v]*c;a!==i&&(f[a]-=p[a]*c)}if(p[s]===0)return 0;n*=p[s]}return n*l[s][s]};numeric.transpose=function(e){var r,i,n=e.length,o=e[0].length,s=Array(o),a,l,p;for(i=0;i<o;i++)s[i]=Array(n);for(r=n-1;r>=1;r-=2){for(l=e[r],a=e[r-1],i=o-1;i>=1;--i)p=s[i],p[r]=l[i],p[r-1]=a[i],--i,p=s[i],p[r]=l[i],p[r-1]=a[i];i===0&&(p=s[0],p[r]=l[0],p[r-1]=a[0])}if(r===0){for(a=e[0],i=o-1;i>=1;--i)s[i][0]=a[i],--i,s[i][0]=a[i];i===0&&(s[0][0]=a[0])}return s};numeric.negtranspose=function(e){var r,i,n=e.length,o=e[0].length,s=Array(o),a,l,p;for(i=0;i<o;i++)s[i]=Array(n);for(r=n-1;r>=1;r-=2){for(l=e[r],a=e[r-1],i=o-1;i>=1;--i)p=s[i],p[r]=-l[i],p[r-1]=-a[i],--i,p=s[i],p[r]=-l[i],p[r-1]=-a[i];i===0&&(p=s[0],p[r]=-l[0],p[r-1]=-a[0])}if(r===0){for(a=e[0],i=o-1;i>=1;--i)s[i][0]=-a[i],--i,s[i][0]=-a[i];i===0&&(s[0][0]=-a[0])}return s};numeric._random=function t(e,r){var i,n=e[r],o=Array(n),s;if(r===e.length-1){for(s=Math.random,i=n-1;i>=1;i-=2)o[i]=s(),o[i-1]=s();return i===0&&(o[0]=s()),o}for(i=n-1;i>=0;i--)o[i]=t(e,r+1);return o};numeric.random=function(e){return numeric._random(e,0)};numeric.norm2=function(e){return Math.sqrt(numeric.norm2Squared(e))};numeric.linspace=function(e,r,i){if(typeof i>"u"&&(i=Math.max(Math.round(r-e)+1,1)),i<2)return i===1?[e]:[];var n,o=Array(i);for(i--,n=i;n>=0;n--)o[n]=(n*r+(i-n)*e)/i;return o};numeric.getBlock=function(e,r,i){var n=numeric.dim(e);function o(s,a){var l,p=r[a],f=i[a]-p,c=Array(f);if(a===n.length-1){for(l=f;l>=0;l--)c[l]=s[l+p];return c}for(l=f;l>=0;l--)c[l]=o(s[l+p],a+1);return c}return o(e,0)};numeric.setBlock=function(e,r,i,n){var o=numeric.dim(e);function s(a,l,p){var f,c=r[p],m=i[p]-c;if(p===o.length-1)for(f=m;f>=0;f--)a[f+c]=l[f];for(f=m;f>=0;f--)s(a[f+c],l[f],p+1)}return s(e,n,0),e};numeric.getRange=function(e,r,i){var n=r.length,o=i.length,s,a,l=Array(n),p,f;for(s=n-1;s!==-1;--s)for(l[s]=Array(o),p=l[s],f=e[r[s]],a=o-1;a!==-1;--a)p[a]=f[i[a]];return l};numeric.blockMatrix=function(e){var r=numeric.dim(e);if(r.length<4)return numeric.blockMatrix([e]);var i=r[0],n=r[1],o,s,a,l,p;for(o=0,s=0,a=0;a<i;++a)o+=e[a][0].length;for(l=0;l<n;++l)s+=e[0][l][0].length;var f=Array(o);for(a=0;a<o;++a)f[a]=Array(s);var c=0,m,v,g,x,E;for(a=0;a<i;++a){for(m=s,l=n-1;l!==-1;--l)for(p=e[a][l],m-=p[0].length,g=p.length-1;g!==-1;--g)for(E=p[g],v=f[c+g],x=E.length-1;x!==-1;--x)v[m+x]=E[x];c+=e[a][0].length}return f};numeric.tensor=function(e,r){if(typeof e=="number"||typeof r=="number")return numeric.mul(e,r);var i=numeric.dim(e),n=numeric.dim(r);if(i.length!==1||n.length!==1)throw new Error("numeric: tensor product is only defined for vectors");var o=i[0],s=n[0],a=Array(o),l,p,f,c;for(p=o-1;p>=0;p--){for(l=Array(s),c=e[p],f=s-1;f>=3;--f)l[f]=c*r[f],--f,l[f]=c*r[f],--f,l[f]=c*r[f],--f,l[f]=c*r[f];for(;f>=0;)l[f]=c*r[f],--f;a[p]=l}return a};numeric.T=function(e,r){this.x=e,this.y=r};numeric.t=function(e,r){return new numeric.T(e,r)};numeric.Tbinop=function(e,r,i,n,o){var s=numeric.indexOf;if(typeof o!="string"){var a;o="";for(a in numeric)numeric.hasOwnProperty(a)&&(e.indexOf(a)>=0||r.indexOf(a)>=0||i.indexOf(a)>=0||n.indexOf(a)>=0)&&a.length>1&&(o+="var "+a+" = numeric."+a+`;
`)}return Function(["y"],`var x = this;
if(!(y instanceof numeric.T)) { y = new numeric.T(y); }
`+o+`
if(x.y) {  if(y.y) {    return new numeric.T(`+n+`);
  }
  return new numeric.T(`+i+`);
}
if(y.y) {
  return new numeric.T(`+r+`);
}
return new numeric.T(`+e+`);
`)};numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)");numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)");numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))");numeric.T.prototype.reciprocal=function(){var e=numeric.mul,r=numeric.div;if(this.y){var i=numeric.add(e(this.x,this.x),e(this.y,this.y));return new numeric.T(r(this.x,i),r(numeric.neg(this.y),i))}return new T(r(1,this.x))};numeric.T.prototype.div=function(e){if(e instanceof numeric.T||(e=new numeric.T(e)),e.y)return this.mul(e.reciprocal());var r=numeric.div;return this.y?new numeric.T(r(this.x,e.x),r(this.y,e.x)):new numeric.T(r(this.x,e.x))};numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))");numeric.T.prototype.transpose=function(){var e=numeric.transpose,r=this.x,i=this.y;return i?new numeric.T(e(r),e(i)):new numeric.T(e(r))};numeric.T.prototype.transjugate=function(){var e=numeric.transpose,r=this.x,i=this.y;return i?new numeric.T(e(r),numeric.negtranspose(i)):new numeric.T(e(r))};numeric.Tunop=function(e,r,i){return typeof i!="string"&&(i=""),Function(`var x = this;
`+i+`
if(x.y) {  `+r+`;
}
`+e+`;
`)};numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;");numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));");numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;");numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));");numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);");numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;");numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));",`var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();
return new numeric.T(numeric.log(r.x),theta.x);`);numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);",`var f = numeric.norm2Squared;
return Math.sqrt(f(x.x)+f(x.y));`);numeric.T.prototype.inv=function(){var e=this;if(typeof e.y>"u")return new numeric.T(numeric.inv(e.x));var r=e.x.length,x,E,_,i=numeric.identity(r),n=numeric.rep([r,r],0),o=numeric.clone(e.x),s=numeric.clone(e.y),a,l,p,f,c,m,v,g,x,E,_,D,M,P,L,I,q,N;for(x=0;x<r;x++){for(P=o[x][x],L=s[x][x],D=P*P+L*L,_=x,E=x+1;E<r;E++)P=o[E][x],L=s[E][x],M=P*P+L*L,M>D&&(_=E,D=M);for(_!==x&&(N=o[x],o[x]=o[_],o[_]=N,N=s[x],s[x]=s[_],s[_]=N,N=i[x],i[x]=i[_],i[_]=N,N=n[x],n[x]=n[_],n[_]=N),a=o[x],l=s[x],c=i[x],m=n[x],P=a[x],L=l[x],E=x+1;E<r;E++)I=a[E],q=l[E],a[E]=(I*P+q*L)/D,l[E]=(q*P-I*L)/D;for(E=0;E<r;E++)I=c[E],q=m[E],c[E]=(I*P+q*L)/D,m[E]=(q*P-I*L)/D;for(E=x+1;E<r;E++){for(p=o[E],f=s[E],v=i[E],g=n[E],P=p[x],L=f[x],_=x+1;_<r;_++)I=a[_],q=l[_],p[_]-=I*P-q*L,f[_]-=q*P+I*L;for(_=0;_<r;_++)I=c[_],q=m[_],v[_]-=I*P-q*L,g[_]-=q*P+I*L}}for(x=r-1;x>0;x--)for(c=i[x],m=n[x],E=x-1;E>=0;E--)for(v=i[E],g=n[E],P=o[E][x],L=s[E][x],_=r-1;_>=0;_--)I=c[_],q=m[_],v[_]-=P*I-L*q,g[_]-=P*q+L*I;return new numeric.T(i,n)};numeric.T.prototype.get=function(e){var r=this.x,i=this.y,n=0,o,s=e.length;if(i){for(;n<s;)o=e[n],r=r[o],i=i[o],n++;return new numeric.T(r,i)}for(;n<s;)o=e[n],r=r[o],n++;return new numeric.T(r)};numeric.T.prototype.set=function(e,r){var i=this.x,n=this.y,o=0,s,a=e.length,l=r.x,p=r.y;if(a===0)return p?this.y=p:n&&(this.y=void 0),this.x=i,this;if(p){for(n||(n=numeric.rep(numeric.dim(i),0),this.y=n);o<a-1;)s=e[o],i=i[s],n=n[s],o++;return s=e[o],i[s]=l,n[s]=p,this}if(n){for(;o<a-1;)s=e[o],i=i[s],n=n[s],o++;return s=e[o],i[s]=l,l instanceof Array?n[s]=numeric.rep(numeric.dim(l),0):n[s]=0,this}for(;o<a-1;)s=e[o],i=i[s],o++;return s=e[o],i[s]=l,this};numeric.T.prototype.getRows=function(e,r){var i=r-e+1,n,o=Array(i),s,a=this.x,l=this.y;for(n=e;n<=r;n++)o[n-e]=a[n];if(l){for(s=Array(i),n=e;n<=r;n++)s[n-e]=l[n];return new numeric.T(o,s)}return new numeric.T(o)};numeric.T.prototype.setRows=function(e,r,i){var n,o=this.x,s=this.y,a=i.x,l=i.y;for(n=e;n<=r;n++)o[n]=a[n-e];if(l)for(s||(s=numeric.rep(numeric.dim(o),0),this.y=s),n=e;n<=r;n++)s[n]=l[n-e];else if(s)for(n=e;n<=r;n++)s[n]=numeric.rep([a[n-e].length],0);return this};numeric.T.prototype.getRow=function(e){var r=this.x,i=this.y;return i?new numeric.T(r[e],i[e]):new numeric.T(r[e])};numeric.T.prototype.setRow=function(e,r){var i=this.x,n=this.y,o=r.x,s=r.y;return i[e]=o,s?(n||(n=numeric.rep(numeric.dim(i),0),this.y=n),n[e]=s):n&&(n=numeric.rep([o.length],0)),this};numeric.T.prototype.getBlock=function(e,r){var i=this.x,n=this.y,o=numeric.getBlock;return n?new numeric.T(o(i,e,r),o(n,e,r)):new numeric.T(o(i,e,r))};numeric.T.prototype.setBlock=function(e,r,i){i instanceof numeric.T||(i=new numeric.T(i));var n=this.x,o=this.y,s=numeric.setBlock,a=i.x,l=i.y;if(l)return o||(this.y=numeric.rep(numeric.dim(this),0),o=this.y),s(n,e,r,a),s(o,e,r,l),this;s(n,e,r,a),o&&s(o,e,r,numeric.rep(numeric.dim(a),0))};numeric.T.rep=function(e,r){var i=numeric.T;r instanceof i||(r=new i(r));var n=r.x,o=r.y,s=numeric.rep;return o?new i(s(e,n),s(e,o)):new i(s(e,n))};numeric.T.diag=function(e){e instanceof numeric.T||(e=new numeric.T(e));var r=e.x,i=e.y,n=numeric.diag;return i?new numeric.T(n(r),n(i)):new numeric.T(n(r))};numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)};numeric.T.identity=function(e){return new numeric.T(numeric.identity(e))};numeric.T.prototype.getDiag=function(){var e=numeric,r=this.x,i=this.y;return i?new e.T(e.getDiag(r),e.getDiag(i)):new e.T(e.getDiag(r))};numeric.house=function(e){var r=numeric.clone(e),i=e[0]>=0?1:-1,n=i*numeric.norm2(e);r[0]+=n;var o=numeric.norm2(r);if(o===0)throw new Error("eig: internal error");return numeric.div(r,o)};numeric.toUpperHessenberg=function(e){var r=numeric.dim(e);if(r.length!==2||r[0]!==r[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var i=r[0],n,o,s,a,l,p=numeric.clone(e),f,c,m,v,g=numeric.identity(i),x;for(o=0;o<i-2;o++){for(a=Array(i-o-1),n=o+1;n<i;n++)a[n-o-1]=p[n][o];if(numeric.norm2(a)>0){for(l=numeric.house(a),f=numeric.getBlock(p,[o+1,o],[i-1,i-1]),c=numeric.tensor(l,numeric.dot(l,f)),n=o+1;n<i;n++)for(m=p[n],v=c[n-o-1],s=o;s<i;s++)m[s]-=2*v[s-o];for(f=numeric.getBlock(p,[0,o+1],[i-1,i-1]),c=numeric.tensor(numeric.dot(f,l),l),n=0;n<i;n++)for(m=p[n],v=c[n],s=o+1;s<i;s++)m[s]-=2*v[s-o-1];for(f=Array(i-o-1),n=o+1;n<i;n++)f[n-o-1]=g[n];for(c=numeric.tensor(l,numeric.dot(l,f)),n=o+1;n<i;n++)for(x=g[n],v=c[n-o-1],s=0;s<i;s++)x[s]-=2*v[s]}}return{H:p,Q:g}};numeric.epsilon=2220446049250313e-31;numeric.QRFrancis=function(t,e){typeof e>"u"&&(e=1e4),t=numeric.clone(t);var r=numeric.clone(t),i=numeric.dim(t),n=i[0],o,s,a,l,p,f,c,m,v,g=numeric.identity(n),x,E,_,D,M,P,L,I,q;if(n<3)return{Q:g,B:[[0,n-1]]};var N=numeric.epsilon;for(q=0;q<e;q++){for(L=0;L<n-1;L++)if(Math.abs(t[L+1][L])<N*(Math.abs(t[L][L])+Math.abs(t[L+1][L+1]))){var F=numeric.QRFrancis(numeric.getBlock(t,[0,0],[L,L]),e),W=numeric.QRFrancis(numeric.getBlock(t,[L+1,L+1],[n-1,n-1]),e);for(_=Array(L+1),P=0;P<=L;P++)_[P]=g[P];for(D=numeric.dot(F.Q,_),P=0;P<=L;P++)g[P]=D[P];for(_=Array(n-L-1),P=L+1;P<n;P++)_[P-L-1]=g[P];for(D=numeric.dot(W.Q,_),P=L+1;P<n;P++)g[P]=D[P-L-1];return{Q:g,B:F.B.concat(numeric.add(W.B,L+1))}}if(a=t[n-2][n-2],l=t[n-2][n-1],p=t[n-1][n-2],f=t[n-1][n-1],m=a+f,c=a*f-l*p,v=numeric.getBlock(t,[0,0],[2,2]),m*m>=4*c){var U,Z;U=.5*(m+Math.sqrt(m*m-4*c)),Z=.5*(m-Math.sqrt(m*m-4*c)),v=numeric.add(numeric.sub(numeric.dot(v,v),numeric.mul(v,U+Z)),numeric.diag(numeric.rep([3],U*Z)))}else v=numeric.add(numeric.sub(numeric.dot(v,v),numeric.mul(v,m)),numeric.diag(numeric.rep([3],c)));for(o=[v[0][0],v[1][0],v[2][0]],s=numeric.house(o),_=[t[0],t[1],t[2]],D=numeric.tensor(s,numeric.dot(s,_)),P=0;P<3;P++)for(E=t[P],M=D[P],I=0;I<n;I++)E[I]-=2*M[I];for(_=numeric.getBlock(t,[0,0],[n-1,2]),D=numeric.tensor(numeric.dot(_,s),s),P=0;P<n;P++)for(E=t[P],M=D[P],I=0;I<3;I++)E[I]-=2*M[I];for(_=[g[0],g[1],g[2]],D=numeric.tensor(s,numeric.dot(s,_)),P=0;P<3;P++)for(x=g[P],M=D[P],I=0;I<n;I++)x[I]-=2*M[I];var J;for(L=0;L<n-2;L++){for(I=L;I<=L+1;I++)if(Math.abs(t[I+1][I])<N*(Math.abs(t[I][I])+Math.abs(t[I+1][I+1]))){var F=numeric.QRFrancis(numeric.getBlock(t,[0,0],[I,I]),e),W=numeric.QRFrancis(numeric.getBlock(t,[I+1,I+1],[n-1,n-1]),e);for(_=Array(I+1),P=0;P<=I;P++)_[P]=g[P];for(D=numeric.dot(F.Q,_),P=0;P<=I;P++)g[P]=D[P];for(_=Array(n-I-1),P=I+1;P<n;P++)_[P-I-1]=g[P];for(D=numeric.dot(W.Q,_),P=I+1;P<n;P++)g[P]=D[P-I-1];return{Q:g,B:F.B.concat(numeric.add(W.B,I+1))}}for(J=Math.min(n-1,L+3),o=Array(J-L),P=L+1;P<=J;P++)o[P-L-1]=t[P][L];for(s=numeric.house(o),_=numeric.getBlock(t,[L+1,L],[J,n-1]),D=numeric.tensor(s,numeric.dot(s,_)),P=L+1;P<=J;P++)for(E=t[P],M=D[P-L-1],I=L;I<n;I++)E[I]-=2*M[I-L];for(_=numeric.getBlock(t,[0,L+1],[n-1,J]),D=numeric.tensor(numeric.dot(_,s),s),P=0;P<n;P++)for(E=t[P],M=D[P],I=L+1;I<=J;I++)E[I]-=2*M[I-L-1];for(_=Array(J-L),P=L+1;P<=J;P++)_[P-L-1]=g[P];for(D=numeric.tensor(s,numeric.dot(s,_)),P=L+1;P<=J;P++)for(x=g[P],M=D[P-L-1],I=0;I<n;I++)x[I]-=2*M[I]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")};numeric.eig=function(e,r){var i=numeric.toUpperHessenberg(e),n=numeric.QRFrancis(i.H,r),o=numeric.T,ie=e.length,s,a,l=!1,p=n.B,f=numeric.dot(n.Q,numeric.dot(i.H,numeric.transpose(n.Q))),c=new o(numeric.dot(n.Q,i.Q)),m,v=p.length,g,x,E,_,D,M,P,L,I,q,N,F,W,U,Z=Math.sqrt;for(a=0;a<v;a++)if(s=p[a][0],s!==p[a][1]){if(g=s+1,x=f[s][s],E=f[s][g],_=f[g][s],D=f[g][g],E===0&&_===0)continue;M=-x-D,P=x*D-E*_,L=M*M-4*P,L>=0?(M<0?I=-.5*(M-Z(L)):I=-.5*(M+Z(L)),W=(x-I)*(x-I)+E*E,U=_*_+(D-I)*(D-I),W>U?(W=Z(W),N=(x-I)/W,F=E/W):(U=Z(U),N=_/U,F=(D-I)/U),m=new o([[F,-N],[N,F]]),c.setRows(s,g,m.dot(c.getRows(s,g)))):(I=-.5*M,q=.5*Z(-L),W=(x-I)*(x-I)+E*E,U=_*_+(D-I)*(D-I),W>U?(W=Z(W+q*q),N=(x-I)/W,F=E/W,I=0,q/=W):(U=Z(U+q*q),N=_/U,F=(D-I)/U,I=q/U,q=0),m=new o([[F,-N],[N,F]],[[I,q],[q,-I]]),c.setRows(s,g,m.dot(c.getRows(s,g))))}var J=c.dot(e).dot(c.transjugate()),ie=e.length,le=numeric.T.identity(ie);for(g=0;g<ie;g++)if(g>0)for(a=g-1;a>=0;a--){var G=J.get([a,a]),K=J.get([g,g]);if(numeric.neq(G.x,K.x)||numeric.neq(G.y,K.y))I=J.getRow(a).getBlock([a],[g-1]),q=le.getRow(g).getBlock([a],[g-1]),le.set([g,a],J.get([a,g]).neg().sub(I.dot(q)).div(G.sub(K)));else{le.setRow(g,le.getRow(a));continue}}for(g=0;g<ie;g++)I=le.getRow(g),le.setRow(g,I.div(I.norm2()));return le=le.transpose(),le=c.transjugate().dot(le),{lambda:J.getDiag(),E:le}};numeric.ccsSparse=function(e){var r=e.length,a,i,n,o,s=[];for(n=r-1;n!==-1;--n){i=e[n];for(o in i){for(o=parseInt(o);o>=s.length;)s[s.length]=0;i[o]!==0&&s[o]++}}var a=s.length,l=Array(a+1);for(l[0]=0,n=0;n<a;++n)l[n+1]=l[n]+s[n];var p=Array(l[a]),f=Array(l[a]);for(n=r-1;n!==-1;--n){i=e[n];for(o in i)i[o]!==0&&(s[o]--,p[l[o]+s[o]]=n,f[l[o]+s[o]]=i[o])}return[l,p,f]};numeric.ccsFull=function(e){var r=e[0],i=e[1],n=e[2],o=numeric.ccsDim(e),s=o[0],a=o[1],l,p,f,c,m,v=numeric.rep([s,a],0);for(l=0;l<a;l++)for(f=r[l],c=r[l+1],p=f;p<c;++p)v[i[p]][l]=n[p];return v};numeric.ccsTSolve=function(e,r,i,n,o){var s=e[0],a=e[1],l=e[2],p=s.length-1,f=Math.max,c=0;typeof n>"u"&&(i=numeric.rep([p],0)),typeof n>"u"&&(n=numeric.linspace(0,i.length-1)),typeof o>"u"&&(o=[]);function m(I){var q;if(i[I]===0){for(i[I]=1,q=s[I];q<s[I+1];++q)m(a[q]);o[c]=I,++c}}var v,g,x,E,_,D,M,P,L;for(v=n.length-1;v!==-1;--v)m(n[v]);for(o.length=c,v=o.length-1;v!==-1;--v)i[o[v]]=0;for(v=n.length-1;v!==-1;--v)g=n[v],i[g]=r[g];for(v=o.length-1;v!==-1;--v){for(g=o[v],x=s[g],E=f(s[g+1],x),_=x;_!==E;++_)if(a[_]===g){i[g]/=l[_];break}for(L=i[g],_=x;_!==E;++_)D=a[_],D!==g&&(i[D]-=L*l[_])}return i};numeric.ccsDFS=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)};numeric.ccsDFS.prototype.dfs=function(e,r,i,n,o,s){var a=0,l,p=o.length,f=this.k,c=this.k1,m=this.j,v,g;if(n[e]===0)for(n[e]=1,m[0]=e,f[0]=v=r[e],c[0]=g=r[e+1];;)if(v>=g){if(o[p]=m[a],a===0)return;++p,--a,v=f[a],g=c[a]}else l=s[i[v]],n[l]===0?(n[l]=1,f[a]=v,++a,m[a]=l,v=r[l],c[a]=g=r[l+1]):++v};numeric.ccsLPSolve=function(e,r,i,n,o,s,a){var l=e[0],p=e[1],f=e[2],c=l.length-1,m=0,v=r[0],g=r[1],x=r[2],E,_,D,M,P,L,I,q,N,F,W,U;for(_=v[o],D=v[o+1],n.length=0,E=_;E<D;++E)a.dfs(s[g[E]],l,p,i,n,s);for(E=n.length-1;E!==-1;--E)i[n[E]]=0;for(E=_;E!==D;++E)M=s[g[E]],i[M]=x[E];for(E=n.length-1;E!==-1;--E){for(M=n[E],L=l[M],I=l[M+1],q=L;q<I;++q)if(s[p[q]]===M){i[M]/=f[q];break}for(U=i[M],q=L;q<I;++q)N=s[p[q]],N!==M&&(i[N]-=U*f[q])}return i};numeric.ccsLUP1=function(e,r){var i=e[0].length-1,n=[numeric.rep([i+1],0),[],[]],o=[numeric.rep([i+1],0),[],[]],s=n[0],a=n[1],l=n[2],p=o[0],f=o[1],c=o[2],m=numeric.rep([i],0),v=numeric.rep([i],0),g,x,E,_,D,M,P,L,I,q,N=numeric.ccsLPSolve,F=Math.max,W=Math.abs,U=numeric.linspace(0,i-1),Z=numeric.linspace(0,i-1),J=new numeric.ccsDFS(i);for(typeof r>"u"&&(r=1),g=0;g<i;++g){for(N(n,e,m,v,g,Z,J),M=-1,P=-1,x=v.length-1;x!==-1;--x)E=v[x],!(E<=g)&&(L=W(m[E]),L>M&&(P=E,M=L));for(W(m[g])<r*M&&(x=U[g],M=U[P],U[g]=M,Z[M]=g,U[P]=x,Z[x]=P,M=m[g],m[g]=m[P],m[P]=M),M=s[g],P=p[g],I=m[g],a[M]=U[g],l[M]=1,++M,x=v.length-1;x!==-1;--x)E=v[x],L=m[E],v[x]=0,m[E]=0,E<=g?(f[P]=E,c[P]=L,++P):(a[M]=U[E],l[M]=L/I,++M);s[g+1]=M,p[g+1]=P}for(x=a.length-1;x!==-1;--x)a[x]=Z[a[x]];return{L:n,U:o,P:U,Pinv:Z}};numeric.ccsDFS0=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)};numeric.ccsDFS0.prototype.dfs=function(e,r,i,n,o,s,a){var l=0,p,f=o.length,c=this.k,m=this.k1,v=this.j,g,x;if(n[e]===0)for(n[e]=1,v[0]=e,c[0]=g=r[s[e]],m[0]=x=r[s[e]+1];;){if(isNaN(g))throw new Error("Ow!");if(g>=x){if(o[f]=s[v[l]],l===0)return;++f,--l,g=c[l],x=m[l]}else p=i[g],n[p]===0?(n[p]=1,c[l]=g,++l,v[l]=p,p=s[p],g=r[p],m[l]=x=r[p+1]):++g}};numeric.ccsLPSolve0=function(e,r,i,n,o,s,a,l){var p=e[0],f=e[1],c=e[2],m=p.length-1,v=0,g=r[0],x=r[1],E=r[2],_,D,M,P,L,I,q,N,F,W,U,Z;for(D=g[o],M=g[o+1],n.length=0,_=D;_<M;++_)l.dfs(x[_],p,f,i,n,s,a);for(_=n.length-1;_!==-1;--_)P=n[_],i[a[P]]=0;for(_=D;_!==M;++_)P=x[_],i[P]=E[_];for(_=n.length-1;_!==-1;--_){for(P=n[_],F=a[P],I=p[P],q=p[P+1],N=I;N<q;++N)if(f[N]===F){i[F]/=c[N];break}for(Z=i[F],N=I;N<q;++N)i[f[N]]-=Z*c[N];i[F]=Z}};numeric.ccsLUP0=function(e,r){var i=e[0].length-1,n=[numeric.rep([i+1],0),[],[]],o=[numeric.rep([i+1],0),[],[]],s=n[0],a=n[1],l=n[2],p=o[0],f=o[1],c=o[2],m=numeric.rep([i],0),v=numeric.rep([i],0),g,x,E,_,D,M,P,L,I,q,N=numeric.ccsLPSolve0,F=Math.max,W=Math.abs,U=numeric.linspace(0,i-1),Z=numeric.linspace(0,i-1),J=new numeric.ccsDFS0(i);for(typeof r>"u"&&(r=1),g=0;g<i;++g){for(N(n,e,m,v,g,Z,U,J),M=-1,P=-1,x=v.length-1;x!==-1;--x)E=v[x],!(E<=g)&&(L=W(m[U[E]]),L>M&&(P=E,M=L));for(W(m[U[g]])<r*M&&(x=U[g],M=U[P],U[g]=M,Z[M]=g,U[P]=x,Z[x]=P),M=s[g],P=p[g],I=m[U[g]],a[M]=U[g],l[M]=1,++M,x=v.length-1;x!==-1;--x)E=v[x],L=m[U[E]],v[x]=0,m[U[E]]=0,E<=g?(f[P]=E,c[P]=L,++P):(a[M]=U[E],l[M]=L/I,++M);s[g+1]=M,p[g+1]=P}for(x=a.length-1;x!==-1;--x)a[x]=Z[a[x]];return{L:n,U:o,P:U,Pinv:Z}};numeric.ccsLUP=numeric.ccsLUP0;numeric.ccsDim=function(e){return[numeric.sup(e[1])+1,e[0].length-1]};numeric.ccsGetBlock=function(e,r,i){var n=numeric.ccsDim(e),o=n[0],s=n[1];typeof r>"u"?r=numeric.linspace(0,o-1):typeof r=="number"&&(r=[r]),typeof i>"u"?i=numeric.linspace(0,s-1):typeof i=="number"&&(i=[i]);var a,l,p,f=r.length,c,m=i.length,v,g,x,E=numeric.rep([s],0),_=[],D=[],M=[E,_,D],P=e[0],L=e[1],I=e[2],q=numeric.rep([o],0),N=0,F=numeric.rep([o],0);for(c=0;c<m;++c){g=i[c];var W=P[g],U=P[g+1];for(a=W;a<U;++a)v=L[a],F[v]=1,q[v]=I[a];for(a=0;a<f;++a)x=r[a],F[x]&&(_[N]=a,D[N]=q[r[a]],++N);for(a=W;a<U;++a)v=L[a],F[v]=0;E[c+1]=N}return M};numeric.ccsDot=function(e,r){var i=e[0],n=e[1],o=e[2],s=r[0],a=r[1],l=r[2],p=numeric.ccsDim(e),f=numeric.ccsDim(r),c=p[0],m=p[1],v=f[1],g=numeric.rep([c],0),x=numeric.rep([c],0),E=Array(c),_=numeric.rep([v],0),D=[],M=[],P=[_,D,M],L,I,q,N,F,W,U,Z,J,ie,le;for(q=0;q!==v;++q){for(N=s[q],F=s[q+1],J=0,I=N;I<F;++I)for(ie=a[I],le=l[I],W=i[ie],U=i[ie+1],L=W;L<U;++L)Z=n[L],x[Z]===0&&(E[J]=Z,x[Z]=1,J=J+1),g[Z]=g[Z]+o[L]*le;for(N=_[q],F=N+J,_[q+1]=F,I=J-1;I!==-1;--I)le=N+I,L=E[I],D[le]=L,M[le]=g[L],x[L]=0,g[L]=0;_[q+1]=_[q]+J}return P};numeric.ccsLUPSolve=function(e,r){var i=e.L,n=e.U,o=e.P,s=r[0],a=!1;typeof s!="object"&&(r=[[0,r.length],numeric.linspace(0,r.length-1),r],s=r[0],a=!0);var l=r[1],p=r[2],f=i[0].length-1,c=s.length-1,m=numeric.rep([f],0),v=Array(f),g=numeric.rep([f],0),x=Array(f),E=numeric.rep([c+1],0),_=[],D=[],M=numeric.ccsTSolve,P,L,I,q,N,F,W=0;for(P=0;P<c;++P){for(N=0,I=s[P],q=s[P+1],L=I;L<q;++L)F=e.Pinv[l[L]],x[N]=F,g[F]=p[L],++N;for(x.length=N,M(i,g,m,x,v),L=x.length-1;L!==-1;--L)g[x[L]]=0;if(M(n,m,g,v,x),a)return g;for(L=v.length-1;L!==-1;--L)m[v[L]]=0;for(L=x.length-1;L!==-1;--L)F=x[L],_[W]=F,D[W]=g[F],g[F]=0,++W;E[P+1]=W}return[E,_,D]};numeric.ccsbinop=function(e,r){return typeof r>"u"&&(r=""),Function("X","Y",`var Xi = X[0], Xj = X[1], Xv = X[2];
var Yi = Y[0], Yj = Y[1], Yv = Y[2];
var n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;
var Zi = numeric.rep([n+1],0), Zj = [], Zv = [];
var x = numeric.rep([m],0),y = numeric.rep([m],0);
var xk,yk,zk;
var i,j,j0,j1,k,p=0;
`+r+`for(i=0;i<n;++i) {
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Xj[j];
    x[k] = 1;
    Zj[p] = k;
    ++p;
  }
  j0 = Yi[i]; j1 = Yi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Yj[j];
    y[k] = Yv[j];
    if(x[k] === 0) {
      Zj[p] = k;
      ++p;
    }
  }
  Zi[i+1] = p;
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];
  j0 = Zi[i]; j1 = Zi[i+1];
  for(j=j0;j!==j1;++j) {
    k = Zj[j];
    xk = x[k];
    yk = y[k];
`+e+`
    Zv[j] = zk;
  }
  j0 = Xi[i]; j1 = Xi[i+1];
  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;
  j0 = Yi[i]; j1 = Yi[i+1];
  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;
}
return [Zi,Zj,Zv];`)};(function(){var k,A,B,C;for(k in numeric.ops2)isFinite(eval("1"+numeric.ops2[k]+"0"))?A="[Y[0],Y[1],numeric."+k+"(X,Y[2])]":A="NaN",isFinite(eval("0"+numeric.ops2[k]+"1"))?B="[X[0],X[1],numeric."+k+"(X[2],Y)]":B="NaN",isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?C="numeric.ccs"+k+"MM(X,Y)":C="NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+`;
if(typeof Y === "number") return `+B+`;
return `+C+`;
`)})();numeric.ccsScatter=function t(e){var r=e[0],i=e[1],n=e[2],o=numeric.sup(i)+1,s=r.length,a=numeric.rep([o],0),l=Array(s),p=Array(s),f=numeric.rep([o],0),c;for(c=0;c<s;++c)f[i[c]]++;for(c=0;c<o;++c)a[c+1]=a[c]+f[c];var m=a.slice(0),v,g;for(c=0;c<s;++c)g=i[c],v=m[g],l[v]=r[c],p[v]=n[c],m[g]=m[g]+1;return[a,l,p]};numeric.ccsGather=function t(e){var r=e[0],i=e[1],n=e[2],o=r.length-1,s=i.length,a=Array(s),l=Array(s),p=Array(s),f,c,m,v,g;for(g=0,f=0;f<o;++f)for(m=r[f],v=r[f+1],c=m;c!==v;++c)l[g]=f,a[g]=i[c],p[g]=n[c],++g;return[a,l,p]};numeric.sdim=function t(e,r,i){if(typeof r>"u"&&(r=[]),typeof e!="object")return r;typeof i>"u"&&(i=0),i in r||(r[i]=0),e.length>r[i]&&(r[i]=e.length);var n;for(n in e)e.hasOwnProperty(n)&&t(e[n],r,i+1);return r};numeric.sclone=function t(e,r,i){typeof r>"u"&&(r=0),typeof i>"u"&&(i=numeric.sdim(e).length);var n,o=Array(e.length);if(r===i-1){for(n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);return o}for(n in e)e.hasOwnProperty(n)&&(o[n]=t(e[n],r+1,i));return o};numeric.sdiag=function t(e){var r=e.length,i,n=Array(r),o,s,a;for(i=r-1;i>=1;i-=2)o=i-1,n[i]=[],n[i][i]=e[i],n[o]=[],n[o][o]=e[o];return i===0&&(n[0]=[],n[0][0]=e[i]),n};numeric.sidentity=function t(e){return numeric.sdiag(numeric.rep([e],1))};numeric.stranspose=function t(e){var r=[],i=e.length,n,o,s;for(n in e)if(e.hasOwnProperty(n)){s=e[n];for(o in s)s.hasOwnProperty(o)&&(typeof r[o]!="object"&&(r[o]=[]),r[o][n]=s[o])}return r};numeric.sLUP=function t(e,r){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")};numeric.sdotMM=function t(e,r){var i=e.length,n=r.length,o=numeric.stranspose(r),s=o.length,a,l,p,f,c,m,v=Array(i),g;for(p=i-1;p>=0;p--){for(g=[],a=e[p],c=s-1;c>=0;c--){m=0,l=o[c];for(f in a)a.hasOwnProperty(f)&&f in l&&(m+=a[f]*l[f]);m&&(g[c]=m)}v[p]=g}return v};numeric.sdotMV=function t(e,r){var i=e.length,n,o,s,a=Array(i),l;for(o=i-1;o>=0;o--){n=e[o],l=0;for(s in n)n.hasOwnProperty(s)&&r[s]&&(l+=n[s]*r[s]);l&&(a[o]=l)}return a};numeric.sdotVM=function t(e,r){var i,n,o,s,a=[],l;for(i in e)if(e.hasOwnProperty(i)){o=r[i],s=e[i];for(n in o)o.hasOwnProperty(n)&&(a[n]||(a[n]=0),a[n]+=s*o[n])}return a};numeric.sdotVV=function t(e,r){var i,n=0;for(i in e)e[i]&&r[i]&&(n+=e[i]*r[i]);return n};numeric.sdot=function t(e,r){var i=numeric.sdim(e).length,n=numeric.sdim(r).length,o=i*1e3+n;switch(o){case 0:return e*r;case 1001:return numeric.sdotVV(e,r);case 2001:return numeric.sdotMV(e,r);case 1002:return numeric.sdotVM(e,r);case 2002:return numeric.sdotMM(e,r);default:throw new Error("numeric.sdot not implemented for tensors of order "+i+" and "+n)}};numeric.sscatter=function t(e){var r=e[0].length,i,n,o,s=e.length,a=[],l;for(n=r-1;n>=0;--n)if(e[s-1][n]){for(l=a,o=0;o<s-2;o++)i=e[o][n],l[i]||(l[i]=[]),l=l[i];l[e[o][n]]=e[o+1][n]}return a};numeric.sgather=function t(e,r,i){typeof r>"u"&&(r=[]),typeof i>"u"&&(i=[]);var n,o,s;n=i.length;for(o in e)if(e.hasOwnProperty(o))if(i[n]=parseInt(o),s=e[o],typeof s=="number"){if(s){if(r.length===0)for(o=n+1;o>=0;--o)r[o]=[];for(o=n;o>=0;--o)r[o].push(i[o]);r[n+1].push(s)}}else t(s,r,i);return i.length>n&&i.pop(),r};numeric.cLU=function t(e){var r=e[0],i=e[1],n=e[2],F=r.length,o=0,s,a,l,p,f,c;for(s=0;s<F;s++)r[s]>o&&(o=r[s]);o++;var m=Array(o),v=Array(o),g=numeric.rep([o],1/0),x=numeric.rep([o],-1/0),M,P,E;for(l=0;l<F;l++)s=r[l],a=i[l],a<g[s]&&(g[s]=a),a>x[s]&&(x[s]=a);for(s=0;s<o-1;s++)x[s]>x[s+1]&&(x[s+1]=x[s]);for(s=o-1;s>=1;s--)g[s]<g[s-1]&&(g[s-1]=g[s]);var _=0,D=0;for(s=0;s<o;s++)v[s]=numeric.rep([x[s]-g[s]+1],0),m[s]=numeric.rep([s-g[s]],0),_+=s-g[s]+1,D+=x[s]-s+1;for(l=0;l<F;l++)s=r[l],v[s][i[l]-g[s]]=n[l];for(s=0;s<o-1;s++)for(p=s-g[s],M=v[s],a=s+1;g[a]<=s&&a<o;a++)if(f=s-g[a],c=x[s]-s,P=v[a],E=P[f]/M[p],E){for(l=1;l<=c;l++)P[l+f]-=E*M[l+p];m[a][s-g[a]]=E}var M=[],P=[],L=[],I=[],q=[],N=[],F,W,U;for(F=0,W=0,s=0;s<o;s++){for(p=g[s],f=x[s],U=v[s],a=s;a<=f;a++)U[a-p]&&(M[F]=s,P[F]=a,L[F]=U[a-p],F++);for(U=m[s],a=p;a<s;a++)U[a-p]&&(I[W]=s,q[W]=a,N[W]=U[a-p],W++);I[W]=s,q[W]=s,N[W]=1,W++}return{U:[M,P,L],L:[I,q,N]}};numeric.cLUsolve=function t(e,r){var i=e.L,n=e.U,o=numeric.clone(r),s=i[0],a=i[1],l=i[2],p=n[0],f=n[1],c=n[2],m=p.length,v=s.length,g=o.length,x,E,_;for(_=0,x=0;x<g;x++){for(;a[_]<x;)o[x]-=l[_]*o[a[_]],_++;_++}for(_=m-1,x=g-1;x>=0;x--){for(;f[_]>x;)o[x]-=c[_]*o[f[_]],_--;o[x]/=c[_],_--}return o};numeric.cgrid=function t(e,r){typeof e=="number"&&(e=[e,e]);var i=numeric.rep(e,-1),n,o,s;if(typeof r!="function")switch(r){case"L":r=function(a,l){return a>=e[0]/2||l<e[1]/2};break;default:r=function(a,l){return!0};break}for(s=0,n=1;n<e[0]-1;n++)for(o=1;o<e[1]-1;o++)r(n,o)&&(i[n][o]=s,s++);return i};numeric.cdelsq=function t(e){var r=[[-1,0],[0,-1],[0,1],[1,0]],i=numeric.dim(e),n=i[0],o=i[1],s,a,l,p,f,c=[],m=[],v=[];for(s=1;s<n-1;s++)for(a=1;a<o-1;a++)if(!(e[s][a]<0)){for(l=0;l<4;l++)p=s+r[l][0],f=a+r[l][1],!(e[p][f]<0)&&(c.push(e[s][a]),m.push(e[p][f]),v.push(-1));c.push(e[s][a]),m.push(e[s][a]),v.push(4)}return[c,m,v]};numeric.cdotMV=function t(e,r){var i,n=e[0],o=e[1],s=e[2],a,l=n.length,p;for(p=0,a=0;a<l;a++)n[a]>p&&(p=n[a]);for(p++,i=numeric.rep([p],0),a=0;a<l;a++)i[n[a]]+=s[a]*r[o[a]];return i};numeric.Spline=function t(e,r,i,n,o){this.x=e,this.yl=r,this.yr=i,this.kl=n,this.kr=o};numeric.Spline.prototype._at=function t(l,r){var i=this.x,n=this.yl,o=this.yr,s=this.kl,a=this.kr,l,p,f,c,m=numeric.add,v=numeric.sub,g=numeric.mul;p=v(g(s[r],i[r+1]-i[r]),v(o[r+1],n[r])),f=m(g(a[r+1],i[r]-i[r+1]),v(o[r+1],n[r])),c=(l-i[r])/(i[r+1]-i[r]);var x=c*(1-c);return m(m(m(g(1-c,n[r]),g(c,o[r+1])),g(p,x*(1-c))),g(f,x*c))};numeric.Spline.prototype.at=function t(e){if(typeof e=="number"){var r=this.x,f=r.length,i,n,o,s=Math.floor,a,l,p;for(i=0,n=f-1;n-i>1;)o=s((i+n)/2),r[o]<=e?i=o:n=o;return this._at(e,i)}var f=e.length,c,m=Array(f);for(c=f-1;c!==-1;--c)m[c]=this.at(e[c]);return m};numeric.Spline.prototype.diff=function t(){var e=this.x,r=this.yl,i=this.yr,n=this.kl,o=this.kr,s=r.length,a,l,p,f=n,c=o,m=Array(s),v=Array(s),g=numeric.add,x=numeric.mul,E=numeric.div,_=numeric.sub;for(a=s-1;a!==-1;--a)l=e[a+1]-e[a],p=_(i[a+1],r[a]),m[a]=E(g(x(p,6),x(n[a],-4*l),x(o[a+1],-2*l)),l*l),v[a+1]=E(g(x(p,-6),x(n[a],2*l),x(o[a+1],4*l)),l*l);return new numeric.Spline(e,f,c,m,v)};numeric.Spline.prototype.roots=function t(){function e(_e){return _e*_e}function r(_e,Ie,ge,Re,Qe){var Me=ge*2-(Ie-_e),$e=-Re*2+(Ie-_e),Ne=(Qe+1)*.5,He=Ne*(1-Ne);return(1-Ne)*_e+Ne*Ie+Me*He*(1-Ne)+$e*He*Ne}var P=[],i=this.x,n=this.yl,o=this.yr,s=this.kl,a=this.kr;typeof n[0]=="number"&&(n=[n],o=[o],s=[s],a=[a]);var l=n.length,p=i.length-1,f,c,m,v,g,x,E,_,D,M,P=Array(l),L,I,q,N,F,W,U,Z,J,ie,le,G,K,Q,re,ee,ae,se=Math.sqrt;for(f=0;f!==l;++f){for(E=n[f],_=o[f],D=s[f],M=a[f],L=[],c=0;c!==p;c++){for(c>0&&_[c]*E[c]<0&&L.push(i[c]),J=i[c+1]-i[c],ie=i[c],N=E[c],F=_[c+1],I=D[c]/J,q=M[c+1]/J,Z=e(I-q+3*(N-F))+12*q*N,W=q+3*N+2*I-3*F,U=3*(q+I+2*(N-F)),Z<=0?(G=W/U,G>i[c]&&G<i[c+1]?le=[i[c],G,i[c+1]]:le=[i[c],i[c+1]]):(G=(W-se(Z))/U,K=(W+se(Z))/U,le=[i[c]],G>i[c]&&G<i[c+1]&&le.push(G),K>i[c]&&K<i[c+1]&&le.push(K),le.push(i[c+1])),re=le[0],G=this._at(re,c),m=0;m<le.length-1;m++){if(ee=le[m+1],K=this._at(ee,c),G===0){L.push(re),re=ee,G=K;continue}if(K===0||G*K>0){re=ee,G=K;continue}for(var ce=0;ae=(G*ee-K*re)/(G-K),!(ae<=re||ae>=ee);)if(Q=this._at(ae,c),Q*K>0)ee=ae,K=Q,ce===-1&&(G*=.5),ce=-1;else if(Q*G>0)re=ae,G=Q,ce===1&&(K*=.5),ce=1;else break;L.push(ae),re=le[m+1],G=this._at(re,c)}K===0&&L.push(ee)}P[f]=L}return typeof this.yl[0]=="number"?P[0]:P};numeric.spline=function t(e,r,i,n){var o=e.length,s=[],a=[],l=[],p,f=numeric.sub,c=numeric.mul,m=numeric.add;for(p=o-2;p>=0;p--)a[p]=e[p+1]-e[p],l[p]=f(r[p+1],r[p]);(typeof i=="string"||typeof n=="string")&&(i=n="periodic");var v=[[],[],[]];switch(typeof i){case"undefined":s[0]=c(3/(a[0]*a[0]),l[0]),v[0].push(0,0),v[1].push(0,1),v[2].push(2/a[0],1/a[0]);break;case"string":s[0]=m(c(3/(a[o-2]*a[o-2]),l[o-2]),c(3/(a[0]*a[0]),l[0])),v[0].push(0,0,0),v[1].push(o-2,0,1),v[2].push(1/a[o-2],2/a[o-2]+2/a[0],1/a[0]);break;default:s[0]=i,v[0].push(0),v[1].push(0),v[2].push(1);break}for(p=1;p<o-1;p++)s[p]=m(c(3/(a[p-1]*a[p-1]),l[p-1]),c(3/(a[p]*a[p]),l[p])),v[0].push(p,p,p),v[1].push(p-1,p,p+1),v[2].push(1/a[p-1],2/a[p-1]+2/a[p],1/a[p]);switch(typeof n){case"undefined":s[o-1]=c(3/(a[o-2]*a[o-2]),l[o-2]),v[0].push(o-1,o-1),v[1].push(o-2,o-1),v[2].push(1/a[o-2],2/a[o-2]);break;case"string":v[1][v[1].length-1]=0;break;default:s[o-1]=n,v[0].push(o-1),v[1].push(o-1),v[2].push(1);break}typeof s[0]!="number"?s=numeric.transpose(s):s=[s];var g=Array(s.length);if(typeof i=="string")for(p=g.length-1;p!==-1;--p)g[p]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(v)),s[p]),g[p][o-1]=g[p][0];else for(p=g.length-1;p!==-1;--p)g[p]=numeric.cLUsolve(numeric.cLU(v),s[p]);return typeof r[0]=="number"?g=g[0]:g=numeric.transpose(g),new numeric.Spline(e,r,r,g,g)};numeric.fftpow2=function t(e,r){var i=e.length;if(i!==1){var n=Math.cos,o=Math.sin,s,a,l=Array(i/2),p=Array(i/2),f=Array(i/2),c=Array(i/2);for(a=i/2,s=i-1;s!==-1;--s)--a,f[a]=e[s],c[a]=r[s],--s,l[a]=e[s],p[a]=r[s];t(l,p),t(f,c),a=i/2;var m,v=-6.283185307179586/i,g,x;for(s=i-1;s!==-1;--s)--a,a===-1&&(a=i/2-1),m=v*s,g=n(m),x=o(m),e[s]=l[a]+g*f[a]-x*c[a],r[s]=p[a]+g*c[a]+x*f[a]}};numeric._ifftpow2=function t(e,r){var i=e.length;if(i!==1){var n=Math.cos,o=Math.sin,s,a,l=Array(i/2),p=Array(i/2),f=Array(i/2),c=Array(i/2);for(a=i/2,s=i-1;s!==-1;--s)--a,f[a]=e[s],c[a]=r[s],--s,l[a]=e[s],p[a]=r[s];t(l,p),t(f,c),a=i/2;var m,v=6.283185307179586/i,g,x;for(s=i-1;s!==-1;--s)--a,a===-1&&(a=i/2-1),m=v*s,g=n(m),x=o(m),e[s]=l[a]+g*f[a]-x*c[a],r[s]=p[a]+g*c[a]+x*f[a]}};numeric.ifftpow2=function t(e,r){numeric._ifftpow2(e,r),numeric.diveq(e,e.length),numeric.diveq(r,r.length)};numeric.convpow2=function t(e,r,i,n){numeric.fftpow2(e,r),numeric.fftpow2(i,n);var o,s=e.length,a,l,p,f;for(o=s-1;o!==-1;--o)a=e[o],p=r[o],l=i[o],f=n[o],e[o]=a*l-p*f,r[o]=a*f+p*l;numeric.ifftpow2(e,r)};numeric.T.prototype.fft=function t(){var e=this.x,r=this.y,i=e.length,n=Math.log,o=n(2),s=Math.ceil(n(2*i-1)/o),a=Math.pow(2,s),l=numeric.rep([a],0),p=numeric.rep([a],0),f=Math.cos,c=Math.sin,m,v=-3.141592653589793/i,g,x=numeric.rep([a],0),E=numeric.rep([a],0),_=Math.floor(i/2);for(m=0;m<i;m++)x[m]=e[m];if(typeof r<"u")for(m=0;m<i;m++)E[m]=r[m];for(l[0]=1,m=1;m<=a/2;m++)g=v*m*m,l[m]=f(g),p[m]=c(g),l[a-m]=f(g),p[a-m]=c(g);var D=new numeric.T(x,E),M=new numeric.T(l,p);return D=D.mul(M),numeric.convpow2(D.x,D.y,numeric.clone(M.x),numeric.neg(M.y)),D=D.mul(M),D.x.length=i,D.y.length=i,D};numeric.T.prototype.ifft=function t(){var e=this.x,r=this.y,i=e.length,n=Math.log,o=n(2),s=Math.ceil(n(2*i-1)/o),a=Math.pow(2,s),l=numeric.rep([a],0),p=numeric.rep([a],0),f=Math.cos,c=Math.sin,m,v=3.141592653589793/i,g,x=numeric.rep([a],0),E=numeric.rep([a],0),_=Math.floor(i/2);for(m=0;m<i;m++)x[m]=e[m];if(typeof r<"u")for(m=0;m<i;m++)E[m]=r[m];for(l[0]=1,m=1;m<=a/2;m++)g=v*m*m,l[m]=f(g),p[m]=c(g),l[a-m]=f(g),p[a-m]=c(g);var D=new numeric.T(x,E),M=new numeric.T(l,p);return D=D.mul(M),numeric.convpow2(D.x,D.y,numeric.clone(M.x),numeric.neg(M.y)),D=D.mul(M),D.x.length=i,D.y.length=i,D.div(i)};numeric.gradient=function t(e,r){var i=r.length,n=e(r);if(isNaN(n))throw new Error("gradient: f(x) is a NaN!");var g=Math.max,o,s=numeric.clone(r),a,l,p=Array(i),f=numeric.div,c=numeric.sub,m,v,g=Math.max,x=.001,E=Math.abs,_=Math.min,D,M,P,L=0,I,q,N;for(o=0;o<i;o++)for(var F=g(1e-6*n,1e-8);;){if(++L,L>20)throw new Error("Numerical gradient fails");if(s[o]=r[o]+F,a=e(s),s[o]=r[o]-F,l=e(s),s[o]=r[o],isNaN(a)||isNaN(l)){F/=16;continue}if(p[o]=(a-l)/(2*F),D=r[o]-F,M=r[o],P=r[o]+F,I=(a-n)/F,q=(n-l)/F,N=g(E(p[o]),E(n),E(a),E(l),E(D),E(M),E(P),1e-8),m=_(g(E(I-p[o]),E(q-p[o]),E(I-q))/N,F/N),m>x)F/=16;else break}return p};numeric.uncmin=function t(e,r,i,n,o,s,a){var l=numeric.gradient;typeof a>"u"&&(a={}),typeof i>"u"&&(i=1e-8),typeof n>"u"&&(n=function(Re){return l(e,Re)}),typeof o>"u"&&(o=1e3),r=numeric.clone(r);var p=r.length,f=e(r),c,m;if(isNaN(f))throw new Error("uncmin: f(x0) is a NaN!");var v=Math.max,g=numeric.norm2;i=v(i,numeric.epsilon);var x,E,_,D=a.Hinv||numeric.identity(p),M=numeric.dot,P=numeric.inv,L=numeric.sub,I=numeric.add,q=numeric.tensor,N=numeric.div,F=numeric.mul,W=numeric.all,U=numeric.isFinite,Z=numeric.neg,J=0,ie,le,G,K,Q,re,ee,ae,se,ce,_e,Ie,ge="";for(E=n(r);J<o;){if(typeof s=="function"&&s(J,r,f,E,D)){ge="Callback returned true";break}if(!W(U(E))){ge="Gradient has Infinity or NaN";break}if(x=Z(M(D,E)),!W(U(x))){ge="Search direction has Infinity or NaN";break}if(ce=g(x),ce<i){ge="Newton step smaller than tol";break}for(se=1,m=M(E,x),G=r;J<o&&!(se*ce<i);){if(le=F(x,se),G=I(r,le),c=e(G),c-f>=.1*se*m||isNaN(c)){se*=.5,++J;continue}break}if(se*ce<i){ge="Line search step size smaller than tol";break}if(J===o){ge="maxit reached during line search";break}_=n(G),K=L(_,E),ee=M(K,le),Q=M(D,K),D=L(I(D,F((ee+M(K,Q))/(ee*ee),q(le,le))),N(I(q(Q,le),q(le,Q)),ee)),r=G,f=c,E=_,++J}return{solution:r,f,gradient:E,invHessian:D,iterations:J,message:ge}};numeric.Dopri=function t(e,r,i,n,o,s,a){this.x=e,this.y=r,this.f=i,this.ymid=n,this.iterations=o,this.events=a,this.message=s};numeric.Dopri.prototype._at=function t(E,r){function i(W){return W*W}var n=this,o=n.x,s=n.y,a=n.f,l=n.ymid,p=o.length,f,c,m,v,g,x,E,_=Math.floor,D,M=.5,P=numeric.add,L=numeric.mul,I=numeric.sub,q,N,F;return f=o[r],c=o[r+1],v=s[r],g=s[r+1],D=c-f,m=f+M*D,x=l[r],q=I(a[r],L(v,1/(f-m)+2/(f-c))),N=I(a[r+1],L(g,1/(c-m)+2/(c-f))),F=[i(E-c)*(E-m)/i(f-c)/(f-m),i(E-f)*i(E-c)/i(f-m)/i(c-m),i(E-f)*(E-m)/i(c-f)/(c-m),(E-f)*i(E-c)*(E-m)/i(f-c)/(f-m),(E-c)*i(E-f)*(E-m)/i(f-c)/(c-m)],P(P(P(P(L(v,F[0]),L(x,F[1])),L(g,F[2])),L(q,F[3])),L(N,F[4]))};numeric.Dopri.prototype.at=function t(e){var r,i,n,o=Math.floor;if(typeof e!="number"){var s=e.length,a=Array(s);for(r=s-1;r!==-1;--r)a[r]=this.at(e[r]);return a}var l=this.x;for(r=0,i=l.length-1;i-r>1;)n=o(.5*(r+i)),l[n]<=e?r=n:i=n;return this._at(e,r)};numeric.dopri=function t(e,r,i,n,o,s,a){typeof o>"u"&&(o=1e-6),typeof s>"u"&&(s=1e3);var l=[e],p=[i],f=[n(e,i)],c,m,v,g,x,E,_=[],D=1/5,M=[3/40,9/40],P=[44/45,-56/15,32/9],L=[19372/6561,-25360/2187,64448/6561,-212/729],I=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],q=[35/384,0,500/1113,125/192,-2187/6784,11/84],N=[.5*6025192743/30085553152,0,.5*51252292925/65400821598,.5*-2691868925/45128329728,.5*187940372067/1594534317056,.5*-1776094331/19743644256,.5*11237099/235043384],F=[1/5,3/10,4/5,8/9,1,1],W=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40],U=0,Z,J,ie=(r-e)/10,le=0,G=numeric.add,K=numeric.mul,Q,re,ee=Math.max,ae=Math.min,se=Math.abs,ce=numeric.norminf,_e=Math.pow,Ie=numeric.any,ge=numeric.lt,Re=numeric.and,Qe=numeric.sub,Me,$e,Ne,He=new numeric.Dopri(l,p,f,_,-1,"");for(typeof a=="function"&&(Me=a(e,i));e<r&&le<s;){if(++le,e+ie>r&&(ie=r-e),c=n(e+F[0]*ie,G(i,K(D*ie,f[U]))),m=n(e+F[1]*ie,G(G(i,K(M[0]*ie,f[U])),K(M[1]*ie,c))),v=n(e+F[2]*ie,G(G(G(i,K(P[0]*ie,f[U])),K(P[1]*ie,c)),K(P[2]*ie,m))),g=n(e+F[3]*ie,G(G(G(G(i,K(L[0]*ie,f[U])),K(L[1]*ie,c)),K(L[2]*ie,m)),K(L[3]*ie,v))),x=n(e+F[4]*ie,G(G(G(G(G(i,K(I[0]*ie,f[U])),K(I[1]*ie,c)),K(I[2]*ie,m)),K(I[3]*ie,v)),K(I[4]*ie,g))),Q=G(G(G(G(G(i,K(f[U],ie*q[0])),K(m,ie*q[2])),K(v,ie*q[3])),K(g,ie*q[4])),K(x,ie*q[5])),E=n(e+ie,Q),Z=G(G(G(G(G(K(f[U],ie*W[0]),K(m,ie*W[2])),K(v,ie*W[3])),K(g,ie*W[4])),K(x,ie*W[5])),K(E,ie*W[6])),typeof Z=="number"?re=se(Z):re=ce(Z),re>o){if(ie=.2*ie*_e(o/re,.25),e+ie===e){He.msg="Step size became too small";break}continue}if(_[U]=G(G(G(G(G(G(i,K(f[U],ie*N[0])),K(m,ie*N[2])),K(v,ie*N[3])),K(g,ie*N[4])),K(x,ie*N[5])),K(E,ie*N[6])),++U,l[U]=e+ie,p[U]=Q,f[U]=E,typeof a=="function"){var ft,at=e,tt=e+.5*ie,Xe;if($e=a(tt,_[U-1]),Ne=Re(ge(Me,0),ge(0,$e)),Ie(Ne)||(at=tt,tt=e+ie,Me=$e,$e=a(tt,Q),Ne=Re(ge(Me,0),ge(0,$e))),Ie(Ne)){for(var ct,Rt,Ze,Dt,_t=0,Ot=1,Tt=1;;){if(typeof Me=="number")Xe=(Tt*$e*at-Ot*Me*tt)/(Tt*$e-Ot*Me);else for(Xe=tt,J=Me.length-1;J!==-1;--J)Me[J]<0&&$e[J]>0&&(Xe=ae(Xe,(Tt*$e[J]*at-Ot*Me[J]*tt)/(Tt*$e[J]-Ot*Me[J])));if(Xe<=at||Xe>=tt)break;ft=He._at(Xe,U-1),Dt=a(Xe,ft),Ze=Re(ge(Me,0),ge(0,Dt)),Ie(Ze)?(tt=Xe,$e=Dt,Ne=Ze,Tt=1,_t===-1?Ot*=.5:Ot=1,_t=-1):(at=Xe,Me=Dt,Ot=1,_t===1?Tt*=.5:Tt=1,_t=1)}return Q=He._at(.5*(e+Xe),U-1),He.f[U]=n(Xe,ft),He.x[U]=Xe,He.y[U]=ft,He.ymid[U-1]=Q,He.events=Ne,He.iterations=le,He}}e+=ie,i=Q,Me=$e,ie=ae(.8*ie*_e(o/re,.25),4*ie)}return He.iterations=le,He};numeric.LU=function(t,e){e=e||!1;var r=Math.abs,i,n,o,s,a,l,p,f,c,m=t.length,v=m-1,g=new Array(m);for(e||(t=numeric.clone(t)),o=0;o<m;++o){for(p=o,l=t[o],c=r(l[o]),n=o+1;n<m;++n)s=r(t[n][o]),c<s&&(c=s,p=n);for(g[o]=p,p!=o&&(t[o]=t[p],t[p]=l,l=t[o]),a=l[o],i=o+1;i<m;++i)t[i][o]/=a;for(i=o+1;i<m;++i){for(f=t[i],n=o+1;n<v;++n)f[n]-=f[o]*l[n],++n,f[n]-=f[o]*l[n];n===v&&(f[n]-=f[o]*l[n])}}return{LU:t,P:g}};numeric.LUsolve=function t(e,r){var i,n,o=e.LU,s=o.length,a=numeric.clone(r),l=e.P,p,f,c,m;for(i=s-1;i!==-1;--i)a[i]=r[i];for(i=0;i<s;++i)for(p=l[i],l[i]!==i&&(m=a[i],a[i]=a[p],a[p]=m),f=o[i],n=0;n<i;++n)a[i]-=a[n]*f[n];for(i=s-1;i>=0;--i){for(f=o[i],n=i+1;n<s;++n)a[i]-=a[n]*f[n];a[i]/=f[i]}return a};numeric.solve=function t(e,r,i){return numeric.LUsolve(numeric.LU(e,i),r)};numeric.echelonize=function t(e){var r=numeric.dim(e),i=r[0],n=r[1],o=numeric.identity(i),s=Array(i),a,l,p,f,c,m,v,g,x=Math.abs,E=numeric.diveq;for(e=numeric.clone(e),a=0;a<i;++a){for(p=0,c=e[a],m=o[a],l=1;l<n;++l)x(c[p])<x(c[l])&&(p=l);for(s[a]=p,E(m,c[p]),E(c,c[p]),l=0;l<i;++l)if(l!==a){for(v=e[l],g=v[p],f=n-1;f!==-1;--f)v[f]-=c[f]*g;for(v=o[l],f=i-1;f!==-1;--f)v[f]-=m[f]*g}}return{I:o,A:e,P:s}};numeric.__solveLP=function t(e,r,i,n,o,s,a){var l=numeric.sum,p=numeric.log,f=numeric.mul,c=numeric.sub,m=numeric.dot,v=numeric.div,g=numeric.add,x=e.length,E=i.length,_,D=!1,M,P=0,L=1,I,q,N=numeric.transpose(r),F=numeric.svd,W=numeric.transpose,U=numeric.leq,Z=Math.sqrt,J=Math.abs,ie=numeric.muleq,le=numeric.norminf,G=numeric.any,K=Math.min,Q=numeric.all,re=numeric.gt,ee=Array(x),ae=Array(E),se=numeric.rep([E],1),ce,_e=numeric.solve,Ie=c(i,m(r,s)),ge,Re=m(e,e),Qe;for(ge=P;ge<o;++ge){var Me,$e,Ne;for(Me=E-1;Me!==-1;--Me)ae[Me]=v(r[Me],Ie[Me]);var He=W(ae);for(Me=x-1;Me!==-1;--Me)ee[Me]=l(He[Me]);L=.25*J(Re/m(e,ee));var ft=100*Z(Re/m(ee,ee));for((!isFinite(L)||L>ft)&&(L=ft),Qe=g(e,f(L,ee)),ce=m(He,ae),Me=x-1;Me!==-1;--Me)ce[Me][Me]+=1;Ne=_e(ce,v(Qe,L),!0);var at=v(Ie,m(r,Ne)),tt=1;for(Me=E-1;Me!==-1;--Me)at[Me]<0&&(tt=K(tt,-.999*at[Me]));if(_=c(s,f(Ne,tt)),Ie=c(i,m(r,_)),!Q(re(Ie,0)))return{solution:s,message:"",iterations:ge};if(s=_,L<n)return{solution:_,message:"",iterations:ge};if(a){var Xe=m(e,Qe),ct=m(r,Qe);for(D=!0,Me=E-1;Me!==-1;--Me)if(Xe*ct[Me]<0){D=!1;break}}else s[x-1]>=0?D=!1:D=!0;if(D)return{solution:_,message:"Unbounded",iterations:ge}}return{solution:s,message:"maximum iteration count exceeded",iterations:ge}};numeric._solveLP=function t(e,r,i,n,o){var s=e.length,a=i.length,M,l=numeric.sum,p=numeric.log,f=numeric.mul,c=numeric.sub,m=numeric.dot,v=numeric.div,g=numeric.add,x=numeric.rep([s],0).concat([1]),E=numeric.rep([a,1],-1),_=numeric.blockMatrix([[r,E]]),D=i,M=numeric.rep([s],0).concat(Math.max(0,numeric.sup(numeric.neg(i)))+1),P=numeric.__solveLP(x,_,D,n,o,M,!1),L=numeric.clone(P.solution);L.length=s;var I=numeric.inf(c(i,m(r,L)));if(I<0)return{solution:NaN,message:"Infeasible",iterations:P.iterations};var q=numeric.__solveLP(e,r,i,n,o-P.iterations,L,!0);return q.iterations+=P.iterations,q};numeric.solveLP=function t(e,r,i,n,o,s,a){if(typeof a>"u"&&(a=1e3),typeof s>"u"&&(s=numeric.epsilon),typeof n>"u")return numeric._solveLP(e,r,i,s,a);var l=n.length,p=n[0].length,f=r.length,c=numeric.echelonize(n),m=numeric.rep([p],0),v=c.P,g=[],x;for(x=v.length-1;x!==-1;--x)m[v[x]]=1;for(x=p-1;x!==-1;--x)m[x]===0&&g.push(x);var E=numeric.getRange,_=numeric.linspace(0,l-1),D=numeric.linspace(0,f-1),M=E(n,_,g),P=E(r,D,v),L=E(r,D,g),I=numeric.dot,q=numeric.sub,N=I(P,c.I),F=q(L,I(N,M)),W=q(i,I(N,o)),U=Array(v.length),Z=Array(g.length);for(x=v.length-1;x!==-1;--x)U[x]=e[v[x]];for(x=g.length-1;x!==-1;--x)Z[x]=e[g[x]];var J=q(Z,I(U,I(c.I,M))),ie=numeric._solveLP(J,F,W,s,a),le=ie.solution;if(le!==le)return ie;var G=I(c.I,q(o,I(M,le))),K=Array(e.length);for(x=v.length-1;x!==-1;--x)K[v[x]]=G[x];for(x=g.length-1;x!==-1;--x)K[g[x]]=le[x];return{solution:K,message:ie.message,iterations:ie.iterations}};numeric.MPStoLP=function t(e){e instanceof String&&e.split(`
`);var r=0,i=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],n=e.length,o,s,a,l=0,p={},f=[],c=0,m={},v=0,g,x=[],E=[],_=[];function D(q){throw new Error("MPStoLP: "+q+`
Line `+o+": "+e[o]+`
Current state: `+i[r]+`
`)}for(o=0;o<n;++o){a=e[o];var M=a.match(/\S*/g),P=[];for(s=0;s<M.length;++s)M[s]!==""&&P.push(M[s]);if(P.length!==0){for(s=0;s<i.length&&a.substr(0,i[s].length)!==i[s];++s);if(s<i.length){if(r=s,s===1&&(g=P[1]),s===6)return{name:g,c:x,A:numeric.transpose(E),b:_,rows:p,vars:m};continue}switch(r){case 0:case 1:D("Unexpected line");case 2:switch(P[0]){case"N":l===0?l=P[1]:D("Two or more N rows");break;case"L":p[P[1]]=c,f[c]=1,_[c]=0,++c;break;case"G":p[P[1]]=c,f[c]=-1,_[c]=0,++c;break;case"E":p[P[1]]=c,f[c]=0,_[c]=0,++c;break;default:D("Parse error "+numeric.prettyPrint(P))}break;case 3:m.hasOwnProperty(P[0])||(m[P[0]]=v,x[v]=0,E[v]=numeric.rep([c],0),++v);var L=m[P[0]];for(s=1;s<P.length;s+=2){if(P[s]===l){x[L]=parseFloat(P[s+1]);continue}var I=p[P[s]];E[L][I]=(f[I]<0?-1:1)*parseFloat(P[s+1])}break;case 4:for(s=1;s<P.length;s+=2)_[p[P[s]]]=(f[p[P[s]]]<0?-1:1)*parseFloat(P[s+1]);break;case 5:break;case 6:D("Internal error")}}}D("Reached end of file without ENDATA")};numeric.seedrandom={pow:Math.pow,random:Math.random};(function(t,e,r,i,n,o,s){e.seedrandom=function(m,v){var g=[],x;return m=p(l(v?[m,t]:arguments.length?m:[new Date().getTime(),t,window],3),g),x=new a(g),p(x.S,t),e.random=function(){for(var _=x.g(i),D=s,M=0;_<n;)_=(_+M)*r,D*=r,M=x.g(1);for(;_>=o;)_/=2,D/=2,M>>>=1;return(_+M)/D},m};function a(c){var m,v,g=this,x=c.length,E=0,_=g.i=g.j=g.m=0;for(g.S=[],g.c=[],x||(c=[x++]);E<r;)g.S[E]=E++;for(E=0;E<r;E++)m=g.S[E],_=f(_+m+c[E%x]),v=g.S[_],g.S[E]=v,g.S[_]=m;g.g=function(M){var P=g.S,L=f(g.i+1),I=P[L],q=f(g.j+I),N=P[q];P[L]=N,P[q]=I;for(var F=P[f(I+N)];--M;)L=f(L+1),I=P[L],q=f(q+I),N=P[q],P[L]=N,P[q]=I,F=F*r+P[f(I+N)];return g.i=L,g.j=q,F},g.g(r)}function l(c,m,v,g,x){if(v=[],x=typeof c,m&&x=="object"){for(g in c)if(g.indexOf("S")<5)try{v.push(l(c[g],m-1))}catch{}}return v.length?v:c+(x!="string"?"\0":"")}function p(c,m,v,g){for(c+="",v=0,g=0;g<c.length;g++)m[f(g)]=f((v^=m[f(g)]*19)+c.charCodeAt(g));c="";for(g in m)c+=String.fromCharCode(m[g]);return c}function f(c){return c&r-1}s=e.pow(r,i),n=e.pow(2,n),o=n*2,p(e.random(),t)})([],numeric.seedrandom,256,6,52);(function(t){function e(l){if(typeof l!="object")return l;var p=[],f,c=l.length;for(f=0;f<c;f++)p[f+1]=e(l[f]);return p}function r(l){if(typeof l!="object")return l;var p=[],f,c=l.length;for(f=1;f<c;f++)p[f-1]=r(l[f]);return p}function i(l,p,f){var c,m,v,g,x;for(v=1;v<=f;v=v+1){for(l[v][v]=1/l[v][v],x=-l[v][v],c=1;c<v;c=c+1)l[c][v]=x*l[c][v];if(g=v+1,f<g)break;for(m=g;m<=f;m=m+1)for(x=l[v][m],l[v][m]=0,c=1;c<=v;c=c+1)l[c][m]=l[c][m]+x*l[c][v]}}function n(l,p,f,c){var m,v,g,x;for(v=1;v<=f;v=v+1){for(x=0,m=1;m<v;m=m+1)x=x+l[m][v]*c[m];c[v]=(c[v]-x)/l[v][v]}for(g=1;g<=f;g=g+1)for(v=f+1-g,c[v]=c[v]/l[v][v],x=-c[v],m=1;m<v;m=m+1)c[m]=c[m]+x*l[m][v]}function o(l,p,f,c){var m,v,g,x,E,_;for(v=1;v<=f;v=v+1){if(c[1]=v,_=0,g=v-1,g<1){if(_=l[v][v]-_,_<=0)break;l[v][v]=Math.sqrt(_)}else{for(x=1;x<=g;x=x+1){for(E=l[x][v],m=1;m<x;m=m+1)E=E-l[m][v]*l[m][x];E=E/l[x][x],l[x][v]=E,_=_+E*E}if(_=l[v][v]-_,_<=0)break;l[v][v]=Math.sqrt(_)}c[1]=0}}function s(l,p,f,c,m,v,g,x,E,_,D,M,P,L,I,q){var N,F,W,U,Z,J,ie,le,G,K,Q,re,ee,ae,se,ce,_e,Ie,ge,Re,Qe,Me,$e,Ne,He,ft,at;ee=Math.min(c,_),W=2*c+ee*(ee+5)/2+2*_+1,Ne=1e-60;do Ne=Ne+Ne,He=1+.1*Ne,ft=1+.2*Ne;while(He<=1||ft<=1);for(N=1;N<=c;N=N+1)I[N]=p[N];for(N=c+1;N<=W;N=N+1)I[N]=0;for(N=1;N<=_;N=N+1)M[N]=0;if(Z=[],q[1]===0){if(o(l,f,c,Z),Z[1]!==0){q[1]=2;return}n(l,f,c,p),i(l,f,c)}else{for(F=1;F<=c;F=F+1)for(m[F]=0,N=1;N<=F;N=N+1)m[F]=m[F]+l[N][F]*p[N];for(F=1;F<=c;F=F+1)for(p[F]=0,N=F;N<=c;N=N+1)p[F]=p[F]+l[F][N]*m[N]}for(v[1]=0,F=1;F<=c;F=F+1)for(m[F]=p[F],v[1]=v[1]+I[F]*m[F],I[F]=0,N=F+1;N<=c;N=N+1)l[N][F]=0;for(v[1]=-v[1]/2,q[1]=0,ie=c,le=ie+c,Q=le+ee,G=Q+ee+1,K=G+ee*(ee+1)/2,ae=K+_,N=1;N<=_;N=N+1){for(ce=0,F=1;F<=c;F=F+1)ce=ce+g[F][N]*g[F][N];I[ae+N]=Math.sqrt(ce)}P=0,L[1]=0,L[2]=0;function tt(){for(L[1]=L[1]+1,W=K,N=1;N<=_;N=N+1){for(W=W+1,ce=-x[N],F=1;F<=c;F=F+1)ce=ce+g[F][N]*m[F];if(Math.abs(ce)<Ne&&(ce=0),N>D)I[W]=ce;else if(I[W]=-Math.abs(ce),ce>0){for(F=1;F<=c;F=F+1)g[F][N]=-g[F][N];x[N]=-x[N]}}for(N=1;N<=P;N=N+1)I[K+M[N]]=0;for(re=0,se=0,N=1;N<=_;N=N+1)I[K+N]<se*I[ae+N]&&(re=N,se=I[K+N]/I[ae+N]);return re===0?999:0}function Xe(){for(N=1;N<=c;N=N+1){for(ce=0,F=1;F<=c;F=F+1)ce=ce+l[F][N]*g[F][re];I[N]=ce}for(U=ie,N=1;N<=c;N=N+1)I[U+N]=0;for(F=P+1;F<=c;F=F+1)for(N=1;N<=c;N=N+1)I[U+N]=I[U+N]+l[N][F]*I[F];for(Me=!0,N=P;N>=1;N=N-1){for(ce=I[N],W=G+N*(N+3)/2,U=W-N,F=N+1;F<=P;F=F+1)ce=ce-I[W]*I[le+F],W=W+F;if(ce=ce/I[U],I[le+N]=ce,M[N]<D||ce<0)break;Me=!1,J=N}if(!Me)for(_e=I[Q+J]/I[le+J],N=1;N<=P&&!(M[N]<D||I[le+N]<0);N=N+1)se=I[Q+N]/I[le+N],se<_e&&(_e=se,J=N);for(ce=0,N=ie+1;N<=ie+c;N=N+1)ce=ce+I[N]*I[N];if(Math.abs(ce)<=Ne){if(Me)return q[1]=1,999;for(N=1;N<=P;N=N+1)I[Q+N]=I[Q+N]-_e*I[le+N];return I[Q+P+1]=I[Q+P+1]+_e,700}else{for(ce=0,N=1;N<=c;N=N+1)ce=ce+I[ie+N]*g[N][re];for(Ie=-I[K+re]/ce,$e=!0,Me||_e<Ie&&(Ie=_e,$e=!1),N=1;N<=c;N=N+1)m[N]=m[N]+Ie*I[ie+N],Math.abs(m[N])<Ne&&(m[N]=0);for(v[1]=v[1]+Ie*ce*(Ie/2+I[Q+P+1]),N=1;N<=P;N=N+1)I[Q+N]=I[Q+N]-Ie*I[le+N];if(I[Q+P+1]=I[Q+P+1]+Ie,$e){for(P=P+1,M[P]=re,W=G+(P-1)*P/2+1,N=1;N<=P-1;N=N+1)I[W]=I[N],W=W+1;if(P===c)I[W]=I[c];else{for(N=c;N>=P+1&&!(I[N]===0||(ge=Math.max(Math.abs(I[N-1]),Math.abs(I[N])),Re=Math.min(Math.abs(I[N-1]),Math.abs(I[N])),I[N-1]>=0?se=Math.abs(ge*Math.sqrt(1+Re*Re/(ge*ge))):se=-Math.abs(ge*Math.sqrt(1+Re*Re/(ge*ge))),ge=I[N-1]/se,Re=I[N]/se,ge===1));N=N-1)if(ge===0)for(I[N-1]=Re*se,F=1;F<=c;F=F+1)se=l[F][N-1],l[F][N-1]=l[F][N],l[F][N]=se;else for(I[N-1]=se,Qe=Re/(1+ge),F=1;F<=c;F=F+1)se=ge*l[F][N-1]+Re*l[F][N],l[F][N]=Qe*(l[F][N-1]+se)-l[F][N],l[F][N-1]=se;I[W]=I[P]}}else{for(ce=-x[re],F=1;F<=c;F=F+1)ce=ce+m[F]*g[F][re];if(re>D)I[K+re]=ce;else if(I[K+re]=-Math.abs(ce),ce>0){for(F=1;F<=c;F=F+1)g[F][re]=-g[F][re];x[re]=-x[re]}return 700}}return 0}function ct(){if(W=G+J*(J+1)/2+1,U=W+J,I[U]===0||(ge=Math.max(Math.abs(I[U-1]),Math.abs(I[U])),Re=Math.min(Math.abs(I[U-1]),Math.abs(I[U])),I[U-1]>=0?se=Math.abs(ge*Math.sqrt(1+Re*Re/(ge*ge))):se=-Math.abs(ge*Math.sqrt(1+Re*Re/(ge*ge))),ge=I[U-1]/se,Re=I[U]/se,ge===1))return 798;if(ge===0){for(N=J+1;N<=P;N=N+1)se=I[U-1],I[U-1]=I[U],I[U]=se,U=U+N;for(N=1;N<=c;N=N+1)se=l[N][J],l[N][J]=l[N][J+1],l[N][J+1]=se}else{for(Qe=Re/(1+ge),N=J+1;N<=P;N=N+1)se=ge*I[U-1]+Re*I[U],I[U]=Qe*(I[U-1]+se)-I[U],I[U-1]=se,U=U+N;for(N=1;N<=c;N=N+1)se=ge*l[N][J]+Re*l[N][J+1],l[N][J+1]=Qe*(l[N][J]+se)-l[N][J+1],l[N][J]=se}return 0}function Rt(){for(U=W-J,N=1;N<=J;N=N+1)I[U]=I[W],W=W+1,U=U+1;return I[Q+J]=I[Q+J+1],M[J]=M[J+1],J=J+1,J<P?797:0}function Ze(){return I[Q+P]=I[Q+P+1],I[Q+P+1]=0,M[P]=0,P=P-1,L[2]=L[2]+1,0}for(at=0;;){if(at=tt(),at===999)return;for(;at=Xe(),at!==0;){if(at===999)return;if(at===700)if(J===P)Ze();else{for(;ct(),at=Rt(),at===797;);Ze()}}}}function a(l,p,f,c,m,v){l=e(l),p=e(p),f=e(f);var g,x,E,_,D,M=[],P=[],L=[],I=[],q=[],N;if(m=m||0,v=v?e(v):[void 0,0],c=c?e(c):[],x=l.length-1,E=f[1].length-1,!c)for(g=1;g<=E;g=g+1)c[g]=0;for(g=1;g<=E;g=g+1)P[g]=0;for(_=0,D=Math.min(x,E),g=1;g<=x;g=g+1)L[g]=0;for(M[1]=0,g=1;g<=2*x+D*(D+5)/2+2*E+1;g=g+1)I[g]=0;for(g=1;g<=2;g=g+1)q[g]=0;return s(l,p,x,x,L,M,f,c,x,E,m,P,_,q,I,v),N="",v[1]===1&&(N="constraints are inconsistent, no solution!"),v[1]===2&&(N="matrix D in quadratic function is not positive definite!"),{solution:r(L),value:r(M),unconstrained_solution:r(p),iterations:r(q),iact:r(P),message:N}}t.solveQP=a})(numeric);numeric.svd=function t(e){var r,i=numeric.epsilon,n=1e-64/i,o=50,s=0,a=0,l=0,p=0,f=0,c=numeric.clone(e),m=c.length,v=c[0].length;if(m<v)throw"Need more rows than columns";var g=new Array(v),x=new Array(v);for(a=0;a<v;a++)g[a]=x[a]=0;var E=numeric.rep([v,v],0);function _(Z,J){return Z=Math.abs(Z),J=Math.abs(J),Z>J?Z*Math.sqrt(1+J*J/Z/Z):J==0?Z:J*Math.sqrt(1+Z*Z/J/J)}var D=0,M=0,P=0,L=0,I=0,q=0,N=0;for(a=0;a<v;a++){for(g[a]=M,N=0,f=a+1,l=a;l<m;l++)N+=c[l][a]*c[l][a];if(N<=n)M=0;else for(D=c[a][a],M=Math.sqrt(N),D>=0&&(M=-M),P=D*M-N,c[a][a]=D-M,l=f;l<v;l++){for(N=0,p=a;p<m;p++)N+=c[p][a]*c[p][l];for(D=N/P,p=a;p<m;p++)c[p][l]+=D*c[p][a]}for(x[a]=M,N=0,l=f;l<v;l++)N=N+c[a][l]*c[a][l];if(N<=n)M=0;else{for(D=c[a][a+1],M=Math.sqrt(N),D>=0&&(M=-M),P=D*M-N,c[a][a+1]=D-M,l=f;l<v;l++)g[l]=c[a][l]/P;for(l=f;l<m;l++){for(N=0,p=f;p<v;p++)N+=c[l][p]*c[a][p];for(p=f;p<v;p++)c[l][p]+=N*g[p]}}I=Math.abs(x[a])+Math.abs(g[a]),I>L&&(L=I)}for(a=v-1;a!=-1;a+=-1){if(M!=0){for(P=M*c[a][a+1],l=f;l<v;l++)E[l][a]=c[a][l]/P;for(l=f;l<v;l++){for(N=0,p=f;p<v;p++)N+=c[a][p]*E[p][l];for(p=f;p<v;p++)E[p][l]+=N*E[p][a]}}for(l=f;l<v;l++)E[a][l]=0,E[l][a]=0;E[a][a]=1,M=g[a],f=a}for(a=v-1;a!=-1;a+=-1){for(f=a+1,M=x[a],l=f;l<v;l++)c[a][l]=0;if(M!=0){for(P=c[a][a]*M,l=f;l<v;l++){for(N=0,p=f;p<m;p++)N+=c[p][a]*c[p][l];for(D=N/P,p=a;p<m;p++)c[p][l]+=D*c[p][a]}for(l=a;l<m;l++)c[l][a]=c[l][a]/M}else for(l=a;l<m;l++)c[l][a]=0;c[a][a]+=1}for(i=i*L,p=v-1;p!=-1;p+=-1)for(var F=0;F<o;F++){var W=!1;for(f=p;f!=-1;f+=-1){if(Math.abs(g[f])<=i){W=!0;break}if(Math.abs(x[f-1])<=i)break}if(!W){s=0,N=1;var U=f-1;for(a=f;a<p+1&&(D=N*g[a],g[a]=s*g[a],!(Math.abs(D)<=i));a++)for(M=x[a],P=_(D,M),x[a]=P,s=M/P,N=-D/P,l=0;l<m;l++)I=c[l][U],q=c[l][a],c[l][U]=I*s+q*N,c[l][a]=-I*N+q*s}if(q=x[p],f==p){if(q<0)for(x[p]=-q,l=0;l<v;l++)E[l][p]=-E[l][p];break}if(F>=o-1)throw"Error: no convergence.";for(L=x[f],I=x[p-1],M=g[p-1],P=g[p],D=((I-q)*(I+q)+(M-P)*(M+P))/(2*P*I),M=_(D,1),D<0?D=((L-q)*(L+q)+P*(I/(D-M)-P))/L:D=((L-q)*(L+q)+P*(I/(D+M)-P))/L,s=1,N=1,a=f+1;a<p+1;a++){for(M=g[a],I=x[a],P=N*M,M=s*M,q=_(D,P),g[a-1]=q,s=D/q,N=P/q,D=L*s+M*N,M=-L*N+M*s,P=I*N,I=I*s,l=0;l<v;l++)L=E[l][a-1],q=E[l][a],E[l][a-1]=L*s+q*N,E[l][a]=-L*N+q*s;for(q=_(D,P),x[a-1]=q,s=D/q,N=P/q,D=s*M+N*I,L=-N*M+s*I,l=0;l<m;l++)I=c[l][a-1],q=c[l][a],c[l][a-1]=I*s+q*N,c[l][a]=-I*N+q*s}g[f]=0,g[p]=D,x[p]=L}for(a=0;a<x.length;a++)x[a]<i&&(x[a]=0);for(a=0;a<v;a++)for(l=a-1;l>=0;l--)if(x[l]<x[a]){for(s=x[l],x[l]=x[a],x[a]=s,p=0;p<c.length;p++)r=c[p][a],c[p][a]=c[p][l],c[p][l]=r;for(p=0;p<E.length;p++)r=E[p][a],E[p][a]=E[p][l],E[p][l]=r;a=l}return{U:c,S:x,V:E}}});function Sle(t,e){var r,i,n,o,s,a,l,p,f,c,m,v;for(r=[],s=a=0;a<4;s=++a)r.push([t[s].x,t[s].y,1,0,0,0,-t[s].x*e[s].x,-t[s].y*e[s].x]),r.push([0,0,0,t[s].x,t[s].y,1,-t[s].x*e[s].y,-t[s].y*e[s].y]);for(n=[],s=p=0;p<4;s=++p)n.push(e[s].x),n.push(e[s].y);for(o=hp.default.solve(r,n),i=[[o[0],o[1],0,o[2]],[o[3],o[4],0,o[5]],[0,0,1,0],[o[6],o[7],0,1]],s=c=0;c<4;s=++c)f=hp.default.dot(i,[t[s].x,t[s].y,0,1]),l=f[3],v=hp.default.dot(l,[e[s].x,e[s].y,0,1]);return i}function _le(t,e,r){var i,n,o,s,a,l,p,f;for(n=function(){var c,m;for(f=[],c=0,m=t.length;c<m;c++)l=t[c],f.push({x:l[0]-t[0][0],y:l[1]-t[0][1]});return f}(),p=function(){var c,m,v;for(v=[],c=0,m=e.length;c<m;c++)l=e[c],v.push({x:l[0]-t[0][0],y:l[1]-t[0][1]});return v}(),i=Sle(n,p),f=[],o=a=0;a<4;o=++a)f.push(function(){var c,m;for(m=[],s=c=0;c<4;s=++c)m.push(i[s][o]);return m}());return f.reduce((c,m)=>[...c,...m],[])}var hp,n3,o3,s3,i3,a3=$(()=>{Ar();fp();hp=ye(r3(),1);Hr();n3=ye(Pe(),1);Fe();o3={};de||(window.numeric=hp.default,o3=window.lightbox={});s3=t=>{let e=window.getComputedStyle(t),r={leftPad:parseFloat(e.getPropertyValue("padding-left"))||0,rightPad:parseFloat(e.getPropertyValue("padding-right"))||0,leftBorder:parseFloat(e.getPropertyValue("border-right-width"))||0,rightBorder:parseFloat(e.getPropertyValue("border-left-width"))||0,topPad:parseFloat(e.getPropertyValue("padding-top"))||0,bottomPad:parseFloat(e.getPropertyValue("padding-bottom"))||0,bottomBorder:parseFloat(e.getPropertyValue("border-bottom-width"))||0,topBorder:parseFloat(e.getPropertyValue("border-top-width"))||0};return{...r,vertPadSize:r.topPad+r.bottomPad+r.topBorder+r.bottomBorder,horizPadSize:r.leftPad+r.rightPad+r.leftBorder+r.rightBorder}},i3=(t,e={x:0,y:0},r)=>{r||(r=s3(t));let{leftPad:i,leftBorder:n,rightPad:o,rightBorder:s,topPad:a,topBorder:l,bottomPad:p,bottomBorder:f}=r,{x:c,y:m}=e,g=[{left:i+n+e.x+"px",right:"auto",top:a+l+e.y+"px",bottom:"auto"},{left:i+n+e.x+"px",right:"auto",top:"auto",bottom:p+f+-e.y+"px"},{left:"auto",right:o+s+-e.x+"px",top:a+l+e.y+"px",bottom:"auto"},{left:"auto",right:o+s+-e.x+"px",top:"auto",bottom:p+f+-e.y+"px"}].map(E=>{let _=document.createElement("div");return _.style.position="absolute",_.style.top=E.top,_.style.left=E.left,_.style.right=E.right,_.style.bottom=E.bottom,_.style.width="0px",_.style.height="0px",_.style.visibility="hidden",_.style.pointerEvents="none",t.parentElement.parentElement.appendChild(_),_}),x=g.map(E=>{let _=E.getBoundingClientRect();return[_.left,_.top]});return g.forEach(E=>{E.remove()}),x};(function(){"use strict";(function(r,i){r===void 0&&window!==void 0&&(r=window),r.PhotoSwipe=i()})(this,function(){"use strict";var r=function(i,n,o,s){var a={features:null,bind:function(O,H,X,Y){var xe=(Y?"remove":"add")+"EventListener";H=H.split(" ");for(var Te=0;Te<H.length;Te++)H[Te]&&O[xe](H[Te],X,!1)},isArray:function(O){return O instanceof Array},createEl:function(O,H){var X=document.createElement(H||"div");return O&&(X.className=O),X},getScrollY:function(){var O=window.pageYOffset;return O!==void 0?O:document.documentElement.scrollTop},unbind:function(O,H,X){a.bind(O,H,X,!0)},removeClass:function(O,H){var X=new RegExp("(\\s|^)"+H+"(\\s|$)");O.className=O.className.replace(X," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(O,H){a.hasClass(O,H)||(O.className+=(O.className?" ":"")+H)},hasClass:function(O,H){return O.className&&new RegExp("(^|\\s)"+H+"(\\s|$)").test(O.className)},getChildByClass:function(O,H){for(var X=O.firstChild;X;){if(a.hasClass(X,H))return X;X=X.nextSibling}},arraySearch:function(O,H,X){for(var Y=O.length;Y--;)if(O[Y][X]===H)return Y;return-1},extend:function(O,H,X){for(var Y in H)if(H.hasOwnProperty(Y)){if(X&&O.hasOwnProperty(Y))continue;O[Y]=H[Y]}},easing:{sine:{out:function(O){return Math.sin(O*(Math.PI/2))},inOut:function(O){return-(Math.cos(Math.PI*O)-1)/2}},cubic:{out:function(O){return--O*O*O+1}}},detectFeatures:function(){if(a.features)return a.features;var O=a.createEl(),H=O.style,X="",Y={};if(Y.oldIE=document.all&&!document.addEventListener,Y.touch="ontouchstart"in window,window.requestAnimationFrame&&(Y.raf=window.requestAnimationFrame,Y.caf=window.cancelAnimationFrame),Y.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!Y.pointerEvent){var xe=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var Te=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);Te&&Te.length>0&&(Te=parseInt(Te[1],10),Te>=1&&Te<8&&(Y.isOldIOSPhone=!0))}var Le=xe.match(/Android\s([0-9\.]*)/),rt=Le?Le[1]:0;rt=parseFloat(rt),rt>=1&&(rt<4.4&&(Y.isOldAndroid=!0),Y.androidVersion=rt),Y.isMobileOpera=/opera mini|opera mobi/i.test(xe)}for(var ht=["transform","perspective","animationName"],St=["","webkit","Moz","ms","O"],Ve,Et,Kt=0;Kt<4;Kt++){X=St[Kt];for(var si=0;si<3;si++)Ve=ht[si],Et=X+(X?Ve.charAt(0).toUpperCase()+Ve.slice(1):Ve),!Y[Ve]&&Et in H&&(Y[Ve]=Et);X&&!Y.raf&&(X=X.toLowerCase(),Y.raf=window[X+"RequestAnimationFrame"],Y.raf&&(Y.caf=window[X+"CancelAnimationFrame"]||window[X+"CancelRequestAnimationFrame"]))}if(!Y.raf){var fr=0;Y.raf=function(zt){var _r=new Date().getTime(),Er=Math.max(0,16-(_r-fr)),Ds=window.setTimeout(function(){zt(_r+Er)},Er);return fr=_r+Er,Ds},Y.caf=function(zt){clearTimeout(zt)}}return Y.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,a.features=Y,Y}};a.detectFeatures(),a.features.oldIE&&(a.bind=function(O,H,X,Y){H=H.split(" ");for(var xe=(Y?"detach":"attach")+"Event",Te,Le=function(){X.handleEvent.call(X)},rt=0;rt<H.length;rt++)if(Te=H[rt],Te)if(typeof X=="object"&&X.handleEvent){if(!Y)X["oldIE"+Te]=Le;else if(!X["oldIE"+Te])return!1;O[xe]("on"+Te,X["oldIE"+Te])}else O[xe]("on"+Te,X)});var l=this,p=25,f=3,c={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,animatedCloseOnScroll:!0,showCaption:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:222,showAnimationDuration:222,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(O){return O.tagName==="A"},getDoubleTapZoom:function(O,H){return O||H.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};a.extend(c,s);var Ns=null,m=function(){var O=a.getScrollY();Ns===null&&(Ns=O),Ia||(yi=yi+(O-Ns),Ns=O,Z<=l.currItem.fitRatio&&!bi&&c.modal&&(!c.animatedCloseOnScroll||Bo||Vi?yi=0:Qe&&Math.abs(yi)>0&&!Tt&&(yo(),Aa()),an&&clearTimeout(an),c.animatedCloseOnScroll,an=setTimeout(function(){yo(),Sc()},200)))},v=function(){return{x:0,y:0}},g,x,E,_,D,M,P=v(),L=v(),I=v(),q,N,F,W={},U={},Z,J,ie,le,G,K,Q=0,re={},ee=v(),ae,se,ce=0,_e,Ie,ge,Re,Qe,Me,$e=!0,Ne,He=[],ft,at,tt,Xe,ct,Rt,Ze,Dt={},_t=!1,Ot,Tt=!1,ri=function(O,H){a.extend(l,H.publicMethods),He.push(O)},Mi=function(O){var H=vi();return O>H-1?O-H:O<0?H+O:O},Lt={},cr=function(O,H){return Lt[O]||(Lt[O]=[]),Lt[O].push(H)},mt=function(O){var H=Lt[O];if(H){var X=Array.prototype.slice.call(arguments);X.shift();for(var Y=0;Y<H.length;Y++)H[Y].apply(l,X)}},Wi=function(){return new Date().getTime()},Ri=function(O){Ms=O,l.bg.style.opacity=O*c.bgOpacity},yl=function(O,H,X,Y,xe){(!_t||xe&&xe!==l.currItem)&&(Y=Y/(xe?xe.fitRatio:l.currItem.fitRatio)),X=X+U.top,O[Qe]=ie+H+"px, "+X+"px"+le+" scale("+Y+")"},vr=function(O){mi&&(O&&(Z>l.currItem.fitRatio?_t||(oi(l.currItem,!1,!0),_t=!0):_t&&(oi(l.currItem),_t=!1)),yl(mi,I.x,I.y,Z))},co=function(O){O.container&&yl(O.container.style,O.initialPosition.x,O.initialPosition.y,O.initialZoomLevel,O)},po=function(O,H,X){X[Qe]=ie+O+"px, "+H+"px"+le},Cs=function(O,H){if(!c.loop&&H){var X=_+(ee.x*Q-O)/ee.x,Y=O-xn.x;(X<0&&Y>0||X>=vi()-1&&Y<0)&&(O=xn.x+Y*c.mainScrollEndFriction)}xn.x=O,po(O,0,D)},ic=function(O,H){var X=xa[O]-re[O];return L[O]+P[O]+X-X*(H/J)},pi=function(O,H){O.x=H.x,O.y=H.y,H.id&&(O.id=H.id)},Tp=function(O){O.x=Math.round(O.x),O.y=Math.round(O.y)},bl=null,wl=function(){bl&&(a.unbind(document,"mousemove",wl),a.addClass(i,"quick-view-has-mouse"),c.mouseUsed=!0,mt("mouseUsed")),bl=setTimeout(function(){bl=null},100)},mv=function(){a.bind(document,"keydown",l),Ze.transform&&a.bind(l.scrollWrap,"click",l),c.mouseUsed||a.bind(document,"mousemove",wl),a.bind(window,"resize scroll orientationchange",l),nt.on("window-resize",l.rAFupdateSize),mt("bindEvents")},gv=function(){a.unbind(window,"resize scroll orientationchange",l),a.unbind(window,"scroll",F.scroll),a.unbind(document,"keydown",l),a.unbind(document,"mousemove",wl),nt.off("window-resize",l.rAFupdateSize),Ze.transform&&a.unbind(l.scrollWrap,"click",l),Vi&&a.unbind(window,q,l),clearTimeout(Ot),mt("unbindEvents")},nc=function(O,H){var X=Rs(l.currItem,W,O);return H&&(xt=X),X},Mp=function(O){return O||(O=l.currItem),O.initialZoomLevel},oc=function(O){return O||(O=l.currItem),O.w>0?c.maxSpreadZoom:1},Rp=function(O,H,X,Y){return Y===l.currItem.initialZoomLevel?(X[O]=l.currItem.initialPosition[O],!0):(X[O]=ic(O,Y),X[O]>H.min[O]?(X[O]=H.min[O],!0):X[O]<H.max[O]?(X[O]=H.max[O],!0):!1)},vv=function(){if(Qe){var O=Ze.perspective&&!Ne;ie="translate"+(O?"3d(":"("),le=Ze.perspective?", 0px)":")";return}Qe="left",a.addClass(i,"quick-view-ie"),po=function(H,X){X.left=H+"px"},co=function(H){var X=H.fitRatio>1?1:H.fitRatio,Y=H.container.style,xe=X*H.w,Te=X*H.h;Y.width=xe+"px",Y.height=Te+"px",Y.left=H.initialPosition.x+"px",Y.top=H.initialPosition.y+"px"},vr=function(){if(mi){var H=mi,X=l.currItem,Y=X.fitRatio>1?1:X.fitRatio,xe=Y*X.w,Te=Y*X.h;H.width=xe+"px",H.height=Te+"px",H.left=I.x+"px",H.top=I.y+"px"}}},yv=function(O){var H="";c.escKey&&O.keyCode===27?H="close":c.arrowKeys&&(O.keyCode===37?H="prev":O.keyCode===39&&(H="next")),O.keyCode===32&&(O.preventDefault(),O.stopImmediatePropagation(),H="close"),H&&!O.ctrlKey&&!O.altKey&&!O.shiftKey&&!O.metaKey&&(O.preventDefault?O.preventDefault():O.returnValue=!1,l[H]())},sc=function(O){O&&(mo||fo||$r||As)&&(O.preventDefault(),O.stopPropagation())},kp=function(){l.setScrollOffset(0,a.getScrollY())};de||window.addEventListener("scroll",m);var ii={},Bo=0,ga=function(O){ii[O]&&(ii[O].raf&&at(ii[O].raf),Bo--,delete ii[O])},ac=function(O){ii[O]&&ga(O),ii[O]||(Bo++,ii[O]={})},va=function(){for(var O in ii)ii.hasOwnProperty(O)&&ga(O)},Ps=function(O,H,X,Y,xe,Te,Le){var rt=Wi(),ht;ac(O);var St=function(){if(ii[O]){if(ht=Wi()-rt,ht>=Y){ga(O),Te(X),Le&&Le();return}Te((X-H)*xe(ht/Y)+H),ii[O].raf=ft(St)}};St()},bv={shout:mt,listen:cr,viewportSize:W,options:c,isMainScrollAnimating:function(){return $r},getZoomLevel:function(){return Z},getCurrentIndex:function(){return _},isDragging:function(){return Vi},isZooming:function(){return wn},setScrollOffset:function(O,H){re.x=O,Rt=re.y=H,mt("updateScrollOffset",re)},applyZoomPan:function(O,H,X,Y){I.x=H,I.y=X,Z=O,vr(Y)},init:function(){if(!(g||x)){e("init",l);var O;l.framework=a,l.template=i,l.bg=a.getChildByClass(i,"quick-view-bg"),l.rAFupdateSize=()=>{l.updateSizeTicking||(l.updateSizeTicking=!0,requestAnimationFrame(()=>{l.updateSize(),l.updateSizeTicking=!1}))},l.captionPositioner=a.getChildByClass(i,"quick-view-caption-positioner"),l.captionWrapper=a.getChildByClass(l.captionPositioner,"quick-view-caption-wrapper"),l.caption=a.getChildByClass(l.captionWrapper,"quick-view-caption"),tt=i.className,g=!0,Ze=a.detectFeatures(),ft=Ze.raf,at=Ze.caf,Qe=Ze.transform,ct=Ze.oldIE,l.scrollWrap=a.getChildByClass(i,"quick-view-scroll-wrap"),l.container=a.getChildByClass(l.scrollWrap,"quick-view-container"),D=l.container.style,l.itemHolders=ae=[{el:l.container.children[0],wrap:0,index:-1},{el:l.container.children[1],wrap:0,index:-1},{el:l.container.children[2],wrap:0,index:-1}],ae[0].el.style.display=ae[2].el.style.display="none",vv(),F={resize:l.updateSize,orientationchange:function(){clearTimeout(Ot),Ot=setTimeout(function(){W.x!==l.scrollWrap.clientWidth&&l.updateSize()},500)},scroll:kp,keydown:yv,click:sc};var H=Ze.isOldIOSPhone||Ze.isOldAndroid||Ze.isMobileOpera;for((!Ze.animationName||!Ze.transform||H)&&(c.showAnimationDuration=c.hideAnimationDuration=0),O=0;O<He.length;O++)l["init"+He[O]]();if(n){var X=l.ui=new n(l,a);X.init()}mt("firstUpdate"),_=_||c.index||0,(isNaN(_)||_<0||_>=vi())&&(_=0),l.currItem=Sn(_),(Ze.isOldIOSPhone||Ze.isOldAndroid)&&($e=!1),i.setAttribute("aria-hidden","false"),c.modal&&($e?i.style.position="fixed":(i.style.position="absolute",i.style.top=a.getScrollY()+"px")),i.classList.add("quick-view-vertical-align-"+c.alignVertical),i.classList.add("quick-view-horizontal-align-"+c.alignHorizontal),Rt===void 0&&(mt("initialLayout"),Rt=Xe=a.getScrollY());var Y="quick-view-open ";for(c.mainClass&&(Y+=c.mainClass+" "),c.showHideOpacity&&(Y+="quick-view-animate_opacity "),Y+=Ne?"quick-view-touch":"quick-view-notouch",Y+=Ze.animationName?" quick-view-css_animation":"",Y+=Ze.svg?" quick-view-svg":"",a.addClass(i,Y),l.updateSize(),M=-1,ce=null,O=0;O<f;O++)po((O+M)*ee.x+U.left,0,ae[O].el.style);ct||a.bind(l.scrollWrap,N,l),cr("initialZoomInEnd",function(){l.setContent(ae[0],_-1),l.setContent(ae[2],_+1),ae[0].el.style.display=ae[2].el.style.display="block",c.focus&&i.focus(),mv()}),l.setContent(ae[1],_),l.updateCurrItem(),setTimeout(l.updateCaption,c.showAnimationDuration+50),mt("afterInit",_),e("after-init",l),$e||(G=setInterval(function(){!Bo&&!Vi&&!wn&&Z===l.currItem.initialZoomLevel&&l.updateSize()},1e3)),a.addClass(i,"quick-view-visible")}},close:function(){g&&(g=!1,x=!0,mt("close"),e("closing",l),gv(),Ea(l.currItem,null,!0,l.destroy))},destroy:function(){mt("destroy"),e("destroy",l),ir&&clearTimeout(ir),i.setAttribute("aria-hidden","true"),i.className=tt,G&&clearInterval(G),a.unbind(l.scrollWrap,N,l),a.unbind(window,"scroll",l),window.removeEventListener("scroll",m),_l(),va(),Lt=null},panTo:function(O,H,X){X||(O>xt.min.x?O=xt.min.x:O<xt.max.x&&(O=xt.max.x),H>xt.min.y?H=xt.min.y:H<xt.max.y&&(H=xt.max.y)),I.x=O,I.y=H,vr()},handleEvent:function(O){O=O||window.event,F[O.type]&&F[O.type](O)},goTo:function(O){O=Mi(O);var H=O-_;ce=H,_=O,l.currItem=Sn(_),Q-=H,Cs(ee.x*Q),va(),$r=!1,l.updateCurrItem()},next:function(){l.goTo(_+1)},prev:function(){l.goTo(_-1)},updateCurrZoomItem:function(O){if(O&&(mt("beforeChange",0),e("before-slide-change",l,0)),ae[1].el.children.length){var H=ae[1].el.children[0];a.hasClass(H,"quick-view-zoom-wrap")?mi=H.style:mi=null}else mi=null;xt=l.currItem.bounds,J=Z=l.currItem.initialZoomLevel,I.x=xt.center.x,I.y=xt.center.y,O&&(mt("afterChange",_),e("after-slide-change",l))},invalidateCurrItems:function(){K=!0;for(var O=0;O<f;O++)ae[O].item&&(ae[O].item.needsUpdate=!0)},updateCaption:function(){if(l.currItem.caption&&c.showCaption){for(;l.caption.childNodes.length>0;)l.caption.childNodes[0].parentNode.removeChild(l.caption.childNodes[0]);l.caption.appendChild(l.currItem.caption),Ca(l.currItem),l.caption.classList.remove("hidden")}else if(c.showCaption){var O=function(){for(;l.caption.childNodes.length>0;)l.caption.childNodes[0].parentNode.removeChild(l.caption.childNodes[0]);l.caption.removeEventListener("transitionend",O)};l.caption.classList.contains("hidden")?O():(l.caption.addEventListener("transitionend",O),l.caption.classList.add("hidden"))}},updateCurrItem:function(O){if(ce!==0){var H=Math.abs(ce),X;if(!(O&&H<2)){l.currItem=Sn(_),_t=!1,mt("beforeChange",ce);var Y=ce;Y===null&&(Y=0),e("slide-change",l,Y),H>=f&&(M+=ce+(ce>0?-f:f),H=f);for(var xe=0;xe<H;xe++)ce>0?(X=ae.shift(),ae[f-1]=X,M++,po((M+2)*ee.x+U.left,0,X.el.style),l.setContent(X,_-H+xe+1+1)):(X=ae.pop(),ae.unshift(X),M--,po(M*ee.x+U.left,0,X.el.style),l.setContent(X,_+H-xe-1-1));if(mi&&Math.abs(ce)===1){var rt=Sn(se);rt.initialZoomLevel!==Z&&(Rs(rt,W),oi(rt),co(rt))}var Te=1+-ce,Le=ae[Te];ce=0,l.updateCurrZoomItem(),se!==void 0&&l.updateCaption();var rt=Sn(se),ht=rt?.container?.querySelector("media-item");ht&&(ht.pause?.(),ht.getAttribute("autoplay")!="true"&&ht.setCurrentTime?.(0),ht.removeAttribute("autoplay"));var St=Sn(_),Ve=St?.container?.querySelector("media-item");Ve&&(Ve.setAttribute("force-visible",!0),Ve.onload=()=>{St.autoplay?Ve.play?.():setTimeout(()=>{Ve?.play?.()},400)}),se=_,mt("afterChange",_)}}},updateSize:function(O){if(!$e&&c.modal){var H=a.getScrollY();if(Rt!==H&&(i.style.top=H+"px",Rt=H),!O&&Dt.x===window.innerWidth&&Dt.y===window.innerHeight)return;Dt.x=window.innerWidth,Dt.y=window.innerHeight,i.style.height=Dt.y+"px"}var X=window.getComputedStyle(l.template),Y=parseFloat(X.getPropertyValue("padding-left"))+parseFloat(X.getPropertyValue("border-left-width")),xe=parseFloat(X.getPropertyValue("margin-left")),Te=parseFloat(X.getPropertyValue("padding-right"))+parseFloat(X.getPropertyValue("border-right-width")),Le=parseFloat(X.getPropertyValue("margin-right")),rt=parseFloat(X.getPropertyValue("padding-top"))+parseFloat(X.getPropertyValue("border-top-width")),ht=parseFloat(X.getPropertyValue("margin-top")),St=parseFloat(X.getPropertyValue("padding-bottom"))+parseFloat(X.getPropertyValue("border-bottom-width")),Ve=parseFloat(X.getPropertyValue("margin-bottom"));let Et="quick-view-vertical-align-"+c.alignVertical,Kt="quick-view-horizontal-align-"+c.alignHorizontal;Et!=="quick-view-vertical-align-center"&&i.classList.remove("quick-view-vertical-align-center"),Et!=="quick-view-vertical-align-top"&&i.classList.remove("quick-view-vertical-align-top"),Et!=="quick-view-vertical-align-bottom"&&i.classList.remove("quick-view-vertical-align-bottom"),Kt!=="quick-view-horizontal-align-center"&&i.classList.remove("quick-view-horizontal-align-center"),Kt!=="quick-view-horizontal-align-left"&&i.classList.remove("quick-view-horizontal-align-left"),Kt!=="quick-view-horizontal-align-right"&&i.classList.remove("quick-view-horizontal-align-right"),i.classList.add(Et),i.classList.add(Kt),U.top=rt,U.left=Y,U.bottom=St,U.right=Te,U.marginTop=ht,U.marginLeft=xe,U.marginBottom=Ve,U.marginRight=Le;var si=l.scrollWrap.getBoundingClientRect();if(W.x=si.width,W.y=si.height,kp(),ee.x=W.x+W.x*c.spacing,ee.y=W.y,Cs(ee.x*Q),mt("beforeResize"),M!==void 0){for(var fr,zt,_r,Er=0;Er<f;Er++)fr=ae[Er],po((Er+M)*ee.x+U.left,0,fr.el.style),_r=_+Er-1,c.loop&&vi()>2&&(_r=Mi(_r)),zt=Sn(_r),zt&&(K||zt.needsUpdate||!zt.bounds)?(l.cleanSlide(zt),l.setContent(fr,_r),Er===1&&(l.currItem=zt,l.updateCurrZoomItem(!0)),zt.needsUpdate=!1):fr.index===-1&&_r>=0&&l.setContent(fr,_r),zt&&zt.container&&(Rs(zt,W),oi(zt),co(zt));K=!1}J=Z=l.currItem.initialZoomLevel,xt=l.currItem.bounds,xt&&(I.x=xt.center.x,I.y=xt.center.y,vr(!0)),mt("resize")},zoomTo:function(O,H,X,Y,xe){H&&(J=Z,xa.x=Math.abs(H.x)-I.x,xa.y=Math.abs(H.y)-I.y,pi(L,I));var Te=nc(O,!1),Le={};Rp("x",Te,Le,O),Rp("y",Te,Le,O);var rt=Z,ht={x:I.x,y:I.y};Tp(Le);var St=function(Ve){Ve===1?(Z=O,I.x=Le.x,I.y=Le.y,l.currItem.caption&&c.showCaption&&(Math.abs(Z-l.currItem.fitRatio)>.01?l.caption.classList.add("hidden"):l.caption.classList.remove("hidden"))):(Z=(O-rt)*Ve+rt,I.x=(Le.x-ht.x)*Ve+ht.x,I.y=(Le.y-ht.y)*Ve+ht.y),xe&&xe(Ve),vr(Ve===1)};X?Ps("customZoomTo",0,1,X,Y||a.easing.sine.inOut,St):St(1)}},Np=30,lc=10,uc,xl,hi={},Uo={},fi={},Vr={},qo={},on=[],Ho={},ho,Wo=[],Is={},cc,As,Ts,ya=0,Sl=v(),dc=0,Vi,pc,fo,mo,ba,bn,ki,wn,wa,hc,xt,xn=v(),mi,$r,xa=v(),Vo=v(),$i,Sa,Un,Ms,_a,wv=function(O,H){return O.x===H.x&&O.y===H.y},Op=function(O,H){return Math.abs(O.x-H.x)<p&&Math.abs(O.y-H.y)<p},fc=function(O,H){return Is.x=Math.abs(O.x-H.x),Is.y=Math.abs(O.y-H.y),Math.sqrt(Is.x*Is.x+Is.y*Is.y)},_l=function(){ba&&(at(ba),ba=null)},mc=function(){Vi&&(ba=ft(mc),Cv())},xv=function(){return!(c.scaleMode==="fit"&&Z===l.currItem.initialZoomLevel)},Dp=function(O,H){return!O||O===document||O.getAttribute("class")&&O.getAttribute("class").indexOf("quick-view-scroll-wrap")>-1?!1:H(O)?O:Dp(O.parentNode,H)},gc={},vc=function(O,H){return gc.prevent=!Dp(O.target,c.isClickableElement),mt("preventDragEvent",O,H,gc),gc.prevent},Lp=function(O,H){return H.x=O.pageX+-U.left+-U.marginLeft,H.y=O.pageY+-U.top+-U.marginTop,H.clientY=O.clientY,H.id=O.identifier,H},Fp=function(O,H,X){X.x=(O.x+H.x)*.5,X.y=(O.y+H.y)*.5},Sv=function(O,H,X){if(O-xl>50){var Y=Wo.length>2?Wo.shift():{};Y.x=H,Y.y=X,Wo.push(Y),xl=O}},zp=function(){var O=I.y-l.currItem.initialPosition.y;return Math.min(1.2-Math.abs(O/(W.y/2)),1)},go={},_v={},vo=[],El,yc=function(O){for(;vo.length>0;)vo.pop();return Me?(El=0,on.forEach(function(H){El===0?vo[0]=H:El===1&&(vo[1]=H),El++})):O.type.indexOf("touch")>-1?O.touches&&O.touches.length>0&&(vo[0]=Lp(O.touches[0],go),O.touches.length>1&&(vo[1]=Lp(O.touches[1],_v))):(go.x=O.pageX,go.y=O.pageY,go.clientY=O.clientY,go.id="",vo[0]=go),vo},Bp=function(O,H){var X,Y=0,xe=I[O]+H[O],Te,Le=H[O]>0,rt=xn.x+H.x,ht=xn.x-Ho.x,St,Ve;if(xe>xt.min[O]||xe<xt.max[O]?X=c.panEndFriction:X=1,xe=I[O]+H[O]*X,(c.allowPanToNext||Z===l.currItem.initialZoomLevel)&&(mi?$i==="h"&&O==="x"&&!fo&&(Le?(xe>xt.min[O]&&(X=c.panEndFriction,Y=xt.min[O]-xe,Te=Math.round(xt.min[O]-L[O])),(Te<=0||ht<0)&&vi()>1?(Ve=rt,ht<0&&rt>Ho.x&&(Ve=Ho.x)):xt.min.x!==xt.max.x&&(St=xe)):(xe<xt.max[O]&&(X=c.panEndFriction,Y=xe-xt.max[O],Te=Math.round(L[O]-xt.max[O])),(Te<=0||ht>0)&&vi()>1?(Ve=rt,ht>0&&rt<Ho.x&&(Ve=Ho.x)):xt.min.x!==xt.max.x&&(St=xe))):Ve=rt,O==="x"))return Ve!==void 0&&(Cs(Ve,!0),Ve===Ho.x?bn=!1:bn=!0),xt.min.x!==xt.max.x&&(St!==void 0?I.x=St:bn||(I.x+=H.x*X)),Ve!==void 0;$r||bn||Z>l.currItem.fitRatio&&(I[O]+=H[O]*X)},Qt=null,Jt=function(O){if(!(O.type==="mousedown"&&O.button>0)){if($o){O.preventDefault();return}if(!(Ts&&O.type==="mousedown")){if(vc(O,!0)&&O.preventDefault(),Il=O.type,Qt=setTimeout(function(){l.template.classList.add("mouse-down")},200),mt("pointerDown"),Me){var H=a.arraySearch(on,O.pointerId,"id");H<0&&(H=on.length),on[H]={x:O.pageX,y:O.pageY,clientY:O.clientY,id:O.pointerId}}var X=yc(O),Y=X.length;ki=null,va(),(!Vi||Y===1)&&(Vi=Sa=!0,a.bind(window,q,l),cc=bi=_a=Un=As=bn=mo=pc=fo=!1,$i=null,wc=X[0].y+-Rt,mt("firstTouchStart",X),pi(L,I),P.x=P.y=0,pi(Vr,X[0]),pi(qo,Vr),Ho.x=ee.x*Q,Wo=[{x:Vr.x,y:Vr.y}],xl=uc=Wi(),nc(Z,!0),_l(),mc()),!wn&&Y>1&&!$r&&!bn&&(J=Z,fo=!1,wn=pc=!0,P.y=P.x=0,pi(L,I),pi(hi,X[0]),pi(Uo,X[1]),Fp(hi,Uo,Vo),xa.x=Math.abs(Vo.x)-I.x,xa.y=Math.abs(Vo.y)-I.y,wa=hc=fc(hi,Uo))}}},Ev=function(O){if(O.preventDefault(),Me){var H=a.arraySearch(on,O.pointerId,"id");if(H>-1){var X=on[H];X.x=O.pageX,X.y=O.pageY,X.clientY=O.clientY}}if(Vi){var Y=yc(O);if(!$i&&!mo&&!wn)if(xn.x!==ee.x*Q)$i="h";else{var xe=Math.abs(Y[0].x-Vr.x)-Math.abs(Y[0].y-Vr.y);Math.abs(xe)>=lc&&($i=xe>0?"h":"v",ki=Y)}else ki=Y;jo=jo+(wc-Y[0].clientY),wc=Y[0].clientY}},Cv=function(){if(ki){var O=ki.length;if(O!==0)if(pi(hi,ki[0]),fi.x=hi.x-Vr.x,fi.y=hi.y-Vr.y,wn&&O>1){if(Vr.x=hi.x,Vr.y=hi.y,!fi.x&&!fi.y&&wv(ki[1],Uo))return;pi(Uo,ki[1]),fo||(fo=!0,mt("zoomGestureStarted"),l.currItem.caption&&c.showCaption&&l.caption.classList.add("hidden"));var H=fc(hi,Uo),X=Up(H);X>l.currItem.initialZoomLevel+l.currItem.initialZoomLevel/15&&(_a=!0);var Y=1,xe=Mp(),Te=oc();if(X<xe)if(c.pinchToClose&&!_a&&J<=l.currItem.initialZoomLevel){var Le=xe-X,rt=1-Le/(xe/1.2);Ri(rt),mt("onPinchClose",rt),Un=!0}else Y=(xe-X)/xe,Y>1&&(Y=1),X=xe-Y*(xe/3);else X>Te&&(Y=(X-Te)/(xe*6),Y>1&&(Y=1),X=Te+Y*xe);Y<0&&(Y=0),wa=H,Fp(hi,Uo,Sl),P.x+=Sl.x-Vo.x,P.y+=Sl.y-Vo.y,pi(Vo,Sl),I.x=ic("x",X),I.y=ic("y",X),cc=X>Z,Z=X,vr()}else{if(!$i||(Sa&&(Sa=!1,Math.abs(fi.x)>=lc&&(fi.x-=ki[0].x-qo.x),Math.abs(fi.y)>=lc&&(fi.y-=ki[0].y-qo.y,jo-=-(ki[0].y-qo.y))),Vr.x=hi.x,Vr.y=hi.y,fi.x===0&&fi.y===0))return;if($i==="v"&&c.animatedCloseOnScroll&&Il==="touchstart"){if(yi=jo,jo=0,!bi&&!Tt){bi=!0,yo(),Aa();var ht=!1,St=0,Ve=1,Et=0;sn=0,ks=0;var Kt=Vr.y,si=Vr.y,fr,zt,_r=document.documentElement.scrollTop,Er=document.documentElement.scrollHeight,Ds=W.y,Nr=!1,ai=function(){Nr||(Nr=!0,zt=requestAnimationFrame(function(){transformTargets.style.transform="translateY("+-ks+"px)",Nr=!1}))},Ls=function(jr){if(jr.touches.length==0||jr.touches.length>1){Oi(),ln();return}jr.preventDefault(),sn=si-jr.touches[0].pageY,ks=sn,sn+_r<=0?(scrollMonitor.__frozen=!0,ks=-_r):sn+_r+Ds>=Er?(scrollMonitor.__frozen=!0,ks=0):scrollMonitor.__frozen&&delete scrollMonitor.__frozen,Et=Kt-jr.touches[0].pageY,Kt=jr.touches[0].pageY,ai()},Oi=function(){window.removeEventListener("touchmove",Ls),window.removeEventListener("touchend",Oi),window.addEventListener("touchstart",ln),cancelAnimationFrame(zt),transformTargets.style.transform="",document.documentElement.scrollTop=document.documentElement.scrollTop+sn,wi(),requestAnimationFrame(function(){scrollMonitor.__frozen&&delete scrollMonitor.__frozen,Cargo.View.Backdrop.updateBackdropScrollPosition(!0),Cargo.Event.trigger("lightbox-scroll-finished")})},ln=function(){Et=0,cancelAnimationFrame(fr),window.removeEventListener("touchstart",ln)},wi=function(){Ve=Ve*.95;var jr=Et*Ve;document.documentElement.scrollTop=document.documentElement.scrollTop+jr,Math.abs(jr)>.5?fr=requestAnimationFrame(function(){wi()}):ln()};window.addEventListener("touchmove",Ls),window.addEventListener("touchend",Oi)}return}else if($i==="v"&&c.closeOnVerticalDrag&&!xv()){P.y+=fi.y,I.y+=fi.y;var Ko=zp();As=!0,mt("onVerticalDrag",Ko),Ri(Ko),vr();return}Sv(Wi(),hi.x,hi.y),$i==="h"&&c.showCaption&&!mo&&l.caption.classList.add("hidden"),mo=!0,xt=l.currItem.bounds;var kv=Bp("x",fi);kv||(Bp("y",fi),Tp(I),vr())}}},Pv=function(O){if(Il="",Ze.isOldAndroid){if(Ts&&O.type==="mouseup")return;O.type.indexOf("touch")>-1&&(clearTimeout(Ts),Ts=setTimeout(function(){Ts=0},600))}clearTimeout(Qt),l.template.classList.remove("mouse-down"),mt("pointerUp"),vc(O,!1)&&O.preventDefault();var H;if(Me){var X=a.arraySearch(on,O.pointerId,"id");if(X>-1)if(H=on.splice(X,1)[0],navigator.pointerEnabled)H.type=O.pointerType||"mouse";else{var Y={4:"mouse",2:"touch",3:"pen"};H.type=Y[O.pointerType],H.type||(H.type=O.pointerType||"mouse")}}var xe=yc(O),Te,Le=xe.length;if(O.type==="mouseup"&&(Le=0),Le===2)return ki=null,!0;Le===1&&pi(qo,xe[0]),Le===0&&!$i&&!$r&&(H||(O.type==="mouseup"?H={x:O.pageX+-U.left+-U.marginLeft,y:O.pageY+-U.top+-U.marginTop,type:"mouse"}:O.changedTouches&&O.changedTouches[0]&&(H={x:O.changedTouches[0].pageX+-U.left+-U.marginLeft,y:O.changedTouches[0].pageY+-U.top+-U.marginTop,type:"touch"})),mt("touchRelease",O,H));var rt=-1;if(Le===0&&(Vi=!1,a.unbind(window,q,l),_l(),wn?rt=0:dc!==-1&&(rt=Wi()-dc)),dc=Le===1?Wi():-1,rt!==-1&&rt<150?Te="zoom":Te="swipe",wn&&Le<2&&(wn=!1,Le===1&&(Te="zoomPointerUp"),mt("zoomGestureEnded")),ki=null,!(!mo&&!fo&&!$r&&!As&&!bi)){if(va(),ho||(ho=Iv()),ho.calculateSwipeSpeed("x"),bi)an&&clearTimeout(an),bi=!1,yo(),Sc();else if(As){var ht=zp();if(ht<c.verticalDragRange)l.close();else{var St=I.y,Ve=Ms;Ps("verticalDrag",0,1,300,a.easing.cubic.out,function(Kt){I.y=(l.currItem.initialPosition.y-St)*Kt+St,Ri((1-Ve)*Kt+Ve),vr()}),mt("onVerticalDrag",1)}return}if((bn||$r)&&Le===0){var Et=Tv(Te,ho);if(Et)return;Te="zoomPointerUp"}if(!$r){if(Te!=="swipe"){Mv();return}!bn&&Z>l.currItem.fitRatio&&Av(ho)}}},Iv=function(){var O,H,X={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(Y){Wo.length>1?(O=Wi()-xl+50,H=Wo[Wo.length-2][Y]):(O=Wi()-uc,H=qo[Y]),X.lastFlickOffset[Y]=Vr[Y]-H,X.lastFlickDist[Y]=Math.abs(X.lastFlickOffset[Y]),X.lastFlickDist[Y]>20?X.lastFlickSpeed[Y]=X.lastFlickOffset[Y]/O:X.lastFlickSpeed[Y]=0,Math.abs(X.lastFlickSpeed[Y])<.1&&(X.lastFlickSpeed[Y]=0),X.slowDownRatio[Y]=.95,X.slowDownRatioReverse[Y]=1-X.slowDownRatio[Y],X.speedDecelerationRatio[Y]=1},calculateOverBoundsAnimOffset:function(Y,xe){X.backAnimStarted[Y]||(I[Y]>xt.min[Y]?X.backAnimDestination[Y]=xt.min[Y]:I[Y]<xt.max[Y]&&(X.backAnimDestination[Y]=xt.max[Y]),X.backAnimDestination[Y]!==void 0&&(X.slowDownRatio[Y]=.7,X.slowDownRatioReverse[Y]=1-X.slowDownRatio[Y],X.speedDecelerationRatioAbs[Y]<.05&&(X.lastFlickSpeed[Y]=0,X.backAnimStarted[Y]=!0,Ps("bounceZoomPan"+Y,I[Y],X.backAnimDestination[Y],xe||300,a.easing.sine.out,function(Te){I[Y]=Te,vr()}))))},calculateAnimOffset:function(Y){X.backAnimStarted[Y]||(X.speedDecelerationRatio[Y]=X.speedDecelerationRatio[Y]*(X.slowDownRatio[Y]+X.slowDownRatioReverse[Y]-X.slowDownRatioReverse[Y]*X.timeDiff/10),X.speedDecelerationRatioAbs[Y]=Math.abs(X.lastFlickSpeed[Y]*X.speedDecelerationRatio[Y]),X.distanceOffset[Y]=X.lastFlickSpeed[Y]*X.speedDecelerationRatio[Y]*X.timeDiff,I[Y]+=X.distanceOffset[Y])},panAnimLoop:function(){if(ii.zoomPan&&(ii.zoomPan.raf=ft(X.panAnimLoop),X.now=Wi(),X.timeDiff=X.now-X.lastNow,X.lastNow=X.now,X.calculateAnimOffset("x"),X.calculateAnimOffset("y"),vr(),X.calculateOverBoundsAnimOffset("x"),X.calculateOverBoundsAnimOffset("y"),X.speedDecelerationRatioAbs.x<.05&&X.speedDecelerationRatioAbs.y<.05)){I.x=I.x,I.y=I.y,vr(),ga("zoomPan");return}}};return X},Av=function(O){if(O.calculateSwipeSpeed("y"),xt=l.currItem.bounds,O.backAnimDestination={},O.backAnimStarted={},Math.abs(O.lastFlickSpeed.x)<=.05&&Math.abs(O.lastFlickSpeed.y)<=.05)return O.speedDecelerationRatioAbs.x=O.speedDecelerationRatioAbs.y=0,O.calculateOverBoundsAnimOffset("x"),O.calculateOverBoundsAnimOffset("y"),!0;ac("zoomPan"),O.lastNow=Wi(),O.panAnimLoop()},Tv=function(O,H){var X;$r||(ya=_);var Y;if(O==="swipe"){var xe=Vr.x-qo.x,Te=H.lastFlickDist.x<10;xe>Np&&(Te||H.lastFlickOffset.x>20)?Y=-1:xe<-Np&&(Te||H.lastFlickOffset.x<-20)&&(Y=1)}var Le;Y&&(_+=Y,_<0?(_=c.loop?vi()-1:0,Le=!0):_>=vi()&&(_=c.loop?0:vi()-1,Le=!0),(!Le||c.loop)&&(ce+=Y,Q-=Y,X=!0));var rt=ee.x*Q,ht=Math.abs(rt-xn.x),St;return!X&&rt>xn.x!=H.lastFlickSpeed.x>0?St=333:(St=Math.abs(H.lastFlickSpeed.x)>0?ht/Math.abs(H.lastFlickSpeed.x):333,St=Math.min(St,400),St=Math.max(St,250)),ya===_&&(X=!1),$r=!0,mt("mainScrollAnimStart"),Ps("mainScroll",xn.x,rt,St,a.easing.cubic.out,Cs,function(){va(),$r=!1,ya=-1,(X||ya!==_)&&l.updateCurrItem(),mt("mainScrollAnimComplete")}),X?l.updateCurrItem(!0):l.updateCaption(),X},Up=function(O){return 1/hc*O*J},Mv=function(){var O=Z,H=Mp(),X=oc();Z<H?O=H:Z>X&&(O=X);var Y=1,xe,Te=Ms;return Un&&!cc&&!_a&&Z<H?(l.close(),!0):(Un&&(xe=function(Le){Ri((Y-Te)*Le+Te)}),l.zoomTo(O,0,200,a.easing.cubic.out,xe),!0)};ri("Gestures",{publicMethods:{initGestures:function(){var O=function(H,X,Y,xe,Te){_e=H+X,Ie=H+Y,ge=H+xe,Te?Re=H+Te:Re=""};Me=Ze.pointerEvent,Me&&Ze.touch&&(Ze.touch=!1),Me?navigator.pointerEnabled?O("pointer","down","move","up","cancel"):O("MSPointer","Down","Move","Up","Cancel"):Ze.touch?(O("touch","start","move","end","cancel"),Ne=!0):O("mouse","down","move","up"),q=Ie+" "+ge+" "+Re,N=_e,Me&&!Ne&&(Ne=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),l.likelyTouchDevice=Ne,F[_e]=Jt,F[Ie]=Ev,F[ge]=Pv,Re&&(F[Re]=F[ge]),Ze.touch&&(N+=" mousedown",q+=" mousemove mouseup",F.mousedown=F[_e],F.mousemove=F[Ie],F.mouseup=F[ge]),Ne||(c.allowPanToNext=!1)}}});var ir,Ea=function(O,H,X,Y){if(ir&&clearTimeout(ir),$o=!0,gi=!0,X){let Ve=O.el?.closest?.("gallery-slideshow");if(Ve){let Et=parseInt(O.el?.assignedSlot?.name?.replace("slot-",""))??-1;if(parseInt(Ve.getActiveSlide()[0])!==Et){Ve.goToSlide(parseInt(Et)),ir=setTimeout(()=>{Ea(O,H,X,Y)},30);return}}}let xe=O.el?.shadowRoot?.querySelector('[part*="media"]'),Te=O.container.querySelector("media-item")?.shadowRoot?.querySelector('[part*="media"]');var Le=X?c.hideAnimationDuration:c.showAnimationDuration;let rt=!1;if(xe){rt=!0;let Ve=O.el.closest("marquee-set"),Et=xe.getBoundingClientRect(),Kt=Ve?Ve.getBoundingClientRect():{top:0,left:0,right:document.documentElement.clientWidth,bottom:document.documentElement.clientHeight};(Et.bottom<Kt.top||Et.top>Kt.bottom||Et.right<Kt.left||Et.left>Kt.right)&&(rt=!1)}if(rt&&Te&&xe){vr(),O.container.style.width=Te.offsetWidth+"px",O.container.style.height=Te.offsetHeight+"px";let Ve={x:Te.offsetWidth/2,y:Te.offsetHeight/2},Et=s3(xe),Kt={x:xe.offsetWidth/2+-Et.leftBorder+-Et.leftPad,y:xe.offsetHeight/2+-Et.topBorder+-Et.topPad},si=i3(xe,Kt,Et),fr=i3(Te,Ve);si.forEach(wi=>{wi[0]+=I.x,wi[1]+=I.y+U.top});let zt=_le(fr,si),_r=Math.sqrt(zt[12]*zt[12]+zt[13]*zt[13]),Er=Math.max(0,20/_r),Ds=[1,0,0,0,0,1,0,0,0,0,1,0,I.x,I.y+U.top,0,1],Nr=getComputedStyle(O.el.shadowRoot.querySelector(".sizing-frame")),ai=getComputedStyle(xe),Ls=ai.getPropertyValue("opacity")!=1||ai.getPropertyValue("filter")!="none"||Nr.getPropertyValue("opacity")!=1||Nr.getPropertyValue("filter")!="none",Oi=[{offset:0,transform:"matrix3d("+zt.map(wi=>Number(wi).toFixed(10)).join(",")+")"},{offset:1,transform:"matrix3d("+Ds.map(wi=>Number(wi).toFixed(10)).join(",")+")"}];Ls&&(Oi[0].filter=Nr.getPropertyValue("filter"),Oi[0].opacity=0,Oi.splice(1,0,{opacity:Nr.getPropertyValue("opacity")/3,offset:Er/2},{opacity:Nr.getPropertyValue("opacity")/2,offset:Er},{opacity:Nr.getPropertyValue("opacity"),offset:Math.min(1,Er*5)}),Oi[Oi.length-1].opacity=1);let ln={fill:X?"forwards":"none",direction:X?"reverse":"normal",easing:"ease-in-out",duration:Le};requestAnimationFrame(()=>{let wi=O.container.animate(Oi,ln)})}var ht=function(){if(ga("initialZoom"),X)l.template.removeAttribute("style"),l.bg.removeAttribute("style");else{if(Ri(1),H&&(H.style.display="block"),O.autoplay){let Ve=O.container.querySelector("media-item");Ve&&(Ve.onload=()=>{Ve.play?.()})}a.addClass(i,"quick-view-hide-overflow"),a.addClass(i,"quick-view-animated-in"),mt("initialZoom"+(X?"OutEnd":"InEnd"))}Y&&Y(),$o=!1};if(!Le){mt("initialZoom"+(X?"Out":"In")),Z=O.initialZoomLevel,pi(I,O.initialPosition),vr(),i.style.opacity=X?0:1,Ri(1),Le?setTimeout(function(){ht()},Le):ht();return}var St=function(){var Ve=E||X,Et=l.currItem.loadError||c.showHideOpacity||!rt,Kt=bi,si=0;if(O.container.style.backfaceVisibility="hidden",X||(l[Et?"template":"bg"].style.opacity=.001,vr()),ac("initialZoom"),X&&!Ve&&a.removeClass(i,"quick-view-animated-in"),X){a.removeClass(i,"quick-view-hide-overflow");var fr=l.getCurrentIndex();n3.default.each(l.itemHolders,function(Er){Er.index!==fr&&(Er.el.style.display="none")}),c.showCaption&&l.caption.classList.add("hidden")}let zt=l.currItem.el?.getAttribute?.("rel")==="quick-view";(Et||Kt||zt)&&(X?a[(Ve?"remove":"add")+"Class"](i,"quick-view-animate_opacity"):setTimeout(function(){a.addClass(i,"quick-view-animate_opacity")},30));var _r=function(){if(mt("initialZoom"+(X?"Out":"In")),X){var Er={x:I.x,y:I.y},Ds=Z,Nr=Ms,ai=document.documentElement.scrollTop,Ls=ks,Oi=function(ln){if(vr(),Kt){var wi=1-ln;if(Math.hasOwnProperty("cbrt")){var Ko=1-Math.cbrt(wi);wi=1-Ko*Ko*Ko*Ko}i.style.opacity=wi}else Et?i.style.opacity=1-ln:Ri(Nr-ln*Nr)};Ve?Ps("initialZoom",0,1,Le,a.easing.cubic.out,Oi,ht):(Oi(1),ir=setTimeout(ht,Le+20))}else{if(Z=O.initialZoomLevel,pi(I,O.initialPosition),vr(),Ri(1),mi){mi.opacity="",mi.transitionDuration="";let ln=O.container.offsetHeight}Et?i.style.opacity=1:Ri(1),ir=setTimeout(ht,Le+20)}};si===0?_r():ir=setTimeout(function(){_r()},si)};St()},ji,Fr={},qn=[],gi,$o,qp={index:0,errorMsg:'<div class="quick-view-error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return ji.length}},Sn,vi,Hp,Wp=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},Ni=function(O,H,X){var Y=O.bounds;c.alignHorizontal==="left"?Y.center.x=0:c.alignHorizontal==="right"?Y.center.x=Fr.x-H+O.hGap.left:Y.center.x=(Fr.x-H)/2+O.hGap.left,c.alignVertical==="top"?Y.center.y=0:c.alignVertical==="bottom"?Y.center.y=Fr.y-X+O.vGap.top:Y.center.y=(Fr.y-X)/2+O.vGap.top,Y.max.x=H>Fr.x?Fr.x-H+O.hGap.left:Y.center.x,Y.max.y=X>Fr.y?Fr.y-X+O.vGap.top:Y.center.y,Y.min.x=H>Fr.x?O.hGap.left:Y.center.x,Y.min.y=X>Fr.y?O.vGap.top:Y.center.y},Rs=function(O,H,X){var Y=!X;if(Y&&(O.vGap||(O.vGap={top:0,bottom:0}),O.hGap||(O.hGap={left:0,right:0}),mt("parseVerticalMargin",O)),O.useViewportHeight||O.useViewportWidth?(Fr.x=H.x-O.hGap.left-O.hGap.right,Fr.y=H.y-O.vGap.top-O.vGap.bottom):(Fr.x=H.x-O.hGap.left-O.hGap.right+-(U.left+U.right),Fr.y=H.y-O.vGap.top-O.vGap.bottom+-(U.top+U.bottom)),Y){var rt=O.w,ht=O.h;O.useViewportWidth&&(rt=(H.x-(U.left+U.right))*O.viewportWidthPercentage),O.useViewportHeight&&(ht=(H.y-(U.top+U.bottom))*O.viewportHeightPercentage);var xe=Fr.x/rt,Te=Fr.y/ht;O.useViewportHeight||O.useViewportWidth?O.fitRatio=1:O.fitRatio=xe<Te?xe:Te;var Le=c.scaleMode;Le==="orig"?X=1:Le==="fit"&&(X=O.fitRatio),X>1&&(X=1),X==0&&(X=.01),O.initialZoomLevel=X,O.bounds||(O.bounds=Wp())}if(X){var rt=O.w,ht=O.h;return O.useViewportWidth&&(rt=H.x*O.viewportWidthPercentage),O.useViewportHeight&&(ht=H.y*O.viewportHeightPercentage),(O.useViewportHeight||O.useViewportWidth)&&(X=1),Ni(O,rt*X,ht*X),Y&&X===O.initialZoomLevel&&(O.initialPosition=O.bounds.center),O.bounds}},ni=function(O,H,X,Y,xe,Te){if(!H.loadError&&Y){H.imageAppended=!0,oi(H,Y,H===l.currItem&&_t),X.appendChild(Y),Te&&(H.placeholder&&H.placeholder.classList.remove("quick-view-item"),setTimeout(function(){H&&H.loaded&&H.placeholder&&(H.placeholder.style.display="none",H.placeholder=null)},500));let rt=["allow","allowfullscreen","referrerpolicy","sandbox","srcdoc","controlslist","disablepictureinpicture","disableremoteplayback","x-webkit-airplay","playsinline"].reduce((Ve,Et)=>H.el?.hasAttribute(Et)?{...Ve,[Et]:H.el.getAttribute(Et)}:Ve,{});for(let[Ve,Et]of Object.entries(rt))Y.setAttribute(Ve,Et);Y.setAttribute("force-visible",!0),Y.setAttribute("disable-scroll-animation",!0),Y.setAttribute("disable-zoom",!0),Y.setAttribute("width",H.w),Y.setAttribute("height",H.h),Y.setAttribute("uses","inline-part-styles"),Y.setAttribute("media-style","padding: 0px; border-width: 0px; border-radius: 0px; outline-width: 0px;"),Y.style.padding=Y.style.borderWidth=Y.style.borderRadius=Y.style.outlineWidth="0px",H.usePlaceholder?Y.setAttribute("hash","placeholder"):H.hash?Y.setAttribute("hash",H.hash):H.src&&Y.setAttribute("src",H.src);let ht=ae.find(Ve=>Ve.index==O);if(H.fileType=="video"||H.fileType.startsWith("vimeo")||H.fileType.startsWith("youtube"))H.fileType!=="video"&&ht.el.classList.add("iframe-item"),H.autoplay?(H.el?.getCurrentTime?.().then(Ve=>{Y.onload=()=>{setTimeout(()=>{Y.setCurrentTime?.(Ve)},0)}}),Y.setAttribute("muted",!0),Y.setAttribute("loop",!0),Y.setAttribute("autoplay",!0),Y.setAttribute("browser-default",!1)):(H.poster?Y.setAttribute("poster",H.poster):H.posterSrc&&Y.setAttribute("poster",H.posterSrc),H.el?.pause?.(),Y.setAttribute("browser-default",!0));else if(H.fileType==="image"){ht.el.classList.remove("iframe-item");var Le=H.el?.shadowRoot?.querySelector('img[part*="media"]')?.src;Le&&H.src&&Le!==H.src&&(Le=H.src)}else H.fileType==="url"&&ht.el.classList.add("iframe-item");H.hash&&H.hash!=="placeholder"&&Y.hasAttribute("src")?(Y.setAttribute("hash",H.hash),Y.removeAttribute("src")):H.src&&Y.getAttribute("src")!==H.src?(H.posterSrc&&!Y.poster&&Y.setAttribute("poster",H.posterSrc),Y.setAttribute("src",H.src)):H.model&&(Y.model=H.model),Y.itemDragStart=Ve=>{Ve.preventDefault()};let St=Y.shadowRoot.querySelector("video");St&&(St.style.display="table",setTimeout(()=>{St.style.display=""},0)),H.autoplay&&(Y.onload=()=>{setTimeout(()=>{Y?.play?.()})})}},Vp=function(O){O.loading=!0,O.loaded=!1;var H=O.img=a.createEl("quick-view-item","media-item");H.setAttribute("suppress-placeholder-ui","true"),Bg(O.el,O,!0).then(X=>{for(let[Y,xe]of Object.entries(X))O[Y]=xe;if(O.loaded=!0,O.loading=!1,O.loadError){O.loadComplete&&O.loadComplete(O);return}O.img&&(O.hash?O.img.setAttribute("hash",O.hash):O.src&&O.img.setAttribute("src",O.src),O.fileType=="video"&&O.autoplay&&(O.img.setAttribute("autoplay",!0),O.img.setAttribute("muted",!0),O.img.setAttribute("loop",!0))),O.loadComplete?O.loadComplete(O):O.img=null})},bc=function(O,H){if((O.src||O.hash)&&O.loadError&&O.container)return H&&(O.container.innerHTML=""),O.container.innerHTML=c.errorMsg.replace("%url%",O.src),!0},oi=function(O,H,X){H||(H=O.container.lastChild);var Y=X?O.w:O.w*O.fitRatio,xe=X?O.h:O.h*O.fitRatio,Te=O.w*O.fitRatio,Le=O.h*O.fitRatio;O.useViewportWidth&&(Y=W.x*O.viewportWidthPercentage,Y=Te=Y-(U.left+U.right)),O.useViewportHeight&&(xe=W.y*O.viewportHeightPercentage,xe=Le=xe-(U.top+U.bottom)),O.renderedSize={w:Te,h:Le},O===l.currItem&&Ca(O),!Vi&&U.top>5&&U.right>5&&U.bottom>5&&U.left>5&&(Y=Math.round(Y),xe=Math.round(xe)),H&&(H.style.transform="translate3d(0,0,0)",H.style.width=Y+"px",H.style.height=xe+"px",H.style.setProperty("--frame-padding",xe+"px"),H.style.setProperty("padding","0px"),H.style.setProperty("border","none"),H.style.setProperty("outline","none"),H.style.setProperty("background","none"))},Ca=function(O){if(O.renderedSize){var H=O.renderedSize.w,X=O.renderedSize.h,Y=Math.max(1,O.fitRatio);l.captionWrapper.style.width=H/Y+"px",l.captionWrapper.style.right=U.right+"px",l.captionWrapper.style.left=U.left+"px";var xe=0;switch(c.alignVertical){case"center":xe=(W.y+-U.bottom+-U.top+-X/Y)*.5+U.bottom;break;case"top":xe=W.y+-U.bottom+-U.top+-X/Y+U.bottom;break;case"bottom":xe=U.bottom;break}l.captionWrapper.style.height=xe+"px"}},Cl=function(){if(qn.length){for(var O,H=0;H<qn.length;H++)O=qn[H],O.holder.index===O.index&&ni(O.index,O.item,O.baseDiv,O.img,!1,O.clearPlaceholder);qn=[]}};ri("Controller",{publicMethods:{lazyLoadItem:function(O){O=Mi(O);var H=Sn(O);!H||(H.loaded||H.loading)&&!K||(mt("gettingData",O,H),Vp(H))},initController:function(){a.extend(c,qp,!0),l.items=ji=o,Sn=l.getItemAt,vi=c.getNumItemsFn,Hp=c.loop,vi()<3&&(c.loop=!1),cr("beforeChange",function(O){var H=c.preload,X=O===null?!0:O>=0,Y=Math.min(H[0],vi()),xe=Math.min(H[1],vi()),Te;for(Te=1;Te<=(X?xe:Y);Te++)l.lazyLoadItem(_+Te);for(Te=1;Te<=(X?Y:xe);Te++)l.lazyLoadItem(_-Te)}),cr("initialLayout",function(){l.currItem}),cr("mainScrollAnimComplete",Cl),cr("initialZoomInEnd",Cl),cr("destroy",function(){for(var O,H=0;H<ji.length;H++)O=ji[H],O.container&&(O.container=null),O.placeholder&&(O.placeholder=null),O.img&&(O.img=null),O.preloader&&(O.preloader=null),O.loadError&&(O.loaded=O.loadError=!1);qn=null})},getItemAt:function(O){return O>=0&&ji[O]!==void 0?ji[O]:!1},allowProgressiveImg:function(){return!0},setContent:function(O,H){c.loop&&(H=Mi(H));var X=l.getItemAt(O.index);X&&(X.container=null);var Y=l.getItemAt(H),xe;if(!Y){O.el.innerHTML="";return}mt("gettingData",H,Y),O.index=H,O.item=Y;var Te=Y.container=a.createEl("quick-view-zoom-wrap");bc(Y),Rs(Y,W),(Y.src||Y.hash||Y.usePlaceholder)&&!Y.loadError&&!Y.loaded?(Y.loadComplete=function(Le){if(g){if(O&&O.index===H){if(bc(Le,!0)){Le.loadComplete=Le.img=null,Rs(Le,W),co(Le),O.index===_&&l.updateCurrZoomItem();return}Le.imageAppended?!$o&&Le.placeholder&&(Le.placeholder.style.display="none",Le.placeholder=null):Ze.transform&&($r||$o)?qn.push({item:Le,baseDiv:Te,img:Le.img,index:H,holder:O,clearPlaceholder:!0}):ni(H,Le,Te,Le.img,$r||$o,!0),Rs(Le,W),oi(Le),co(Le)}Le.loadComplete=null,Le.img=null,mt("imageLoadComplete",H,Le)}},a.features.transform,Y.loading||Vp(Y),l.allowProgressiveImg()&&(!gi&&Ze.transform?qn.push({item:Y,baseDiv:Te,img:Y.img,index:H,holder:O}):ni(H,Y,Te,Y.img,!0,!0))):(Y.src||Y.hash||Y.usePlaceholder)&&!Y.loadError?(xe=a.createEl("quick-view-item","media-item"),xe.setAttribute("suppress-placeholder-ui","true"),xe.style.opacity=1,oi(Y,xe),ni(H,Y,Te,xe,!0)):!Y.src&&!Y.hash&&Y.html&&oi(Y,null),!gi&&H===_?(Y.preloadedImage&&xe&&xe.setAttribute("src",Y.preloadedImage.getAttribute("src")),Y.container.style.opacity=0,mi=Te.style,setTimeout(()=>{Ea(Y,xe||Y.img),Y.container.style.opacity=null},0)):co(Y),O.el.innerHTML="",O.el.appendChild(Te)},cleanSlide:function(O){O.img&&(O.img.onload=O.img.onerror=null),O.loaded=O.loading=O.img=O.imageAppended=!1}}});var Ft,_n={},Pa=function(O,H,X){var Y=document.createEvent("CustomEvent"),xe={origEvent:O,target:O.target,releasePoint:H,pointerType:X||"touch"};Y.initCustomEvent("pswpTap",!0,!0,xe),O.target.dispatchEvent(Y)};ri("Tap",{publicMethods:{initTap:function(){cr("firstTouchStart",l.onTapStart),cr("touchRelease",l.onTapRelease),cr("destroy",function(){_n={},Ft=null})},onTapStart:function(O){O.length>1&&(clearTimeout(Ft),Ft=null)},onTapRelease:function(O,H){if(H&&!mo&&!pc&&!Bo){var X=H;if(Ft&&(clearTimeout(Ft),Ft=null,Op(X,_n))){mt("doubleTap",X);return}if(H.type==="mouse"){Pa(O,H,"mouse");return}var Y=O.target.tagName.toUpperCase();if(Y==="BUTTON"||a.hasClass(O.target,"quick-view-single-tap")){Pa(O,H);return}pi(_n,X),Ft=setTimeout(function(){Pa(O,H),Ft=null},300)}}}});var Pl,jo=0,wc=0,yi=0,xc=!1,Go=0,bi=!1,sn=0,ks=0,Il="",Ns=null,Ia=!1,Aa=function(){Tt=!0,Al()},yo=function(){Pl&&(at(Pl),Pl=null,Go=0,yi=0,Tt=!1)},Sc=function(){if(!(Tt||Os)){var O=I.y,H=I.x,X=Ms,Y=Z;Ps("resetVertical",0,1,300,a.easing.cubic.out,function(xe){Z=l.currItem.initialZoomLevel*xe+(1-xe)*Y,I.y=(l.currItem.initialPosition.y-O)*xe+O;var Te=(l.currItem.initialZoomLevel*parseFloat(l.currItem.w)-Z*parseFloat(l.currItem.w))*.5;I.x=l.currItem.initialPosition.x+Te,Ri((1-X)*xe+X),vr()})}},Al=function(){xc||(xc=!0,Tt&&(Pl=ft(Al),Rv(),xc=!1))},Os=!1,Rv=function(){!bi&&Ia&&(document.documentElement.scrollTop=document.documentElement.scrollTop+yi);var O=Math.min(W.y,W.x),H=Math.abs(yi)/O,X=Math.max(0,Math.min(1.3-Math.abs(Go/(O/3)),1));if(X<.85||Os||H>.2){yo(),an&&clearTimeout(an),Os||(Os=!0,bi?(E=!0,l.close()):setTimeout(function(){E=!0,l.close()},25));return}Ri(X);var Y=Math.abs(Go)/(W.y*.75);if(l.currItem.hasOwnProperty("thumbRect")){var xe=l.currItem.initialZoomLevel*parseFloat(l.currItem.h)*.5<l.currItem.thumbRect.h;xe&&(Y=0)}Z=(1-Y*Y)*l.currItem.initialZoomLevel;var Te=(l.currItem.initialZoomLevel*parseFloat(l.currItem.w)-Z*parseFloat(l.currItem.w))*.5,Le=(l.currItem.initialZoomLevel*parseFloat(l.currItem.h)-Z*parseFloat(l.currItem.h))*.5;I.y=l.currItem.initialPosition.y+Le+-Go,I.x=l.currItem.initialPosition.x+Te,vr(),Go=Go+yi,yi=0},an,Gt;ri("DesktopZoom",{publicMethods:{initDesktopZoom:function(){ct||(Ne?l.setupDesktopZoom():l.setupDesktopZoom(!0))},setupDesktopZoom:function(O){Gt={};var H="wheel mousewheel DOMMouseScroll";cr("bindEvents",function(){a.bind(i,H,l.handleMouseWheel)}),cr("unbindEvents",function(){Gt&&a.unbind(i,H,l.handleMouseWheel)}),l.mouseZoomedIn=!1;var X,Y=function(){l.mouseZoomedIn&&(a.removeClass(i,"quick-view-zoomed-in"),l.mouseZoomedIn=!1),Z<1?a.addClass(i,"quick-view-zoom-allowed"):a.removeClass(i,"quick-view-zoom-allowed"),xe()},xe=function(){X&&(a.removeClass(i,"quick-view-dragging"),X=!1)};cr("resize",Y),cr("afterChange",Y),cr("pointerDown",function(){l.mouseZoomedIn&&(X=!0,a.addClass(i,"quick-view-dragging"))}),cr("pointerUp",xe),O||Y()},handleMouseWheel:function(O){if(Ia=!0,Z<=l.currItem.fitRatio&&c.modal&&(!c.closeOnScroll||Bo||Vi?O.preventDefault():Qe&&Math.abs(O.deltaY)>2&&(E=!0,l.close())),Gt.x=0,"deltaX"in O)O.deltaMode===1?(Gt.x=O.deltaX*18,Gt.y=O.deltaY*18):(Gt.x=O.deltaX,Gt.y=O.deltaY);else if("wheelDelta"in O)O.wheelDeltaX&&(Gt.x=-.16*O.wheelDeltaX),O.wheelDeltaY?Gt.y=-.16*O.wheelDeltaY:Gt.y=-.16*O.wheelDelta;else if("detail"in O)Gt.y=O.detail;else return;if(Z<=l.currItem.fitRatio&&!bi){yi=yi+Gt.y,c.modal&&(!c.animatedCloseOnScroll||Bo||Vi?(O.preventDefault(),yi=0):Qe&&Math.abs(Gt.y)>0&&!Tt&&(yo(),Aa()),an&&clearTimeout(an),an=setTimeout(function(){yo(),Sc()},200));return}else yi=0,O.stopPropagation();nc(Z,!0);var H=I.x-Gt.x,X=I.y-Gt.y;(c.modal||H<=xt.min.x&&H>=xt.max.x&&X<=xt.min.y&&X>=xt.max.y)&&O.preventDefault(),l.panTo(H,X)},toggleDesktopZoom:function(O){O=O||{x:W.x/2+re.x,y:W.y/2+re.y};var H=c.getDoubleTapZoom(!0,l.currItem),X=Z===H;l.mouseZoomedIn=!X,l.zoomTo(X?l.currItem.initialZoomLevel:H,O,333),a[(X?"remove":"add")+"Class"](i,"quick-view-zoomed-in"),l.currItem.caption&&c.showCaption&&(X?l.caption.classList.remove("hidden"):l.caption.classList.add("hidden"))}}}),a.extend(l,bv)};return r}),this.template=`<div class="quick-view" tabindex="-1" role="dialog" aria-hidden="true"> 
	

</div>`;var t=function(){var r=document.querySelector(".quick-view-container");r.outerHTML=this.template,r=null}.bind(this),e=function(){};this.setEventProxy=function(r){typeof r=="function"&&(e=r)},this.isActive=!1,this.activeGallery=void 0,this.openImageArray=function(r,i,n){if(!(r===void 0||this.activeGallery!==void 0)){var o=document.querySelectorAll(".quick-view")[0],s=this,a=n.alignVertical||"center",l=n.alignHorizontal||"center",p=n.useControls,f=n.animatedCloseOnScroll,c=n.showCaption,m={index:i,maxSpreadZoom:1,getThumbMatrixTransform:function(D){if(n&&n.preventAnimation||s.activeGallery==null)return!1;var M=s.activeGallery.getItemAt(D),P;if(!M||!M.el)return!1;M.el.tagName==="A"?P=M.el.querySelector("media-item, video, iframe, img")||M.el:P=M.el;let L=P.closest("marquee-set");if(L){let q=L.querySelector('marquee-inner[slot="contents"]'),N=L.querySelector('marquee-inner[slot="contents-clone"]');if(s.isActive&&N)return!1}if(P&&P.tagName==="MEDIA-ITEM"&&(P=P.shadowRoot.querySelector('[part*="media"]')),!P)return!1;let I=P.getRootNode();for(;I&&I!==document;)I instanceof ShadowRoot?I=I.host.getRootNode():I=void 0;return I?matrix:!1},closeEl:!0,arrowEl:!1,tapToClose:!0,closeOnScroll:!1,alignHorizontal:l,alignVertical:a,useControls:p,animatedCloseOnScroll:f,showCaption:c},v=!1,g=!1,x=function(){g=!0},E=function(){g=!1};if(window.addEventListener("touchend",E),window.addEventListener("touchstart",x),n!==void 0&&typeof n=="object"){for(var _ in n)n.hasOwnProperty(_)&&(m[_]=n[_]);n.disableZoom===!0&&(v=!0,m.zoomEl=!1,m.getDoubleTapZoom=function(D,M){return M.initialZoomLevel},m.pinchToClose=!1)}return this.activeGallery=new this.PhotoSwipe(o,this.PhotoSwipeUI_Default,r,m),n.afterInit&&this.activeGallery.listen("afterInit",n.afterInit),v?o.classList.add("quick-view-zoom-disabled"):o.classList.remove("quick-view-zoom-disabled"),this.activeGallery.init(),this.isActive=!0,this.activeGallery.elementArray=r,this.activeGallery.listen("destroy",function(){o.parentNode!==null?(o.parentNode.removeChild(o),window.removeEventListener("touchend",E),window.removeEventListener("touchstart",x)):(window.removeEventListener("touchend",E),window.removeEventListener("touchstart",x)),s.isActive=!1,s.activeGallery=void 0}),this.activeGallery}};(function(r,i){r===void 0&&window!==void 0&&(r=window),r.PhotoSwipeUI_Default=i()})(this,function(){"use strict";var r=function(i,n){var o=this,s=!1,a=!0,l,p,f,c,m,v,g,x={closeElClasses:["holder","caption","zoom-wrap","ui","top-menu-bar","container"],timeToIdle:1500,timeToIdleOutside:1500,closeEl:!0,fullscreenEl:!0,zoomEl:!0,counterEl:!0,arrowEl:!0,tapToClose:!1,tapToToggleControls:!0,useControls:!1,clickToCloseNonZoomable:!0,fitControlsWidth:1200},E,_,D=function(K){if(E)return!0;K=K||window.event,g.timeToIdle&&g.mouseUsed&&!c&&W();for(var Q=K.target||K.srcElement;Q.nodeName==="svg"||Q.nodeName==="path"||Q.nodeName==="circle"||Q.nodeName==="polyline"||Q.nodeName==="g"||Q.nodeName==="foreignObject"||Q.nodeName==="line";)Q=Q.parentNode;for(var re,ee=Q.getAttribute("class")||"",ae,se=0;se<le.length;se++)re=le[se],re.onTap&&ee.indexOf("quick-view-"+re.name)>-1&&(re.onTap(),ae=!0);if(ae){K.stopPropagation&&K.stopPropagation(),E=!0;var ce=n.features.isOldAndroid?600:30;_=setTimeout(function(){E=!1},ce)}},M=function(){return!i.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},P=function(K,Q,re){n[(re?"add":"remove")+"Class"](K,"quick-view-"+Q)},L=function(K){for(var Q=0;Q<g.closeElClasses.length;Q++)if(n.hasClass(K,"quick-view-"+g.closeElClasses[Q]))return!0},I,q,N=0,F=!1,W=function(K){if(K){var Q=Wa(K.target,function(re){if(re&&re.nodeType===Node.ELEMENT_NODE)return re.classList.contains("left-arrow")||re.classList.contains("right-arrow")||re.classList.contains("close-button")});F=!!Q}clearTimeout(q),N=0,c&&o.setIdle(!1)},U=function(K){K=K||window.event;var Q=K.relatedTarget||K.toElement;(!Q||Q.nodeName==="HTML")&&(clearTimeout(q),q=setTimeout(function(){o.setIdle(!0)},g.timeToIdleOutside))},Z=function(){g.fullscreenEl&&!n.features.isOldAndroid&&(l||(l=o.getFullscreenAPI()),l?(n.bind(document,l.eventK,o.updateFullscreen),o.updateFullscreen(),n.addClass(i.template,"quick-view-supports-fs")):n.removeClass(i.template,"quick-view-supports-fs"))},J=function(){g.timeToIdle&&m("mouseUsed",function(){n.bind(document,"mousemove",W),n.bind(document,"mouseout",U),I=setInterval(function(){N++,N===2&&o.setIdle(!0)},g.timeToIdle/2)})},ie=function(){m("onVerticalDrag",function(Q){a&&Q<.95?o.hideControls():!a&&Q>=.95&&o.showControls()});var K;m("onPinchClose",function(Q){a&&Q<.9?(o.hideControls(),K=!0):K&&!a&&Q>.9&&o.showControls()}),m("zoomGestureEnded",function(){K=!1,K&&!a&&o.showControls()})},le=[{name:"button--zoom",option:"zoomEl",onTap:i.toggleDesktopZoom},{name:"button-close",option:"closeEl",onTap:i.close},{name:"button-prev",option:"arrowEl",onTap:i.prev},{name:"button-next",option:"arrowEl",onTap:i.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){l.isFullscreen()?l.exit():l.enter()}}],G=function(){var K,Q,re,ee=function(ce){if(ce){for(var _e=ce.length,Ie=[],ge=0;ge<_e;ge++){K=ce[ge],Q=K.className;for(var Re=0;Re<le.length;Re++)re=le[Re],Q.indexOf("quick-view-"+re.name)>-1&&(g[re.option]?(n.removeClass(K,"quick-view-element--disabled"),Ie.push(K),re.onInit&&re.onInit(K)):n.addClass(K,"quick-view-element--disabled"))}Ie.length>0}};ee(p.children);for(var ae=p.querySelectorAll(".quick-view-group"),se=0;se<ae.length;se++)ee(ae[se].children)};o.init=function(){n.extend(i.options,x,!0),g=i.options,p=n.getChildByClass(i.scrollWrap,"quick-view-ui"),m=i.listen,m("beforeChange",o.update),m("doubleTap",function(K){var Q=i.currItem.initialZoomLevel;i.getZoomLevel()!==Q?i.zoomTo(Q,K,333):i.zoomTo(g.getDoubleTapZoom(!1,i.currItem),K,333)}),m("preventDragEvent",function(K,Q,re){var ee=K.target||K.srcElement;ee&&ee.getAttribute("class")&&K.type.indexOf("mouse")>-1&&(ee.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(ee.tagName))&&(re.prevent=!1)}),m("destroy",function(){g.captionEl&&(_fakeCaptionContainer&&p.removeChild(_fakeCaptionContainer),n.removeClass(_captionContainer,"quick-view-caption--empty"))}),o.bindEvents(),Z()},o.unbindEvents=function(){I&&clearInterval(I),n.unbind(document,"mouseout",U),n.unbind(document,"mousemove",W),n.unbind(i.scrollWrap,"pswpTap",o.onGlobalTap),window.removeEventListener("mousedown",o.onGlobalClick),l&&(n.unbind(document,l.eventK,o.updateFullscreen),l.isFullscreen()&&(g.hideAnimationDuration=0,l.exit()),l=null)},o.setupIdle=function(){J()},o.bindEvents=function(){g.useControls,window.addEventListener("mousedown",o.onGlobalClick),n.bind(i.scrollWrap,"pswpTap",o.onGlobalTap),i.likelyTouchDevice},o.setIdle=function(K){window.store?.getState()?.frontendState?.adminMode||F||(c=K)},o.update=function(){a&&i.currItem?s=!0:s=!1},o.updateFullscreen=function(K){K&&setTimeout(function(){i.setScrollOffset(0,n.getScrollY())},50),n[(l.isFullscreen()?"add":"remove")+"Class"](i.template,"quick-view-fs")},o.onGlobalClick=function(K){let Q=K.target.closest('.quick-view, media-item:not([disable-zoom="true"]), href[rel="quick-view"]');Q&&(Q.getAttribute("rel")=="quick-view"||Q.nodeName==="MEDIA-ITEM")?i.elementArray.findIndex(ee=>ee.el==Q)===-1&&i.close():Q||i.close()},o.onGlobalTap=function(K){K=K||window.event;var Q=K.target||K.srcElement;if(!E){if(K.detail&&K.detail.pointerType==="mouse"){if(L(Q)){i.close();return}if(n.hasClass(Q,"quick-view-item")){if(g.disableZoom){let re=Q.getFileType?.();if(re&&!i.currItem.autoplay&&(re.startsWith("vimeo")||re.startsWith("youtube")||re==="video"))return;i.close();return}if(i.getZoomLevel()===1&&i.getZoomLevel()<=i.currItem.fitRatio){if(g.clickToCloseNonZoomable){i.close();return}}else i.toggleDesktopZoom(K.detail.releasePoint)}}else if(g.tapToToggleControls&&(a?o.hideControls():o.showControls()),g.tapToClose&&(n.hasClass(Q,"quick-view-item")||L(Q))){(!Q.getFileType||Q.getFileType?.()==="image")&&i.close();return}}},o.onMouseOver=function(K){K=K||window.event;var Q=K.target||K.srcElement;P(p,"ui--over-close",L(Q))},o.hideControls=function(){},o.showControls=function(){},o.toggleFullscreen=function(){l.isFullscreen()?l.exit():l.enter()},o.supportsFullscreen=function(){var K=document;return!!(K.exitFullscreen||K.mozCancelFullScreen||K.webkitExitFullscreen||K.msExitFullscreen)},o.getFullscreenAPI=function(){var K=document.documentElement,Q,re="fullscreenchange";return K.requestFullscreen?Q={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:re}:K.mozRequestFullScreen?Q={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+re}:K.webkitRequestFullscreen?Q={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+re}:K.msRequestFullscreen&&(Q={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),Q&&(Q.enter=function(){if(f=g.closeOnScroll,g.closeOnScroll=!1,this.enterK==="webkitRequestFullscreen")i.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return i.template[this.enterK]()},Q.exit=function(){return g.closeOnScroll=f,document[this.exitK]()},Q.isFullscreen=function(){return document[this.elementK]}),Q}};return r})}).call(o3)});var l3=oe((Uke,Ele)=>{Ele.exports={}});var P1={};mr(P1,{default:()=>Ile,getLightboxItemAndPreloadFromElement:()=>Bg,openQuickViewFromElement:()=>C1});function Cle(t,e){let r=t?.css?.stylesheet||"",i=document.createElement("style");i.disabled=!0,i.innerHTML=r,document.body.appendChild(i);let n=!1;if(i.sheet&&i.sheet.cssRules)for(let o=0;o<i.sheet.cssRules.length;o++){let s=i.sheet.cssRules[o];s.selectorText&&s.selectorText.includes(".mobile")&&s.selectorText.includes(".quick-view::part(slideshow-nav)")&&Array.from(s.style).indexOf("opacity")>-1&&(n=!0)}return i.remove(),{mobileOpacityIsOverridden:n,imageSettings:t.siteDesign.images,settings:t.siteDesign.quick_view,quickView:t.frontendState.quickView,adminMode:t.frontendState.adminMode,pointerType:t.frontendState.pointerType}}function Ple(t){return Wt({updateFrontendState:actions.updateFrontendState},t)}var Ug,E1,c3,u3,Bg,C1,Ile,fp=$(()=>{ke();Ye();gt();Pr();kr();Ar();Fe();fa();ss();a3();Ug=ye(Pe(),1);fe();E1=class extends me{constructor(e){super(e),this.state={closing:!0,lightboxActive:!1,navigationElement:null,showInterface:!1,showArrows:!0,navTransitioning:!1,pointerDown:!1},this.template=Se(),this.navigationRef=Se(),this.lightbox=window.lightbox,this.QuickView=window.QuickView,Promise.resolve().then(()=>ye(l3(),1)),this.htmlTemplate=`
			<div class="quick-view-bg quick-view-background"></div> 
			<div class="quick-view-scroll-wrap"> 

				<div class="quick-view-container"> 
					<div class="quick-view-holder"></div> 
					<div class="quick-view-holder"></div> 
					<div class="quick-view-holder"></div> 
				</div> 

			</div>

			<div class="quick-view-caption-positioner"> 
				<div class="quick-view-caption-wrapper"> 
					<div class="quick-view-caption caption hidden" data-quick-view-caption><span></span></div>
				</div> 
			</div>`}onPointerDown=e=>{this.setState({pointerDown:!0})};onPointerUp=e=>{this.setState({pointerDown:!1})};onPointerMove=e=>{!this.state.showInterface&&!this.state.pointerDown&&this.setState({showInterface:!0});let r=document.querySelector(".quick-view-caption");e&&e.target&&(this.state.navigationElement?.contains(e.target)||e.target===r||r&&r.contains(e.target))&&this.hideInterface.cancel()};isInAdmin=()=>Dr&&this.props.adminMode===!0;hideInterface=Ug.default.debounce(()=>{this.isInAdmin()||this.setState({showInterface:!1})},1500);hideArrows=Ug.default.debounce(()=>{this.isInAdmin()||this.setState({showArrows:!1})},500);bindEvents(){document.addEventListener("pointerleave",this.hideInterface),window.addEventListener("pointerdown",this.onPointerDown),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerdown",this.onPointerMove)}unbindEvents(){document.removeEventListener("pointerleave",this.hideInterface),window.removeEventListener("pointerdown",this.onPointerDown),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerdown",this.onPointerMove)}componentDidUpdate(e,r){this.state.navigationElement!==this.navigationRef.current&&(this.navigationRef.current&&!this.navigationRef.current.shadowRoot&&this.navigationRef.current.attachShadow({mode:"open"}),this.setState({navigationElement:this.navigationRef.current})),this.props.location!==e.location&&this.closeQuickView(),!e.quickView.inited&&this.props.quickView.inited&&this.setState({lightboxActive:!0,showInterface:!1},()=>{this.props.quickView.mode==="preview"?(window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}}),this.previewInAdmin()):this.launchQuickView(),this.bindEvents(),this.lightbox.activeGallery?.listen("initialZoomInEnd",()=>{this.setState({closing:!1,showInterface:!0,showArrows:!1})}),this.lightbox.activeGallery?.listen("onVerticalDrag",n=>{this.state.showInterface&&n<.95?this.setState({showInterface:!1}):!this.state.showInterface&&n>=.95&&this.setState({showInterface:!0})});var i;this.lightbox.activeGallery?.listen("onPinchClose",n=>{this.state.showInterface&&n<.9?(this.setState({showInterface:!1}),i=!0):i&&!this.state.showInterface&&n>.9&&this.setState({showInterface:!0})}),this.lightbox.activeGallery?.listen("zoomGestureEnded",()=>{i=!1,i&&!this.state.showInterface&&this.setState({showInterface:!1})}),this.lightbox?.activeGallery?.listen("close",()=>{this.setState({closing:!0,showInterface:!1,showArrows:!1}),this.unbindEvents()}),this.lightbox?.activeGallery?.listen("destroy",()=>{window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}}),this.props.updateFrontendState({quickView:{mode:"default",inited:!1,autoScrolling:!1,activeGallery:null,elementArray:void 0,activeIndex:0}}),this.setState({lightboxActive:!1,showInterface:!1,showArrows:!1})})}),e.quickView.inited&&!this.props.quickView.inited&&this.lightbox.isActive&&this.lightbox.activeGallery.close(),e.quickView.autoScrolling!==this.props.quickView.autoScrolling&&this.lightbox.activeGallery&&(this.props.quickView.autoScrolling?this.lightbox.activeGallery.options.animatedCloseOnScroll=!1:this.lightbox.activeGallery.options.animatedCloseOnScroll=this.props.settings.close_on_scroll),!Ug.default.isEqual(e.settings,this.props.settings)&&this.lightbox.activeGallery&&(e.settings.show_ui!==this.props.settings.show_ui&&this.props.settings.show_ui&&(this.setState({showInterface:!0}),this.hideInterface()),this.lightbox.activeGallery.options.alignHorizontal=this.props.settings.contentAlignHorizontal,this.lightbox.activeGallery.options.alignVertical=this.props.settings.contentAlignVertical,this.lightbox.activeGallery.options.animatedCloseOnScroll=this.props.settings.close_on_scroll,this.props.settings.captions!==e.settings.captions&&(this.lightbox.activeGallery.options.showCaption=this.props.settings.captions,this.props.settings.captions?(this.lightbox.activeGallery.caption.style.display="",this.lightbox.activeGallery.updateCaption()):this.lightbox.activeGallery.caption.style.display="none"),this.lightbox.activeGallery.updateSize(!0))}closeQuickView=e=>{Vt.getState().frontendState?.quickView?.inited!==!1&&this.props.updateFrontendState({quickView:{inited:!1}})};render(){return this.state.lightboxActive||this.state.navTransitioning?S(he,{children:[S("div",{ref:this.template,className:"quick-view",dangerouslySetInnerHTML:{__html:this.htmlTemplate}}),this.props.settings.show_ui?S("div",{className:"quick-view quick-view-navigation",ref:this.navigationRef,children:[this.state.navigationElement?S("style",{children:`
							.quick-view-caption {
								opacity: ${this.state.showInterface?"1":"0"};
							}
						`}):null,this.state.navigationElement?it(S(he,{children:[S("style",{children:`
								[part="slideshow-nav"], .quick-view-caption {
									${this.state.closing?`
										opacity: 0!important;`:`
										opacity: ${this.state.showInterface?"1":"0"};`}
								}

								${!this.props.mobileOpacityIsOverridden&&this.props.isMobile&&this.props.pointerType=="touch"?`

									[part="slideshow-nav-next-button"], [part="slideshow-nav-previous-button"] {
										pointer-events:none;
										opacity: 0;
									}

								`:""}
								
							`}),S("div",{part:"slideshow-nav",onTransitionStart:e=>{this.setState({navTransitioning:!0})},onTransitionEnd:e=>{this.setState({navTransitioning:!1})},children:[this.isInAdmin()||this.props.quickView.elementArray?.length>1?S(he,{children:[S("div",{part:"slideshow-nav-previous-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.prev()},children:S("svg",{part:"slideshow-nav-prev",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[S("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),S("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),S("div",{part:"slideshow-nav-next-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.next()},children:S("svg",{part:"slideshow-nav-next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[S("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),S("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})})]},"slideshow-nav-buttons"):null,S("div",{part:"slideshow-nav-close-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.close()},children:S("svg",{part:"slideshow-nav-close",x:"0px",y:"0px",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[S("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),S("path",{part:"slideshow-nav-x",d:"M9.3,9.3L18,18l-8.7,8.7 M26.7,9.3L18,18l8.7,8.7"})]})})]})]}),this.state.navigationElement.shadowRoot):null]}):null]}):null}launchQuickView=()=>{if(!this.props.quickView.elementArray)return;let e=this.props.quickView.activeIndex;(e===-1||isNaN(e))&&(e=0);let r=this.props.quickView.elementArray[e],i=!1,n=r?.el?.getAttribute?.("rel")==="quick-view";lightbox.openImageArray(this.props.quickView.elementArray,e,{disableZoom:!this.props.imageSettings.image_full_zoom,preventAnimation:!1,showHideOpacity:n,animatedCloseOnScroll:!!this.props.settings?.close_on_scroll,alignHorizontal:this.props.settings?.contentAlignHorizontal||"center",alignVertical:this.props.settings?.contentAlignVertical||"center",useControls:!1,showCaption:!!this.props.settings?.captions,isAdmin:!1,afterInit:o=>{let s=lightbox.activeGallery.template,a=window.getComputedStyle(s),l=parseInt(a.getPropertyValue("width")),p=parseInt(a.getPropertyValue("height"));this.props.updateFrontendState({quickView:{activeIndex:o}})}}),lightbox?.activeGallery?.listen("afterChange",o=>{this.props.quickView.inited&&this.props.updateFrontendState({quickView:{activeIndex:o}})})};previewInAdmin=()=>{let r=[[6800,5e3],[5e3,6800],[5e3,5e3]].map(i=>{let n=document.createElement("media-item"),o=document.createElement("span");return o.classList.add("caption-background"),o.innerHTML="Lorem ipsum dolor sit amet, consectetur adipiscing",n.setAttribute("suppress-placeholder-ui","true"),n.setAttribute("width",i[0]),n.setAttribute("height",i[1]),{useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,autoplay:!1,fileType:"placeholder",w:i[0],h:i[1],caption:o,hash:"placeholder",src:null,usePlaceholder:!1,el:n}});this.lightbox.openImageArray(r,0,{disableZoom:!this.props.imageSettings.image_full_zoom,preventAnimation:!1,animatedCloseOnScroll:!!this.props.settings?.close_on_scroll,alignHorizontal:this.props.settings?.contentAlignHorizontal||"center",alignVertical:this.props.settings?.contentAlignVertical||"center",useControls:!1,showCaption:!!this.props.settings?.captions,isAdmin:!1})}};c3=Ue(Cle,Ple)(E1),u3=(t="")=>{let e="none";if(t){let s=t.toLowerCase();if(s.endsWith(".mov")||s.endsWith(".mp4")||s.endsWith(".webm"))e="video";else if(s.endsWith(".png")||s.endsWith(".webp")||s.endsWith(".jpg")||s.endsWith(".jpeg")||s.endsWith(".gif")||s.endsWith(".avif")||s.endsWith(".apng")||s.endsWith(".svg"))e="image";else{e="url";var r,i=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,o=t.match(i);if(o&&o[3]){r=o[3];let a=t.split("/");a[a.length-1]!=r&&(r+="/"+a[a.length-1]),e="vimeo:"+r}var n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,o=t.match(n);o&&o[7].length==11&&(r=o[7],e="youtube:"+r)}}return e},Bg=(t,e={},r=!0)=>{var i=!1,n=t?.querySelector("figcaption"),o=n?.innerHTML;n&&o!==""&&(i=document.createElement("span"),i.classList.add("caption-background"),i.innerHTML=o);let s=!1,a=!1,l=1,p=1,f=1600,c=1600,m=!1,v="url",g=t.getAttribute("hash")||null,x=t.getAttribute("href")||null;t.getAttribute("rel")=="quick-view"?v=u3(t.getAttribute("href")):t.tagName==="MEDIA-ITEM"&&t.getFileType?v=t.getFileType():v=u3(t.getAttribute("src"));let E=x||t.getAttribute("src");return x&&(g=null),new Promise(_=>{if(g&&g!=="placeholder"&&t.tagName==="MEDIA-ITEM"&&!x){let M=t.getAttribute("poster");var D=t?.shadowRoot?.querySelector("video")?.getAttribute("poster");D||(D=t?.shadowRoot?.querySelector('img[part*="poster"]')?.getAttribute("src"));let P=screen.width,L=screen.height,I=Math.max(Math.ceil(screen.width/t._size.width),Math.ceil(screen.height/t._size.height));switch(!0){case v==="url":s=!0,a=!0;break;case v.startsWith("youtube"):case v.startsWith("vimeo"):case v=="video":f=t._size.width*I,c=t._size.height*I;break;default:f=t._size.width*I,c=t._size.height*I;break}let q,N=()=>{_({...e,useViewportWidth:s,useViewportHeight:a,viewportWidthPercentage:l,viewportHeightPercentage:p,fileType:v,poster:t.getAttribute("poster"),loaded:!0,loading:!1,w:f,h:c,caption:i,hash:g,src:E,posterSrc:D,autoplay:t.getAttribute("autoplay")=="true",usePlaceholder:!1,el:t,model:t.model,preloadedImage:q})},F=t.shadowRoot.querySelector("img")?.getAttribute("src");r&&v=="image"&&F?(q=document.createElement("img"),q.onload=()=>{q.onload=void 0,q.decode().then(()=>{N()})},q.src=F):N()}else if(g&&g=="placeholder")_({...e,useViewportWidth:s,useViewportHeight:a,viewportWidthPercentage:l,viewportHeightPercentage:p,autoplay:!1,fileType:v,w:t.getAttribute("width")||16e3,h:t.getAttribute("height")||9e3,caption:i,hash:"placeholder",src:E,loaded:!1,loading:!1,usePlaceholder:!0,el:t,model:t.model});else if(t.hasAttribute("width")&&t.hasAttribute("height")?t.getAttribute("width").indexOf("%")>-1&&t.getAttribute("height").indexOf("%")>-1?(s=!0,a=!0,l=parseFloat(t.getAttribute("width"))/100,p=parseFloat(t.getAttribute("height"))/100):(f=parseFloat(t.getAttribute("width")),c=parseFloat(t.getAttribute("height"))):v==="url"&&(s=!0,a=!0,l=1,p=1),v.startsWith("vimeo")||v.startsWith("youtube")){let M="";v.startsWith("vimeo")?M="https://vimeo.com/api/oembed.json?url="+E+"&width=640":M="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+E,r?fetch(M,{mode:"cors"}).then(P=>{P.json().then(L=>{_({...e,useViewportWidth:s,useViewportHeight:a,viewportWidthPercentage:l,viewportHeightPercentage:p,autoplay:t.tagName!=="MEDIA-ITEM"&&t.getAttribute("autoplay")=="true",fileType:v,w:L.width*20,h:L.height*20,caption:i,hash:null,src:E,loaded:!0,loading:!1,usePlaceholder:!1,el:t,model:t.model})})}):_({...e,useViewportWidth:s,useViewportHeight:a,viewportWidthPercentage:l,viewportHeightPercentage:p,autoplay:t.tagName!=="MEDIA-ITEM"&&t.getAttribute("autoplay")=="true",fileType:v,w:1600,h:900,caption:i,hash:null,src:E,loaded:!1,loading:!1,usePlaceholder:!1,el:t,model:t.model})}else if(v==="url"){let M=pd()&&E.indexOf(".pdf")>-1&&E.indexOf("docs.google.com/viewer")==-1,P=M?`https://docs.google.com/viewer?url=${E}&embedded=true&chrome=false`:E;_({...e,useViewportWidth:s,useViewportHeight:a,viewportWidthPercentage:l,viewportHeightPercentage:p,fileType:v,loaded:!0,loading:!1,noLazyLoading:!!M,w:3200,h:2e3,caption:i,hash:null,src:P,usePlaceholder:!1,el:t,model:t.model})}else if(v==="image")if(r){let M=document.createElement("img");M.onerror=function(){M.onload=null,_({...e,useViewportWidth:s,useViewportHeight:a,viewportWidthPercentage:l,viewportHeightPercentage:p,loadError:!0,autoplay:!1,fileType:v,loaded:!0,loading:!1,w:1600,h:1e3,caption:i,hash:null,src:E,usePlaceholder:!1,el:t,model:null})},M.onload=P=>{M.onload=null,f=M.naturalWidth,c=M.naturalHeight,s=!1,a=!1,M.decode().then(()=>{_({...e,useViewportWidth:s,useViewportHeight:a,viewportWidthPercentage:l,viewportHeightPercentage:p,autoplay:!1,fileType:v,loaded:!0,loading:!1,w:f*100,h:c*100,caption:i,hash:null,src:E,usePlaceholder:!1,el:t,model:null,preloadedImage:M})})},M.setAttribute("src",E)}else _({...e,useViewportWidth:s,useViewportHeight:a,viewportWidthPercentage:l,viewportHeightPercentage:p,autoplay:!1,fileType:v,loaded:!1,loading:!1,w:1600,h:900,caption:i,hash:null,src:E,usePlaceholder:!1,el:t,model:null});else if(v==="video")if(r){let M=document.createElement("video");M.setAttribute("preload","metadata"),M.onerror=function(P){M.onloadedmetadata=null,M.onerror=null,M.src="",M.load(),_({...e,useViewportWidth:s,useViewportHeight:a,viewportWidthPercentage:l,viewportHeightPercentage:p,loadError:!0,loaded:!0,loading:!1,autoplay:!1,fileType:v,w:1600,h:1e3,caption:i,hash:null,src:E,usePlaceholder:!1,el:t,model:null})},M.onloadedmetadata=P=>{M.onloadedmetadata=null,M.onerror=null,f=M.videoWidth,c=M.videoHeight,s=!1,a=!1,M.src="",M.load(),_({...e,useViewportWidth:s,useViewportHeight:a,viewportWidthPercentage:l,viewportHeightPercentage:p,autoplay:t.getAttribute("autoplay")=="true",loaded:!0,loading:!1,fileType:v,w:f*100,h:c*100,caption:i,hash:null,src:E,usePlaceholder:!1,el:t,model:null})},M.setAttribute("src",E),M.load()}else _({...e,useViewportWidth:s,useViewportHeight:a,viewportWidthPercentage:l,viewportHeightPercentage:p,autoplay:t.getAttribute("autoplay")=="true",loaded:!1,loading:!1,fileType:v,w:1600,h:900,caption:i,hash:null,src:E,usePlaceholder:!1,el:t,model:null})})},C1=t=>{let e=Vt.getState();if(t&&t.nodeName!=="MEDIA-ITEM"&&(t=t.closest('a[rel="quick-view"]')||t),window.lightbox.activeGallery&&e.frontendState.quickView.elementArray){let f=e.frontendState.quickView.elementArray.findIndex(c=>c.el==t);if(f!==-1){window.lightbox.activeGallery.goTo(f);return}}let r=t.closest(".page"),i=t.getAttribute("hash"),n=[],o=Wa(t,f=>f?.tagName?.startsWith("GALLERY-")),s=!1,a=t.closest("marquee-set");if(o){if(o.getAttribute("thumbnail-index")==="img:all")s=!0;else if(o&&o.getAttribute("disable-zoom")==="true")return;n=Array.from(o.querySelectorAll('media-item:not([disable-zoom="true"]):not([href]), a[rel="quick-view"], media-item[rel="quick-view"], media-item[force-quick-view="true"]'))}else{r?n=Array.from(r.querySelector("bodycopy")?.querySelectorAll('media-item:not([disable-zoom="true"]):not([href]), a[rel="quick-view"], media-item[rel="quick-view"], media-item[force-quick-view="true"]')):n=Array.from(document.querySelectorAll('bodycopy media-item:not([disable-zoom="true"]):not([href]), bodycopy a[rel="quick-view"], bodycopy media-item[rel="quick-view"], bodycopy media-item[force-quick-view="true"]'));let f=a&&t.closest('[slot="contents-clone"]');n=n.filter(c=>!Wa(c,m=>!!(m?.tagName?.startsWith("GALLERY-")||m?.classList?.contains("flying-object")||m.tagName==="MARQUEE-INNER"&&(m.slot==="contents-clone"&&!f||m.slot==="contents"&&f))))}n=n.filter(f=>{if(f.tagName!=="A")return!0;let c=f.getAttribute("href")||"";return!(c===""||c=="#"||c.indexOf("mailto:")==0||c.indexOf("tel:")==0)});let l=n.indexOf(t),p=0;Promise.all(n.map((f,c)=>{let m=n.length*.5,v=m-Math.abs((l+-c)%(2*m)-m);return v<-m&&v<0&&(v=v+n.length),Bg(f,{},Math.abs(v)<=p)})).then(f=>{Vt.dispatch(actions.updateFrontendState({quickView:{mode:"default",inited:!0,autoScrolling:!1,elementArray:f,activeIndex:l===-1?0:l}}))})};c3.defaultProps={settings:{show_ui:!0,captions:!1,quickViewAlignment:"center-center",contentAlignVertical:"center",contentAlignHorizontal:"center"}};Ile=Kn(c3)});var A1,I1,T1,d3=$(()=>{ke();Fe();ss();Qa();Pr();gt();rr();kr();A1=ye(Pe(),1);Tg();_1();x1();de||(window.logSiteStructure=()=>{let t=window.store.getState(),e=t.structure.bySort,r=Object.keys(e);r.sort((n,o)=>e[n]-e[o]);let i={};r.forEach(n=>{let o=t.pages.byId[n]||t.sets.byId[n];i[n]={title:o.title,sort:e[n],index:t.structure.indexById[n],page_count:o.page_count}}),console.table(i)});I1=class extends me{constructor(e){super(e),this.state={},this.isMac=!1,de||(Promise.resolve().then(()=>(fp(),P1)).then(({openQuickViewFromElement:r})=>{this.setState({openQuickViewFromElement:r})}),this.isMac=dd())}navigateOrScrollToTop=(e,r={})=>{let i=ei.getAllOverlays().some(n=>n.getOverlayOptions().closeOnNavigate);this.props.location.pathname===e&&!i?this.scrollToTop():(os(this.props.location.pathname,{path:Ss.SITE_PREVIEW_PROXY_PATH})!==null&&e==="/"&&this.scrollToTop(),this.props.history.push(e,r))};handleGlobalClick=e=>{let r=e.target,i=r;r.shadowRoot?r=e.composedPath().find(s=>s.tagName==="A")||r:r.closest("a")&&(r=r.closest("a")),ei.handleGlobalClick(r,i);let n=document.querySelectorAll('cargo-map[follow-navigation="true"]');for(let s of n)s.handleGlobalClick(r,i);if(!e.defaultPrevented&&r&&(r.nodeName==="A"||r.nodeName==="a")&&r.getAttribute("href")&&r.getAttribute("href")!==""){let s=r.getAttribute("rel");if(this.props.adminMode){e.preventDefault();return}let a=r.getAttribute("href")||"",l=r.getAttribute("target"),p;switch(s){case"history":e.preventDefault();let f=this.props.store.getState(),c=a.substring(0,1)==="#",m=!1,v=We.getContentByPurl(store.getState(),a.replace(/\//,""));if(v?.overlay){ei.toggleOverlay(v.id);return}if(!c){if(p=r.getAttribute("data-tags"),p?.length>0)a=p;else{let E=We.getHomepagePurl(f);a.toLowerCase()===E&&!f.sets.byId.root.stack&&(a="/")}a.startsWith("/")||(a="/"+a),a==="/contact-form"&&(m=!0),i.nodeName==="MEDIA-ITEM"&&i?.classList.contains("thumbnail")&&a.replace(/\//,"")===this.props.activePURL&&document.scrollingElement.scrollTo({top:0,left:0,behavior:"instant"})}this.isMac&&e.metaKey===!0||!this.isMac&&e.ctrlKey===!0?window.open(a,"_blank"):this.navigateOrScrollToTop(a,{preventScrollReset:m});break;case"prev_page":case"prev-page":e.preventDefault(),this.loadNeighboringPage("prev");break;case"next_page":case"next-page":e.preventDefault(),this.loadNeighboringPage("next");break;case"home_page":case"home-page":e.preventDefault(),this.navigateOrScrollToTop("/");break;case"random_page":case"random-page":e.preventDefault(),this.loadRandomPage();break;case"top":e.preventDefault(),this.scrollToTop(r);break;case"quick-view":case"quick_view":e.preventDefault(),this.state.openQuickViewFromElement?.(e.target);break;case"close-overlay":case"close_overlay":e.preventDefault();let g=i.closest("[page-url]")?.id;ei.getOverlay(g)?ei.closeOverlay(g):this.navigateOrScrollToTop("/");break;case"map-coordinates":e.preventDefault();break;case"map-marker":e.preventDefault();break;case"add-to-cart":case"add_to_cart":e.preventDefault(),this.props.addCommerceProductToCart((r.getAttribute("data-product")||e.target.getAttribute("data-product"))??null,(r.getAttribute("data-variant")||e.target.getAttribute("data-variant"))??null,{callback:()=>{this.props.history.push("/cart",{preventScrollReset:!0})},failureCallback:E=>{this.props.updateFrontendState({alertModal:{header:E,type:"notice"}})}});break;case"show_cart":case"show-cart":e.preventDefault(),Fg().then(E=>{this.props.history.push("/cart",{preventScrollReset:!0})}).catch(E=>{console.warn(E)});break;case"filter-index":case"filter_index":e.preventDefault(),p=r.getAttribute("data-tags");let x=r.getAttribute("data-set");var o=new CustomEvent("filter-thumbnail-index",{bubbles:!0,cancelable:!0,composed:!0,detail:{filter:p?"tag:"+p:x?"set:"+x:"all"}});r.dispatchEvent(o);break;default:this.props.isInHomepagePreview?(e.preventDefault(),parent.window.open(a)):l!=="_blank"&&(e.preventDefault(),parent.location.href=a);break}}};openAdmin=()=>{if(window.parent!==window)return;let e=this.props.activePID;if(this.props.store.getState().sets.byId[e]!==void 0){let r=document.querySelector(".content .pages .page");r?e=r.id:e=""}e?window.location.href="/edit/"+e:window.location.href="/edit"};showCargoSiteIndicator=()=>{let e=new Image;e.onload=function(){let r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.zIndex="2147483647",r.style.position="fixed",r.style.background='url("https://static.cargo.site/assets/C3/c3label.svg") center center / contain no-repeat',r.style.backgroundSize="60%",r.style.transform="rotate(-30deg)",setTimeout(function(){r.style.transition="opacity 500ms",setTimeout(function(){r.parentNode.removeChild(r)},700),setTimeout(function(){r.style.opacity="0"})},1e3),document.body.appendChild(r)},e.src="https://static.cargo.site/assets/C3/c3label.svg"};handleGlobalKeyDown=e=>{let r=e.target;if(r.shadowRoot&&(r=e.composedPath()[0]||r),r.closest?.('[contenteditable]:not([contenteditable="false"]),input,textarea')||r.classList?.contains("mcforms-wrapper"))return;let i=this.props.store.getState();if(!this.props.adminMode){if(this.isMac&&e.metaKey&&e.which===191||!this.isMac&&e.ctrlKey&&e.which===191){this.showCargoSiteIndicator();return}if(this.isMac&&e.metaKey&&e.which===27||this.isMac&&e.metaKey&&e.which===220||!this.isMac&&e.ctrlKey&&e.which===27){this.openAdmin();return}if(e.shiftKey&&(e.keyCode===65||e.keyCode===69)&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&(this.props.inAdminFrame?this.props.editorRole!=="Viewer"&&(this.props.activePID&&this.props.activePID.length>0&&this.props.activePID!=="root"?parent.navigateAdmin("/"+this.props.activePID):parent.navigateAdmin("/")):this.openAdmin()),e.keyCode===82&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey?(e.preventDefault(),this.loadRandomPage()):e.keyCode===37&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey?(e.preventDefault(),this.loadNeighboringPage("prev")):e.keyCode===39&&!i.frontendState.contactForm.inited&&!i.frontendState.cartOpen&&!i.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey&&(e.preventDefault(),this.loadNeighboringPage("next")),e.which===27&&!e.metaKey&&!e.ctrlKey){if(i.frontendState?.contactForm?.inited){this.props.updateFrontendState({contactForm:{transition:!0,inited:!0}}),setTimeout(()=>{this.props.updateFrontendState({contactForm:{transition:!1,inited:!1}})},300);return}if(i.frontendState.quickView.inited||i.frontendState.cartOpen||i.frontendState?.contactForm?.inited||i.frontendState.alertModal)return;if(!this.props.inAdminFrame){let n=ei.getAllOverlays();n.length>0?ei.closeOverlay(n[n.length-1].pid):this.props.history.location.pathname!=="/"&&this.navigateOrScrollToTop("/")}}}};componentDidMount(){de||(window.addEventListener("click",this.handleGlobalClick),window.addEventListener("keydown",this.handleGlobalKeyDown))}componentWillUnmount(){de||(window.removeEventListener("click",this.handleGlobalClick),window.removeEventListener("keydown",this.handleGlobalKeyDown))}render(){return this.props.children}loadRandomPage=()=>{let e=this.props.store.getState(),r=e.pages.byId[this.props.activePID]||e.sets.byId[this.props.activePID];if(!r||r.page_type==="set"&&!r.stack)return;let i=r.id==="root"?e.sets.byId.root:We.getContentById(e,We.getItemParentId(e,r.id)),n=[i.id,...We.getSetContents(e,i.id).filter(l=>l.stack).map(l=>l.id)];r.stack&&(n=[...n,...this.getSetContentsDeep(e,r.id).filter(l=>e.sets.byId.hasOwnProperty(l))]);let o=We.getSortedListOfIndexPairs(e,i.id).filter(([l,p])=>{if(!n.includes(l))return!1;let c=We.getSetContentsByIndex(e,l)[p];return!c||c.id!==e.frontendState.activePID&&c.id!==e.frontendState.lastVisiblePid&&c.purl!==e.frontendState.activeHashPurl&&c.id!==e.site.homepage_id&&c.id!==e.site.mobile_homepage_id&&c.page_type!=="set"&&c.pin!==!0});if(o.length===0)return;let s=o[Math.floor(Math.random()*o.length)],a=e.sets.byId[s[0]];s.length===2?this.props.fetchContent(a.id,{indexes:[s[1]],idType:"pid"}).then(l=>{l.data&&l.data[0]?this.navigateOrScrollToContent(l.data[0]):this.loadRandomPage()}):s.length===1&&this.navigateOrScrollToContent(a)};navigateOrScrollToContent=e=>{if(!e)return;let r=store.getState(),i=We.getContentById(r,this.props.activePID);if(i&&i.stack)if(decodeURIComponent(window.location.hash)!==e.purl){let n=document.scrollingElement.scrollTop;window.location.hash=e.purl,document.scrollingElement.scrollTop=n}else pp.runAnchorScroll(pp.getAnchorForHash(e.purl));else this.props.history.push("/"+e.purl)};doScroll=(e,r,i,n)=>{let s=r-i,a=s/(12*12);s!==0&&(n+=(n+a)/s);let l=Math.abs(i-r)<1,p=l?i+s:i+s*(-Math.pow(2,-20*n/1)+1);n>0&&e.scrollTo({top:p,left:0,behavior:"instant"}),l||requestAnimationFrame(()=>{this.doScroll(e,r,p,n)})};scrollToTop=e=>{let r=e?.closest?.(".pinned.allow-scroll .page-content, .overlay-content.overlay-allow-scroll");r?this.startScrollToTop(r):(this.startScrollToTop(document.scrollingElement),A1.default.each(document.querySelectorAll(".pinned.allow-scroll .page-content, .overlay-content.overlay-allow-scroll"),this.startScrollToTop))};startScrollToTop=e=>{let r=e.scrollTop,i=Math.round(r*.2);r>e.clientHeight?this.doScroll(e,0,i,0):this.doScroll(e,0,r,0)};getSetContentsDeep=(e,r)=>{let i=[],n=e.structure.byParent[r];return n&&n.forEach(o=>{i.push(o),e.structure.byParent[o]&&(i=[...i,...this.getSetContentsDeep(e,o)])}),i};loadNeighboringPage=(e="next",r={})=>{let i=this.props.store.getState(),n=We.getContentById(i,this.props.activePID);if(!n||n.page_type==="set"&&!n.stack)return;let o=n.id==="root"?i.sets.byId.root:We.getContentById(i,We.getItemParentId(i,n.id)),s=[o.id,...We.getSetContents(i,o.id).filter(m=>m.stack).map(m=>m.id)];if(n.stack){s=[...s,...this.getSetContentsDeep(i,n.id).filter(v=>i.sets.byId.hasOwnProperty(v))];let m=i.frontendState.lastVisiblePid;i.frontendState.renderedPages.some(v=>v.id===m)?n=We.getContentById(i,m):i.frontendState.activeHashPurl&&(n=We.getContentByPurl(i,i.frontendState.activeHashPurl))}let a=i.structure.indexById[n.id],l=We.getItemParentId(i,n.id),p=We.getSortedListOfIndexPairs(i,o.id).filter(([m])=>s.includes(m)),f=p.findIndex(([m,v])=>m===l&&v===a),c=null;for(let m=1;m<p.length;m++){let v=e==="prev"?p[((f-m)%p.length+p.length)%p.length]:p[(f+m)%p.length],[g,x]=v,_=We.getSetContentsByIndex(i,g)[x];if(!_||_.purl!==i.frontendState.activeHashPurl&&_.id!==i.site.homepage_id&&_.id!==i.site.mobile_homepage_id&&_.page_type!=="set"&&_.pin!==!0){c=_||v;break}}if(c){if(c.id)this.navigateOrScrollToContent(c);else if(r.preventContentFetch!==!0){let[m,v]=c;this.props.fetchContent(m,{indexes:[v],idType:"pid"}).then(g=>{this.loadNeighboringPage(e,{preventContentFetch:!0})})}}}},T1=Dn(Kn(Ue((t,e)=>{let r;return t.auth.data?.id&&(r=A1.default.find(t.site?.editors,i=>i.id===parseInt(t.auth.data.id))?.role),{editorRole:r,adminMode:t.frontendState.adminMode,inAdminFrame:t.frontendState.inAdminFrame,activePID:t.frontendState.activePID,isInHomepagePreview:t.auth.previewing,activePURL:(t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID])?.purl}},t=>Wt({updateFrontendState:Ke.updateFrontendState,fetchContent:Ke.fetchContent,addCommerceProductToCart:Ke.addCommerceProductToCart},t))(I1)))});var dNe,M1,R1,k1=$(()=>{dNe=ye(Pe());Y0();$d();M1=class extends uu{constructor(){super(),this.pointerType="mouse",Ge.isServer||(window.addEventListener("pointerdown",this.onPointerMove),window.addEventListener("pointermove",this.onPointerMove)),this.triggerChange()}onPointerMove=e=>{this.pointerType!==e.pointerType&&(this.pointerType=e.pointerType,this.triggerChange(e))};triggerChange=e=>{this.emit("change",[this.pointerType,e])}},R1=new M1});var p3=$(()=>{k1();k1()});var h3=$(()=>{});var f3=$(()=>{Ye();h3();fe()});var m3=$(()=>{});var g3,qg,v3=$(()=>{Ye();g3=ye(Pe());f3();Xf();m3();fe();qg=class extends me{constructor(e){super(e),this.ref=ze.createRef(),this.maxValue=100,this.speed=9,this.currValue=null,this.rafID=null,this.state={value:0,complete:!1,successLoading:!1}}componentDidMount=()=>{this.ref.current.addEventListener("mousestart",this.unlockStartHandler,!1)};unlockStartHandler=()=>{window.cancelAnimationFrame(this.rafID),this.currValue=this.state.value};unlockEndHandler=()=>{this.currValue=+this.state.value,this.currValue>=this.maxValue?this.successHandler():(this.rafID=window.requestAnimationFrame(this.animateHandler),this.setState({complete:!1}))};animateHandler=()=>{this.setState({value:this.currValue}),this.currValue>-1&&window.requestAnimationFrame(this.animateHandler),this.currValue=this.currValue-this.speed,setTimeout(g3.default.bind(function(){this.setState({value:0})},this),150)};successHandler=()=>{this.setState({successLoading:!0,complete:!1}),setTimeout(()=>{this.props.onConfirm()},800)};onRangeChange(e){e.persist(),this.setState({value:e.currentTarget.value}),this.setState({complete:e.currentTarget.value>=100})}componentWillUnmount=()=>{this.ref?.current?.removeEventListener("mousestart",this.unlockStartHandler,!1)};render(){return S("div",{className:`slide-confirm-slider${this.state.successLoading?" success-loading":""}`,ref:this.ref,onMouseDown:e=>{this.unlockStartHandler(e)},onMouseUp:e=>{this.unlockEndHandler(e)},onTouchEnd:e=>{this.unlockEndHandler(e)},children:[S("span",{className:"slide-message",children:this.props.slideMessage}),S("div",{className:"slide-progress",style:{left:"calc("+this.state.value+"% - calc("+this.state.value/100+" * 40px))"}}),S("input",{type:"range",min:"0",value:this.state.value,className:`pullee${this.state.complete?" complete":""}`,onChange:e=>{this.onRangeChange(e)}}),this.state.successLoading?S(us,{className:"accent"}):null]})}}});function Tle(t){return t&&(["INPUT","TEXTAREA","SELECT"].includes(t.tagName)||t.isContentEditable)}var N1,Ale,y3,O1,Hg,b3=$(()=>{$d();N1=ye(Pe()),Ale=0,y3=Ge.isMac();O1=class t{constructor(){if(!Ge.isServer)return t.instance||(this.shortcuts={},this.scopeOrder=[],this.onKeyDown=this.onKeyDown.bind(this),this.handleEditorKeyDown=e=>this.onKeyDown("editor",e),typeof window<"u"&&window.addEventListener("keydown",this.handleEditorKeyDown),window.__c3_admin__&&(this.handleInterfaceKeyDown=r=>this.onKeyDown("interface",r),document.getElementById("client-frame")?.contentWindow?.addEventListener("keydown",this.handleInterfaceKeyDown)),t.instance=this),t.instance}setScopeOrder(e){this.scopeOrder&&N1.default.isEmpty(this.scopeOrder)&&N1.default.each(e,r=>{this.scopeOrder.push(r)})}getConfigKey(e){let{keyCode:r,metaKey:i="false",shiftKey:n="false",altKey:o="false",macCtrlKey:s="false"}=e;return`${r}-${i}-${n}-${o}-${s}`}getEventConfig(e){return{keyCode:e.keyCode,metaKey:y3?e.metaKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,macCtrlKey:y3?e.ctrlKey:!1}}registerHotKey(e,r,i,n="default"){let{notWhileTyping:o=!1,...s}=r,a=!!o,l=Ale++,p=this.getConfigKey(s);return this.shortcuts[n]||(this.shortcuts[n]={}),this.shortcuts[n][p]||(this.shortcuts[n][p]=[]),this.shortcuts[n][p].push({id:l,callback:i,notWhileTyping:a}),()=>{let f=this.shortcuts[n][p];if(f){let c=f.findIndex(m=>m.id===l);c!==-1&&(f.splice(c,1),f.length===0&&(delete this.shortcuts[n][p],Object.keys(this.shortcuts[n]).length===0&&delete this.shortcuts[n]))}}}shouldSkip(e,r){return e.notWhileTyping&&Tle(r)}onKeyDown(e,r){if(r.repeat)return;let i=this.getEventConfig(r),n=this.getConfigKey(i);if(!store.getState()?.frontendState?.contactForm.inited){for(let s=0;s<this.scopeOrder.length;s++){let a=this.scopeOrder[s],l=this.shortcuts[a];if(l&&l[n]){let p=l[n];if(p&&p.length>0){let f=p[p.length-1];if(f&&f.callback){if(this.shouldSkip(f,r.target))return;r.preventDefault(),f.callback(r);return}}}}if(!this.scopeOrder.includes("default")&&this.shortcuts.default&&this.shortcuts.default[n]){let s=this.shortcuts.default[n];if(s&&s.length>0){let a=s[s.length-1];if(a&&a.callback){if(this.shouldSkip(a,r.target))return;r.preventDefault(),a.callback(r)}}}}}},Hg=new O1;Object.freeze(Hg)});var w3=$(()=>{});var mp,D1,Wg,x3=$(()=>{Ye();mp=ye(Pe());v3();Xf();b3();w3();fe();D1=ze.createContext({header:null,message:null,slideMessage:null,placeholder:null,existingValue:null,type:"alert",children:null,customElement:null,preventCancelButtonRender:!1,preventClose:!1,cancelButton:!1,overCart:!1,checkBoxConfirmation:null,checkBoxConfirmationValue:!1,confirmButton:"Yes",denyButton:"No",maxInputLength:null,dialogInputType:"text",validateInput:()=>!0,onOpen:()=>null,onConfirm:()=>null,onCancel:()=>null,onDeny:()=>null,onClose:()=>null,updateModal:()=>null}),Wg=class extends me{constructor(e){super(e),this.modalDefaults={header:null,htmlHeader:null,message:null,slideMessage:null,htmlMessage:null,type:"alert",children:null,customElement:null,preventCancelButtonRender:!1,preventClose:!1,confirmButton:"OK",denyButton:"Cancel",cancelButton:!1,overCart:!1,checkBoxConfirmation:null,checkBoxConfirmationValue:!1,frontendData:null,maxInputLength:null,dialogInputType:"text",closeManually:!1,validateInput:()=>!0,onOpen:()=>null,onConfirm:()=>null,onCancel:()=>null,onDeny:()=>null,onClose:()=>null},this.state={modalOpen:!1,animate:!1,processConfirm:!1,...this.modalDefaults},this.overlayRef=ze.createRef(),this.inputRef=ze.createRef(),this.transitioning=!1,this.ignoreUnmount=!1,this.internalHotKeySet=!1,this.alterEventExecution=!0,this.clickStartedInModal=!1,this.unregisterEscapeHotKey=null,this.unregisterEnterHotKey=null}openModal=e=>{if(this.transitioning||this.state.modalOpen||this.state.animate)return;document.activeElement?.blur(),this.transitioning=!0;let r=mp.default.defaults(e,this.modalDefaults),i=new Event("openAlertModal");window.dispatchEvent(i),r.onOpen&&r.onOpen(),window.__c3_admin__===!0&&(window.store.getState().adminState.pauseGlobalEventExecution?this.alterEventExecution=!1:window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}})),r.manuallyBindHotkeys&&(this.internalHotKeySet=!0,window.addEventListener("keydown",this.onKeyDown,!0)),!this.state.HotKeyProxy&&!r.manuallyBindHotkeys&&!this.unregisterEscHotKey&&(this.unregisterEscHotKey=Hg.registerHotKey("escape",{keyCode:27},this.cancelModal,"alert")),!this.state.HotKeyProxy&&!r.manuallyBindHotkeys&&!this.unregisterEnterHotKey&&(this.unregisterEnterHotKey=Hg.registerHotKey("enter",{keyCode:13},this.confirmModal,"alert")),window.addEventListener("keydown",this.onTabKeyDown),r.ignoreUnmount&&(this.ignoreUnmount=!0),this.originalStyle=window.getComputedStyle(document.body).overflow,document.body.style.overflow="hidden",window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!1,...r},()=>{window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!0},()=>{setTimeout(()=>{this.transitioning=!1},280)})})})}),r.frontendData&&r.frontendData.contentWindow.getSelection().removeAllRanges(),window.focus()};dispatchCloseEvents=()=>{let e=new Event("closeAlertModal");window.dispatchEvent(e),window.__c3_admin__===!0&&this.alterEventExecution&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}})};unbindInternalHotkeys=()=>{this.internalHotKeySet&&(this.internalHotKeySet=!1,window.removeEventListener("keydown",this.onKeyDown,!0)),this.unregisterEscHotKey&&(this.unregisterEscHotKey(),this.unregisterEscHotKey=null),this.unregisterEnterHotKey&&(this.unregisterEnterHotKey(),this.unregisterEnterHotKey=null),window.removeEventListener("keydown",this.onTabKeyDown)};closeModal=e=>{if(!this.state.modalOpen)return;let r=mp.default.defaults(e,this.modalDefaults);this.transitioning=!0,this.dispatchCloseEvents(),this.unbindInternalHotkeys(),document.body.style.overflow=this.originalStyle,window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!1},()=>{setTimeout(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!1,animate:!1},()=>{this.state.onClose&&(this.state.onClose(),this.setState({modalOpen:!1,animate:!1,processConfirm:!1,existingValue:null,...this.modalDefaults},()=>{this.transitioning=!1}))})},280)})})};validateInput=()=>{};confirmModal=e=>{if(this.state.closeManually){this.setState({processConfirm:!0}),this.state.onConfirm();return}if(this.state.type==="dialog"&&this.inputRef.current){if(this.state.onConfirm){let r=this.inputRef.current.value;this.setState({existingValue:r},()=>{this.state.onConfirm(r)})}}else{let r={};r.checkBoxConfirmationValue=this.state.checkBoxConfirmationValue??null,this.state.onConfirm(r)}this.closeModal()};onKeyDown=e=>{e?.key==="Enter"&&this.state.type!=="slide-confirm"&&this.confirmModal(e),e?.key==="Escape"&&(e.preventDefault(),e.stopImmediatePropagation(),this.cancelModal(e))};denyModal=()=>{if(!this.state.processConfirm){if(this.state.onDeny){let e={};e.checkBoxConfirmationValue=this.state.checkBoxConfirmationValue??null,this.state.onDeny(e)}this.closeModal()}};cancelModal=e=>{this.state.preventClose||(this.state.onDeny&&e==="action"&&this.state.onDeny(),e?.type==="keydown"&&(e.preventDefault(),e.stopImmediatePropagation()),this.state.onCancel&&this.state.onCancel(),this.closeModal())};updateModal=(e={})=>{if(!this.state.modalOpen)return;let r=["type","modalOpen","animate","manuallyBindHotkeys","closeManually","ignoreUnmount"],i=mp.default.omit(e,r);this.setState(n=>({...n,...mp.default.pickBy(i,o=>o!==void 0)}))};overlayClick=e=>{if(this.clickStartedInModal){this.clickStartedInModal=!1;return}e.target==this.overlayRef.current&&this.cancelModal()};onMouseDown=e=>{this.clickStartedInModal=!0};onTabKeyDown=e=>{let r=e.key==="Tab"||e.keyCode===9;this.state.modalOpen&&r&&e.preventDefault()};componentDidMount(){}componentWillUnmount(){this.unmounted=!0}render(){let e=this.state.confirmButton||"OK",r=this.state.denyButton||"Cancel",i=this.state.header&&S("div",{className:"header",children:this.state.header}),n=this.state.message&&S("div",{className:"sub-message",children:this.state.message}),o=this.state.htmlHeader&&S("div",{className:"header",dangerouslySetInnerHTML:{__html:this.state.htmlHeader}}),s=this.state.htmlMessage&&S("div",{className:"sub-message",dangerouslySetInnerHTML:{__html:this.state.htmlMessage}}),a=this.state.placeholder?this.state.placeholder:"",l=this.state.existingValue?this.state.existingValue:"",p=this.state.confirmButton!==!1&&S("button",{"button-style":"rounded-2",className:"confirm",onClick:D=>this.confirmModal(D,null),children:[e,this.state.processConfirm?S(us,{className:"default-border-radius"}):""]}),f=!this.state.preventCancelButtonRender&&S("button",{"button-style":"rounded-2",className:"deny",onClick:this.denyModal,children:r}),c=this.state.children&&!this.state.wrapperlessChildren?S("div",{className:"form",children:this.state.children}):this.state.wrapperlessChildren?this.state.children:null,m=()=>S(he,{children:[S("div",{className:"message",children:[i,n]}),S("div",{className:"opt-buttons",children:[f,p]})]}),v=()=>S(he,{children:[S("div",{className:"message",children:[i,n,o,s]}),S("div",{className:"input"}),S("div",{className:"buttons",children:p})]}),g=({isDNS:D=!1})=>S(he,{children:[S("div",{className:"message",children:D?S("div",{className:"header",children:["Something went wrong on our end, please reload the page and try again, or ",S("a",{className:"alert-action-link underlined",href:"#",onClick:M=>{M.preventDefault(),M.stopPropagation(),Intercom&&Intercom("showNewMessage")},children:"contact Support"}),"."]}):S("div",{className:"header",children:["Something went wrong. Please contact ",S("a",{className:"alert-action-link underlined",href:"#",onClick:M=>{M.preventDefault(),M.stopPropagation(),Intercom&&Intercom("showNewMessage")},children:"Cargo Support"}),"."]})}),S("div",{className:"input"}),S("div",{className:"buttons",children:p})]}),x=()=>S(he,{children:[S("div",{className:"message",children:[i,o,n,s]}),c,S("div",{className:"input"}),S("div",{className:"buttons",children:[f,p]})]}),E=()=>S(he,{children:[S("div",{className:"message",children:[i,n]}),S("div",{className:"input",children:S("input",{type:this.state.dialogInputType,maxLength:this.state.maxInputLength??null,placeholder:a,autoFocus:!0,autoComplete:this.state.dialogInputType==="email"?"email":null,defaultValue:l,ref:this.inputRef})}),S("div",{className:"buttons",children:[S("button",{"button-style":"rounded-2",className:"deny",onClick:this.denyModal,children:"Cancel"}),S("button",{"button-style":"rounded-2",className:"confirm",onClick:D=>this.confirmModal(D,null),children:"OK"})]})]}),_=()=>S(he,{children:[S("div",{className:"message",children:[i,n]}),this.state.checkBoxConfirmation?S("div",{className:"footer",children:S("label",{onClick:D=>{D.preventDefault(),this.setState({checkBoxConfirmationValue:!this.state.checkBoxConfirmationValue})},className:"checkbox",htmlFor:"alert_checkbox_confirmation",children:[this.state.checkBoxConfirmation,S("input",{readOnly:!0,name:"alert_checkbox_confirmation",id:"alert_checkbox_confirmation",type:"checkbox",checked:this.state.checkBoxConfirmationValue?"checked":""})]})}):null,S("div",{className:"buttons",children:[this.state.cancelButton?S("button",{"button-style":"rounded-2",className:"deny",onClick:this.cancelModal,children:"Cancel"}):null,S("button",{"button-style":"rounded-2",className:"deny",onClick:this.denyModal,children:this.state.denyButton}),S("button",{"button-style":"rounded-2",className:"confirm",onClick:D=>this.confirmModal(D,null),children:this.state.confirmButton})]})]});return S(D1.Provider,{value:{openModal:this.openModal,closeModal:this.closeModal,updateModal:this.updateModal},children:[this.state.modalOpen?S(he,{children:S("div",{className:`alert-window${this.state.animate?" active":""}${this.state.preventCancelButtonRender||this.state.preventClose?" no-exit":""}${this.state.overCart?" over-cart":""}`,onClick:this.overlayClick,ref:this.overlayRef,children:[this.state.customElement?this.state.customElement:S("div",{onMouseDown:this.onMouseDown,className:`alert-modal${" "+this.state.type}${this.state.className?" "+this.state.className:""}`,children:[(this.state.type==="alert"||this.state.type==="notice")&&S(v,{}),this.state.type==="contact"&&S(g,{isDNS:!1}),this.state.type==="contact-dns"&&S(g,{isDNS:!0}),this.state.type==="confirm"&&S(x,{}),this.state.type==="dialog"&&S(E,{}),this.state.type==="publish"&&S(_,{}),this.state.type==="custom"&&S(he,{children:[S("div",{className:"message",children:[i,n]}),c]}),this.state.type==="slide-confirm"&&S(he,{children:[S("div",{className:"message",children:[i,n,o,s,c]}),S("div",{className:"buttons",children:[S("br",{}),S("br",{}),S("button",{className:"deny",onClick:this.denyModal,children:"Cancel"}),S(qg,{onConfirm:D=>this.confirmModal(D,null),slideMessage:this.state.slideMessage??"Slide to delete"})]})]})]}),S("div",{className:"background"})]})}):null,this.props.children]})}}});function Rle(t,e){return{alertModal:t.frontendState.alertModal,adminMode:t.frontendState.adminMode}}function kle(t){return Wt({updateFrontendState:Ke.updateFrontendState},t)}var eOe,Mle,Nle,S3,_3=$(()=>{ke();gt();Pr();rr();eOe=ye(Pe(),1);x3();fe();Mle=({alertModal:t,adminMode:e,...r})=>S(Wg,{children:S(D1.Consumer,{children:i=>{t&&!e&&i.openModal({...t,manuallyBindHotkeys:!0,onConfirm:n=>{r.onConfirm&&r.onConfirm(),r.updateFrontendState({alertModal:!1})},onClose:n=>{r.onClose&&r.onclose(),r.updateFrontendState({alertModal:!1})},onCancel:n=>{r.onCancel&&r.onCancel(),r.updateFrontendState({alertModal:!1})}})}})});Nle=Ue(Rle,kle)(Mle),S3=Nle});var Vg,L1=$(()=>{Vg=(t,e=window)=>new Promise((r,i)=>{var n=e.document.getElementsByTagName("head")[0],o=e.document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=t,o.media="all",o.onload=r,o.onError=i,n.appendChild(o)})});var E3,C3,P3=$(()=>{L1();E3="https://api.cargo.site/v1/fonts/css?family=",C3=(t,e)=>new Promise((r,i)=>{if(!e||e.length===0)return r();let n=e.join("%7C").replace(/[\. -]+/g,"");if(n+="&c=3",t.context==="server"){fetch(E3+n).then(async s=>{let a=await s.text();r(a)}).catch(i);return}let o=e.map(s=>{let a=t.context.document.createElement("span");return a.style=`display:block;position:absolute;top:-9999px;left:-9999px;
			font-size:300px;width:auto;height:auto;line-height:normal;margin:0;
			padding:0;font-variant:normal;white-space:nowrap;font-family:${s};`,a.textContent="BESbswy",a});o.forEach(s=>t.context.document.body.appendChild(s)),Vg(E3+n,t.context).then(s=>{t.context.document.fonts.ready.then(()=>{o.forEach(a=>a.remove()),r()})}).catch(i)})});var Ole,Dle,I3,A3=$(()=>{L1();Ole="https://fonts.googleapis.com/css?family=",Dle=["100","100italic","200","200italic","300","300italic","400","400italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"],I3=(t,e)=>new Promise((r,i)=>{if(!e||e.length===0)return r();if(t.context==="server")return i("Google fonts should only be loaded by the client");let n=e.map(s=>s.indexOf(":")===-1?s+":"+Dle.join(","):s).join("%7C").replace(/ /g,"+"),o=e.map(s=>{let a=t.context.document.createElement("span");return a.style=`display:block;position:absolute;top:-9999px;left:-9999px;
			font-size:300px;width:auto;height:auto;line-height:normal;margin:0;
			padding:0;font-variant:normal;white-space:nowrap;font-family:${s};`,a.textContent="BESbswy",a});o.forEach(s=>t.context.document.body.appendChild(s)),Vg(Ole+n,t.context).then(s=>{t.context.document.fonts.ready.then(()=>{o.forEach(a=>a.remove()),r()})}).catch(i)})});var F1,T3=$(()=>{P3();A3();F1=t=>{if(!t)throw"No config given";t.context=t.context||window,t.active=t.active||function(){};let e=[];return e.push(I3(t,t.families?.reduce?.((r,i)=>(i.provider==="google"&&r.push(i.family),r),[]))),e.push(C3(t,t.families?.reduce?.((r,i)=>(i.provider==="cargo"&&r.push(i.family),r),[]))),Promise.all(e).catch(r=>{console.log("something went wrong while loading the site's fonts...",r)}).finally(r=>{t.active?.(r)})}});var R3,M3,z1,gp,B1=$(()=>{ke();Ye();gt();R3=ye(Pe(),1);kr();Ji();fe();M3=new Set,z1=class extends me{constructor(e){super(e),this.state={src:null,lastSrc:null,loaded:!1},this.uid=R3.default.uniqueId(),this.decodingQueue=[]}blankURI="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";render(e,r){let{model:i,adminMode:n,isZoomable:o,alt:s,hash:a,src:l,decoding:p}=e,f=e.width??i?.width??1600,c=e.height??i?.height??1600,m=this.state.src||this.blankURI;return M3.has(this.state.src)||(m=this.state.lastSrc||this.blankURI),m=this.props.isLazyLoadable?m:this.blankURI,Bt("img",{onClick:this.props.onClick,crossorigin:"",alt:s||null,src:m,width:f,height:c,className:`media${o?" image-zoom":""} `+(this.props.className||""),ref:this.props.mediaRef,onLoad:this.onLoad,decoding:"sync",part:this.props.part||void 0})}onLoad=e=>{this.props.mediaRef.current&&(this.props.mediaRef.current.src===this.blankURI||this.props.mediaRef.current.src===""||(this.setState({loaded:!0}),this.props.onLoad&&(this.props.model?this.props.onLoad({width:this.props.model.width,height:this.props.model.width}):this.props.onLoad({width:this.props.mediaRef.current.naturalWidth,height:this.props.mediaRef.current.naturalHeight}))))};componentDidUpdate(e,r){let i=this.props["dynamic-src"]||this.props.src||void 0,n=e["dynamic-src"]||e.src||void 0;(this.props.renderWidth!==e.renderWidth||this.props.renderHeight!==e.renderHeight||e.isLazyLoadable!==this.props.isLazyLoadable||i!==n||this.props.model&&this.props.model?.hash!==e.model?.hash)&&this.onSizeChange()}componentDidMount(){this.firstLoad=!0,this.onSizeChange()}decodeImage=async(e,r)=>{if(this.decodingQueue.indexOf(e)>-1)return;this.decodingQueue.push(e);let i=document.createElement("img"),n=async()=>{i.onload=null,M3.add(i.src),this.state.src==i.src&&this.forceUpdate()};this.firstLoad?(this.firstLoad=!1,i.decoding="async",i.onload=n,i.onerror=this.props.onError,i.src=e):(i.decoding="async",i.src=e,i.onerror=this.props.onError,await i.decode().catch(o=>{console.log("error:",o),n()}),n())};onSizeChange=()=>{let e=this.props["dynamic-src"]||this.props.src||void 0,r=this.props.renderWidth,i=this.props.renderHeight;if(this.props.model){let l=this.props.model.width/this.props.model.height;r=Math.max(i*l,r)}let n=r<500?50:250,o=Math.ceil(r/n)*n,s=i<500?50:250,a=Math.ceil(i/s)*s;this.props.model&&o!==0&&a!==0&&(e=ds({w:o},this.props.model).url),this.props.isLazyLoadable&&e&&this.decodeImage(e),this.setState(l=>e==l.src||!e?null:{lastSrc:l.src,src:e})}},gp=Bi((t,e)=>{let r=t.model?.is_video&&t.model?.poster?t.model.poster:t.model;return r&&r.loading&&(r=null),S(z1,{...t,model:r,mediaRef:e})})});var k3,fl,vp,Lle,ml,yp,Fle,U1,N3,O3=$(()=>{ke();Ye();k3=ye(Pe(),1);fe();fl=new Set,vp="unloaded",Lle=function(){if(window?.YT&&(vp="loaded"),vp==="unloaded"){let r=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{vp="loaded",fl.forEach(i=>{i.initYoutubePlayer()}),fl.clear(),typeof r=="function"&&r()},vp="loading";var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}vp==="loaded"&&(fl.forEach(r=>{r.initYoutubePlayer()}),fl.clear())},ml=new Set,yp="unloaded",Fle=function(){if(window?.Vimeo&&(yp="loaded"),yp==="unloaded"){yp="loading";var t=document.createElement("script");t.onload=()=>{yp="loaded",ml.forEach(r=>{r.initVimeoPlayer()}),ml.clear()},t.src="https://player.vimeo.com/api/player.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}yp==="loaded"&&(ml.forEach(r=>{r.initVimeoPlayer()}),ml.clear())},U1=class extends me{constructor(e){super(e),this.state={apiPlayer:null,nativeSize:{width:1,height:1},wasInLazyLoadRange:e.isLazyLoadable},this.uid=k3.default.uniqueId(),this.html="",this.divRef=Se()}render(e){let{src:r,width:i,height:n,model:o}=e;return S(he,{children:[e.adminMode?S("div",{style:{position:"absolute",zIndex:3,pointerEvents:"auto",background:"transparent",inset:0}}):null,S("div",{onPointerEnter:this.props.onPointerEnter,onPointerOut:this.props.onPointerOut,dangerouslySetInnerHTML:{__html:this.html},style:{position:"absolute",inset:0},ref:this.divRef})]})}setIframeStyles=()=>{if(!this.divRef.current)return;let e=this.divRef.current.querySelector("iframe");if(e||this.props.fileType.startsWith("youtube:")||this.props.fileType.startsWith("vimeo:")&&this.state.apiPlayer&&(e=this.state.apiPlayer.element),!e)return;let r="margin: auto; position: absolute;";r+="width: 100%; height: 100%; inset: 0;",e.setAttribute("part","iframe iframe"+this.props.statusPartAppendix),e.setAttribute("style",r)};loadAPIPlayer=()=>{ml.delete(this),fl.delete(this),this.props.fileType.startsWith("youtube:")?(fl.add(this),Lle()):this.props.fileType.startsWith("vimeo:")&&(ml.add(this),Fle())};initVimeoPlayer=()=>{for(;this.divRef.current?.childNodes?.[0];)this.divRef.current.childNodes[0].remove();let e=this.props.fileType.replace("vimeo:","").split("/"),r=new window.Vimeo.Player(this.divRef.current,{id:e.length>1&&this.props.src?this.props.src:e[0],h:e[1]||void 0,width:this.props.width||640,height:this.props.height||480,loop:this.props.loop,autopause:!1,autoplay:!1,volume:this.props.autoplay||this.props.muted?0:1,background:!this.props["browser-default"],pip:!1,speed:!0,portrait:!1,muted:this.props.autoplay||this.props.muted});this.setState({apiPlayer:r},()=>{Promise.all([r.getVideoWidth(),r.getVideoHeight()]).then(i=>{r.on("loaded",()=>{r.element?.setAttribute("id","vimeo-player-"+this.uid),r.element?.setAttribute("frameborder","0"),this.setIframeStyles()}),r.on("play",()=>{this.props.onPlay?.()}),r.on("pause",()=>{this.props.onPause?.()}),r.on("ended",()=>{this.props.onEnded?.()}),r.pause().then(r.setCurrentTime(0));var n=i[0],o=i[1];this.setState({nativeSize:{width:n,height:o}}),this.props.onNewPlayer&&this.props.onNewPlayer({play:()=>new Promise((s,a)=>{this.state.apiPlayer.play().then(l=>{s(!0)}).catch(l=>{a(l)})}),pause:()=>new Promise((s,a)=>{this.state.apiPlayer.pause().then(l=>{s(!0)})}),setCurrentTime:s=>new Promise((a,l)=>{this.state.apiPlayer.setCurrentTime(s).then(p=>{a(!0)})}),getCurrentTime:()=>new Promise((s,a)=>{this.state.apiPlayer.getCurrentTime().then(l=>{s(l)})}),setMute:s=>new Promise((a,l)=>{this.state.apiPlayer.setMuted(s).then(function(p){a(p)}).catch(function(p){})}),setVolume:s=>new Promise((a,l)=>{this.state.apiPlayer.setVolume(s).then(p=>{a(!0)})}),getVolume:()=>new Promise((s,a)=>{this.state.apiPlayer.getVolume().then(l=>{s(l)})}),getDuration:()=>new Promise((s,a)=>{this.state.apiPlayer.getDuration().then(l=>{s(!0)})}),stop:()=>new Promise((s,a)=>{Promise.all([r.pause(),r.setCurrentTime(0)]).then(()=>{s(!0)})}),setPlaybackRate:s=>new Promise((a,l)=>{this.state.apiPlayer.setPlaybackRate(s).then(p=>{a(!0)})}),size:{width:n,height:o}})})})};initYoutubePlayer=()=>{for(;this.divRef.current?.childNodes?.[0];)this.divRef.current.childNodes[0].remove();let e=document.createElement("iframe"),r=this.props.fileType.replace("youtube:","");e.setAttribute("style","display:none;"),this.divRef.current.appendChild(e);let i=this.props.src.indexOf("?")>-1?this.props.src.split("?")[0]:this.props.src,n=this.props.fileType?.replace("youtube:","")||null,o="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+i;n&&n.length>0&&(o="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+n),fetch(o,{mode:"cors"}).then(s=>{s.json().then(a=>{let l=this.props.fileType?.replace("youtube:","")||null;if(n!==l){this.initYoutubePlayer();return}let p=a.width*2||640,f=a.height*2||480;e.setAttribute("id","youtube-player"),e.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),e.setAttribute("allowfullscreen",""),e.setAttribute("frameborder","0");let c={autoplay:this.props.muted&&this.props.autoplay?1:0,width:p,height:f,modestbranding:1,loop:!1,host:"https://www.youtube.com",controls:this.props["browser-default"]?void 0:0,disablekb:this.props["browser-default"]?1:0,enablejsapi:1,origin:window.location.origin,rel:0},m=Object.entries(c).filter(([g,x])=>x!==void 0).map(([g,x])=>g+"="+x).join("&");e.setAttribute("src","https://www.youtube.com/embed/"+n+"?"+m),this.setState({nativeSize:{width:p,height:f}}),this.setIframeStyles();let v=new YT.Player(e,{videoId:n,playerVars:c,events:{onReady:()=>{this.setState({nativeSize:{width:p,height:f}}),this.props.onNewPlayer&&this.props.onNewPlayer({play:()=>new Promise((g,x)=>{this.state.apiPlayer.playVideo(),g(!0)}),pause:()=>new Promise((g,x)=>{this.state.apiPlayer.pauseVideo(),g(!0)}),stop:()=>new Promise((g,x)=>{this.state.apiPlayer.stopVideo(),esolve(!0)}),size:{width:p,height:f},setCurrentTime:g=>new Promise((x,E)=>{switch(this.state.apiPlayer.getPlayerState()){case 0:case 1:case 2:this.state.apiPlayer.seekTo(g,!1)}x(!0)}),getCurrentTime:()=>new Promise((g,x)=>{g(this.state.apiPlayer.getCurrentTime())}),setVolume:g=>new Promise((x,E)=>{this.state.apiPlayer.setVolume(g*100),x(!0)}),setMute:g=>new Promise((x,E)=>{g?this.state.apiPlayer.mute():this.state.apiPlayer.unMute(),x(!0)}),getVolume:g=>new Promise((x,E)=>{x(this.state.apiPlayer.getVolume()/100)}),getDuration:()=>new Promise((g,x)=>{g(this.state.apiPlayer.getDuration())}),setPlaybackRate:g=>new Promise((x,E)=>{this.state.apiPlayer.setPlaybackRate(g),x(!0)})})},onStateChange:g=>{switch(g.data){case YT.PlayerState.ENDED:this.props.loop?(v.seekTo(0,!1),v.playVideo()):this.props.onEnded?.();break;case YT.PlayerState.PAUSED:this.props.onPause?.();break;case YT.PlayerState.PLAYING:this.props.onPlay?.();break}}}});this.setState({apiPlayer:v})})})};componentDidUpdate(e,r){if((this.props.width!==e.width||this.props.height!==e.height||this.state.nativeSize!==r.nativeSize||this.props["image-fit"]!==e["image-fit"])&&this.setIframeStyles(),this.props.statusPartAppendix!==e.statusPartAppendix){let i=this.divRef.current?.querySelector("iframe");i&&i.setAttribute("part","iframe iframe"+this.props.statusPartAppendix)}e.isLazyLoadable!==this.props.isLazyLoadable&&this.props.isLazyLoadable&&this.setState({wasInLazyLoadRange:!0}),(e.src!==this.props.src||e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"]||e.loop!==this.props.loop||e.muted!==this.props.muted||r.wasInLazyLoadRange!==this.state.wasInLazyLoadRange)&&(e.src&&this.props.onNewPlayer(null),clearTimeout(this.initPlayerTimeout),this.initPlayerTimeout=setTimeout(()=>{e.fileType.startsWith("youtube")&&this.state.apiPlayer&&(this.state.apiPlayer?.destroy(),this.loadAPIPlayer()),e.fileType.startsWith("vimeo")&&this.state.apiPlayer&&(this.state.apiPlayer.off("loaded"),this.state.apiPlayer.off("play"),this.state.apiPlayer.off("pause"),this.state.apiPlayer?.destroy().then(()=>{this.loadAPIPlayer()}))},0))}componentDidMount(){this.loadAPIPlayer()}componentWillUnmount(){clearTimeout(this.initPlayerTimeout),fl.delete(this),ml.delete(this)}},N3=Bi((t,e)=>S(U1,{...t,mediaRef:e}))});var D3,q1,L3,F3=$(()=>{ke();gt();B1();O3();Ji();Fe();Ye();D3=ye(Pe(),1);fe();q1=class extends me{constructor(e){super(e),this.nullPlayer={play:()=>new Promise((r,i)=>{i("null player play")}),pause:()=>new Promise((r,i)=>{i("null player pause")}),stop:()=>new Promise((r,i)=>{i("null player stop")}),getDuration:()=>new Promise((r,i)=>{i("null player getDuration")}),getCurrentTime:()=>new Promise((r,i)=>{i("null player getCurrentTime")}),setCurrentTime:()=>new Promise((r,i)=>{i("null player setCurrentTime")}),setMute:()=>new Promise((r,i)=>{i("null player setMute")}),getVolume:()=>new Promise((r,i)=>{i("null player getVolume")}),setVolume:()=>new Promise((r,i)=>{i("null player setVolume")}),setPlaybackRate:()=>new Promise((r,i)=>{i("null player setPlaybackRate")}),size:{width:0,height:0}},this.state={playing:!1,paused:!0,stopped:!0,hasPlayedThrough:!1,interacted:!1,hasAttention:!1,videoLoaded:!1,posterLoaded:!1,activePlayer:this.nullPlayer},this.posterRef=Se(),this.videoRef=Se(),this.videoPlayerRef=Se()}blankURI="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";render(e){let{model:r,posterModel:i,adminMode:n,isZoomable:o,alt:s,hash:a,src:l,fileType:p,decoding:f,"browser-default":c,"dynamic-src":m}=e,v=["controlslist","disablepictureinpicture","disableremoteplayback","x-webkit-airplay","playsinline"].reduce((F,W)=>this.props.baseNode.hasAttribute(W)?{...F,[W]:this.props.baseNode.getAttribute(W)}:F,{}),g=e.width??r?.width??1600,x=e.height??r?.height??1600,E=m||l||"",_=null;r&&(r.is_url?_=r.url:_="https://freight.cargo.site/i/"+r.hash+"/"+r.name);let D="";r?.loading||!_?D=E||"":D=_||"";let M=!this.props.muted&&!this.props.autoplay&&this.state.playing;p==="video"&&(D=M||this.props.isLazyLoadable?D:"");let P=null,L=this.props.renderWidth<500?50:250,I=Math.ceil(this.props.renderWidth/L)*L;i&&!i.loading?i.is_video&&i.poster?P=ds({w:I},i.poster).url||"":i.is_video||(P=ds({w:I},i).url||""):r&&r.poster&&!r.poster.loading?P=ds({w:I},r.poster).url||"":(this.props["dynamic-poster"]||this.props.poster)&&(P=this.props["dynamic-poster"]||this.props.poster||null,P=P.startsWith("https://")?P:""),P=this.props.isLazyLoadable?P:"";let q=this.state.playing?"-playing":this.state.stopped?"-stopped":this.state.paused?"-paused":"",N=!c;return S("div",{onPointerEnter:this.onPointerEnter,onPointerOut:this.onPointerOut,part:"media video-player"+(q?" video-player"+q:""),ref:this.props.mediaRef,className:`media${o?" image-zoom":""}`,children:S("div",{className:"video-player-crop",children:[N?S(gp,{ref:this.posterRef,src:P||this.blankURI,isZoomable:o,onLoad:this.onPosterLoad,isLazyLoadable:this.props.isLazyLoadable,renderWidth:this.props.renderWidth,renderHeight:this.props.renderHeight,width:g,height:x,style:{transform:"rotate(1deg)"},part:"poster"+(q?" poster"+q:"")}):null,p==="video"?S("video",{...v,ref:this.videoRef,playsinline:"true",autoplay:this.props.autoplay,loop:this.props.loop,src:D,controls:c,onLoadedMetadata:this.onVideoLoad,preload:"metadata",part:"video"+(q?" video"+q:""),poster:c?P+"?cachebreak="+this.state.forceUpdate:null,onPlay:this.onPlay,onPause:this.onPause,onEnded:this.onEnded,width:g,height:x,onClick:this.onClick}):S(N3,{...this.props,statusPartAppendix:q,fileType:p,ref:this.videoRef,loop:this.props.loop,width:g,height:x,onPlay:this.onPlay,onPause:this.onPause,onEnded:this.onEnded,onNewPlayer:this.onNewPlayer,src:D})]})})}onClick=e=>{};componentDidMount(){this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime,Object.defineProperty(this.props.baseNode,"playing",{get:()=>this.state.playing,configurable:!0}),Object.defineProperty(this.props.baseNode,"paused",{get:()=>this.state.paused,configurable:!0}),Object.defineProperty(this.props.baseNode,"stopped",{get:()=>this.state.stopped,configurable:!0}),this.autoplayInterval=setInterval(()=>{this.props.autoplay&&!this.state.playing&&this.props.visible&&!this.state.interacted&&(this.props.loop||!this.state.hasPlayedThrough)&&this.state.activePlayer.setMute(!0).then(()=>{this.play()}).catch(e=>{clearInterval(this.autoplayInterval)})},1200),this.configurePlayer(),this.props.visible&&this.enteredView()}configurePlayer=()=>{this.props.muted||this.props.autoplay?this.state.activePlayer.setMute(!0).then(()=>{this.props.visible&&this.enteredView()}).catch(e=>{}):this.state.activePlayer.setVolume(1).catch(e=>{}),this.props["playback-rate"]!=1&&this.state.activePlayer.setPlaybackRate(this.props["playback-rate"]).catch(e=>{})};componentDidUpdate(e,r){r.activePlayer!=this.state.activePlayer&&(this.configurePlayer(),this.setState({interacted:!1})),(this.props.visible!=e.visible||r.activePlayer!=this.state.activePlayer)&&(this.props.visible?this.enteredView():this.exitedView()),this.props.poster!==e.poster&&this.resetVideoPlayer(),this.props.isLazyLoadable!==e.isLazyLoadable&&(this.props.isLazyLoadable||(this.videoRef.current?.pause(),this.videoRef.current?.removeAttribute("src"),this.videoRef.current?.load())),this.props.muted!==e.muted&&this.state.activePlayer.setVolume(this.props.muted||this.props.autoplay?0:1),this.props.fileType==="video"&&(r.videoLoaded!==this.state.videoLoaded||r.posterLoaded!==this.state.posterLoaded)&&(this.props.poster&&this.state.posterLoaded&&this.state.videoLoaded?this.initializeVideoElementPlayer():this.state.videoLoaded&&this.initializeVideoElementPlayer()),(e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"])&&(this.setState({interacted:!1}),this.state.activePlayer.setCurrentTime(0),this.props.autoplay?this.play():this.stop())}componentWillUnmount(){clearInterval(this.autoplayInterval),this.pause(),this.exitedView.cancel(),delete this.props.baseNode.playing,delete this.props.baseNode.paused,delete this.props.baseNode.stopped,delete this.props.baseNode.play,delete this.props.baseNode.pause,delete this.props.baseNode.getCurrentTime,delete this.props.baseNode.setCurrentTime}play=()=>{this.state.activePlayer&&this.state.activePlayer.play().then(()=>{this.setState({playing:!0,paused:!1,stopped:!1})}).catch(e=>{this.state.activePlayer.getVolume().then(r=>{r!==0&&this.state.activePlayer.setVolume(0).then(()=>{this.state.activePlayer.play().then(()=>{this.setState({playing:!0,paused:!1,stopped:!1})}).catch(i=>{})}).catch(i=>{})}).catch(r=>{})})};pause=()=>{this.state.activePlayer&&this.state.activePlayer.pause().then(()=>{this.setState({playing:!1,paused:!0})}).catch(e=>{})};stop=()=>{this.state.activePlayer&&(this.pause(),this.state.activePlayer.pause().then(()=>{this.setState({playing:!1,paused:!0,stopped:!0}),this.state.activePlayer.setCurrentTime(0)}).catch(e=>{}))};onPointerEnter=e=>{this.props["play-on"]==="hover"&&(this.props.poster&&this.state.activePlayer.setCurrentTime(0),this.play()),this.setState({hasAttention:!0})};onPointerOut=e=>{this.props["play-on"]==="hover"&&this.pause(),this.setState({hasAttention:!1})};onPosterLoad=()=>{this.setState({posterLoaded:!0})};onVideoLoad=()=>{this.setState({videoLoaded:!0})};onNewPlayer=e=>{if(!e){this.setState({playing:!1,stopped:!0,paused:!0,hasPlayedThrough:!1,activePlayer:this.nullPlayer},()=>{this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime});return}this.setState({playing:!1,stopped:!0,paused:!0,hasPlayedThrough:!1,activePlayer:e},()=>{this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime,this.props.onLoad&&this.props.onLoad({width:e.size.width,height:e.size.height}),this.props.visible&&this.enteredView()})};initializeVideoElementPlayer=()=>{this.videoRef.current.paused&&this.videoRef.current.currentTime!==0&&(this.videoRef.current.currentTime=0),this.onNewPlayer({play:()=>new Promise((e,r)=>{this.videoRef.current.play().then(function(){e(!0)}).catch(function(i){r(i)})}),pause:()=>new Promise((e,r)=>{this.videoRef.current.pause(),e(!0)}),stop:()=>new Promise((e,r)=>{this.videoRef.current.pause(),this.videoRef.current.currentTime=0,e(!0)}),getDuration:()=>new Promise((e,r)=>{e(this.videoRef.current.duration)}),getCurrentTime:()=>new Promise((e,r)=>{e(this.videoRef.current.currentTime)}),setCurrentTime:e=>new Promise((r,i)=>{this.videoRef.current.currentTime===e?r(!0):(this.videoRef.current.currentTime=e,this.videoRef.current.addEventListener("seeked",()=>{r(!0)},{once:!0}))}),setMute:e=>new Promise((r,i)=>{this.videoRef.current.muted=e,r(e)}),getVolume:()=>new Promise((e,r)=>{e(this.videoRef.current.volume)}),setVolume:e=>new Promise((r,i)=>{this.videoRef.current.volume=e,r(!0)}),setPlaybackRate:e=>new Promise((r,i)=>{this.videoRef.current.playbackRate=Math.max(.1,Math.min(2,parseFloat(e))),"preservesPitch"in this.videoRef.current?this.videoRef.current.preservesPitch=!1:"mozPreservesPitch"in this.videoRef.current?this.videoRef.current.mozPreservesPitch=!1:"webkitPreservesPitch"in this.videoRef.current&&(this.videoRef.current.webkitPreservesPitch=!1),r(!0)}),size:{width:this.videoRef.current.videoWidth||320,height:this.videoRef.current.videoHeight||240}})};onPlay=()=>{this.setState(e=>{let r={...e};return e.hasAttention&&(r.interacted=!0),r.playing=!0,r.paused=!1,r.stopped=!1,r})};onPause=()=>{this.setState(e=>{let r={...e};return e.hasAttention&&(r.interacted=!0),r.playing=!1,r.paused=!0,r})};onEnded=()=>{this.setState({hasPlayedThrough:!0})};resetVideoPlayer=()=>{Promise.all([this.state.activePlayer.setCurrentTime(0),this.state.activePlayer.pause()]).then(()=>{this.setState({hasPlayedThrough:!1,paused:!0,stopped:!0},()=>{if(this.props.poster&&this.videoRef.current&&this.props["browser-default"]){if(ui()&&this.videoRef.current){let e=this.videoRef.current.cloneNode();this.videoRef.current.replaceWith(e),this.videoRef.current=e}this.videoRef.current.load()}})})};enteredView(){this.exitedView.cancel(),(this.props.autoplay==!0||this.props["play-on"]==="hover"&&this.state.hasAttention)&&!this.state.playing&&this.play()}exitedView=D3.default.debounce(()=>{!this.props.muted&&!this.props.autoplay&&this.state.playing||(this.pause(),Promise.all([this.state.activePlayer.pause(),this.state.activePlayer.getCurrentTime(),this.state.activePlayer.getDuration()]).then(([r,i,n=0])=>{(n-i<.1&&!this.props.loop||Number.isNaN(n)||i==0&&r)&&this.resetVideoPlayer()}))},500)},L3=Bi((t,e)=>S(q1,{...t,mediaRef:e}))});var KOe,H1,z3,B3=$(()=>{ke();gt();Ye();KOe=ye(Pe(),1);fe();H1=class extends me{constructor(e){super(e)}render(e){let{model:r,src:i,isLazyLoadable:n}=e,o=(r?.is_url?r.url:i)||"",s=["soundcloud.","mixcloud.","spotify.","bandcamp."].some(l=>o.includes(l));!n&&!s&&(o="");let a=["allow","allowfullscreen","referrerpolicy","sandbox","srcdoc"].reduce((l,p)=>this.props.baseNode.hasAttribute(p)?{...l,[p]:this.props.baseNode.getAttribute(p)}:l,{});return S("iframe",{part:"media iframe",allowfullscreen:!0,mozallowfullscreen:!0,webkitallowfullscreen:!0,frameborder:"0",...a,className:this.props.loaded?"loaded":"",onload:this.onLoad,ref:this.props.mediaRef,src:o})}onLoad=()=>{this.props.onLoad&&this.props.onLoad()};componentDidMount(){this.props.isLazyLoadable&&this.startGDocsLoadCheck()}componentDidUpdate(e,r){this.props.loaded!==e.loaded&&(clearInterval(this.gDocsTimeoutCheck),this.props.loaded||this.startGDocsLoadCheck()),this.props.isLazyLoadable!==e.isLazyLoadable&&(clearInterval(this.gDocsTimeoutCheck),this.props.isLazyLoadable&&this.startGDocsLoadCheck())}componentWillUnmount(){clearInterval(this.gDocsTimeoutCheck)}startGDocsLoadCheck=()=>{let e=this.props.model?.is_url?this.props.model.url:this.props.src;if(e.indexOf("https://docs.google.com/viewer")==0){let r=2500;this.gDocsTimeoutCheck=setInterval(()=>{this.props.mediaRef.current?.contentDocument?(this.props.mediaRef.current.setAttribute("src",""),this.props.mediaRef.current.setAttribute("src",e)):clearInterval(this.gDocsTimeoutCheck),r=r+500,r>4e3&&(console.warn("Google Docs Viewer failed to load"),clearInterval(this.gDocsTimeoutCheck))},r)}}},z3=Bi((t,e)=>S(H1,{...t,mediaRef:e}))});var ma,Yu,W1,V1,U3,q3=$(()=>{ke();Ye();Ut();Fe();Wr();Jn();Hr();ma=ye(Pe(),1);ko();fe();Yu=new Set,W1=ma.default.debounce(()=>{let t=Array.from(Yu),e=[],r=t.filter(o=>o.state.selected).length>1,i=0;if(r){let o=t.map(l=>{let p;return l.state.selected?p=l.props.baseNode.getBoundingClientRect():p={top:-9e9},{component:l,rect:p}});e=ma.default.sortBy(o,(l,p)=>l.rect.top);let s=e.filter(l=>l.component.state.selected),a=s[s.length-1].component.props.baseNode._size;i=s[s.length-1].rect.bottom+-s[0].rect.top+-a.mediaItemSize.padSize+-a.mediaSize.padSize,e=e.map(l=>l.component)}else e=t;let n=!1;e.forEach(o=>{!r||!o.state.selected?o.setState({pointerProxyAttention:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,multiSelectHeight:null}):n?o.setState({partOfMultipleSelection:!0,showMultipleSelectionButton:!1,multiSelectHeight:null}):(o.setState({pointerProxyAttention:!0,partOfMultipleSelection:!0,showMultipleSelectionButton:!0,multiSelectHeight:i},()=>{}),n=!0)})},100);de||(CargoEditor&&Object.keys(CargoEditor||{}).length>0?CargoEditor.events.on("cursor-activity",W1):window.addEventListener("CargoEditor-load",function(){CargoEditor.events.on("cursor-activity",W1)}),document.addEventListener("selectionchange",W1));V1=class extends me{constructor(e){super(e),this.state={selected:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,rect:null,overlayPosition:{x:-9e9,y:0},mediaItemEditorInfo:{},resizeCorner:0,pointerAttention:!1,pointerProxyAttention:!1,activeGallery:null,disabledFigureOptions:[],editorFramePosition:{x:0,y:0},editorMediaFramePosition:{x:0,y:0},UIWindow:!1,cursorOrientation:"nwse-resize",isResizing:!1,dragStartPosition:{x:0,y:0},dragDelta:{x:0,y:0},scalingLimit:1e3,resizeDimensions:{scale:"100%",scaleArray:[100,"%"],newWidth:"auto",newHeight:"auto",width:0,height:0,displayScale:null},initialDimensions:{scale:"100%",scaleArray:[100,"%"],newWidth:"auto",newHeight:"auto",width:0,height:0,displayScale:null},handlePos:{x:100,y:100,w:100,h:100},contextPos:{x:100,y:100,w:100,h:100},mediaCornerPositions:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],multiSelectHeight:null},this.renderElement=et.getPortal(this.props.baseNode,{noPointerEvents:!1,trackResize:!1,extraMargins:!1,component:this}),this.mediaGhostRef=Se(),this.observer=new MutationObserver(this.checkForEmptyCaption)}render(e,r){let{mediaItemEditorInfo:i,overlayPosition:n,resizeCorner:o,pointerAttention:s,pointerProxyAttention:a,disabledFigureOptions:l,editorFramePosition:p,editorMediaFramePosition:f,isResizing:c,dragStartPosition:m,dragDelta:v,scalingLimit:g,resizeDimensions:x,handlePos:E,mediaCornerPositions:_,cursorOrientation:D,partOfMultipleSelection:M,showMultipleSelectionButton:P,UIWindow:L,contextPos:I}=r,{rotation:q,dimensions:N,mediaDimensions:F,baseNode:W,size:U}=e;if(i?.disableAll==!0||!this.state.rect||n.x==-9e9)return null;let Z=x.width*x.overSize/U.mediaSize.width,J=x.height*x.overSize/U.mediaSize.height,ie=1/Z||1,le=e.scale,G=e.limitBy;c&&(x.displayScale?(G="Width",le=x.displayScale):x.scaleArray[1]=="px"?le=parseFloat(x.scaleArray[0]).toFixed(0)+x.scaleArray[1]+"":le=parseFloat(x.scaleArray[0]).toFixed(1)+x.scaleArray[1]+""),le=le==="100.0%"?"100%":le;let K=e.rotation+"\xB0",Q=null;(s||a)&&!i?.disableButton&&!L&&!c&&(P&&M?Q=S("button",{"data-editor-overlay":"true",class:"media-options-button multiple",style:{transform:`translate(${Math.floor(I.x*2)/2}px, ${Math.floor(I.y*2)/2}px)`},onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,onMouseUp:this.onOptionsButtonContextMenu,children:"Edit Multiple"}):!P&&!M&&(Q=S("button",{"data-editor-overlay":"true",class:"media-options-button",style:{transform:`translate(${Math.floor(I.x*2)/2}px, ${Math.floor(I.y*2)/2}px)`},onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,children:S("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S("circle",{className:"inner-circle",cx:"8.5",cy:"8.65747",r:"7.5"}),S("circle",{className:"outer-circle",cx:"8.5",cy:"8.65747",r:"8"}),S("circle",{className:"dot",cx:"8.49977",cy:"8.65747",r:"1"}),S("circle",{className:"dot",cx:"5.07",cy:"8.65747",r:"1"}),S("circle",{className:"dot",cx:"11.9295",cy:"8.65747",r:"1"})]})})));let re=null;!c&&s&&!i?.disableResize&&!M&&(re=S("button",{class:`resize-handle ${D}`,style:{transform:`translate(${Math.floor(E.x*2)/2}px, ${Math.floor(E.y*2)/2}px)`},onMouseDown:this.onResizePointerDown,children:S("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 32 32",style:"enable-background:new 0 0 32 32;",children:[S("polygon",{class:"outline",points:"24,18 28,15 30,14 30,30 14,30 15,28 18,24 8,14 4,17 2,18 2,2 18,2 17,4 14,8 "}),S("polygon",{class:"inner",points:"8,11 4,14 4,4 14,4 11,8 24,21 28,18 28,28 18,28 21,24 "})]})}));let ee=i?.additionalUI?.(this,W)||null,ae=this.props.baseNode.parentElement?.nodeName=="GALLERY-SLIDESHOW"&&!this.props.baseNode.parentElement.thumbnailsVisible;return S(he,{children:[S("style",{children:`:host {

				${c?"visibility: hidden!important;":""}
			}
			:host(.zoomable:active) [part*="media"]{
				opacity: unset;
			}

			iframe {
				pointer-events:none!important;
			}
			`}),ae?null:S(Jr,{baseNode:W,onSelectionChange:this.onSelectionChange}),it(S("div",{class:"editor-overlay",style:{height:U.mediaItemSize.height+"px",width:U.mediaItemSize.width+"px",display:s||c||a?"block":"none",transform:`translate3d(${n.x}px, ${n.y}px, 1px) rotate(${e.rotation}deg)`},children:[S("div",{class:`figure-outline${this.state.usingLocalScale?" using-local-scale":""}`,style:{width:U.mediaItemSize.width+"px",height:U.mediaItemSize.height+"px",top:p.y+"px",left:p.x+"px",transform:`rotate(${-e.rotation}deg)`},children:[c&&s&&S("div",{className:"tool-tip figure-sizing visible",style:{transform:`translate(${Math.floor(I.x*2)/2}px, ${Math.floor(I.y*2)/2}px)`},children:S("div",{className:"tooltip-content",children:S("span",{children:`${G}: ${le}`})})}),Q,re,ee]}),S("div",{class:"media-ghost-container",style:{display:c?"block":"none",width:x.width+U.mediaSize.padSize+"px",height:x.height+U.mediaSize.padSize+"px",top:o===2||o===3?"0":"auto",right:o===1||o===2?"auto":"0",left:o===1||o===2?"0":"auto",bottom:o===2||o===3?"auto":"0"},children:S("div",{class:"media-ghost",ref:this.mediaGhostRef})})]}),this.renderElement)]},"media-item-editor")}onOptionsButtonContextMenu=e=>{e.metaKey||e.preventDefault()};onOptionsButtonClick=e=>{if(this.state.mediaItemEditorInfo?.disableAll||e.metaKey||e.target.closest("figcaption"))return;e.preventDefault();let r=[];Yu.forEach(o=>{o.state.selected&&r.push(o.props.baseNode)}),r.indexOf(this.props.baseNode)===-1&&(r=[this.props.baseNode]);let i=this.props.baseNode.getBoundingClientRect(),n={x:i.x+10,y:i.y+10,left:i.left+10,right:i.right+10,top:i.top+10,bottom:i.top+10,width:i.width,height:0};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"imageoptions",positionRect:n,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,props:{selectedMediaItems:r,clickedMediaItem:this.props.baseNode}})};setUIWindow=e=>{this.setState({UIWindow:e})};onSelectionChange=e=>{!e&&this.state.showMultipleSelectionButton&&this.setState({pointerProxyAttention:!1,showMultipleSelectionButton:!1,pointerAttention:!1}),this.setState({selected:e})};checkForEmptyCaption=()=>{if(this.props.baseNode.closest("[thumbnail-index]"))return;clearTimeout(this.removeEmptyCaptionTimeout);let e=this.props.figCaptionElement;if(e)if(e.childNodes.length==0||Array.from(e.childNodes).every(i=>i.nodeType==Node.TEXT_NODE&&i.nodeValue.trim()==="")){let i=()=>{if(!CargoEditor||!CargoEditor.getActiveRange||!CargoEditor.mutationManager)return;let n=CargoEditor.getActiveRange();n&&e.contains(n.commonAncestorContainer)?this.removeEmptyCaptionTimeout=setTimeout(i,200):CargoEditor?.mutationManager?.execute?.(()=>{e.remove()},{preventDraft:!0})};i()}else e.classList.contains("caption")||e.classList.add("caption")};componentDidMount(){Yu.add(this),this.props.baseNode._editorInterface=this,this.checkZoomable(),this.checkHref(),this.setState({usingLocalScale:this.props.baseNode?.hasAttribute("scale")&&this.props.baseNode?.hasAttribute("limit-by")}),this.props.baseNode.addEventListener("contextmenu",this.onOptionsButtonClick),this.checkForEmptyCaption(),this.props.figCaptionElement&&this.observer.observe(this.props.figCaptionElement,{characterData:!0,subtree:!0,childList:!0})}componentWillUnmount(){if(clearTimeout(this.removeEmptyCaptionTimeout),Yu.delete(this),this.observer.disconnect(),this.state.UIWindow)if(this.props.baseNode.__willBeReplacedWith){let e=[...this.state.UIWindow.state.selectedMediaItems],r=e.indexOf(this.props.baseNode);r>-1&&(e[r]=this.props.baseNode.__willBeReplacedWith);let i=this.state.UIWindow.state.clickedMediaItem;this.props.baseNode==i&&(i=this.props.baseNode.__willBeReplacedWith),this.state.UIWindow.setState({selectedMediaItems:e,clickedMediaItem:i},()=>{this.state.UIWindow?.getSettingsFromNodes()})}else this.state.UIWindow?.onMutate();delete this.props.baseNode._editorInterface,et.removePortal(this.props.baseNode,this.renderElement),this.props.baseNode.removeEventListener("contextmenu",this.onOptionsButtonClick)}checkZoomable(e=this.props){let r=this.props["force-quick-view"]||this.props.imageSettings.image_zoom&&!this.props["disable-zoom"]&&!this.props.href&&!this.props.zoomTemporarilyDisabled,i=e["force-quick-view"]||e.imageSettings.image_zoom&&!e["disable-zoom"]&&!e.href&&!e.zoomTemporarilyDisabled;(r!=i||r&&!this.props.baseNode.classList.contains("zoomable")||!r&&this.props.baseNode.classList.contains("zoomable"))&&CargoEditor?.mutationManager?.execute?.(()=>{r?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable")},{preventDraft:!0})}checkHref(e=this.props){let r=this.props.href!==void 0&&this.props.href!==null,i=e.href!==void 0&&e.href!==null;(r!=i||r&&!this.props.baseNode.classList.contains("linked")||!r&&this.props.baseNode.classList.contains("linked"))&&CargoEditor?.mutationManager?.execute?.(()=>{r&&this.props.baseNode.classList.add("linked"),this.props.baseNode.classList.remove("linked")},{preventDraft:!0})}componentDidUpdate(e,r){this.checkZoomable(e),this.checkHref(e),this.props.figCaptionElement!==e.figCaptionElement&&(this.observer.disconnect(),this.props.figCaptionElement&&(this.checkForEmptyCaption(),this.observer.observe(this.props.figCaptionElement,{characterData:!0,subtree:!0,childList:!0}))),!this.props.baseNode.hasAttribute("data-placeholder")&&!this.props.baseNode.parentElement?.hasAttribute("thumbnail-index")&&!this.props["dynamic-width"]&&!this.props["dynamic-height"]&&!this.props["dynamic-src"]&&!this.props["dynamic-hash"]&&((!this.props.height||!this.props.width)&&(!this.props.model?.width||!this.props.model?.height)&&this.props.nativeMediaDimensions.width&&this.props.nativeMediaDimensions.height&&(this.props.nativeMediaDimensions.width!==e.nativeMediaDimensions.width||this.props.nativeMediaDimensions.height!==e.nativeMediaDimensions.height||this.props.height!==e.height||this.props.width!==e.width)&&CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("width",this.props.nativeMediaDimensions.width),this.props.baseNode.setAttribute("height",this.props.nativeMediaDimensions.height)},{preventDraft:!0}),(this.props.baseNode.hasAttribute("width")||this.props.baseNode.hasAttribute("height"))&&this.props.hash!="placeholder"&&(this.props.src!=e.src||this.props.model&&this.props.model.hash!==e.model?.hash)&&CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.removeAttribute("width"),this.props.baseNode.removeAttribute("height"),this.props.baseNode.removeAttribute("poster")},{preventDraft:!0})),(this.state.UIWindow!==r.UIWindow||this.state.pointerAttention!==r.pointerAttention||this.state.pointerProxyAttention!==r.pointerProxyAttention||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&this.props.scrollContext.scrollingElement&&(this.state.UIWindow||this.state.pointerProxyAttention||this.state.pointerAttention)&&(this.scrollPos=this.props.scrollContext.getScrollPosition().y),(this.props.size.mediaSize.width!==e.size.mediaSize.width||this.props.size.mediaSize.height!==e.size.mediaSize.height||this.props.size.mediaItemSize.width!==e.size.mediaItemSize.width||this.props.size.mediaItemSize.height!==e.size.mediaItemSize.height||this.props.size.mediaSize.padSize!==e.size.mediaSize.padSize||this.props.size.mediaItemSize.padSize!==e.size.mediaItemSize.padSize||this.props.rotation!==e.rotation)&&(this.state.pointerAttention||this.state.pointerProxyAttention)&&this.setState({usingLocalScale:this.props.baseNode?.hasAttribute("scale")&&this.props.baseNode?.hasAttribute("limit-by")})}pointerIn=()=>{let e=this.props.baseNode?.parentNode?._mediaItemEditorInfo||{},r=this.props.baseNode.parentElement?.nodeName=="GALLERY-SLIDESHOW"?this.props.baseNode.parentElement:null;if(r&&!r.thumbnailsVisible&&!this.props.baseNode.assignedSlot?.parentElement?.classList?.contains("active-slide")){this.pointerOut();return}let i=this.props.baseNode.closest("marquee-set");if(i){let n=i.getBoundingClientRect(),{x:o,y:s}=et.pointerPosition;if(!(o>n.left&&o<n.right&&s>n.top&&s<n.bottom)){this.pointerOut();return}}this.setState({mediaItemEditorInfo:e}),this.state.selected&&Yu.forEach(n=>{n.state.showMultipleSelectionButton&&n.setState({pointerProxyAttention:!0})}),this.setState({pointerAttention:!0})};pointerOut=()=>{this.state.selected&&Yu.forEach(e=>{e.state.pointerProxyAttention&&e.setState({pointerProxyAttention:!1})}),this.setState({pointerAttention:!1})};onResizePointerDown=e=>{if(e.button==2)return;let r=this.props.mediaElement,i=this.mediaGhostRef.current;if(!r||!i||this.props.size.width?.indexOf?.("%")>-1)return;for(;i.lastChild;)i.lastChild.remove();if(r.tagName=="IMG"){let o=r.cloneNode(!0);o.setAttribute("decoding","sync"),i.appendChild(o)}else if(r.tagName==="VIDEO"&&r.hasAttribute("poster")){let o=document.createElement("img");o.setAttribute("decoding","sync"),o.setAttribute("src",r.getAttribute("poster")),i.appendChild(o)}else r.classList.contains("placeholder")?i.appendChild(r.cloneNode(!0)):i.appendChild(document.createElement("div"));let n=window.getComputedStyle(r);i.firstChild.style.border=n.getPropertyValue("border"),i.firstChild.style.borderRadius=n.getPropertyValue("border-radius"),i.firstChild.style.padding=n.getPropertyValue("padding"),i.firstChild.style.outline=n.getPropertyValue("outline"),this.startDrag(e)};startDrag=e=>{let{handlePos:r,mediaCornerPositions:i,cursorOrientation:n}=this.state,{baseNode:o,rotation:s,limitBy:a,size:l}=this.props,p=this.props.baseNode.closest("bodycopy, column-unit, gallery-freeform"),f=0;if(p){let E=window.getComputedStyle(p);f=p.offsetWidth+-parseFloat(E.getPropertyValue("padding-left"))+-parseFloat(E.getPropertyValue("padding-right"))}else f=window.innerWidth;f=f+-l.mediaSize.padSize+-l.mediaItemSize.padSize;let c={x:e.clientX,y:e.clientY};e.preventDefault();let m=this.props.scale??100,v=dr(m,a==="width"?"%":"rem");a!=="width"&&a!=="height"&&(v[1]=""),v[0]=parseFloat(v[0]),(v[0]===""||v[1].indexOf("calc(")>-1||v[1].indexOf("var(")>-1)&&(a==="width"?(v[0]=l.mediaSize.width/f*100,v[1]="%"):(v[0]=l.mediaSize.height/window.innerHeight*100,v[1]="vh"));let g=Math.min(v[0].toString().indexOf(".")>-1?v[0].toString().split(".").pop().length:0,3);v[0]=parseFloat(parseFloat(v[0]).toFixed(g));let x={width:l.mediaSize.width,height:l.mediaSize.height,atLimit:Math.abs(l.mediaSize.width-f)<2,scaleArray:v,scale:m,overSize:1,displayScale:null};this.state.mediaItemEditorInfo.beforeScaleChange&&(x=this.state.mediaItemEditorInfo.beforeScaleChange(this.props.baseNode,x)),this.setState({dragStartPosition:c,scalingLimit:f,dragDelta:{x:0,y:0},resizeDimensions:x,initialDimensions:{...x,scaleArray:[...x.scaleArray]},isResizing:!0},()=>{et.lock(),document.body.style.setProperty("cursor",n,"important"),document.body.classList.add("dragging-figure-in-editor"),be.adminWindow.addEventListener("mouseup",this.onPointerUp),be.adminWindow.addEventListener("pointermove",this.onDrag),window.addEventListener("pointermove",this.onDrag),window.addEventListener("mouseup",this.onPointerUp)})};onDrag=e=>{e.preventDefault();let{dragStartPosition:r,mediaCornerPositions:i,scalingLimit:n,resizeCorner:o,handlePos:s,handleTrack:a,initialDimensions:l}=this.state,{rotation:p,limitBy:f,baseNode:c,size:m}=this.props,{resizeDimensions:v}=this.state,{scale:g,scaleArray:x}=l,E={x:e.clientX-r.x,y:e.clientY+-r.y},_=p*(Math.PI/180)||0,D=i[o],M=i[(o+1)%4],P=i[(o+2)%4],L=i[(o+3)%4],I=this.getDistance(L,s),q=this.getDistance(P,s),N=parseInt(m.width),F=parseInt(m.height),W=45,U=this.getAngle(L,D),Z=this.getAngle(D,M),J={x:s.x+E.x,y:s.y+E.y},ie=[{x:s.x+Math.cos(Z)*10,y:a.y+a.h+-W+Math.sin(Z+Math.PI)*10},{x:s.x,y:a.y+a.h+-W}],le=[{x:s.x+Math.cos(U)*10,y:a.y+a.h+-W+Math.sin(U+Math.PI)*10},{x:s.x,y:a.y+a.h+-W}],G=0,K=0,Q=0,re,ee;if(o%2==0){let Re=this.getIntersection(ie,[M,P]),Qe=this.getIntersection(le,[P,L]),Me=this.getDistance(P,s),$e=this.getDistance(P,J),Ne=this.getAngle(P,J),He=this.getDistance(P,s);Q=$e/He;let ft=this.getDistance(P,Re);K=$e/ft;let at=Math.abs(Math.sin(Ne+_));K*=at;let tt=this.getDistance(Qe,P);G=$e/tt;let Xe=Math.cos(Ne+_);G*=Xe}else{let Re=this.getIntersection(ie,[L,D]),Qe=this.getIntersection(le,[D,M]),Me=this.getDistance(P,s),$e=this.getDistance(P,J),Ne=this.getAngle(P,J),He=this.getDistance(P,s);Q=$e/He;let ft=this.getDistance(P,Re);K=$e/ft;let at=Math.abs(Math.sin(Ne+_));K*=at;let tt=this.getDistance(Qe,P);G=$e/tt;let Xe=Math.cos(Ne+_);G*=Xe}let ae=Math.max(G,Q,K),se=Math.min(m.mediaSize.width/N,m.mediaSize.height/F),ce=N/F;re=N*se*ae,ee=F*se*ae;let _e=!1,Ie=1;if(re>n){let Re=n/re;_e=!0,re=n,ee=ee*Re}let ge=e.altKey||e.metaKey;f==="width"?([x,re]=this.scaleDimension(x,re+m.mediaSize.padSize+m.mediaItemSize.padSize,m.mediaSize.width+m.mediaSize.padSize+m.mediaItemSize.padSize,ge),re=re+-m.mediaSize.padSize+-m.mediaItemSize.padSize,ee=re/ce):([x,ee]=this.scaleDimension(x,ee+m.mediaSize.padSize+m.mediaItemSize.padSize,m.mediaSize.height+m.mediaSize.padSize+m.mediaItemSize.padSize,ge),re=ce*(ee+-m.mediaSize.padSize+-m.mediaItemSize.padSize),ee=re/ce),x[0]=parseFloat(x[0]),v={scale:x.join(""),scaleArray:x,limitBy:f,width:re,height:ee,atLimit:_e,overSize:Ie,displayScale:null},x[1]=="%"&&f=="width"&&parseFloat(x[0])>=100&&(v.scale="100%",v.scaleArray=[100,"%"]),this.state.mediaItemEditorInfo.whileScaleChange&&(v=this.state.mediaItemEditorInfo.whileScaleChange(this.props.baseNode,{...v})),this.setState({resizeDimensions:v})};scaleDimension=(e,r,i,n)=>{let o=e[0]*(r/i),s=o;n?e[1]=="%"||e[1]=="vh"||e[1]=="vw"||e[1]=="vmax"||e[1]=="vmin"?o=Math.round(o/.5)*.5:o=Math.round(o/10)*10:e[1]=="px"?o=Math.round(o):o=Math.round(o*10)/10,o=Math.max(1,o);let a=o/s||0;return[[o,e[1]],r*a]};onPointerUp=e=>{let{resizeDimensions:r,scalingLimit:i}=this.state;e.preventDefault(),CargoEditor.mutationManager.execute(()=>{this.state.mediaItemEditorInfo.afterScaleChange?this.state.mediaItemEditorInfo.afterScaleChange(this.props.baseNode,r):this.props.baseNode.setAttribute("scale",r.scale),this.props.baseNode.flushMutationQueue()}),et.unlock(),this.setState({isResizing:!1},()=>{document.body.style.cursor="",be.adminWindow.removeEventListener("mouseup",this.onPointerUp),be.adminWindow.removeEventListener("pointermove",this.onDrag),document.body.classList.remove("dragging-figure-in-editor"),window.removeEventListener("pointermove",this.onDrag),window.removeEventListener("mouseup",this.onPointerUp)})};updatePosition=e=>{let{figureElement:r,mediaElement:i,sizingFrameElement:n,baseNode:o,rotation:s,size:a}=this.props,l=this.lastY==null?e.top:this.lastY,p=this.lastY-e.top;if(this.lastY=e.top,this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(p),!r||!i||!i.parentElement||a.mediaItemSize.width==0||a.mediaItemSize.height==0||!n||!this.state.pointerAttention&&!this.state.pointerProxyAttention)return;let f=s*(Math.PI/180)||0,c=e,m={w:a.mediaItemSize.width*Math.cos(f)-a.mediaItemSize.height*Math.sin(f),h:a.mediaItemSize.width*Math.sin(f)+a.mediaItemSize.height*Math.cos(f)},x={x:c.left+(c.width-m.w)*.5+-0,y:c.top+(c.height-m.h)*.5+-0},E=n.getBoundingClientRect(),_=45,D=45,M=this.state.showMultipleSelectionButton&&this.state.multiSelectHeight,P={x:r.offsetLeft,y:r.offsetTop,w:r.offsetWidth,h:r.offsetHeight};M&&(P.h=this.state.multiSelectHeight);let L=i.offsetLeft,I=i.offsetTop,q=i;for(;q&&q.parentNode&&q.parentNode!==o.shadowRoot&&q.parentNode!==r&&q.parentNode!==o;)L=L+q.offsetLeft,I=I+q.offsetTop,q=q.offsetParent;let N={x:L||0,y:I||0},F=[{x:N.x,y:N.y},{x:N.x+a.mediaSize.width+a.mediaSize.padSize,y:N.y},{x:N.x+a.mediaSize.width+a.mediaSize.padSize,y:N.y+a.mediaSize.height+a.mediaSize.padSize},{x:N.x,y:N.y+a.mediaSize.height+a.mediaSize.padSize}],W=[];if(M)W=F,W[2].y=N.y+this.state.multiSelectHeight,W[3].y=N.y+this.state.multiSelectHeight;else{let tt={x:P.w*.5,y:P.h*.5};W=F.map(Xe=>{let ct={x:Xe.x-tt.x,y:Xe.y-tt.y},Rt={x:ct.x*Math.cos(f)-ct.y*Math.sin(f),y:ct.x*Math.sin(f)+ct.y*Math.cos(f)};return{x:Rt.x+tt.x,y:Rt.y+tt.y}})}if(ma.default.isEqual(W))return;let U,Z,J,ie;U=ma.default.minBy(W,tt=>tt.y);let le=W.indexOf(U);Z=W[(le+1)%4],J=W[(le+2)%4],ie=W[(le+3)%4];let G={x:0,y:0,w:_,h:D},K={x:0,y:0},Q={x:U.x,y:U.y},re={w:Z.x-ie.x,h:J.y-U.y,x:ie.x,y:U.y},ee=[{x:re.x+re.w*.5,y:re.y+re.h*.5},{x:re.x+re.w,y:re.y+re.h}],ae=this.getIntersection(ee,[Z,J]),se=this.getIntersection(ee,[ie,J]),ce=!1,_e=ma.default.minBy([se,ae],tt=>tt.y<ee[0].y?9e9:tt.y);if(_e==se)G.x=J.x,G.y=J.y;else{let tt=this.getDistance(Z,_e);this.getDistance(J,_e)<tt?(G.x=J.x,G.y=J.y):(G.x=Z.x,G.y=Z.y,ce=!0)}let Ie,ge=0,Re=0;if(ce){let tt=this.getAngle(Z,U),Xe=Math.PI-(Math.abs(tt)+Math.PI*.5),ct=D*Math.cos(Xe),Rt=-Math.cos(Xe+Math.PI*.5)*ct,Ze=-Math.sin(Xe+Math.PI*.5)*ct;Q={x:ie.x+-Rt,y:ie.y+-Ze+D},G.x=G.x+Rt+-_,Ie=G.y+Ze+D;let Dt=[{x:U.x-_,y:Ie},{x:U.x-_,y:Ie-10}],_t=[{x:U.x,y:Ie},{x:U.x,y:Ie-10}],Ot=[this.getIntersection(Dt,[ie,U]),this.getIntersection(Dt,[U,Z]),this.getIntersection(_t,[ie,U]),this.getIntersection(_t,[U,Z])],Tt=ma.default.maxBy(Ot,Lt=>Lt.y);G.y=Tt.y,G.h=Ie-G.y;let ri=Math.max(0,E.bottom+(D+Ze)+-nt.data.window.h+-(J.y-Z.y));Re=G.h-D+-ri,ge=this.getIntersection([{x:G.x,y:G.y+Re},{x:G.x-10,y:G.y+Re}],[U,Z]).x-G.x+-_}else{let tt=this.getAngle(J,Z),Xe=Math.PI-(Math.abs(tt)+Math.PI*.5),ct=_*Math.cos(Xe),Rt=-Math.cos(Xe)*ct,Ze=-Math.sin(Xe)*ct;if(Ie=G.y+Ze,G.x=G.x+Rt,G.y=Z.y,G.h=Ie-Z.y,Q={x:U.x+-Rt+-_,y:U.y+-Ze},Math.abs(this.getSlope(Z,J))>1&&E.bottom+Ze>=nt.data.window.h){let _t=E.bottom+-nt.data.window.h,Ot={x:J.x,y:J.y-_t},Tt=this.getIntersection([Ot,{x:Ot.x+10,y:Ot.y}],[J,Z]);ge=Tt.x-(G.x+G.w),Re=Tt.y-G.y+-D}else{let _t=[{x:G.x,y:Ie},{x:G.x,y:Ie-10}],Ot=[{x:G.x+G.w,y:Ie},{x:G.x+G.w,y:Ie-10}],Tt=[this.getIntersection(_t,[ie,U]),this.getIntersection(_t,[U,Z]),this.getIntersection(Ot,[ie,U]),this.getIntersection(Ot,[U,Z])],ri=ma.default.maxBy(Tt,Lt=>Lt.y);G.y=ri.y,G.h=Ie-G.y;let Mi=Math.max(0,E.bottom+-nt.data.window.h+Ze);Re=G.h-D+-Mi,ge=0}}K.x=G.x+ge,K.y=Math.max(G.y,G.y+Re);let Qe=Math.max(0,E.left+E.width+-nt.data.window.w);K.x=Math.min(K.x,Z.x-(Qe+_));let Me=Math.min(0,E.left),$e=Math.min(0,E.top);Q.x=Math.max(Q.x,-Me+ie.x),Q.y=Math.max(Q.y,-$e+U.y);let Ne=this.getIntersection([Q,{x:Q.x,y:Q.y+10}],[ie,J]);Q.y=Math.min(Q.y,Ne.y+-D);let He=(le+2)%4;ce&&(He=(He+3)%4);let ft="nwse-resize",at=this.getAngle(K,W[(He+2)%4]);Math.abs(Math.PI*.5-at)<.4?ft="ns-resize":Math.abs(Math.PI-Math.abs(at))<.4&&(ft="ew-resize"),this.setState({mediaCornerPositions:W,resizeCorner:He,contextPos:Q,handlePos:K,cursorOrientation:ft,handleTrack:G,overlayPosition:x,rect:e,editorMediaFramePosition:{x:N.x,y:N.y},editorFramePosition:{x:0,y:0}})};getAngle=(e,r)=>Math.atan2(-(r.y-e.y),r.x-e.x);getDistance=(e,r)=>Math.sqrt(Math.pow(r.y-e.y,2)+Math.pow(r.x-e.x,2));getSlope=(e,r)=>(r.y-e.y)/(r.x-e.x);getIntersection=(e,r)=>{let i=this.getSlope(...e),n=this.getSlope(...r),o,s;return i==0?(isFinite(n)?o=(n*r[0].x-(r[0].y-e[0].y))/n:o=r[0].x,s=e[0].y):isFinite(i)?(o=(n*r[0].x-i*e[0].x-(r[0].y-e[0].y))/(n-i),s=i*(o-e[0].x)+e[0].y):(o=e[0].x,s=n*(o-r[0].x)+r[0].y),isFinite(o)||(o=null),isFinite(s)||(s=null),{x:o,y:s}}},U3=V1});var $1,H3,W3=$(()=>{ke();Ut();fe();$1=class extends me{constructor(e){super(e),this.state={}}onDragStart=()=>{this.props.setPlaceholderUIState({is_target:!1})};handlePlaceholderUIEvent=async e=>{if(!window?.CargoEditor?.getActiveEditor?.())return;let r=e.target.closest(".page[id]")?.getAttribute("id"),i=window?.CargoEditor?.getActiveEditor()?.pid;switch(i!==r&&(window?.parent.navigateAdmin("/"+r,{preserveScroll:!0}),window.parent.document.dispatchEvent(new CustomEvent("open-remote-message",{detail:{message:"Switched to Page",duration:1e3}})),await new Promise(n=>{CargoEditor.events.once("editor-instanciated",(o,s,a)=>{setTimeout(()=>{n()},150)})})),e.detail.action){case"open-images-window":let n=i===r;if(e.target.parentElement?.hasAttribute("thumbnail-index")){be.adminWindow.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{session:{"page-thumbnail-image-picker-menu":!0}}});let f=this.props.baseNode.shadowRoot.querySelector(".placeholder-ui button")?.getBoundingClientRect(),c={x:f.x+10,y:f.y+10,left:f.left+10,right:f.right+10,top:f.top+10,bottom:f.top+10,width:f.width,height:0};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"imageoptions",positionRect:c,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,props:{selectedMediaItems:[this.props.baseNode],clickedMediaItem:this.props.baseNode}});return}let s=e.target.tagName==="MEDIA-ITEM"&&e.target?._isPlaceholder?.()===!0,a=!!be.adminWindow.document.querySelector('[window-id="media-window"]');if(n&&s&&a)return;let l=be.adminWindow.document.querySelector('button[name="images"]')?.getBoundingClientRect();be.adminWindow.UIWindowOpener.openUIWindow({windowName:"media",id:"media-window",positionRect:l,uiWindowType:"popover",props:{positionType:"center-under-button",acceptDrops:!0,closeOnSingleClickout:!0,shouldPreventClickout:(f,c)=>{let m=i===r,v=f.tagName==="MEDIA-ITEM"&&f?._isPlaceholder?.()===!0;if(m&&v){let x=f.shadowRoot.elementFromPoint(c.clientX,c.clientY);if(!!(x.closest(".placeholder-ui button")||x.tagName==="BUTTON"&&x.closest(".placeholder-ui")))return!0}return!1}}});break;case"open-backdrop-window":let p=be.adminWindow.document.querySelector('button[name="backdrop"]')?.getBoundingClientRect();be.adminWindow.UIWindowOpener.openUIWindow({windowName:"backdrop-settings",id:"page-backdrop-window",positionRect:p,uiWindowType:"popover",props:{positionType:"center-under-button",acceptDrops:!0,closeOnSingleClickout:!0}});break}};componentDidMount(){this.props.baseNode.addEventListener("placeholder-ui",this.handlePlaceholderUIEvent),this.props.baseNode.addEventListener("dragstart",this.onDragStart)}componentWillUnmount(){this.props.baseNode.removeEventListener("placeholder-ui",this.handlePlaceholderUIEvent),this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}componentDidUpdate(e,r){this.props.model?.hash!=e.model?.hash&&!this.props.getPlaceholderUIState()?.is_target&&this.props.setPlaceholderUIState({is_target:!1,visible:this.props.baseNode._isPlaceholder()})}onPointerMove=e=>{};render(e,r){return S(he,{},"placeholder-editor")}},H3=$1});var V3,bp,$g,zle,Ble,$3=$(()=>{ke();Ye();gt();V3=ye(Pe(),1);Fe();Ar();qr();fp();kr();B1();F3();B3();Qr();q3();W3();ll();fe();ke();de||(window.CSS.registerProperty&&CSS.registerProperty({name:"--replace-ui-fadein",syntax:"<number>",inherits:!0,initialValue:0}),bp=new ResizeObserver(function(t){t.forEach(function(e){if(e.contentRect.width==0&&e.contentRect.height==0&e.contentRect.top==0&&e.contentRect.left==0)return;let r=0,i=0,n=0,o=0,s=0,a=0,l=0,p=0,f=0,c=0,m=e.target.tagName==="DIV";if(e.contentBoxSize&&e.borderBoxSize&&!m)e.borderBoxSize.length?(r=e.borderBoxSize[0].blockSize-e.contentBoxSize[0].blockSize,i=e.borderBoxSize[0].inlineSize-e.contentBoxSize[0].inlineSize):(r=e.borderBoxSize.blockSize-e.contentBoxSize.blockSize,i=e.borderBoxSize.inlineSize-e.contentBoxSize.inlineSize);else{let v=window.getComputedStyle(e.target);n=parseFloat(v.getPropertyValue("padding-left"))||0,o=parseFloat(v.getPropertyValue("padding-right"))||0,s=parseFloat(v.getPropertyValue("border-right-width"))||0,a=parseFloat(v.getPropertyValue("border-left-width"))||0,l=parseFloat(v.getPropertyValue("padding-top"))||0,p=parseFloat(v.getPropertyValue("padding-bottom"))||0,f=parseFloat(v.getPropertyValue("border-bottom-width"))||0,c=parseFloat(v.getPropertyValue("border-top-width"))||0,r=l+p+c+f,i=n+o+s+a}Pt(e.target,"elementResize",{padSize:i,vertPadSize:r,horizPadSize:i,width:e.contentRect.width,height:e.contentRect.height,leftPad:n,rightPad:o,leftBorder:s,rightBorder:a,topPad:l,bottomPad:p,bottomBorder:f,topBorder:c},{bubbles:!1})})}));$g=class extends Or{constructor(e){super(e),this.state={zoomTemporarilyDisabled:!1,scrollTransitionDisabled:!1,slottedMediaNode:null,placeholderUI:this.isPlaceholder()?{visible:!0,is_target:!1}:null,nativeMediaDimensions:{width:null,height:null},dimensions:{padSize:0,vertPadSize:0,horizPadSize:0,width:0,height:0},mediaDimensions:{padSize:0,vertPadSize:0,horizPadSize:0,width:0,height:0,leftPad:0,rightPad:0,leftBorder:0,rightBorder:0,topPad:0,bottomPad:0,bottomBorder:0,topBorder:0},isVisible:!1,viewportIntersection:{hasLayout:!1,visible:!1,position:"unknown"},isLazyLoadable:!1,loaded:!1},this.uid=V3.default.uniqueId(),this.figureRef=Se(),this.mediaRef=Se(),this.lastMediaRef=Se(),this.figCaptionRef=Se(),this.sizingFrameRef=Se(),this.props.baseNode._setFXFrame=n=>{this.setState({fxFrame:n})},this.props.baseNode._setPlaceholderUIState=this.setPlaceholderUIState,this.props.baseNode._getPlaceholderUIState=this.getPlaceholderUIState,this.props.baseNode._isPlaceholder=this.isPlaceholder,Object.defineProperty(this.props.baseNode,"_size",{get:()=>({width:this.props["dynamic-width"]??this.props.width??this.props.model?.width??this.state.nativeMediaDimensions.width??1600,height:this.props["dynamic-height"]??this.props.height??this.props.model?.height??this.state.nativeMediaDimensions.height??1e3,mediaItemSize:this.state.dimensions,mediaSize:this.state.mediaDimensions}),configurable:!0}),Object.defineProperty(this.props.baseNode,"_nativeMediaDimensions",{get:()=>({width:this.state.nativeMediaDimensions.width??1600,height:this.state.nativeMediaDimensions.height??1600}),configurable:!0}),Object.defineProperty(this.props.baseNode,"_model",{get:()=>this.props.model||null,configurable:!0});let r=this.props.baseNode.onload;Object.defineProperty(this.props.baseNode,"onload",{get:()=>this.onloadCallback,set:n=>{this.onloadCallback=n,this.state.loaded&&n&&this.onLoad()},configurable:!0}),this.props.baseNode.onload=r;let i=this.props.baseNode.onerror;Object.defineProperty(this.props.baseNode,"onerror",{get:()=>this.onErrorCallback,set:n=>{this.onErrorCallback=n},configurable:!0}),this.props.baseNode.onerror=i,this.props.baseNode._disableZoom=n=>{this.setState(o=>o.zoomTemporarilyDisabled===n?null:{zoomTemporarilyDisabled:n})},this.props.baseNode._disableScrollTransition=n=>{this.setState(o=>o.scrollTransitionDisabled===n?null:{scrollTransitionDisabled:n})},this.props.baseNode._forceRedraw=n=>{this.setState({forceRedraw:Math.random()})},this.props.baseNode.getFileType=this.getFileType}isPlaceholder=()=>this.props.hash=="placeholder"||this.props.model?.is_placeholder;handleClick=e=>{if(e?.defaultPrevented)return;let r=e.composedPath();if(r.find(p=>p.tagName==="A"))return;if(this.pointerInteractionType=="mouse"&&!this.props.adminMode&&!this.state.hoveringOverFigure&&!this.state.hasOpaqueBG){e.preventDefault();return}let n=this.props.baseNode.shadowRoot.querySelector("a.sizing-frame"),o=!1,s=window.getSelection();if(s&&s.rangeCount>0&&!this.props.adminMode){let p=s.getRangeAt(0);p&&p.commonAncestorContainer&&!p.collapsed&&this.props.baseNode.contains(p.commonAncestorContainer)&&(o=!0)}if(n&&!o&&!this.props.adminMode){e.stopPropagation(),e.preventDefault(),n.click();return}let a=this.getFileType(),l=this.isZoomable();if((a==="video"||a.startsWith("vimeo")||a.startsWith("youtube"))&&(!this.props.adminMode&&e.detail==1||e.detail==2)&&!this.props.autoplay&&!l){if(r.some(p=>p.nodeName=="VIDEO"||p.nodeName==="IFRAME")&&this.props["browser-default"])return;e.preventDefault(),this.props.baseNode.playing?this.props.baseNode.pause():this.props.baseNode.play();return}!l||o||!r.find(p=>p&&p.classList?.contains("sizing-frame"))||this.props.adminMode||(e.preventDefault(),C1(this.props.baseNode))};isZoomable=()=>this.props["force-quick-view"]||this.props.imageSettings.image_zoom&&!this.props["disable-zoom"]&&!this.props.href&&!this.state.zoomTemporarilyDisabled;getFileType=()=>{let{model:e,src:r,"dynamic-src":i}=this.props;if(r=i||r,this.props["dynamic-filetype"]!==void 0&&this.props["dynamic-filetype"]!==null)return this.props["dynamic-filetype"];let n="none";if(e)e.is_image?n="image":e.is_video?n="video":e.is_url&&(n="url",e.url_type&&!e.url_id?n=e.url_type:e.url_id&&e.url_type&&(n=e.url_type+":"+e.url_id));else if(r){let f=r.toLowerCase();if(f.endsWith(".mov")||f.endsWith(".mp4")||f.endsWith(".webm"))n="video";else if(f.endsWith(".png")||f.endsWith(".webp")||f.endsWith(".jpg")||f.endsWith(".jpeg")||f.endsWith(".gif")||f.endsWith(".avif")||f.endsWith(".apng")||f.endsWith(".svg"))n="image";else{n="url";var o="",s=/(?:<iframe [^>]*src=")?(?:https?:\/\/(?:[\w]+\.)*vimeo\.com(?:[\/\w:]*(?:\/videos)?)?\/([0-9]+)[^\s]*)"?(?:[^>]*><\/iframe>)?(?:<p>.*<\/p>)?/,p=r.match(s);if(p&&p[0]){let c=p[0].split(/\/|\?h=|&|\?/);for(var a=0;a<c.length;a++)!c[a].includes(":")&&!c[a].includes(".")&&!c[a].includes("vimeo")&&!c[a].includes("=")&&!c[a].includes("video")&&!c[a].includes("showcase")&&!c[a].includes("player")&&c[a].length>3&&(o.length==0?o=c[a]:o+="/"+c[a]);n="vimeo:"+o}var l=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(shorts\/)|(watch\?))\??v?=?([^#\&\?]*).*/,p=r.match(l);p&&(p[7]&&p[7].length==11?(o=p[7],n="youtube:"+o):p[8]&&p[8].length==11&&(o=p[8],n="youtube:"+o))}}return n};onCaptionClick=e=>{this.props.adminMode||e.target.closest("a")&&e.stopPropagation()};render(e,r,i){let{dimensions:n,mediaDimensions:o,viewportIntersection:s,loading:a,nativeMediaDimensions:l,scrollTransitionDisabled:p}=r,{rotation:f,drag:c,"force-visible":m,"dynamic-src":v,adminMode:g,imageSettings:x,pageInfo:E,"dynamic-width":_,"dynamic-height":D,width:M,height:P,baseNode:L,model:I,posterModel:q,href:N,src:F,hash:W,isMobile:U}=e;M=_||M,P=D||P;let Z=U?"max-height":"max-width",J=U?"vh":"vw",ie=U?"cqh":"cqw",le=m??this.state.isVisible,G=m??this.state.isLazyLoadable,{uid:K}=this,Q=this.props.scale!==void 0?this.props.scale:U&&x.mobile_image_width_maximize?"100%":x.scale,re=this.props["limit-by"]!==void 0?this.props["limit-by"]:U&&x.mobile_image_width_maximize?"width":x.limit_by;F=v||F;let ee=M??I?.width??l.width??1600,ae=P??I?.height??l.height??1e3,se=dr(Q,re=="height"?"rem":"%"),ce=ae/ee,Ie=o.width*ce,ge=o.horizPadSize+n.horizPadSize,Re=o.vertPadSize+n.vertPadSize,Qe=o.width+o.horizPadSize,$e=(Ie+o.vertPadSize)/Qe,Ne=se.join(""),He,ft=null;isNaN($e)&&($e=ae/ee);let at=ee.toString().trim().endsWith("%"),tt=ae.toString().trim().endsWith("%"),Xe=dr(ee,"%"),ct=dr(ae,"%");if(at&&tt)re==="width"||re=="height"?(Ne=`calc(${Xe[0]*.01} * var(--resize-parent-width, 100%) )`,ft=`calc( var(--fit-height) * ${ct[0]*.01} )`,He="var(--custom-fit-height)"):(Ne=`calc(${Xe[0]*se[0]*1e-4} * var(--resize-parent-width, 100%) )`,ft=`calc( var(--fit-height) * ${ct[0]*se[0]*1e-4} )`,He="var(--custom-fit-height)");else if(re=="height")if(tt)ft=`calc( var(--fit-height) * ${ct[0]*.01} )`,He="var(--custom-fit-height)",Ne=`${Xe[0]*.01}px`;else{let Lt="";se[1]=="%"?Lt=`( ${se[0]*.01} * var(--resize-parent-width, 100%) )`:se[1].indexOf("calc(")>-1?(se[1]=se[1].replace(/[\d*\.]+%/g,function(cr){return`( ${dr(cr,"%")[0]*.01} * var(--resize-parent-width, 100%) )`}),Lt=se[1].replace("calc(","(")):Lt=se.join(""),at?(Ne=`calc( ${Xe[0]*.01} * var(--resize-parent-width, 100%) )`,He=`calc( ${Lt} )`):(Ne=`calc( ( ${Lt} - ${Re}px ) * ( 1 / ${ce} ) + ${ge}px )`,He=$e*100+"%")}else re==="width"?at?(Ne=`calc( ${Xe[0]*.01} * var(--resize-parent-width, 100%) )`,He=`${ct[0]}px`):(se[1]=="%"?Ne=`calc(${se[0]*.01} * var(--resize-parent-width, 100%) )`:(se[1].indexOf("calc(")>-1&&(se[1]=se[1].replace(/[\d*\.]+%/g,function(Lt){return`( ${dr(Lt,"%")[0]*.01} * var(--resize-parent-width, 100%) )`})),Ne=se.join("")),tt?(ft=`calc( var(--fit-height) * ${ct[0]*.01} )`,He="var(--custom-fit-height)"):He=$e*100+"%"):at?(Ne=`calc(${Xe[0]*se[0]*1e-4} * var(--resize-parent-width, 100%) )`,ft=`calc( min( var(--fit-height) * ${se[0]*.01} , ${ct[0]*se[0]*.01}px ) )`,He="var(--custom-fit-height)"):tt?(Ne=`calc( min( ${se[0]*.01} * var(--resize-parent-width, 100%) , ${Xe[0]*se[0]*.01}px ) )`,ft=`calc(  var(--fit-height) * ${se[0]*ct[0]*1e-4}  )`,He="var(--custom-fit-height)"):(Ne=`calc( ( ( var(--fit-height, 50vh) * ${se[0]/100} ) - ${ge}px ) * ( 1 / ${ce} ) + ${ge}px )`,He=$e*100+"%");let Rt=this.props.uses||"";Rt.indexOf("scroll-transition")===-1&&x?.scroll_animation&&this.props["disable-scroll-animation"]===!1&&!this.state.scrollTransitionDisabled&&(Rt=Rt+" scroll-transition");let Ze=g&&G&&!this.props["dynamic-src"]&&this.state.placeholderUI?.visible===!0?S("div",{className:"placeholder-ui",part:"placeholder-ui",children:S("button",{onMouseDown:Lt=>{CargoEditor?.rangy&&(CargoEditor.forcedRange=null,CargoEditor.rangy.getSelection().removeAllRanges(),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor())),Lt.stopPropagation(),this.setPlaceholderUIState({is_target:!0})},onMouseEnter:Lt=>{this.setPlaceholderUIState({is_target:!0})},onMouseLeave:()=>{this.setPlaceholderUIState({is_target:!1})},onMouseUp:Lt=>{Lt.preventDefault(),Lt.stopPropagation()},onClickCapture:Lt=>{Lt.preventDefault(),Lt.stopPropagation(),CargoEditor.forcedRange=null,CargoEditor.rangy.getSelection().removeAllRanges(),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor());let cr=!!this.props?.baseNode?.getRootNode()?.host?.classList?.contains("wallpaper"),mt;cr?mt=new CustomEvent("placeholder-ui",{detail:{action:"open-backdrop-window",uid:this.uid,placeholderUI:this.state.placeholderUI}}):mt=new CustomEvent("placeholder-ui",{detail:{action:"open-images-window",uid:this.uid,placeholderUI:this.state.placeholderUI}}),this.props.baseNode.dispatchEvent(mt),this.setPlaceholderUIState({is_target:!1})},children:S("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",children:[S("polygon",{points:"23.57 13.79 32.34 27.55 8.93 27.55 14.75 19.5 17.02 22.91 23.57 13.79"}),S("circle",{cx:"14.75",cy:"13.15",r:"2.68"})]})})}):null,Dt=null,_t=this.getFileType()||"",Ot=this.isZoomable(),Tt=e.autoplay&&e.muted;switch(!0){case(!Tt&&Ot&&_t.startsWith("youtube")&&q&&!e["browser-default"]):case(!Tt&&Ot&&_t.startsWith("vimeo")&&q&&!e["browser-default"]):case(!Tt&&Ot&&_t==="video"&&q&&!e["browser-default"]):case(Ot&&_t==="url"&&q):Dt=S(gp,{...e,model:q,isZoomable:Ot,ref:this.mediaRef,onLoad:this.onLoad,isLazyLoadable:G,renderWidth:o.width,renderHeight:o.height,part:"media",onError:this.onErrorCallback});break;case _t=="video":case _t.startsWith("vimeo:"):case _t.startsWith("youtube:"):Dt=S(L3,{...e,baseNode:this.props.baseNode,isZoomable:Ot,ref:this.mediaRef,onLoad:this.onLoad,visible:le,fileType:_t,isLazyLoadable:G,renderWidth:n.width,renderHeight:n.height,src:F});break;case _t=="image":Dt=S(gp,{...e,isZoomable:Ot,ref:this.mediaRef,onLoad:this.onLoad,isLazyLoadable:G,renderWidth:o.width,renderHeight:o.height,part:"media",onError:this.onErrorCallback});break;case _t=="url":Dt=S(z3,{...e,loaded:this.state.loaded,onLoad:this.onLoad,ref:this.mediaRef,isLazyLoadable:G,src:F});break;default:Dt=S("div",{ref:this.mediaRef,className:"placeholder",part:"media placeholder",width:"1600",height:"1000",draggable:"true",children:S("svg",{preserveAspectRatio:"none",part:"placeholder-svg",viewBox:"0 0 1600 1600",style:{display:"block",width:"100%",height:"100%"},children:[S("rect",{part:"placeholder-rect"}),S("line",{part:"placeholder-line","vector-effect":"non-scaling-stroke",x1:"0",y1:"0",x2:"1600",y2:"1600",stroke:"rgb(200,200,200)","stroke-width":"1"})]})});break}Dt=S(he,{children:[this.state.fxFrame,Dt,Ze]});let ri=S("slot",{onSlotChange:this.onMediaSlotChange,name:"custom-media",children:Dt},"media-slot-key"),Mi=S(he,{children:[S("style",{id:"media-item",children:`

:host {

	${this.state.forceRedraw?`/* ${this.state.forceRedraw} */`:""}
	${(this.state.hoveringOverFigure||this.state.hasOpaqueBG)&&!g&&N&&N!==""?"cursor: pointer;":""}
	display: inline-flex;
	vertical-align: bottom;
	flex-direction: column; 
	position: relative;

	width: var(--resize-parent-width, 100%);
	max-width: ${Ne||"100%"};
	${ft?`--custom-fit-height: ${ft};`:""}
	transform-origin: center center;
	margin: 0;
	padding: 0;
	z-index: var(--z-index, initial);    
}


${g&&this.state.placeholderUI?.visible===!0?`
	:host {
		--editor-overlay-accent: rgb(0, 100, 225);
		@property --replace-ui-fadein {
		    syntax: "<number>";
		    inherits: true;
		    initial-value: 0;
		}			
	}


	.placeholder-ui {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		display: ${G?"grid":"none"};
		place-items: center;
		z-index: 4;
		box-shadow: ${this.state.placeholderUI?.is_target===!0?"inset 0 0 0 2px var(--editor-overlay-accent)":"none"};
		container-type: size;
		container-name: placeholder-size;
		${this.state.placeholderUI?.is_target===!0?"background-color: rgba(0, 100, 225, .1)":""};
	}


	.placeholder-ui button {
		width: clamp(60px, 11cqw, 120px);
		aspect-ratio: 1/1;
		padding: 0;
		border-radius: 1cqw;
		pointer-events: all;
		background: ${this.state.placeholderUI?.is_target===!0?"var(--editor-overlay-accent)":"rgba(255,255,255,0.6)"};
		backdrop-filter: blur(8px);
  		-webkit-backdrop-filter: blur(8px);
		border: none !important;
		box-shadow: ${this.state.placeholderUI?.is_target===!0?`inset 0px 0px 0px 0.5px rgba(255, 255, 255, 0.1),
			  0 0 0 .5px rgba(0,0,0, 0)`:`inset 0px 0px 0px 0.5px rgba(255, 255, 255, 0.2),
			  0 0 0 .5px rgba(0,0,0, 0.15)`};
		display: flex;
		align-items: center;
		justify-content: center;
		cursor: pointer;
		opacity: var(--replace-ui-fadein, 0);
	}
	.placeholder-ui svg {
		width: 100%;
		height: 100%;
	}
	.placeholder-ui svg rect {
		fill: none;
	}
	.placeholder-ui svg polygon,
	.placeholder-ui svg circle {
		fill: none;
		stroke: ${this.state.placeholderUI?.is_target===!0?"#eee":"rgba(0,0,0,.7)"};
		stroke-width: 1px;
		vector-effect: non-scaling-stroke;
	}
	@container placeholder-size (${Z}: 30${J}) {
		.placeholder-ui button {
			border-radius: 1.5${ie};
			width: clamp(60px, 13${ie}, 120px);
		}
	}
	@container placeholder-size (${Z}: 20${J}) {
		.placeholder-ui button {
			border-radius: 2${ie};
			width: clamp(50px, 19${ie}, 120px);
		}
	}
	@container placeholder-size (${Z}: 10${J}) {
		.placeholder-ui button {
			border-radius: 4${ie};
			width: clamp(40px, 25${ie}, 120px);
		}
	}
	@container placeholder-size (max-width: 50px) or (max-height: 50px) {
		.placeholder-ui button {
			display: none;
		}
	}
`:`
	.placeholder-ui {
		display: none;
	}
`}

:host, * {
	box-sizing: border-box;
}
a {
	cursor: inherit;
}

${(this.state.hoveringOverFigure||this.state.hasOpaqueBG)&&!g&&Ot?`[part*="media"]:active {
    opacity: 0.7;
}`:""}

${(this.state.hoveringOverFigure||this.state.hasOpaqueBG)&&!g&&N?`:host(:active) {
    opacity: 0.7;
}`:""}

figure {
	flex-direction: column;
	position: relative;
	display: flex;
	width: 100%;
	margin: 0;
	padding: 0;
	z-index: 2;
}

::slotted(figcaption){
	-webkit-user-select: text;	
	user-select: text;
	width: 100%;
}

:host([image-fit="fit"]) {
	--object-fit: contain;
}
:host([image-fit="fill"]) {
	--object-fit: cover;
}
:host([image-fit="stretch"]) {
	--object-fit: fill;
}

[part*="media"],
[part*="video"],
[part*="poster"] {
	object-fit: var(--object-fit, cover);
}

[part*="media"]:-webkit-full-screen,
[part*="media"]:fullscreen,
[part*="video"]:-webkit-full-screen,
[part*="video"]:fullscreen {
	object-fit: contain!important;
}

.sizing-frame {
	display: block;
	width: 100%;
	flex-grow: 1;
	height: 0;
	padding-bottom: var(--frame-padding, ${He});
	position: relative;
}

.frame {
	display:contents;
}

/* for images and custom media */
::slotted([slot="custom-media"]),
[part*="media"] {
	object-position: center center;
	display: block;
	margin: 0;
	width: 100%;
	min-width: 100%;
	min-height: 100%;
	height: 100%;
	position: absolute;
	overflow: clip;
	overflow-clip-margin: content-box;
	inset: 0;
}

/*
	for URL fileType and default setup for iframe-videos
*/
iframe {
	opacity: 0;
	pointer-events: ${!g&&!this.props.href&&!Ot?"auto":"none"};
}

iframe.loaded {
	opacity: 1;
}

/* enable proper padding cropping for videos, in most scenarios */
.video-player-crop {
	all: inherit;
	filter: unset;
	will-change: unset;
	width: unset;
	height: unset;
	padding: 0;
	border-left-width: ${o.leftPad+o.leftBorder}px;
	border-right-width: ${o.rightPad+o.rightBorder}px;
	border-top-width: ${o.topPad+o.topBorder}px;
	border-bottom-width: ${o.bottomPad+o.bottomBorder}px;
	top: ${-o.topBorder}px;
	left: ${-o.leftBorder}px;
	right: ${-o.rightBorder}px;
	bottom: ${-o.bottomBorder}px;

	min-width: unset;
	min-height: unset;

	margin: auto;
	border-color: transparent;
	background: transparent;
}

/* for video filetype */
[part*="video"], [part*="poster"] {
	object-position: 50% 50%;	
	display: block;
	margin: 0;
	width: 100%;
	height: 100%;
	position: absolute;
	inset: 0;
}

[part*="video"] iframe[part*="iframe"] {
	opacity: 1;
}

[part*="poster"] {
	object-fit: cover;
	z-index: 2;
	opacity: 0;
}
${e["browser-default"]?`[part*="poster-playing"],
[part*="poster-paused"]{
	pointer-events:none;
}
`:""}	
[part*="poster-stopped"]{
	opacity: 1;
}
${a?`[part*="media"] {
	opacity: 0;
}`:""}

${g?`
::slotted(video[slot="custom-media"]),
::slotted(iframe[slot="custom-media"]){
	pointer-events:none;
}

[part*="media"] iframe {
	pointer-events:none!important;
}

`:`
[part*="media"].image-zoom {
	cursor: -webkit-zoom-in;
	cursor: -moz-zoom-in;
	cursor: zoom-in;
}	
`}

${E.isEditing?`
:host, * {
	-webkit-user-select: text;
	user-select: text;	
}
`:""}

				`}),S(ca,{scrollContext:this.props.scrollContext,uses:Rt,visibility:s,onLazyLoadChange:this.onlazyLoadChange,adminMode:g,customElementMode:!0,baseNode:L,isLazyLoadable:G,pageInfo:E,figureElement:this.figureRef.current,sizingFrameElement:this.sizingFrameRef.current,"disable-scroll-animation":this.state.scrollTransitionDisabled,children:S("figure",{draggable:this.props.adminMode?"true":null,part:"figure",ref:this.figureRef,onPointerEnter:this.onFigurePointerEnter,onPointerCancel:this.onFigurePointerCancel,onPointerLeave:this.onFigurePointerLeave,children:[S("div",{part:"frame",className:"frame",children:this.props.href!==void 0?S("a",{ref:this.sizingFrameRef,className:"sizing-frame",part:"link sizing-frame",href:this.props.href,rel:this.props.rel,target:this.props.target,"data-tags":this.props["data-tags"],children:ri}):S("div",{ref:this.sizingFrameRef,className:"sizing-frame",part:"sizing-frame",children:ri})}),S("slot",{name:"caption",onSlotChange:this.onCaptionSlotChange})]})},"media-host"),E.isEditing&&g&&Bt(U3,{...this.props,zoomTemporarilyDisabled:this.state.zoomTemporarilyDisabled,fileType:_t,limitBy:re,width:M,height:P,rotation:f||0,scale:Q,scrollContext:this.props.scrollContext,key:`media-item-editor-${this.uid}`,baseNode:L,nativeMediaDimensions:this.state.nativeMediaDimensions,figCaptionElement:this.figCaptionRef.current,sizingFrameElement:this.sizingFrameRef.current,figureElement:this.figureRef.current,mediaElement:this.mediaRef.current,size:this.props.baseNode._size,uid:this.uid}),g?Bt(H3,{...this.props,key:`placeholder-editor-${this.uid}`,baseNode:L,setPlaceholderUIState:this.setPlaceholderUIState,getPlaceholderUIState:this.getPlaceholderUIState,sizingFrameElement:this.sizingFrameRef.current,figureElement:this.figureRef.current,mediaElement:this.mediaRef.current,size:this.props.baseNode._size,uid:this.uid}):null]},"media-item-fragment");return it(Mi,L.shadowRoot)}onCaptionSlotChange=e=>{let r=e.target.assignedElements()?.[0];r?(this.figCaptionRef.current=r,this.setState({forceRedraw:Math.random()})):this.figCaptionRef.current=null};onViewportIntersectionChange=e=>{this.state.viewportIntersection?.position!==e.position?this.setState({isVisible:e.position==="inside",viewportIntersection:e}):(this.state.viewportIntersection.hasLayout!==e.hasLayout||this.state.viewportIntersection.visibility!==e.visibility)&&this.setState({viewportIntersection:e})};onLazyloadIntersectionChange=e=>{let r=e.position==="inside";this.state.isLazyLoadable!==r&&this.setState({isLazyLoadable:r})};onMediaSlotChange=e=>{let r=e.target.assignedNodes();r[0]?(this.setState({nativeMediaDimensions:{width:parseFloat(r[0].getAttribute("width"))||null,height:parseFloat(r[0].getAttribute("height"))||null},slottedMediaNode:r[0]}),this.mediaRef.current=r[0]):this.setState({nativeMediaDimensions:{width:null,height:null},slottedMediaNode:null})};bindMediaListeners=e=>{if(!e)return;let r=parseFloat(e.getAttribute("width"))||null,i=parseFloat(e.getAttribute("height"))||null;r&&i&&this.state.nativeMediaDimensions.width!==r&&this.state.nativeMediaDimensions.height!==i&&this.setState({nativeMediaDimensions:{width:r,height:i}}),yt(e,"elementResize",this.onMediaResize),bp.observe(e)};unbindMediaListeners=e=>{e&&(this.setState({nativeMediaDimensions:{width:null,height:null}}),wt(e,"elementResize",this.onMediaResize),bp.unobserve(e))};setPlaceholderUIState=e=>{this.setState(r=>({placeholderUI:{...{visible:r.placeholderUI?.visible??!1,is_target:r.placeholderUI?.is_target??!1,skipOpacityTransition:r.placeholderUI?.skipOpacityTransition??!1},...e}}))};getPlaceholderUIState=()=>this.state.placeholderUI?this.state.placeholderUI:{};componentDidMount(){if(de)return;this.props.adminMode||(this.isZoomable()?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable"),this.props.href!==void 0?this.props.baseNode.classList.add("linked"):this.props.baseNode.classList.remove("linked"));let e=this.props["dynamic-src"]||this.props.modelSrc||this.props.src;this.props.hash==="placeholder"&&!e&&!this.props.baseNode.hasAttribute("hash")&&this.onLoad(),yt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),yt(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),yt(this.props.baseNode,"elementResize",this.onResize),this.props.baseNode.addEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.addEventListener("click",this.handleClick),this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.bindMediaListeners(this.mediaRef.current),this.lastMediaRef.current=this.mediaRef.current,bp.observe(this.props.baseNode)}componentWillUnmount(){de||(cancelAnimationFrame(this.itemResizeAfterModelChange),wt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),wt(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),wt(this.props.baseNode,"elementResize",this.onResize),this.props.baseNode.removeEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.removeEventListener("dragstart",this.onDragStart),this.props.baseNode.removeEventListener("click",this.handleClick),bp.unobserve(this.props.baseNode),this.unbindMediaListeners(this.mediaRef.current))}componentDidUpdate(e,r){(this.props.hash!==e.hash||this.props.src!==e.src)&&this.setState({nativeMediaDimensions:{width:null,height:null}});let i=this.getFileType();(i.startsWith("vimeo")||i.startsWith("youtube"))&&(e.src!==this.props.src||e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"]||e.loop!==this.props.loop||e.muted!==this.props.muted)&&this.setState({loaded:!1}),(this.props.imageSettings.image_zoom!==e.imageSettings.image_zoom||this.props["disable-zoom"]!==e["disable-zoom"]||this.state.zoomTemporarilyDisabled!==r.zoomTemporarilyDisabled)&&(this.isZoomable()?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable")),this.props.href!==e.href&&(this.props.href!==void 0?this.props.baseNode.classList.add("linked"):this.props.baseNode.classList.remove("linked")),this.props.itemLoad!==e.itemLoad&&this.props.itemLoad&&this.state.loaded&&this.onLoad(),this.props.itemResize&&!(this.props.baseNode.slot&&!this.props.baseNode.assignedSlot)&&(this.props.model&&e.model&&e.model.hash!==this.props.model.hash||this.props.width!==e.width||this.props.height!==e.height||this.props["dynamic-width"]!==e["dynamic-width"]||this.props["dynamic-height"]!==e["dynamic-height"]||this.state.nativeMediaDimensions.width!==r.nativeMediaDimensions.width||this.state.nativeMediaDimensions.height!==r.nativeMediaDimensions.height||this.state.dimensions.width!=r.dimensions.width||this.state.dimensions.height!=r.dimensions.height||this.state.dimensions.padSize!=r.dimensions.padSize||this.state.mediaDimensions.padSize!=r.mediaDimensions.padSize)&&this.props.itemResize(this.props.baseNode._size,this.props.baseNode),e.hash!=="placeholder"&&this.props.hash==="placeholder"&&this.onLoad(),this.lastMediaRef.current!==this.mediaRef.current&&(this.unbindMediaListeners(this.lastMediaRef.current),this.bindMediaListeners(this.mediaRef.current),this.lastMediaRef.current=this.mediaRef.current)}onResize=e=>{this.setState({dimensions:{...e}})};onMediaResize=e=>{(e.width!==this.state.mediaDimensions.width||e.horizPadSize!==this.state.mediaDimensions.horizPadSize||e.vertPadSize!==this.state.mediaDimensions.vertPadSize||e.height!==this.state.mediaDimensions.height)&&this.setState({mediaDimensions:{...e}})};onPointerEnter=e=>{if(this.props.adminMode)return;let r=getComputedStyle(this.props.baseNode),i=r.getPropertyValue("background-image"),n=!1;if(i!="none")n=!0;else switch(r.getPropertyValue("background-color")){case"rgba(0, 0, 0, 0)":case"rgba(0 0 0 0)":case"none":case"transparent":n=!1;break;default:n=!0;break}this.setState({hasOpaqueBG:n})};onFigurePointerEnter=e=>{this.pointerInteractionType=e.pointerType,this.setState({hoveringOverFigure:!0})};onFigurePointerCancel=e=>{this.setState({hoveringOverFigure:!1})};onFigurePointerLeave=e=>{this.setState({hoveringOverFigure:!1})};onDragStart=e=>{typeof this.props.itemDragStart=="function"&&this.props.itemDragStart(e);let r=this.props.baseNode.querySelector("figcaption");this.props.baseNode.contains(e.target)&&(r&&!r.contains(e.target)||!r)&&this.props.adminMode&&this.props.pageInfo.isEditing&&e.dataTransfer.setData("media-drag","true")};onLoad=e=>{this.setState(r=>e&&(e.width!==r.nativeMediaDimensions.width||e.height!==r.nativeMediaDimensions.height)?{nativeMediaDimensions:{...e},loaded:!0}:{loaded:!0},()=>{this.onloadCallback&&this.onloadCallback(this.props.baseNode),this.props.itemLoad&&this.props.itemLoad(this.props.baseNode)})}};$g.defaultProps={scale:void 0,"limit-by":void 0,"force-quick-view":!1,"disable-zoom":!1,"disable-scroll-animation":!1,width:void 0,height:void 0,hash:"placeholder",src:void 0,rotation:0,model:null,"image-fit":"fill","play-on":"click",autoplay:!1,muted:!1,loop:!1,"browser-default":!1,"playback-rate":1};zle=jt(Ue((t,e)=>{let r=e["dynamic-hash"]||e.hash||null,i=r?We.getMediaByHash(t)[r]:null;e.model&&(i=e.model,r=i.hash),!r&&e["dynamic-src"]==null&&e.src==null&&(r="placeholder");let n=e.poster||null,o=null,s;return e.posterModel?o=e.posterModel:n&&!n.includes?.(".")&&(o=We.getMediaByHash(t)[n]||null),{hash:r,posterModel:o,model:i,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,imageSettings:{limit_by:"width",scale:"100%",...t.siteDesign.images}}},null)($g)),Ble=["itemResize","itemLoad","itemDragStart","model","dynamic-hash","dynamic-filetype","dynamic-src","dynamic-width","dynamic-height","rotation","limit-by","disable-zoom","disable-scroll-animation","scale","hash","src","force-visible","alt","href","rel","target","tag-text","autoplay","muted","loop","poster","play","browser-default","playback-rate","image-fit","width","height"];lr(zle,"media-item",Ble)});var Ule,Xu,jg=$(()=>{Ule=ye(Pe(),1);Fe();Xu=(t,e,r)=>{let i=(de?1:window.devicePixelRatio)>1,n=r/t-e*((t-1)/t),o=[],s=i?Math.round(e*2)/2:Math.round(e);for(let a=0;a<t;a++){let l={left:n*a+e*a,right:n*a+e*a+n};a<t-1?l.right=i?Math.round(l.right*2)/2:Math.round(l.right):l.right=r,a>0&&(l.left=o[a-1].right+s),o.push(l)}return{columnAndGutterMap:o,columnWidth:n,gutterPixelWidth:s,halfPixels:i}}});var LDe,j1,j3,G3=$(()=>{ke();LDe=ye(Pe(),1);Ut();Uu();fe();j1=class extends me{constructor(e){super(e)}render(e,r){let{galleryInstance:i,"vertical-align":n}=e,o=!!e?.["blog-gallery"],s=o?!0:!!this.props.disableResize,a=o?!0:!!e?.["disable-button"];return S(No,{...e,disabledFigureOptions:["scale"],gallerySpecificAttributes:this.props.gallerySpecificAttributes,mediaItemEditorInfo:{disableResize:s,disableButton:a,afterScaleChange:this.afterScaleChange,beforeScaleChange:this.spanResize,whileScaleChange:this.spanResize},galleryInstance:i,onCleanUp:(l,p,f,c,m,v)=>{f.forEach(g=>{g.getAttribute("grid-vertical-align")===n&&g.removeAttribute("grid-vertical-align"),g.getAttribute("grid-span")===1&&g.removeAttribute("grid-span")}),p.forEach(g=>{g&&(g.classList.remove("last-column"),g.classList.remove("last-row"),g.classList.remove("orphaned-item"))}),this.props.onCleanUp&&this.props.onCleanUp(l,p,f,c,m,v)}})}spanResize=(e,r)=>{let i=this.convertWidthToSpans(r);return{...r,displayScale:i>1?i+" columns":i+" column"}};afterScaleChange=(e,r)=>{let i=this.convertWidthToSpans(r);i===1?e.removeAttribute("grid-span"):e.setAttribute("grid-span",i),this.props.galleryComponent.onItemResize()};convertWidthToSpans=e=>{let{columnAndGutterMap:r}=this.props,i=r.findIndex((n,o)=>{let s=r[o+1]?.left||9e9,a=n.right-n.left;return e.width>=n.left+a*.5&&e.width<=s+a*.5})+1;return Math.max(1,i)}},j3=j1});var Gg,ao,Kg,G1,Yg=$(()=>{ke();Ye();gt();da();Hu();Fe();jg();qu();qr();Hr();G3();Gg=ye(Pe(),1);Qr();fe();ao={name:"grid",displayName:"Grid",tagName:"GALLERY-GRID",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"Spans",name:"grid-span",type:"scrubber",allowUnclampedTextEntry:!1,value:1,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Vertical Align",name:"grid-vertical-align",type:"radio",value:"inherit",inheritsFrom:"vertical-align",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]}],options:[{labelName:"Columns",name:"columns",type:"scrubber",allowUnclampedTextEntry:!1,value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"1rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Vertical Align",name:"vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Horizontal Align",name:"horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]}],mobileOptions:[{labelName:"Columns",name:"mobile-columns",allowUnclampedTextEntry:!1,type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"1rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]}]};ao.mediaItemDefaults=pt(ao.mediaItemOptions);ao.defaults=pt(ao.options);ao.mobileDefaults=pt(ao.mobileOptions);Kg=class extends me{constructor(e){super(e),this.state={isMobile:nt.data.mobile.active,sizeIncrement:0,elWidth:1e3,gutterWidth:0,gutterHeight:0,hasSizes:!1,renderLimit:250},this.uid=Gg.default.uniqueId(),this.paginationWatcherRef=Se(),this.paginationObserver=new IntersectionObserver(this.requestPagination,{root:this.props.scrollContext.scrollingElement===window?document:this.props.scrollContext.scrollingElement,rootMargin:screen.height*2+"px",threshold:[0,1]})}requestPagination=async e=>{if(this.isIntersecting=e[0].isIntersecting,!(this.isPaginating||this.state.renderLimit>=this.getMediaItems().length)){for(this.isPaginating=!0;this.isIntersecting;){let r=this.state.renderLimit+100;if(this.setState({renderLimit:r}),r>=this.getMediaItems().length)break;await new Promise(i=>setTimeout(i,250))}this.isPaginating=!1}};getMediaItems(){return Array.from(this.props.baseNode.children).filter(e=>e.nodeName=="MEDIA-ITEM")}render(e,r){let{adminMode:i,baseNode:n,pageInfo:o}=e,{isMobile:s,gutterWidth:a,gutterHeight:l,hasSizes:p}=r,{elWidth:f}=r;p||(f=this.props.baseNode.offsetWidth);let c=this.state.isMobile&&this.props["mobile-vertical-align"]!==void 0?this.props["mobile-vertical-align"]:this.props["vertical-align"];this.props.verticalAlign&&(c=this.props.verticalAlign);let m=this.state.isMobile&&this.props["mobile-columns"]!==void 0?this.props["mobile-columns"]:this.props.columns;m=Math.max(1,parseInt(m))||1;let g=(this.state.isMobile&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter).split(" "),x=(g.length>1,g[0]);x=dr(x,"rem"),x[1]=="rem"&&s&&(x=["","calc( var(--mobile-padding-offset, 1) * "+x.join("")+" )"]);let E=g.length>1?g[1]:g[0];E=dr(E,"rem"),E[1]=="rem"&&s&&(E=["","calc( var(--mobile-padding-offset, 1) * "+E.join("")+" )"]);let{columnAndGutterMap:_,columnWidth:D,gutterPixelWidth:M}=Xu(m,a,f),P=this.getMediaItems(),L=[],I=0,q=0,N=s&&!isNaN(parseInt(this.props["mobile-columns"]))&&parseInt(this.props["mobile-columns"])!==parseInt(this.props.columns);P.forEach((J,ie)=>{if(ie>this.state.renderLimit)return;L[I]||(L[I]=[]);let le=N?1:parseInt(J.getAttribute("grid-span"))||1;q%m+le>m&&(le=m-q%m);let G=J.getAttribute("grid-vertical-align")||null;L[I].push({index:ie,spans:le,hasOrphans:!1,verticalAlign:G,el:J}),q=q+le,q%m==0&&I++,q%m!=0&&ie==P.length-1&&(L[L.length-1].hasOrphans=!0)});let F=P.length%m,W=[],U=[];L.forEach((J,ie)=>{let le=Gg.default.sumBy(J,se=>se.spans),G=0,K=[],Q=0,re=0,ee=J.map((se,ce)=>{let _e=se.spans,Ie=se.el._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0,horizPadSize:0,vertPadSize:0},mediaItemSize:{width:0,height:0,padSize:0,vertPadSize:0,horizPadSize:0}},ge=G,Re=G+_e+-1,Qe=D*_e+a*(_e-1),Me=(Qe+-Ie.mediaItemSize.horizPadSize+-Ie.mediaSize.horizPadSize)/Ie.width||1,$e=Math.round(Ie.height*Me+Ie.mediaSize.vertPadSize)||0;Qe=_[Re].right-_[ge].left,G+=_e,Q=Math.max(Q,$e);let Ne={},He="";return Qe<0?($e=0,M=0,He+=`
					--grid-width: 0px;
					--grid-gutter-width: ${Qe+M}px;`):He+=` --grid-width: ${Qe}px;`,Ne.orphanedItem=J.hasOrphans,ce===J.length-1?(Ne.lastColumn=!0,se.index<P.length-1&&(He=` --grid-width: ${f-re}px;`),re=0):(ce==0&&(Ne.firstColumn=!0),re=re+Qe+a),ie==L.length-1&&(Ne.lastRow=!0),Ne.gridItemPixelHeight=$e,Ne.gridItemPixelWidth=Qe,Ne.gridWidthStyle=He,Ne});var ae=Gg.default.maxBy(ee,se=>se.gridItemPixelHeight);Q=ae.gridItemPixelHeight,J.forEach((se,ce)=>{let _e=ee[ce],Ie=0,ge=c;switch(se.verticalAlign){case"top":case"center":case"bottom":ge=se.verticalAlign;break}switch(ge){case"top":Ie=0;break;case"center":Ie=(Q-_e.gridItemPixelHeight)*.5;break;case"bottom":Ie=Q-_e.gridItemPixelHeight;break}let Re=`margin-top: ${Ie}px; --frame-padding: ${_e.gridItemPixelHeight}px; ${_e.gridWidthStyle}`,Qe=ie==0?" first-row":_e.lastRow?" last-row":"",Me=_e.firstColumn?" first-in-row":_e.lastColumn?" last-in-row":"",$e="row-"+ie+"-"+se.index+Qe+Me;W.push({slot:$e,itemResize:this.onItemResize,drag:void 0,itemDragStart:void 0,"limit-by":null}),U.push({slot:$e,style:Re,itemStatuses:_e})})}),P.forEach((J,ie)=>{let le=W[ie]||{slot:null},G=J._props||{};Oo(J,{...G,...le},G,!1,!1)});let Z=[];return L.forEach((J,ie)=>{Z.push(S("div",{part:ie==0?"first-row":ie===L.length-1?"last-row":"row",className:`row ${J.hasOrphans?"has-orphans":""}`,children:J.map(le=>S("slot",{name:W[le.index].slot},"slot-"+ie+"-"+le.index))},"row-"+ie))}),S(he,{children:[this.props.children,it(S(he,{children:[S("style",{children:`
						:host {
							display: block;
							width: var(--resize-parent-width, 100%);
							max-width: 100%;
							position: relative;							
			 				--grid-gutter-width: ${M}px;
							--grid-gutter-height: ${l}px;
							--grid-columns: ${m};
							margin-top: calc(var(--gutter-expand, 0) * ${l}px );	
						}				

						* {
							box-sizing: border-box;
						}

						${U.map((J,ie)=>`::slotted(media-item[slot="${J.slot}"]) {
								${J.style}
								${J.itemStatuses.lastColumn&&!J.itemStatuses.orphanedItem?"flex-grow: 1; --object-fit: fill;":""}
								${J.itemStatuses.lastColumn?"":"margin-right: var(--grid-gutter-width);"}
								${J.itemStatuses.lastRow?"":"margin-bottom: var(--grid-gutter-height);"}
							} `).join("")}
								

						.row {
							max-width: ${f}px;
						    align-items: flex-start;
						    justify-content: flex-start;
							position: relative;
							display: flex;
							flex-direction: row;
							flex-wrap: nowrap;					
							width: 100%;
							clear: both;
						}				
		
						.row.has-orphans {
						    justify-content: flex-start;
						}

						${s&&e["mobile-horizontal-align"]?`
							:host([mobile-horizontal-align="left"]) .row.has-orphans {
								justify-content: flex-start;
							}
			
							:host([mobile-horizontal-align="center"]) .row.has-orphans {
								justify-content: center;
							}
			
							:host([mobile-horizontal-align="right"]) .row.has-orphans {
								justify-content: flex-end;
							}
						`:`
							:host([horizontal-align="left"]) .row.has-orphans {
								justify-content: flex-start;
							}
			
							:host([horizontal-align="center"]) .row.has-orphans {
								justify-content: center;
							}
			
							:host([horizontal-align="right"]) .row.has-orphans {
								justify-content: flex-end;
							}
						`}
		
						:host([hidden]) {
							display: none;
						}
		
						::slotted(media-item) {
							${i?"pointer-events: auto;":""}
							position: relative;
						    display: flex;
						    max-width: 100%;   
						    flex-grow: 0;
						    flex-shrink: 0;
						    flex-basis: var(--grid-width);
						    width: var(--grid-width);
						}
		

		
					`}),S(tn,{values:{elWidth:"100%",gutterWidth:x.join(""),gutterHeight:E.join("")},onResize:this.onResize}),i&&o.isEditing&&!de&&S(j3,{...e,disableResize:N,gallerySpecificAttributes:["grid-span","grid-vertical-align"],galleryInstance:n,galleryComponent:this,columnAndGutterMap:_}),Z,S("div",{ref:this.paginationWatcherRef,class:"pagination-watcher"})]}),this.props.baseNode.shadowRoot)]})}onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){nt.on("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.observe(this.paginationWatcherRef.current)}componentWillUnmount(){nt.off("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.unobserve(this.paginationWatcherRef.current)}onItemResize=e=>{this.setState(r=>({sizeIncrement:r.sizeIncrement+1}))};onResize=(e,r)=>{this.setState(i=>{let n={...i};return n[e]=r,n.hasSizes=!0,n})}};Kg.defaultProps={"show-tags":!0,"show-title":!0,columns:ao.defaults.columns.value,gutter:"2rem","vertical-align":ao.defaults["vertical-align"].value,"horizontal-align":ao.defaults["horizontal-align"].value};G1=jt(Do(Ue((t,e)=>({adminMode:t.frontendState.adminMode}))(Kg)));lr(G1,"gallery-grid",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","columns","gutter","mobile-columns","mobile-gutter","vertical-align","horizontal-align","mobile-horizontal-align","mobile-vertical-align"])});var sLe,K1,K3,Y3=$(()=>{ke();sLe=ye(Pe(),1);Ut();Uu();fe();K1=class extends me{constructor(e){super(e)}render(e,r){let{galleryInstance:i,gutterWidth:n,elWidth:o,elHeight:s,disabledAttributes:a}=e;return S(No,{...e,dragIndicationType:"columns",gallerySpecificAttributes:this.props.gallerySpecificAttributes,galleryInstance:i,mediaItemEditorInfo:{disableResize:this.props.disableResize,disableButton:!1,afterScaleChange:this.afterScaleChange,beforeScaleChange:this.spanResize,whileScaleChange:this.spanResize},disabledAttributes:a})}spanResize=(e,r)=>{let i=this.convertWidthToSpans(r);return{...r,displayScale:i>1?i+" columns":i+" column"}};afterScaleChange=(e,r)=>{let i=this.convertWidthToSpans(r);i===1?e.removeAttribute("columnized-span"):e.setAttribute("columnized-span",i),this.props.galleryComponent.onItemResize()};convertWidthToSpans=e=>{let{columnAndGutterMap:r}=this.props,i=r.findIndex((n,o)=>{let s=r[o+1]?.left||9e9,a=n.right-n.left;return e.width>=n.left+a*.5&&e.width<=s+a*.5})+1;return Math.max(1,i)}},K3=K1});var Y1,_s,Xg,qle,X1=$(()=>{ke();Ye();gt();da();Fe();jg();qu();Hu();qr();Y3();Hr();Y1=ye(Pe(),1);Qr();fe();_s={name:"columnized",displayName:"Columnized",tagName:"GALLERY-COLUMNIZED",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"Column Span",name:"columnized-span",allowUnclampedTextEntry:!1,type:"scrubber",value:1,min:1,max:11,step:1,numberOnlyMode:!0}],options:[{labelName:"Columns",name:"columns",type:"scrubber",allowUnclampedTextEntry:!1,value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"1rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]}],mobileOptions:[{labelName:"Columns",name:"mobile-columns",allowUnclampedTextEntry:!1,type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"1rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]}]};_s.mediaItemDefaults=pt(_s.mediaItemOptions);_s.defaults=pt(_s.options);_s.mobileDefaults=pt(_s.mobileOptions);Xg=class extends me{constructor(e){super(e),this.state={elWidth:1e3,gutterWidth:0,gutterHeight:0,isMobile:nt.data.mobile.active,sizeIncrement:0,hasSizes:!1}}render(e,r){let{gutterWidth:i,gutterHeight:n,isMobile:o,hasSizes:s}=r,{baseNode:a,adminMode:l,pageInfo:p}=e,{elWidth:f}=r;s||(f=this.props.baseNode.offsetWidth);let m=(this.state.isMobile&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter).split(" "),v=(m.length>1,m[0]);v.includes("rem")&&o&&(v="calc( var(--mobile-padding-offset, 1) * "+v+" )");let g=m.length>1?m[1]:m[0];g.includes("rem")&&o&&(g="calc( var(--mobile-padding-offset, 1) * "+g+" )");let x=this.state.isMobile&&this.props["mobile-columns"]!==void 0?this.props["mobile-columns"]:this.props.columns;x=Math.max(1,parseInt(x))||1;let{columnAndGutterMap:E,columnWidth:_,gutterPixelWidth:D,halfPixels:M}=Xu(x,i,f),P=Array.from(a.children).filter(G=>G.tagName=="MEDIA-ITEM"),L=[],I=[],q=[],N=[],F=0;F=(f-(x-1)*i)/x;for(let G=0;G<Math.min(P.length,x);G++)L[G]=[],N[G]=[];for(let G=0;G<x;G++)I[G]={height:0,marginTop:-i,index:G};let W=!0,U=0,Z=0;for(U=0;U<12;){let G=parseInt(P[Z]?.getAttribute("columnized-span"))||1;if(U=U+G,U>=x){U=x,W=!1;break}Z++}let J=[],ie=o&&!isNaN(parseInt(this.props["mobile-columns"]))&&parseInt(this.props["mobile-columns"])!==parseInt(this.props.columns),le=[];P.forEach((G,K)=>{let Q=ie?1:Math.min(parseInt(G.getAttribute("columnized-span"))||1,x);Q=Math.min(Q,P.length);let re=-1,ee=Y1.default.minBy(I,Xe=>{re++;let ct=I.slice(re+1,re+Q).map(Ze=>Ze.height);if(ct.length+1<Q)return 9e9;let Rt=Xe.height==0?0:Math.abs((re+(re%2==0?.25:.75))*2-x);return Y1.default.mean([Xe.height,...ct])+Rt}),ae=`column-${ee.index}-slot-${K}`,se=ee.height;ee.index+Q>x&&(Q=x-ee.index),q[ee.index]=K;let ce=0,_e=null,Ie=_*Q+i*(Q-1),ge=G._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};ce=ge.mediaItemSize.height+ge.mediaItemSize.padSize;let Re=ee.index,Qe=ee.index+Q+-1;Ie=E[Qe].right-E[Re].left,Ie=Math.max(0,Ie);let Me=(Ie+-ge.mediaItemSize.padSize+-ge.mediaSize.padSize)/ge.width;_e=M?Math.round((ge.height*Me+ge.mediaSize.padSize)*2)/2||0:Math.round(ge.height*Me+ge.mediaSize.padSize)||0;let $e=ee,Ne=ee.height;for(let Xe=1;Xe<Q;Xe++){let ct=ee.index+Xe;I[ct].height>=Ne&&($e=I[ct],Ne=I[ct].height)}let He=$e.height,ft=$e.height+ge.mediaItemSize.height+ge.mediaItemSize.padSize+i;for(let Xe=0;Xe<Q;Xe++){let ct=ee.index+Xe;Xe===0?(I[ct].marginTop=I[ct].marginTop+(He-I[ct].height),I[ct].height=ft):(I[ct].marginTop=I[ct].marginTop+(ft-I[ct].height),I[ct].height=ft)}let at={},tt=I[ee.index].marginTop;I[ee.index].marginTop=0,at.styleString="",tt!==n&&(at.styleString+=` --column-gutter-height: ${tt+n}px;`),Q>1&&(at.styleString+=` --resize-parent-width:${Ie}px; min-width: ${Ie}px;`),_e!==null&&(at.styleString+=` --frame-padding: ${_e}px;`),se===0&&(at.firstColumnItem=!0),at.slotName=ae,le.push(at),L[ee.index]||(L[ee.index]=[]),L[ee.index].push(S("slot",{name:ae},ae)),J.push({slot:ae})});for(let G=0;G<U;G++)L[G]||(L[G]=[]);return q.forEach(G=>{le[G].lastInColumn=!0}),P.forEach((G,K)=>{let Q=J[K]||{};Q.itemResize=this.onItemResize,Q.drag=void 0,Q.itemDragStart=void 0;let re=G._props||{};Oo(G,{...re,...Q},re,!1,!1)}),S(he,{children:[this.props.children,it(S(he,{children:[S("style",{children:`
				:host {
					width: var(--resize-parent-width, 100%);
					max-width: 100%;
					${W?"display: block;":`display: flex;
					    flex-direction: row;
					    flex-wrap: wrap;
					    align-content: flex-start;
					    justify-content: center;`}
				    position: relative;					
					--column-gutter-width: ${D}px;
					--column-gutter-height: ${n}px;
					margin-top: calc(var(--gutter-expand, 0) * ${n}px);
				}

				${le.map((G,K)=>`::slotted(media-item[slot="${G.slotName}"]){
						margin-top: ${G.firstColumnItem?"0;":"var(--column-gutter-height, 0px);"}
						${G.lastInColumn?`
						    flex-grow: 1;
						    flex-shrink: 1;
						    flex-basis: ${x===1?"100%":0};						
						`:""}
						${G.styleString}
					} `).join("")}

				* {
					box-sizing: border-box;
				}	

				:host[hidden] {
					display:none;
				}

				:host .columns-column {
					${W?`
						display: inline-flex;
						vertical-align: top;
					`:`
					    max-width: ${Math.ceil(f/x)}px;
					`}
					min-height: 10px;			
					flex-grow: 0;
					flex-shrink: 0;
				}

				:host .columns-column.last-column {
				    flex-grow: 1;
				    flex-shrink: 1;
				    flex-basis: ${x===1?"100%":0};
				}
				

				:host .columns-column:not(:last-child){
				    margin-right: var(--column-gutter-width, 0px);
				}

				::slotted(media-item) {
					position: relative;
				    width: 100%;
				    max-width: none;
				    display: flex;
				}




				`}),S(tn,{values:{gutterWidth:v,gutterHeight:g,elWidth:"100%"},onResize:this.onResize}),l&&p.isEditing&&!de&&S(K3,{...this.props,disableResize:ie,isMobile:o,gallerySpecificAttributes:["columnized-span"],columnAndGutterMap:E,galleryInstance:a,galleryComponent:this}),L.map((G,K)=>{let Q=E[K];return S("div",{className:`columns-column${K===x-1?" last-column":""}`,style:{width:Q.right-Q.left+"px"},children:G},`columns-column-${K}`)})]}),this.props.baseNode.shadowRoot)]})}componentDidMount(){nt.on("mobile-change",this.onMobileChange)}componentWillUnmount(){nt.off("mobile-change",this.onMobileChange)}onMobileChange=e=>{this.setState({isMobile:e})};onResize=(e,r)=>{this.setState(i=>{let n={...i};return n[e]=r,n.hasSizes=!0,n})};onItemResize=(e,r)=>{this.setState(i=>({sizeIncrement:i.sizeIncrement+1}))}};Xg.defaultProps={"show-tags":!0,"show-title":!0,columns:_s.defaults.columns.value,gutter:"2rem","mobile-gutter":"2rem"};qle=jt(Do(Ue((t,e)=>({adminMode:t.frontendState.adminMode}))(Xg)));lr(qle,"gallery-columnized",["thumbnail-index","links-filter-index","show-tags","show-title","thumbnail-index-metadata","columns","gutter","mobile-columns","mobile-gutter"],{renderIntoShadow:!0})});var nn,Z1,X3,Z3=$(()=>{ke();nn=ye(Pe(),1);Uu();Wr();Ut();Fe();fe();Z1=class extends me{constructor(e){super(e),this.state={pauseRealignment:!1,waitingForRealignment:!1,currentZoom:100,currentHorizontalShift:0,transform:{x:0,y:0},previewShifts:[],previewingTransform:!1,dragStartPosition:{x:0,y:0},scrollDelta:{x:0,y:0},dragDelta:{x:0,y:0},initialPosition:{x:0,y:0},ghostRect:{significantShift:!1,width:0,height:0,x:0,y:0},minHeight:0,overrideHeight:!1,dragSrcIndex:-1,UIWindow:!1,draggedItemIndex:-1,isDragging:!1,showDropTarget:!1,breakOutOfGallery:!1,draggedMediaItem:null,timer:0},this.draggedItem=Se(),this.dragGhostRef=Se(),this.lastPosition=null,this.debouncedCommitTransform=nn.default.debounce(this.commitTransform,500)}render(e,r){let{showDropTarget:i,draggedMediaItem:n,isDragging:o,dragDelta:s,draggedItemIndex:a,initialPosition:l,dragSrcIndex:p,ghostRect:f}=r,{galleryInstance:c}=e;return S(he,{children:[S("style",{id:"freeform-editor",children:[p>-1&&o?`
			::slotted(media-item:nth-child(${p+1})){
				pointer-events:none;
				opacity: 0;
			}

			.drag-ghost {
				position: absolute;
				top: 0;
				left: 0;
				z-index: 1001;	
				pointer-events: none;
				outline: 1px solid #ccc;
			}

			.drag-ghost.snapping {
				outline: 1px solid var(--baseColor-accent);
			}

			.drag-ghost img {
				position: absolute;
				inset: 0;
				width: 100%;
				height: 100%;
				opacity: 0.5;
				transition: none;
				object-fit: cover;
				transform:translateZ(0);
			}

			`:`

			#freeform-holder {
				transform: scale(${this.state.currentZoom}%) translateX(${this.state.currentHorizontalShift}%);
				transform-origin: center top;
			}

			`,this.state.overrideHeight?`
				:host {
					min-height: ${this.state.minHeight}px;
				}
			`:"",this.state.previewingTransform?this.state.previewShifts.map(m=>`::slotted(media-item[slot="${m.slot}"]){
						--base-translate: translate(${m.x}px , ${m.y}px)!important;
					} `):""]}),S(No,{...e,gallerySpecificAttributes:this.props.gallerySpecificAttributes,galleryInstance:c,mediaItemEditorInfo:{disableResize:!1,disableButton:!1,afterScaleChange:this.afterScaleChange,whileScaleChange:this.whileScaling,beforeScaleChange:this.beforeScaleChange},onScrollWhileHovered:this.onScrollWhileHovered,onUIWindowSet:this.getUIWindow,onUIWindowRelease:this.releaseUIWindow,disableDragOver:!0,onCleanUp:this.onCleanUp}),S("div",{className:`drag-ghost ${f.significantShift?"snapping":""}`,style:{display:o&&f.width>0&&f.height>0?"block":"none",transform:`translate3d(${f.x}px, ${f.y}px, 1001px)`,width:f.width+"px",height:f.height+"px"},dangerouslySetInnerHTML:{__html:""},ref:this.dragGhostRef})]})}onScrollWhileHovered=e=>{this.setState(r=>r.isDragging?{scrollDelta:{x:0,y:r.scrollDelta.y+e}}:null)};getUIWindow=e=>{this.setState({UIWindow:e})};releaseUIWindow=e=>{this.setState({UIWindow:!1})};beforeScaleChange=(e,r)=>{let i=e.hasAttribute("freeform-scale")?e.getAttribute("freeform-scale"):20;return{...r,scaleArray:[parseFloat(i),"%"],scale:i+""}};whileScaling=(e,r)=>{let{magneticSnap:i,magneticSnapMargin:n}=this.props,o=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};if(!i)return r;let{width:s,height:a,scaleArray:l,overSize:p,atLimit:f,scale:c}=r,{elWidth:m,attributeMap:v}=this.props;m=m+-o.mediaItemSize.padSize+-o.mediaSize.padSize;let g=n*.01*m,x=s/a,E={width:!1,height:!1},_=Array.from(this.props.galleryInstance.children).filter(I=>I.tagName==="MEDIA-ITEM").indexOf(e),D=v[_],M={x1:D.xPx,y1:D.yPx,x2:D.xPx+s,y2:D.yPx+a},P={top:!0,left:!0,right:!1,bottom:!1},L=this.calculateMagnetism(e,M,P);return Math.abs(L.x)<Math.abs(L.y)&&Math.abs(L.x)>.1?E.width=!0:Math.abs(L.y)>.1&&(E.height=!0),Math.abs(L.x)>15&&(E.width=!1,L.x=0),Math.abs(L.y)>15&&(E.height=!1,L.y=0),E.width?(s=s+L.x,a=s/x):E.height&&(a=a+L.y,s=a*x),l[0]=s/m*100,{...r,scale:l.join(""),width:s,height:a,scaleArray:l,overSize:p,atLimit:f}};afterScaleChange=(e,r)=>{let{elWidth:i}=this.props,n=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};i=i+-n.mediaItemSize.padSize+-n.mediaSize.padSize;let o=(100*(r.width/i)).toFixed(2);e.setAttribute("limit-by","width"),e.setAttribute("scale",o),e.setAttribute("freeform-scale",o),this.props.galleryComponent.onItemResize()};onDragStart=(e,r,i)=>{let n=i.draggedMediaItems?.find(g=>this.props.galleryInstance.contains(g))||null;if(!n){this.setState({draggedItemIsInsideGallery:!1});return}let{attributeMap:o,elWidth:s}=this.props;this.draggedItem.current=n,Array.from(this.dragGhostRef.current?.children).forEach(g=>{g.remove()});let a=this.draggedItem.current?.shadowRoot?.querySelector('.sizing-frame [part="media"]'),l=Array.from(this.props.galleryInstance.children),p=l.indexOf(n),f=l.filter(g=>g.tagName==="MEDIA-ITEM").indexOf(n),c=o[f],m={x:c?.xPx??0,y:c?.yPx??0},v=this.props.galleryInstance.offsetHeight;this.setState(g=>(be.globalDragEventController.setCustomDropTarget(this.props.galleryInstance),{dragDelta:{x:0,y:0},draggedItemIsInsideGallery:!0,initialPosition:m,dragStartPosition:{x:i.cursorPosition.x,y:i.cursorPosition.y},scrollDelta:{x:0,y:0},ghostRect:{x:0,y:0,width:0,height:0},dragSrcIndex:p,overrideHeight:!0,minHeight:v,isDragging:!0}))};onDragOver=(e,r,i)=>{if(this.ticking)return;this.ticking=!0,this.dragFrame=requestAnimationFrame(()=>{this.ticking=!1});let{elWidth:n,elHeight:o,mediaItems:s,magneticSnapMargin:a,magneticSnap:l,attributeArray:p}=this.props,f=i.draggedMediaItems.length>0,c=this.props.galleryInstance.contains(i.dropTarget),m=this.props.galleryInstance===i.customDropTarget;i.inAdmin||i.fromOutside||!(c||this.state.draggedItemIsInsideGallery)?be.globalDragEventController.releaseCustomDropTarget(this.props.galleryInstance):this.setState(v=>{if(be.globalDragEventController.setCustomDropTarget(this.props.galleryInstance),v.isDragging){let g={x:i.cursorPosition.x+-v.dragStartPosition.x+v.scrollDelta.x,y:i.cursorPosition.y+-v.dragStartPosition.y+v.scrollDelta.y},x={x:v.initialPosition.x+g.x,y:v.initialPosition.y+g.y};this.lastPosition||(this.lastPosition=x);let E={width:0,height:0,x1:x.x,x2:x.x,y1:x.y,y2:x.y};if(this.draggedItem.current){let P=this.draggedItem.current._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};E.x2=E.x1+P.mediaItemSize.padSize+P.mediaSize.padSize+P.mediaItemSize.width,E.y2=E.y1+P.mediaItemSize.padSize+P.mediaItemSize.height,E.width=P.mediaItemSize.padSize+P.mediaSize.padSize+P.mediaItemSize.width,E.height=P.mediaItemSize.padSize+P.mediaItemSize.height}let _=l?this.calculateMagnetism(this.draggedItem.current,E):{x:0,y:0},D=a*.01*n;Math.abs(_.x)>Math.max(D,6)?_.x=0:_.x!==0&&(x.x=(x.x+_.x)*.5+this.lastPosition.x*.5),Math.abs(_.y)>Math.max(D,6)?_.y=0:_.y!==0&&(x.y=(x.y+_.y)*.5+this.lastPosition.y*.5);let M=Math.abs(_.x)>1||Math.abs(_.y)>1;return this.lastPosition=x,{ghostRect:{significantShift:M,x:x.x,y:x.y,width:E.width,height:E.height},dragDelta:{x:g.x+_.x,y:g.y+_.y}}}else{let g=this.props.galleryInstance.getBoundingClientRect(),x={x:i.cursorPosition.x-g.left,y:i.cursorPosition.y-g.top};return this.draggedItem.current=i.draggedMediaItems[0],{dragDelta:{x:0,y:0},scrollDelta:{x:0,y:0},initialPosition:x,dragStartPosition:{x:i.cursorPosition.x,y:i.cursorPosition.y},ghostRect:{x:0,y:0,width:0,height:0},isDragging:!0,dragSrcIndex:-1}}})};calculateMagnetism=(e,r,i={top:!1,right:!1,bottom:!1,left:!1})=>{let{mediaItems:n,galleryInstance:o,elWidth:s,elHeight:a,magneticSnapMargin:l,attributeMap:p}=this.props,f=Math.round(l*.01*s*32)/32,c=[],m=[],v=[],g={};n.forEach((N,F)=>{let W=p[F];if(N===e)return;v.length=0;let U=N._size;g.x1=W.xPx,g.y1=W.yPx,g.x2=U.mediaItemSize.width+U.mediaItemSize.padSize+g.x1,g.y2=U.mediaItemSize.height+U.mediaItemSize.padSize+g.y1,r.x1<g.x2+f*2&&r.x2>g.x1-f*2&&(g.x2<r.x1||g.x1>r.x2?(v.push(g.y1),v.push(g.y2)):(v.push(g.y1-f),v.push(g.y2+f)),v.forEach(Z=>{c.indexOf(Z)===-1&&c.push(Z)})),v.length=0,r.y1<g.y2+f*2&&r.y2>g.y1-f*2&&(g.y2<r.y1||g.y1>r.y2?(v.push(g.x1),v.push(g.x2)):(v.push(g.x1-f),v.push(g.x2+f)),v.forEach(Z=>{m.indexOf(Z)===-1&&m.push(Z)}))}),c.indexOf(0)===-1&&c.push(0),c.indexOf(a)===-1&&c.push(a),m.indexOf(0)===-1&&m.push(0),m.indexOf(s)===-1&&m.push(s);let x=nn.default.minBy(c,N=>Math.abs(N-r.y1)),E=nn.default.minBy(c,N=>Math.abs(N-r.y2)),_=x-r.y1,D=E-r.y2,M=nn.default.minBy(m,N=>Math.abs(N-r.x1)),P=nn.default.minBy(m,N=>Math.abs(N-r.x2)),L=M-r.x1,I=P-r.x2;return{x:nn.default.minBy([i.left?9e9:L,i.right?9e9:I],N=>N!==0?Math.abs(N):9e9),y:nn.default.minBy([i.top?9e9:_,i.bottom?9e9:D],N=>N!==0?Math.abs(N):9e9)}};onDragDrop=(e,r,i)=>{this.setState({isDragging:!1},()=>{this.lastPosition=null;let n=[...i.draggedMediaItems];this.props.galleryInstance.hasAttribute("thumbnail-index")&&i.fromAdmin||!i.inAdmin&&i.customDropTarget===this.props.galleryInstance&&CargoEditor?.mutationManager&&(CargoEditor.rangy.getSelection().removeAllRanges(),et.deactivateHoverElement(this.props.galleryInstance),CargoEditor.mutationManager.execute(()=>{let o=Array.from(this.props.galleryInstance.children).filter(c=>c.tagName==="MEDIA-ITEM"),s=nn.default.sortBy(o,c=>parseFloat(c.getAttribute("freeform-y"))||0),a=(this.state.initialPosition.x+this.state.dragDelta.x)/this.props.elWidth*100,l=(this.state.initialPosition.y+this.state.dragDelta.y)/this.props.elWidth*100,p=this.draggedItem.current?.getAttribute("freeform-scale")||20,f=s.find(c=>parseFloat(c.getAttribute("freeform-y"))>l);n.forEach((c,m)=>{r?.metaKey||c.setAttribute("freeform-z",o.length+200+m),c===this.draggedItem.current?(c.setAttribute("freeform-x",a),c.setAttribute("freeform-y",l)):(c.setAttribute("freeform-x",(a+m*5)%80),c.setAttribute("freeform-y",l+m*5)),c.hasAttribute("freeform-scale")||c.setAttribute("freeform-scale",p),this.props.galleryInstance.insertBefore(c,f),c.flushMutationQueue()}),this.stackZ(),this.centerY(),this.alignDomWithY(),this.props.galleryInstance._editorInterface.flushMutationQueue()}))}),this.unsetMinHeight()};unsetMinHeight=nn.default.debounce(()=>{this.setState({overrideHeight:!1})},100);onDragEnd=(e,r,i)=>{if(r&&r.metaKey&&this.props.galleryInstance.contains(r.target)&&!Rb()){this.onDragDrop(e,r,i);return}this.setState({isDragging:!1},()=>{this.lastPosition=null}),this.unsetMinHeight()};onCleanUp=(e,r,i,n)=>{CargoEditor&&Object.keys(CargoEditor).length>0&&(!nn.default.isEqual(e,r)||i.length>0)&&CargoEditor.mutationManager.execute(()=>{this.centerY(),this.alignDomWithY()}),this.props.onCleanUp&&this.props.onCleanUp(e,r,i,n)};stackZ=()=>{let e=Array.from(this.props.galleryInstance.children).filter(i=>i.tagName==="MEDIA-ITEM");nn.default.sortBy(e,i=>parseFloat(i.getAttribute("freeform-z"))||0).forEach((i,n)=>{i.setAttribute("freeform-z",n+1),i.flushMutationQueue()})};centerY=()=>{let e=Array.from(this.props.galleryInstance.children).filter(n=>n.tagName==="MEDIA-ITEM"),r=nn.default.sortBy(e,n=>n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):0),i=r[0]?.hasAttribute("freeform-y")?parseFloat(r[0].getAttribute("freeform-y")):0;i!==0&&r.forEach((n,o)=>{let s=n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):i;n.setAttribute("freeform-y",s-i),n.flushMutationQueue()})};alignDomWithY=()=>{let e=Array.from(this.props.galleryInstance.children).filter(n=>n.tagName==="MEDIA-ITEM"),r=nn.default.sortBy(e,n=>n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):0),i=e[0];r.forEach((n,o,s)=>{if(n!=i){for(let a=i,l=0;(a=a.nextElementSibling)&&l<s.length&&a!=n;l+=1);this.props.galleryInstance.insertBefore(n,i)}else i=n.nextElementSibling;n.flushMutationQueue()})};zoom=e=>{this.setState({currentZoom:e})};commitZoom=()=>{let{magneticSnapMargin:e,attributeMap:r}=this.props,{currentZoom:i}=this.state;Array.from(this.props.galleryInstance.children).filter(o=>o.tagName==="MEDIA-ITEM").forEach((o,s)=>{let a=r[s],l=a["freeform-x"],p=a["freeform-y"],f=a["freeform-scale"],c=Math.sqrt(Math.pow(l-50,2)+Math.pow(p,2)),m=Math.atan2(p,l-50);o.setAttribute("freeform-x",Math.cos(m)*c*(i*.01)+50),o.setAttribute("freeform-y",Math.sin(m)*c*(i*.01)+50*(i*.01)),o.setAttribute("freeform-scale",i*.01*f)});let n=Math.abs(i*.01*e);if(n>.1)for(;n>5;)n*=.5;this.centerY(),this.state.UIWindow?.onChange?.({zoom:100,"magnetic-snap-margin":n}),this.props.galleryInstance._editorInterface.flushMutationQueue(),this.props.galleryComponent.onItemResize()};previewTransform=(e,r)=>{let i=r.map(n=>{let o=(e.x+parseFloat(n.getAttribute("freeform-x")||0))*this.props.elWidth*.01,s=(e.y+parseFloat(n.getAttribute("freeform-y")||0))*this.props.elWidth*.01;return{slot:n.getAttribute("slot"),x:o,y:s}});this.setState({transform:e,previewShifts:i,previewingTransform:!0})};commitTransform=()=>{CargoEditor.mutationManager.execute(()=>{this.state.previewShifts.forEach(r=>{let i=this.props.galleryInstance.querySelector('[slot="'+r.slot+'"]');if(i){let n=parseFloat(i.getAttribute("freeform-x")||0),o=parseFloat(i.getAttribute("freeform-y")||0),s=Math.round((n+this.state.transform.x)*8)/8,a=Math.round((o+this.state.transform.y)*8)/8;i.setAttribute("freeform-x",s),i.setAttribute("freeform-y",a)}}),this.centerY(),this.alignDomWithY(),this.props.galleryInstance._editorInterface.flushMutationQueue()});let e=Array.from(this.props.galleryInstance.children).find(r=>r._editorInterface)?._editorInterface?.state?.UIWindow||null;e&&e.onChange({"shift-x":0,"shift-y":0}),this.setState({transform:{x:0,y:0},previewShifts:[],previewingTransform:!1},()=>{this.props.galleryInstance._editorInterface.flushMutationQueue(),this.props.galleryComponent.onItemResize()})};horizontalShift=e=>{this.setState({currentHorizontalShift:e})};commitHorizontalShift=()=>{let{currentHorizontalShift:e}=this.state,{attributeMap:r}=this.props;Array.from(this.props.galleryInstance.children).filter(i=>i.tagName==="MEDIA-ITEM").forEach((i,n)=>{let s=r[n]["freeform-x"];i.setAttribute("freeform-x",s+e)}),this.state.UIWindow?.onChange?.({horizontalShift:0}),this.props.galleryComponent.onItemResize()};fitToWidth=()=>{let{magneticSnapMargin:e,attributeMap:r}=this.props;CargoEditor.mutationManager.execute(()=>{let{elWidth:i,attributeMap:n}=this.props,o=Array.from(this.props.galleryInstance.children).filter(c=>c.tagName==="MEDIA-ITEM"),s=9e9,a=-9e9;o.forEach((c,m)=>{let v=n[m];s=Math.min(s,v["freeform-x"]),a=Math.max(a,v["freeform-x"]+v["freeform-scale"])});let l=100/(a-s),p=s,f=Math.abs(l*e);if(f>.1)for(;f>5;)f*=.5;o.forEach((c,m)=>{let v=n[m],g=v["freeform-scale"]||30,x=v["freeform-x"],E=v["freeform-y"],_=(x+-p)*l,D=E*l;c.setAttribute("freeform-x",_),c.setAttribute("freeform-y",D),c.setAttribute("freeform-scale",l*g)}),this.state.UIWindow?.onChange?.({zoom:100,"magnetic-snap-margin":f})})};componentDidMount(){be.globalDragEventController.on("dragstart",this.onDragStart),be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("drop",this.onDragDrop),be.globalDragEventController.on("dragend",this.onDragEnd),this.props.galleryInstance._freeformEditor=this}componentWillUnmount(){this.debouncedCommitTransform.cancel(),this.unsetMinHeight.cancel(),cancelAnimationFrame(this.dragFrame),clearTimeout(this.breakOutTimer),delete this.props.galleryInstance._freeformEditor,be.globalDragEventController.off("dragstart",this.onDragStart),be.globalDragEventController.off("dragover",this.onDragOver),be.globalDragEventController.off("drop",this.onDragDrop),be.globalDragEventController.off("dragend",this.onDragEnd)}componentDidUpdate(e,r){r.pauseRealignment!==this.state.pauseRealignment&&!this.state.pauseRealignment&&this.state.waitingForRealignment}},X3=Z1});var Q3,Zg,Hle,ti,Q1=$(()=>{ke();Ye();qu();da();Yg();gt();Fe();Z3();Hu();qr();Hr();Q3=ye(Pe(),1);Qr();fe();Zg=class extends me{constructor(e){super(e),this.state={elWidth:1e3,sizeIncrement:0},this.holderRef=Se()}render(e,r){let{adminMode:i,baseNode:n,pageInfo:o,"mobile-grid":s,"mobile-gutter":a,"mobile-columns":l,"mobile-horizontal-align":p,"mobile-vertical-align":f,"hover-pop":c,"magnetic-snap":m,"magnetic-snap-margin":v}=e;if(s&&e.isMobile)return this.renderedMobileGrid=!0,S(G1,{...this.props,columns:l,gutter:a,verticalAlign:f,horizontalAlign:p,baseNode:n,adminMode:i,pageInfo:o});let{elWidth:g}=r,x=0,E=0,_=0,D=Array.from(n.children).filter(F=>F.tagName=="MEDIA-ITEM"),M=[],P=[],L=-1;D.forEach((F,W)=>{let U=!1,Z={"freeform-scale":parseFloat(F.getAttribute("freeform-scale")),"freeform-x":parseFloat(F.getAttribute("freeform-x")),"freeform-y":parseFloat(F.getAttribute("freeform-y")),"freeform-z":parseFloat(F.getAttribute("freeform-z"))},J={slot:"slot-"+W,itemResize:this.onItemResize,drag:void 0,itemDragStart:void 0};(isNaN(Z["freeform-scale"])||isNaN(Z["freeform-x"])||isNaN(Z["freeform-y"])||isNaN(Z["freeform-z"]))&&(U=!0,Z["freeform-scale"]=Number.isNaN(parseFloat(F.getAttribute("freeform-scale")))?20:parseFloat(F.getAttribute("freeform-scale")),Z["freeform-x"]=Number.isNaN(parseFloat(F.getAttribute("freeform-x")))?_*1.5:parseFloat(F.getAttribute("freeform-x")),Z["freeform-x"]=Z["freeform-x"]%80,Z["freeform-y"]=Number.isNaN(parseFloat(F.getAttribute("freeform-y")))?_*1.5:parseFloat(F.getAttribute("freeform-y")),Z["freeform-z"]=9999,_++);let ie=parseFloat(Z["freeform-x"])*.01*g,le=parseFloat(Z["freeform-y"])*.01*g,G=parseInt(Z["freeform-z"]),K=parseFloat(Z["freeform-scale"])*.01*g,Q=K,re=F._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};Q=re.mediaItemSize.height+re.mediaItemSize.padSize,x=Math.max(le+Q,x),U||(L=W,E=x),Z.widthPx=K,Z.xPx=ie,Z.yPx=le,Z.z=G,Z.writeAttributes=J,P.push(Z)});let I=100*(E/g),q=0;for(var N=L+1;N<P.length;N++){let W=D[N]._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},U=W.mediaItemSize.height+W.mediaItemSize.padSize,Z=q*1.5+I,J=Z*.01*g;P[N]["freeform-y"]=Z,P[N].yPx=J,x=Math.max(P[N].yPx+U,x),q++}return P.forEach((F,W)=>{let U=D[W],{widthPx:Z,yPx:J,xPx:ie,z:le,writeAttributes:G}=F,K=U._props||{};this.renderedMobileGrid&&(K.itemResize=null),Oo(U,{...K,...G},K,!1,!1),M.push({width:Z+"px","--base-translate":`translate(${Math.floor(ie)}px, ${Math.floor(J)}px)`,"--z-index":le+1})}),this.renderedMobileGrid=!1,S(he,{children:[this.props.children,it(S(he,{children:[S("style",{children:`
					* {
						box-sizing: border-box;
					}
									
					:host {
						width: var(--resize-parent-width, 100%);
						max-width: 100%;						
						height: ${x}px;
						display: block;
						position: relative;
						contain: layout;
					}
					
					::slotted(media-item) {
						max-width: none;
						position: absolute;
						top: 0;
						left: 0;
						display: flex;
						flex-shrink: 0;
						flex-grow: 0;
					}

					::slotted(media-item)::part(sizing-frame){
						pointer-events:auto;						
					}

					${M.map((F,W)=>`::slotted(media-item[slot="slot-${W}"]){
							width: ${F.width};
							--base-translate: ${F["--base-translate"]};
							--z-index: ${F["--z-index"]};
						} `).join("")}						
					
					${c?`::slotted(media-item:hover) {
						z-index: 99999;	
					}`:""}
					
					#freeform-holder {
						position: absolute;
						inset: 0;
					}
				`}),S(he,{children:[S("div",{id:"freeform-holder",ref:this.holderRef,children:D.map((F,W)=>S("slot",{name:`slot-${W}`}))}),S(tn,{values:{elWidth:"100%"},onResize:this.onResize})]}),i&&o.isEditing&&!de&&S(X3,{...e,gallerySpecificAttributes:["freeform-x","freeform-y","freeform-z","freeform-scale"],galleryInstance:n,galleryComponent:this,mediaItemOptions:ti.mediaItemOptions,disabledMediaItemOptions:ti.disabledMediaItemOptions,mediaItems:D,elWidth:g,elHeight:x,hoverPop:c,magneticSnap:m,magneticSnapMargin:v,attributeMap:P})]}),this.props.baseNode.shadowRoot)]})}componentDidUpdate(e,r){this.props.isMobile!==e.isMobile&&this.onItemResize()}onResize=(e,r)=>{this.setState(i=>{let n={...i};return n[e]=r,n})};onItemResize=(e,r)=>{this.setState(i=>({sizeIncrement:i.sizeIncrement+1}))};componentDidMount=()=>{ui()&&requestAnimationFrame(()=>{Array.from(this.props.baseNode.children).forEach(e=>{let r=e.shadowRoot?.querySelector("video");r&&(r.poster=r.poster)})})}},Hle=jt(Do(Ue((t,e)=>({adminMode:t.frontendState.adminMode,isMobile:t.frontendState.isMobile}))(Zg)));lr(Hle,"gallery-freeform",["thumbnail-index","links-filter-index","show-tags","show-title","thumbnail-index-metadata","magnetic-snap","magnetic-snap-margin","hover-pop","mobile-grid","mobile-gutter","mobile-columns","mobile-horizontal-align","mobile-vertical-align"],{renderIntoShadow:!0});ti={name:"freeform",displayName:"Freeform",tagName:"GALLERY-FREEFORM",disabledMediaItemOptions:["limit-by","scale"],nonAttributeValues:["horizontalShift","fitToWidth","zoom","shift-x","shift-y"],mediaItemOptions:[{type:"group",className:"grid-columns-even",children:[{labelName:"X",name:"shift-x",defaultValue:0,type:"scrubber",value:0,step:.05,numberOnlyMode:!0,onScrubEnd:function(){this.state.galleryParent?._freeformEditor?.commitTransform()}},{labelName:"Y",name:"shift-y",defaultValue:0,type:"scrubber",value:0,step:.05,numberOnlyMode:!0,onScrubEnd:function(){this.state.galleryParent?._freeformEditor?.commitTransform()}}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Width",name:"freeform-scale",type:"scrubber",value:20,step:.05,min:0,max:150,numberOnlyMode:!0},{labelName:"Bring to Front",name:"freeform-z",type:"button",onClick:function(t){CargoEditor.mutationManager.execute(()=>{let e=this.state.selectedMediaItems[0].closest("gallery-freeform");if(e){e._freeformEditor?.stackZ();let r=Q3.default.sortBy(Array.from(e.querySelectorAll("media-item")),n=>parseInt(n.getAttribute("freeform-z")));this.state.selectedMediaItems.forEach(n=>{n.setAttribute("freeform-z",1+r.length)}),e._freeformEditor?.stackZ()}})}}]}],mobileOptions:[{type:"group",className:"grid-columns-auto",children:[{labelName:"Use Grid",name:"mobile-grid",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-auto",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Magnetic Snap",name:"magnetic-snap-margin",type:"scrubber",value:0,step:.05,suffix:"%",max:10,min:0,numberOnlyMode:!0,requirements:[{option:"magnetic-snap",shouldBe:!0}],renderWhenDisabled:!0},{labelName:"",className:"square",name:"magnetic-snap",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-even",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Pop on Hover",name:"hover-pop",type:"check-box",value:!1},{labelName:"Fit to Width",name:"fitToWidth",type:"button",onClick:function(t){t.preventDefault();let e=this.state.activeGallery;e&&e._freeformEditor?.setState({currentZoom:100},()=>{e._freeformEditor?.fitToWidth()})}}]},{type:"group",className:"grid-columns-even",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Shift",name:"horizontalShift",type:"scrubber",value:0,step:.05,suffix:"%",max:50,min:-50,numberOnlyMode:!0,onScrubEnd:function(t){this.state.activeGallery?._freeformEditor?.commitHorizontalShift()}},{labelName:"Zoom",name:"zoom",type:"scrubber",value:100,step:.1,suffix:"%",max:200,min:50,numberOnlyMode:!0,onScrubEnd:function(t){this.state.activeGallery?._freeformEditor?.commitZoom()}}]},{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:2,min:1,max:12,step:1,allowUnclampedTextEntry:!1,numberOnlyMode:!0,requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Gutter",name:"mobile-gutter",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1}],options:[{type:"group",className:"grid-columns-auto",children:[{labelName:"Magnetic Snap",name:"magnetic-snap-margin",type:"scrubber",value:0,step:.05,suffix:"%",max:10,min:0,numberOnlyMode:!0,requirements:[{option:"magnetic-snap",shouldBe:!0}],renderWhenDisabled:!0},{labelName:"",className:"square",name:"magnetic-snap",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Pop on Hover",name:"hover-pop",type:"check-box",value:!1},{labelName:"Fit to Width",name:"fitToWidth",type:"button",onClick:function(t){t.preventDefault();let e=this.state.activeGallery;e&&e._freeformEditor?.setState({currentZoom:100},()=>{e._freeformEditor?.fitToWidth()})}}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Shift",name:"horizontalShift",type:"scrubber",value:0,step:.05,suffix:"%",max:50,min:-50,numberOnlyMode:!0,onScrubEnd:function(t){this.state?.activeGallery?._freeformEditor?.commitHorizontalShift()}},{labelName:"Zoom",name:"zoom",type:"scrubber",value:100,step:.1,suffix:"%",max:200,min:50,numberOnlyMode:!0,onScrubEnd:function(t){this.state?.activeGallery?._freeformEditor?.commitZoom()}}]}],onMediaItemChange:function(t){let e=this.state.galleryParent;return e?(Object.keys(t).forEach(r=>{let i=t[r];switch(r){case"shift-x":e._freeformEditor?.previewTransform({x:i,y:0},this.state.selectedMediaItems);break;case"shift-y":e._freeformEditor?.previewTransform({x:0,y:i},this.state.selectedMediaItems);break}}),{...t}):{...t}},onChange:function(t){let e=this.state.activeGallery;e&&Object.keys(t).forEach(r=>{let i=t[r];switch(r){case"horizontalShift":e._freeformEditor?.horizontalShift(i);break;case"zoom":e._freeformEditor?.zoom(i);break}})}};ti.mediaItemDefaults=pt(ti.mediaItemOptions);ti.defaults=pt(ti.options);ti.mobileDefaults=pt(ti.mobileOptions);Zg.defaultProps={"show-tags":!0,"show-title":!0,"thumbnail-index":void 0,"magnetic-snap":ti.defaults["magnetic-snap"].value,"magnetic-snap-margin":ti.defaults["magnetic-snap-margin"].value,"hover-pop":ti.defaults["hover-pop"].value,"mobile-grid":ti.mobileDefaults["mobile-grid"].value,"mobile-gutter":ti.mobileDefaults["mobile-gutter"].value,"mobile-columns":ti.mobileDefaults["mobile-columns"].value,"mobile-horizontal-align":ti.mobileDefaults["mobile-horizontal-align"].value,"mobile-vertical-align":ti.mobileDefaults["mobile-vertical-align"].value}});var J3,J1,eB,tB=$(()=>{ke();J3=ye(Pe(),1);Ut();Wr();Uu();fe();J1=class extends me{constructor(e){super(e),this.state={}}render(e,r){let{galleryInstance:i,gutterWidth:n,elWidth:o,mediaItems:s}=e;return S(No,{...e,gallerySpecificAttributes:this.props.gallerySpecificAttributes,onAfterDrop:this.onAfterDrop,galleryInstance:i,disabledMediaItemOptions:["scale"],mediaItemEditorInfo:{disableResize:!0,disableButton:!1,additionalUI:this.props.isMobile?null:this.renderBracket}})}onBracketClick=(e,r,i)=>{this.dragStarted||(i&&(i.preventDefault(),et.setHoveredElements([this.props.galleryInstance])),CargoEditor.mutationManager.execute(()=>{if(e)r.removeAttribute("justify-row-end");else{let n=r.previousSibling,o=1;for(;n;)n.nodeName==="MEDIA-ITEM"&&n.assignedSlot&&n.assignedSlot.parentElement.lastChild==n.assignedSlot&&n.setAttribute("justify-row-end","true"),n=n.previousSibling;r.setAttribute("justify-row-end","true")}}),this.props.incrementLayout&&this.props.incrementLayout())};renderBracket=(e,r)=>{let{gutterWidth:i,gutterHeight:n}=this.props,o=r.assignedSlot;if(!o)return null;let s=o.parentElement.lastChild==o,a=r.getAttribute("justify-row-end")==="true",l="pointer";return a||(l="e-resize"),S("div",{className:`justify-bracket${a?" row-end":""}`,style:{"--media-item-pad":-r._size.mediaItemSize.padSize*.5+-1+"px"},onClick:p=>{this.onBracketClick(a,r,p)},onMouseDown:p=>{this.onMouseDown(r,p)}})};componentWillUnmount(){this.setRow.cancel()}onMouseDown=(e,r)=>{let i=e.assignedSlot;if(!i)return;let{mediaItems:n}=this.props;r.preventDefault();let o=i.parentElement,s=Array.from(o.children);this.delta=0,this.initialPoint=r.clientX,this.rowItems=s,this.indexOfFirstInRow=n.indexOf(this.rowItems[0].assignedNodes()[0]),this.dragStarted=!1,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)};onPointerMove=e=>{let{mediaItems:r}=this.props;if(this.delta=e.clientX-this.initialPoint,!(Math.abs(this.delta)<3)){if(!this.dragStarted){et.setHoveredElements([this.props.galleryInstance]),et.lock(),document.body.classList.add("dragging");let i=r[this.indexOfFirstInRow-1];i&&this.onBracketClick(!1,i,null),this.attrCache=r.map(n=>n.getAttribute("justify-row-end")==="true")}this.dragStarted=!0,this.setRow()}};setRow=J3.default.throttle(()=>{CargoEditor.mutationManager.execute(()=>{let{elWidth:e,mediaItems:r,rowAlign:i}=this.props,n=e/12,o=Math.round(this.delta/n);(i=="fill"||i=="right")&&(o=o*-1);let s=Math.max(o+this.rowItems.length,1);et.setHoveredElements([this.props.galleryInstance]),et.lock(),this.attrCache.forEach((a,l)=>{l>=this.indexOfFirstInRow&&l<=this.indexOfFirstInRow+s&&(a=!1,(l==this.attrCache.length-1||l==this.indexOfFirstInRow+s+-1)&&(a=!0));let p=r[l],f=p.getAttribute("justify-row-end");a&&f!=="true"?p.setAttribute("justify-row-end",a):!a&&p.hasAttribute("justify-row-end")&&p.removeAttribute("justify-row-end")})}),this.props.incrementLayout&&this.props.incrementLayout()},80);onPointerUp=e=>{et.unlock(),et.testHover(),document.body.classList.remove("dragging"),this.setRow.cancel(),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)};onAfterDrop=(e,r,i)=>{let n=!1,o=r,s=e[e.length-1],a=e[0];for(;s&&e.indexOf(s)>-1;)s=s.nextElementSibling;for(;a&&e.indexOf(a)>-1;)a=a.previousElementSibling;i.left>-1&&i.right>-1?(r===e[e.length-1]&&(s=e[e.length-1]),r===e[0].nextElementSibling&&(a=e[0])):i.left>-1&&i.right==-1?s=null:i.right>-1&&i.left==-1&&(a=null),a&&i.left>-1&&(a.getAttribute("justify-row-end")=="true"||a.getAttribute("justify-row-end")==!0)&&(a.removeAttribute("justify-row-end"),e[e.length-1].setAttribute("justify-row-end",!0))}},eB=J1});var eS,Qg,lo,Wle,tS=$(()=>{ke();Ye();qu();Ye();da();gt();Hu();Fe();Qr();tB();Hr();qr();eS=ye(Pe(),1);fe();Qg=class extends Or{constructor(e){super(e),this.state={isMobile:nt.data.mobile.active,elWidth:0,gutterPixelWidth:0,gutterHeight:0,targetPxHeight:0,sizeIncrement:0,hasSizes:!1,renderLimit:150},this.paginationWatcherRef=Se(),this.paginationObserver=new IntersectionObserver(this.requestPagination,{root:this.props.scrollContext.scrollingElement===window?document:this.props.scrollContext.scrollingElement,rootMargin:screen.height*2+"px",threshold:[0,1]})}requestPagination=async e=>{if(this.isIntersecting=e[0].isIntersecting,!(this.isPaginating||this.state.renderLimit>=this.getMediaItems().length)){for(this.isPaginating=!0;this.isIntersecting;){let r=this.state.renderLimit+150;if(this.setState({renderLimit:r}),r>=this.getMediaItems().length)break;await new Promise(i=>setTimeout(i,200))}this.isPaginating=!1}};getMediaItems(){return Array.from(this.props.baseNode.children).filter(e=>e.nodeName=="MEDIA-ITEM")}render(e,r){let{gutterPixelWidth:i,gutterHeight:n,targetPxHeight:o,elHeight:s,isMobile:a,hasSizes:l}=r,{children:p,adminMode:f,pageInfo:c,baseNode:m}=e,{elWidth:v}=r;l||(v=this.props.baseNode.offsetWidth);let{"row-align":g,"row-height":x,gutter:E}=e;E=a&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter;let _="";a&&this.props["mobile-row-align"]!==void 0&&(g=this.props["mobile-row-align"],_="mobile-"),a&&this.props["mobile-row-height"]!==void 0&&(x=this.props["mobile-row-height"]);let D=E.split(" "),M=(D.length>1,D[0]);M.includes("rem")&&a&&(M="calc( var(--mobile-padding-offset, 1) * "+M+" )");let P=D.length>1?D[1]:D[0];P.includes("rem")&&a&&(P="calc( var(--mobile-padding-offset, 1) * "+P+" )");let L=dr(x,"%").join(""),I=this.getMediaItems(),q=I.slice(0,this.state.renderLimit),N=this.brickLayout(q),F=[];return I.forEach((W,U)=>{let Z=N.attributes[U]||{slot:null},J=W._props||{};Oo(W,{...J,...Z},J,!1,!1)}),S(he,{children:[S(he,{children:this.props.children}),it(S(he,{children:[S("style",{children:`
* {
	box-sizing: border-box;
}

:host {
	width: var(--resize-parent-width, 100%);
	max-width: 100%;	
	position: relative;
	display: block;
	--gutter-width: ${i}px;
	--gutter-height: ${n}px;
	margin-top: calc(var(--gutter-expand, 0) * ${n}px );	
}

${N.shadowStyleMap.map((W,U)=>`::slotted(media-item[slot="slot-${U}"]){
		${W.style};
		${W.itemStatuses.lastRow?"":"margin-bottom: var(--gutter-height);"}
		${W.itemStatuses.lastChild?"":"margin-right: var(--gutter-width);"}
		${W.itemStatuses.lastChild&&!W.itemStatuses.orphanRow&&g==="fill"?`
			flex-grow: 1;
			--object-fit: fill;
		`:""}
	}`).join("")}

:host .justify-row {
	max-width: ${v+3}px;
	width: 100%;
	display:flex;
	flex-shrink: 0;
	align-items: stretch;
	justify-content: flex-start;
	position: relative;
	flex-wrap: nowrap;
}

:host .justify-row.orphan-row {
	width: ${N.orphanRowWidth}px;
	display: inline-flex;
}

::slotted(media-item) {
	position: relative;
	max-width: 100%;
	display: flex;
	flex-shrink: 0;
	flex-grow: 0;
}    


:host([${_}row-align="left"]) .justify-row {
	justify-content: flex-start;
}

:host([${_}row-align="right"]) .justify-row {
	justify-content: flex-end;
}

:host([${_}row-align="center"]) .justify-row {
	justify-content: center;
}

:host ::slotted(media-item.last-child), :host([${_}row-align="fill"]) ::slotted(media-item.last-child) {
	flex-grow: 1;
}

:host([${_}row-align="center"]) ::slotted(media-item.last-child),
:host([${_}row-align="left"]) ::slotted(media-item.last-child),
:host([${_}row-align="right"]) ::slotted(media-item.last-child) {
	flex-grow: 0;
}

					`}),S(tn,{values:{targetPxHeight:L,gutterPixelWidth:M,gutterHeight:P,elWidth:"100%"},onResize:this.onResize}),N.shadow,f&&c.isEditing&&!de&&S(eB,{...e,isMobile:a,gallerySpecificAttributes:["justify-row-end"],galleryInstance:m,gutterWidth:i,gutterHeight:n,elWidth:v,rowHeight:L,rowAlign:g,mediaItems:I,incrementLayout:this.onItemResize}),S("div",{ref:this.paginationWatcherRef,class:"pagination-watcher"})]}),this.props.baseNode.shadowRoot)]})}onResize=(e,r)=>{e==="targetPxHeight"&&(r=Math.max(r,10)),this.setState({[e]:r,hasSizes:!0})};onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){nt.on("mobile-change",this.onMobileChange),this.props.baseNode._figureEditorInfo={disabledMediaItemOptions:lo.disabledMediaItemOptions,galleryParent:this.props.baseNode,galleryWidth:this.state.elWidth},this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.observe(this.paginationWatcherRef.current),this.props.onMount&&this.props.onMount()}componentWillUnmount(){nt.off("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.unobserve(this.paginationWatcherRef.current)}onItemResize=e=>{this.setState(r=>({sizeIncrement:r.sizeIncrement+1}))};brickLayout=e=>{let r=window.devicePixelRatio>1?2:1,{isMobile:i}=this.state,{"row-align":n}=this.props;i&&this.props["mobile-row-align"]!==void 0&&(n=this.props["mobile-row-align"]);let o={},s=i&&this.props["mobile-row-height"]!==void 0&&this.props["mobile-row-height"]!==this.props["row-height"],a=!1,l=e.map((M,P)=>{let L=this.getItemSize(M,s);return this.getItemSize(M,s)});for(let M=l.length-1;M>=0;M--){let P=l[M];P.rowEnd||a?(P.inDesignatedRow=!0,a=!0):P.inDesignatedRow=!1}this.findValidRowCache={},this.makeNodes(0,0,null,o,l),this.findValidRowCache=null;let p=[],f=eS.default.keys(o).sort(function(M,P){return parseInt(M)-parseInt(P)}),c=f[f.length-1];for(;c!=null;){let M=o[c];o[M.parent]&&(o[M.parent].path=o[M.parent].edges[c]),p.unshift(M),c=M.parent}let m=[],v=[],g=[],x=this.state.targetPxHeight,E=this.state.elWidth,_=this.state.gutterPixelWidth,D=0;return p.forEach((M,P)=>{let L=M.path,I=[];if(!L)return;let q=0,N=!1;for(let F=L.startIndex;F<L.breakBefore;F++){let W=e[F],U=L.breakBefore-L.startIndex,Z=F+1==L.breakBefore,J=this.getItemSize(W,!1),ie=J.mediaSize.padSize+J.mediaItemSize.padSize,le=(x+-ie)/J.height||1,G,K;G=J.width*le+ie,K=J.height*le+J.mediaSize.padSize;let Q=E+-L.rowWidth;if(n!=="fill"||N)Q=Math.min(0,Q),D=L.rowWidth;else if(Q/E>.5&&Z&&P==0&&!L.position=="forcebreak"){N=!0,F=L.startIndex-1;continue}if(Q!==0){let se=(G+-ie)/L.contentWidth,ce=L.rowWidth-L.contentWidth,_e=E-ce;G=se*_e,K=G*(J.height/J.width)+J.mediaSize.padSize,G=G+ie}G=Math.floor(G*r)/r,q=K;let re={},ee="";F==L.startIndex&&(re.firstChild=!0),F+1==L.breakBefore&&(re.lastChild=!0),P+2==p.length&&(re.lastRow=!0),re.orphanRow=N,g[F]={style:`width: ${G}px`,itemStatuses:re},v[F]={slot:`slot-${F}`,drag:void 0,itemDragStart:void 0,itemResize:this.onItemResize},I[F]=S("slot",{name:`slot-${F}`},`slot-${F}`)}q=Math.floor(q*r)/r,m.push(S("div",{className:`justify-row${N?" orphan-row":""}`,style:{"--frame-padding":q+"px"},children:I},`justify-row-${P}`))}),{shadow:m,attributes:v,shadowStyleMap:g,orphanRowWidth:D}};findValidRows=(e,r)=>{if(this.findValidRowCache[e])return this.findValidRowCache[e];e=parseInt(e);let i=e,n=0,o=0,s=0,a=0,l=0,p={},f=this.props["row-align"];this.state.isMobile&&this.props["mobile-row-align"]!==void 0&&(f=this.props["mobile-row-align"]);for(let c=e;c<r.length;c++){let m=s,v=a,g=r[c],x=g.mediaSize.padSize+g.mediaItemSize.padSize,E=(this.state.targetPxHeight+-x)/g.height;if(a=g.width*E,s=a+x,c===e?(l=1,n=s,o=s+-x):(n=n+this.state.gutterPixelWidth+s,o=o+a,l++),g.rowEnd){p[c+1]={position:"forcebreak",penalty:-9e9,itemCount:l,startIndex:e,breakBefore:c+1,rowWidth:n,contentWidth:o};break}else if(n>this.state.elWidth){if(g.inDesignatedRow)continue;p[c]={position:"under",itemCount:l+-1,penalty:0,startIndex:e,breakBefore:c,rowWidth:n+-(this.state.gutterPixelWidth+s),contentWidth:o-a},f==="fill"||c===e?p[c+1]={position:"over",penalty:0,itemCount:l,startIndex:e,breakBefore:c+1,rowWidth:n,contentWidth:o}:c-1>-1&&(p[c-1]={position:"oneunder",penalty:.11,itemCount:l+-2,startIndex:e,breakBefore:c-1,rowWidth:n+-(this.state.gutterPixelWidth*2+s+m),contentWidth:o-(a+v)});break}else if(c==r.length-1){f!=="fill"&&c==e?p[c+1]={position:"orphan",penalty:.5,itemCount:l,startIndex:e,breakBefore:c+1,rowWidth:n,contentWidth:o}:p[c+1]={position:"last",penalty:.06,itemCount:l,startIndex:e,breakBefore:c+1,rowWidth:n,contentWidth:o};break}else l+-2>0&&!g.inDesignatedRow&&f==="fill"&&(p.mid={position:"mid",penalty:.06,itemCount:l+-2,startIndex:e,breakBefore:c-1,rowWidth:n+-(this.state.gutterPixelWidth*2+s+m),contentWidth:o-(a+v)})}if(p.hasOwnProperty("mid")){let c=p.mid.breakBefore;!p.hasOwnProperty(c)&&r.length<15&&(p[p.mid.breakBefore]=p.mid),delete p.mid}for(let c in p){let m=p[c],v=m.rowWidth/this.state.elWidth;m.distance=Math.abs(1-v)*Math.abs(1-v)*Math.abs(1-v),isNaN(m.penalty)||(m.distance=m.distance+m.penalty)}return this.findValidRowCache[e]=p,p};makeNodes=(e,r,i,n,o)=>{if(e===-1)return;let s={index:parseInt(e),edges:this.findValidRows(e,o),distanceToFirstNode:r,parent:i},a=!1;if(n[e]?s.distanceToFirstNode<n[e].distanceToFirstNode&&(n[e]=s,a=!0):(n[e]=s,a=!0),a){let l=eS.default.keys(s.edges);for(let p=0;p<l.length;p++){let f=s.edges[l[p]];this.makeNodes(parseInt(l[p]),f.distance+s.distanceToFirstNode,s.index,n,o)}}};getItemSize=(e,r)=>{let i=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};isNaN(i.width)&&(i.width=300),isNaN(i.height)&&(i.height=300);let n=e.getAttribute("justify-row-end")==="true"&&!r;return{...i,rowEnd:n}}},lo={name:"justify",displayName:"Justify",tagName:"GALLERY-JUSTIFY",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"End Row Here",name:"justify-row-end",type:"check-box",value:!0}],options:[{labelName:"Row Height",name:"row-height",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,allowCalc:!0,allowVar:!0,value:"20%",min:1,defaultUnit:"%",step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowedUnits:["px","%","rem","vmin","vmax","vw","vh","em"]},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"1rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Row Align",name:"row-align",type:"radio",value:"fill",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"},{labelName:"Fill",iconName:"alignContentFill",value:"fill"}]},{type:"more-actions",children:[{labelName:"Clear Designated Rows",name:"clear-designated-rows",type:"button",className:"text-button remove",onClick:function(t){t.preventDefault(),t.stopPropagation();let e=Array.from(this.state.activeGallery.children).filter(r=>r.hasAttribute("justify-row-end")||r.hasAttribute("justify-row-start"));CargoEditor.mutationManager.execute(()=>{e.forEach(r=>{r.removeAttribute("justify-row-end")})}),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor())}}]}],mobileOptions:[{labelName:"Row Height",name:"mobile-row-height",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,allowCalc:!0,allowVar:!0,value:"20%",min:1,defaultUnit:"%",allowedUnits:["px","%","rem","vmin","vmax","vw","vh","em"]},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"1rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Row Align",name:"mobile-row-align",type:"radio",value:"fill",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"},{labelName:"Fill",iconName:"alignContentFill",value:"fill"}]}]};lo.mediaItemDefaults=pt(lo.mediaItemOptions);lo.defaults=pt(lo.options);lo.mobileDefaults=pt(lo.mobileOptions);Qg.defaultProps={"show-tags":!0,"show-title":!0,"row-align":lo.defaults["row-align"].value,"row-height":lo.defaults["row-height"].value,gutter:"1rem","mobile-gutter":void 0,"mobile-row-height":void 0,"mobile-row-align":void 0};Wle=jt(Do(Ue((t,e)=>({adminMode:t.frontendState.adminMode}))(Qg)));lr(Wle,"gallery-justify",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","row-align","row-height","gutter","mobile-gutter","mobile-row-height","mobile-row-align"],{renderIntoShadow:!0})});function Vle(t,e){let r=e.pid;return{isMobileOnly:t.site.mobile_homepage_id==r||t.pages.byId[r]&&t.pages.byId[r].pin&&t.pages.byId[r].pin_options.screen_visibility==="mobile"}}var Ai,Jg,rS,rB,iB=$(()=>{ke();gt();qr();Ye();Ut();Wr();ko();Jn();Hr();Fe();Ai=ye(Pe(),1);fe();Jg=new Set;de||(window.addEventListener("mousedown",t=>{Jg.forEach(e=>{e.setState({noPointerEvents:!0})})}),window.addEventListener("mouseup",t=>{Jg.forEach(e=>{e.setState({noPointerEvents:!1})})}));rS=class extends me{constructor(e){super(e),this.handleWidth=20,this.minHandleOverlap=3,this.maxColumns=12,this.state={columnSetAbove:!1,noPointerEvents:!1,buttonHovered:!1,focused:!1,loaded:!1,adminWindow:!1,showGhost:!1,isDraggingHandle:!1,isDragging:!1,activeIndex:-1,pointerStart:{x:0,y:0},delta:{x:0,y:0},instanceRect:{width:100,height:100,left:-999,top:-999},referenceColumnSpans:[]},this.columnAddOrRemoveObserver=new MutationObserver(this.onColumnAddOrRemove),this.columnAddOrRemoveObserverConfig={attributes:!0,childList:!0,subtree:!1},this.columnObserver=new MutationObserver(this.onColumnChange),this.columnObserverConfig={attributeFilter:["span"],childList:!1,subtree:!1},this.columnCache=[],this.columnOutlineRef=Se(),this.gearReaf=Se(),this.addThreshold=0,this.removeThreshold=0,this.saveColumnSettings=Ai.default.debounce(this.saveColumnSettings,150),this.updateColumns=Ai.default.throttle(this.updateColumns,40)}render(e,r){let{emptyColumns:i,gutter:n,columnSpans:o,displaySpans:s,layoutColumns:a,unitsToRemove:l,isMobile:p,mobileStack:f,mobileHideEmpty:c,elWidth:m,gutterWidth:v}=e,{activeIndex:g,delta:x,isDraggingHandle:E,adminWindow:_,showGhost:D,loaded:M,buttonHovered:P,focused:L,noPointerEvents:I,columnSetAbove:q}=r,N=Ai.default.uniq(i).length==1&&i[0]==!0,F=Ai.default.uniq(o).length==1&&o[0]==null,W=(m-v*(a-1))/a,U=o.length<a,Z=[],ie=a%o.length==0||!F?a:o.length-l;p&&f&&(ie=1);let le=Math.max(0,(m-v*(ie-1))/ie),G=Math.max(1,v);le=le-(G-v);let K=23;for(let Q=0;Q<ie;Q++){let re=(le+G)*Q;Z.push(S("div",{className:"ghost-span",style:{transform:`translateX(${re}px)`,opacity:D?.04:0,width:le+"px"}},`ghost-${Q}`))}return S(he,{children:[S(Jr,{baseNode:this.props.columnInstance}),S("style",{children:i.map((Q,re)=>Q?`
				::slotted(column-unit:nth-child(${re+1})){
					min-height: 1em;
				}`:"").join(`
`)}),S(Pi,{onPointerIn:this.checkForColumnSetAbove,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,buttonHeight:K,buttonMode:"outside",baseNode:this.props.columnInstance,el:this.props.columnInstance,render:Q=>{let{pointerAttention:re,overlayPosition:ee}=Q,ae=0,se=0,ce=-K,_e=2;return(ee.y<=K||q)&&(ce=ee.height+1,ee.height+ee.y>nt.data.window.h+-K&&(ce=-ee.y+nt.data.window.h+-K+1,_e=0)),S("div",{ref:this.columnOutlineRef,className:`editor-overlay editor-outline columns-outline${re?" hover":""}${re?" button-hover":""}${L?" focus":""}`,style:{transform:`translate3d(${ee.x}px, ${ee.y}px, 0)`,width:ee.width+"px",height:ee.height+"px",display:re||P||L?"block":"none"},children:[(re||L||P)&&Z,(re||L||P)&&!(p&&f)?o.map((Ie,ge)=>{let Re=s[ge];if(Ie||(Ie=a/o.length),ge==o.length-1||Re=="hide"||(ae+=Ie,ae>=a))return null;se+=W*Ie+(Ie-1)*v+v;let Qe=`${se+-v*.5}px`,Me=this.handleWidth*-.5;return v<=this.handleWidth-this.minHandleOverlap&&(Me=v*-.5+-this.minHandleOverlap),S(he,{children:[U&&ge<a&&S("div",{style:{pointerEvents:I?"none":"auto",display:re||L||P?"block":"none",transform:`translateX(${Qe})`,width:this.handleWidth+"px",marginLeft:`${Me}px`},className:"column-divider-handle",onMouseDown:$e=>this.onMouseDown($e,ge)}),S("div",{style:{display:re||L||P?"block":"none",transform:`translateX(${Qe})`,transition:E?"transform .08s cubic-bezier(0, 0, 0.2, 1)":""},className:"column-divider"},`col-${ge}`)]})}):null,S("div",{className:"in-editor-buttons",style:{pointerEvents:I?"none":"auto",transform:`translate(${_e}px, ${ce}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:S("div",{className:"pointer-mask",children:[S("button",{className:"columns text",ref:this.gearReaf,onMouseDown:this.launchUIWindow,children:"Columns"}),(!p||this.props.isMobileOnly)&&S(he,{children:[S("button",{onMouseDown:this.removeColumn,className:"remove",children:S("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:S("rect",{x:"4",y:"9.5",width:"12",height:"1",class:"button-fill"})})}),S("button",{onMouseDown:this.addColumn,className:`add ${o.length>=this.maxColumns?"disabled":""}`,children:S("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[S("rect",{x:"4",y:"9.5",width:"12",height:"1",class:"button-fill"}),S("rect",{x:"9.5",y:"4",width:"1",height:"12",class:"button-fill"})]})})]})]})})]})}})]})}checkForColumnSetAbove=()=>{let e=this.props.columnInstance.getBoundingClientRect();document.getElementById("editor-overlay").style.display="none";let r=document.elementFromPoint(e.right-10,e.top-15);document.getElementById("editor-overlay").style.display="",this.setState({columnSetAbove:r?.tagName?.startsWith("COLUMN-")})};launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.gearReaf.current.getBoundingClientRect(),i=this.props.columnInstance.getBoundingClientRect(),n={x:r.x+0,y:i.y+-190,left:r.left+0,right:r.right+0,top:i.top+0+-190,bottom:i.top+27+-190,width:r.width,height:r.height};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"columns-ineditor",windowAlias:"columns",supportsMobile:!0,positionRect:n,closeButton:!1,closeOnAllClickout:!0,props:{columnNodes:[this.props.columnInstance]}})};addColumn=e=>{e?.preventDefault(),e?.stopPropagation(),!(this.props.columnSpans.length>=this.maxColumns)&&(CargoEditor.mutationManager.execute(()=>{let r=this.columnCache.pop()||document.createElement("column-unit");r.removeAttribute("span"),r.removeAttribute("slot"),r.removeAttribute("data-discarded-column"),this.props.columnInstance.appendChild(r),this.addThreshold>1&&this.updateColumns(this.props.columnSpans.map(i=>{})),this.addThreshold++,clearTimeout(this.addTimeout),this.addTimeout=setTimeout(()=>{this.addThreshold=0},500)}),this.props.columnInstance.render(),this.saveColumnSettings())};removeColumn=e=>{e?.preventDefault(),e?.stopPropagation();let r=e?.altKey||!1,i=Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT");i.length!=0&&(CargoEditor.mutationManager.execute(()=>{if(this.props.columnSpans.length==1)Array.from(i[0].childNodes).forEach(n=>{this.props.columnInstance.parentNode.insertBefore(n,this.props.columnInstance)}),this.props.columnInstance.parentNode.insertBefore(document.createElement("br"),this.props.columnInstance),this.props.columnInstance.remove();else{let n=i[i.length-1];if(r){let o=i[i.length-2];Array.from(n.childNodes).forEach(s=>{o.appendChild(s)})}this.columnCache.push(n.cloneNode(!0)),this.waiting=!0,n.remove(),n.setAttribute("data-discarded-column",!0),this.removeThreshold>1&&this.updateColumns(this.props.columnSpans.map(o=>{})),this.removeThreshold++,clearTimeout(this.removeTimeout),this.removeTimeout=setTimeout(()=>{this.removeThreshold=0},500)}}),this.props.columnInstance.render())};updateUIWindowPosition=e=>{!this.state.focused||!this.state.UIWindow||(this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow.props.superBadScrollHack.scroll(e))};onMouseDown=(e,r)=>{e.button!=2&&(this.props.columnSpans.length<2||(e.preventDefault(),e.stopPropagation(),this.setState({showGhost:!0,isDraggingHandle:!0,activeIndex:r,pointerStart:{x:e.clientX,y:e.clientY},referenceColumnSpans:this.props.columnSpans,instanceRect:this.props.columnInstance.getBoundingClientRect()},()=>{this.dragTimeout=setTimeout(()=>{document.body.classList.add("dragging")},100),be.adminWindow.addEventListener("pointermove",this.onPointerMove),be.adminWindow.addEventListener("pointercancel",this.onPointerUp),be.adminWindow.addEventListener("mouseup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointercancel",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp)})))};onPointerUp=e=>{clearTimeout(this.dragTimeout),be.adminWindow.removeEventListener("pointermove",this.onPointerMove),be.adminWindow.removeEventListener("pointercancel",this.onPointerUp),be.adminWindow.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerUp),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),this.setState({showGhost:!1,isDraggingHandle:!1,activeIndex:-1,delta:{x:0,y:0}}),document.body.classList.remove("dragging")};onPointerMove=e=>{e.preventDefault();let{activeIndex:r,pointerStart:i,instanceRect:n,referenceColumnSpans:o,isDraggingHandle:s}=this.state,{gutterWidth:a,displaySpans:l,unitsToRemove:p,layoutColumns:f,units:c}=this.props;if(s){let m=[...o];if(Ai.default.uniq(o).length==1&&o[0]==null){let N=0,F=0,W=0,U=c/m.length-Math.floor(c/m.length),Z=Math.floor(c/m.length),J=m.map((ie,le)=>{F=F+U;let G=Z;return F>1&&(G=G+1,F=F-1),le==m.length-1&&(G=c-N),N=N+G,G});this.setState({referenceColumnSpans:J});return}let g=(n.width-a*(f-1))/f,x=0,E=[];m.forEach((N,F)=>{N||(N=f/m.length);let W=g*N+(N-1)*a;(F==r||F==r+1)&&E.push({x,width:W}),l[F]!="hide"&&(x+=W+a)});let _=20,{left:D}=n,M={x:e.clientX-(E[1].x+D+-a*.5),y:e.clientY-i.y},P=m.map((N,F)=>{let W=N,U=g*N+(N-1)*a;return F==r?(W=(U+M.x+a)/(g+a),Math.round(Math.max(Math.min(W,c-1),1))):l[F]=="hide"?N:Math.round(Math.max(Math.min(W,c-1),1))}),L=r+1;for(;l[L]=="hide";)L++;let I=Ai.default.sum(P)-P[L];P[L]=c-I,P[L]==0&&(P[L]+=1,P[r]-=1),Ai.default.uniq(P).length==1&&Ai.default.sum(P)==c&&(P=P.map(N=>{})),Math.abs(M.x)>4&&this.updateColumns(P),this.setState({delta:M})}};checkColumns=()=>{let{layoutColumns:e,columnSpans:r,units:i}=this.props;if(r.length==0||Ai.default.uniq(r).length==1&&r[0]==null)return;let o=r.includes(void 0),s=Ai.default.sum(r),a=[...r],l=!1;if(s!=i||o){if(s>i)l=!0;else if(s<=i)if(o){let f=i-s,c=r.filter(v=>v==null).length,m=Math.floor(f/c);r.forEach((v,g)=>{if(g==r.length-1&&f>0)a[g]=f;else if(v==null&&f==0){let x=g;for(;x>=0&&(r[x]<2||r[x]==null);)x--;r[x]>1?(a[g]=Math.floor(r[x]/2),a[x]=r[x]-a[g]):l=!0}else v==null?(a[g]=m,f-=m):a[g]=v})}else{let f=i-s;a[a.length-1]=f+a[a.length-1]}(Ai.default.uniq(a).length==1&&Ai.default.sum(a)==i||l)&&(a=a.map(f=>{})),this.updateColumns(a)}else this.updateColumns(r)};updateColumns=e=>{let r=Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT"),i=[];r.forEach((n,o)=>{e[o]==null?i.push([n,null]):parseInt(n.getAttribute("span"))!=e[o]&&i.push([n,e[o]])}),i.length>0&&(CargoEditor?.mutationManager?.execute(()=>{i.forEach(([n,o])=>{o===null?n.removeAttribute("span"):n.setAttribute("span",o)})}),this.saveColumnSettings(),this.props.columnInstance.render())};saveColumnSettings=()=>{be.adminWindow.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{session:{"last-column-settings":this.getColumnInfo()}}})};onDragOver=(e,r,i)=>{et.activateHoverElement(this.props.columnInstance)};onDragStart=(e,r,i)=>{et.lockItem(this.props.columnInstance),et.activateHoverElement(this.props.columnInstance)};onDragEnd=(e,r)=>{et.unlockItem(this.props.columnInstance),et.testHover()};componentDidUpdate(e,r){(!Ai.default.isEqual(e.columnSpans,this.props.columnSpans)||e.layoutColumns+e.unitsToRemove!=this.props.layoutColumns+this.props.unitsToRemove)&&(Math.abs(e.layoutColumns+e.unitsToRemove-(this.props.layoutColumns+this.props.unitsToRemove))>2?this.updateColumns(this.props.columnSpans.map(i=>{})):this.checkColumns()),(e.gutter!==this.props.gutter||e["mobile-gutter"]!==this.props["mobile-gutter"])&&this.updateEditorRect()}updateEditorRect=Ai.default.throttle(()=>{et.updateElementRect(this.props.columnInstance)},120,{leading:!0,trailing:!0});getColumnInfo=()=>({columnSizes:this.props.columnSpans.map(e=>e??0),units:this.props.units,columns:this.props.columnSpans.length,emptySet:Ai.default.uniq(this.props.emptyColumns).length==1&&this.props.emptyColumns[0]==!0});onColumnAddOrRemove=e=>{let r=!1;e.forEach(i=>{Array.from(i.addedNodes).find(n=>n.tagName=="COLUMN-UNIT")&&(r=!0),Array.from(i.removedNodes).find(n=>n.tagName=="COLUMN-UNIT")&&(r=!0)}),r&&(this.columnObserver.disconnect(),r&&(Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT").forEach(n=>{this.columnObserver.observe(n,this.columnObserverConfig)}),this.state.UIWindow?.setState?.({activeSettings:this.state.UIWindow.getColumnSettingsFromNodes()}))),this.state.UIWindow?.onMutation?.(),this.props.columnInstance.render()};onColumnChange=e=>{let r=!0;e.forEach(i=>{i.type=="attributes"&&i.attributeName==="span"&&(r=!0)}),r&&(this.props.columnInstance.render(),this.state.UIWindow?.onMutation?.())};setColumns=e=>{let r=Array.from(this.props.columnInstance.children).filter(o=>o.tagName=="COLUMN-UNIT"),i=r.length;if(i!=e){if(i<e)for(var n=0;n<e-i;n++){let o=this.columnCache.pop()||document.createElement("column-unit");o.removeAttribute("span"),this.props.columnInstance.appendChild(o)}else if(e<i)for(var n=i-1;n>=e;n--){let s=r[n];this.columnCache.push(s.cloneNode(!0)),s.setAttribute("data-discarded-column",!0),s.remove()}this.saveColumnSettings()}};resetColumns=()=>{this.updateColumns(this.props.columnSpans.map(e=>{}))};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount(){Jg.add(this),be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("dragstart",this.onDragStart),be.globalDragEventController.on("dragend",this.onDragEnd),be.globalDragEventController.on("drop",this.onDragEnd),this.columnAddOrRemoveObserver.observe(this.props.columnInstance,this.columnAddOrRemoveObserverConfig),Array.from(this.props.columnInstance.children).filter(i=>i.tagName=="COLUMN-UNIT").forEach(i=>{this.columnObserver.observe(i,this.columnObserverConfig)}),this.checkColumns(),this.props.columnInstance._editorInterface=this;let r=[];if(Array.from(this.props.columnInstance.childNodes).forEach((i,n)=>{i.tagName!=="COLUMN-UNIT"&&(this.props.columnInstance.removeChild(i),r.push(i))}),r.length>0&&console.warn("removed stray elements from column set",r),this.props.columnInstance._newColumnSet){delete this.props.columnInstance._newColumnSet,et.activateHoverElement(this.props.columnInstance),et.lockItem(this.props.columnInstance);let i=n=>{this.showOutlinesTimeout=setTimeout(()=>{et.unlockItem(this.props.columnInstance),et.testHover()},500),window.removeEventListener("mousedown",i)};window.addEventListener("mousedown",i)}this.testHoverTimeout=setTimeout(()=>{et.testHover()},300)}componentWillUnmount(){Jg.delete(this),clearTimeout(this.testHoverTimeout),this.state.UIWindow?.closeWindow?.(),clearTimeout(this.showOutlinesTimeout),this.updateColumns.cancel(),this.columnAddOrRemoveObserver.disconnect(),this.columnObserver.disconnect(),be.globalDragEventController.off("dragover",this.onDragOver),be.globalDragEventController.off("dragstart",this.onDragStart),be.globalDragEventController.off("dragend",this.onDragEnd),be.globalDragEventController.off("drop",this.onDragEnd),delete this.props.columnInstance._editorInterface}};rB=jt(Ue(Vle,null)(rS))});var nB,ev,$le,oB=$(()=>{ke();Ye();gt();Fe();da();Hr();jg();nB=ye(Pe(),1);Qr();qr();ll();iB();fe();ev=class extends me{constructor(e){super(e),this.state={mobileActive:nt.data.mobile.active,elWidth:0,gutterWidth:0,hasSizes:!1,incrementLayout:0},this.props.baseNode.render=()=>{this.setState({incrementLayout:this.state.incrementLayout++})}}render(e,r){let{adminMode:i,baseNode:n,pageInfo:o,"mobile-stack":s,"mobile-hide-empty":a,"mobile-gutter":l,units:p}=e,{gutterWidth:f,mobileActive:c,hasSizes:m}=r,{elWidth:v}=r;m||(v=this.props.baseNode.offsetWidth);let g=[],x="";c?l===void 0?(g=dr(e.gutter,"rem"),g[1].indexOf("calc(")>-1?x=g[1].replace("calc(","("):x=g.join(""),x="calc( var(--mobile-padding-offset, 1) * "+x+" )"):(g=dr(l,"rem"),x=g.join(""),x.includes("rem")&&(x="calc( var(--mobile-padding-offset, 1) * "+x+" )")):(g=dr(e.gutter,"rem"),x=g.join(""));let E=Array.from(n.children).filter(W=>W.nodeName==="COLUMN-UNIT"&&!W.hasAttribute("data-discarded-column"));Array.from(n.children).filter(W=>W.nodeName==="COLUMN-UNIT"&&W.hasAttribute("data-discarded-column")).forEach(W=>{W.remove()});let D=E.map(W=>!Array.from(W.childNodes).some(U=>U.nodeType===Node.ELEMENT_NODE||U.nodeType===Node.TEXT_NODE&&U.nodeValue.trim().length>0)),M=E.map(W=>parseInt(W.getAttribute("span"))||void 0),P=0,L=M.map((W,U)=>(c&&D[U]&&(a||s)?(P=P+(parseInt(W)||1),W="hide"):W=W||"uniform",W)),I=L.filter(W=>W=="uniform"||W=="hide").length==L.length,q=Math.max(E.length,this.props.units);I&&(P=L.filter(W=>W=="hide").length),q=q-P;let N=f,F="";if(c&&s){F=`::slotted(column-unit){
				--column-width: ${v}px;
				--resize-parent-width: ${v}px;

			}`;let W=nB.default.findLastIndex(L,U=>U!=="hide");L.forEach((U,Z)=>{U=="hide"?F+=`
					::slotted(column-unit[slot="${Z}"]) {
						display: none;
					}`:Z<W&&(F+=`
					::slotted(column-unit[slot="${Z}"]) {
						margin-bottom: ${f}px;
					}`)})}else{let W=Xu(I?E.length-P:q,f,v),U=W.columnAndGutterMap;N=W.gutterPixelWidth;let Z=W.columnWidth,J=0;F=L.map((ie,le)=>{let G;switch(ie){case"uniform":return G=U[J]?.right-U[J]?.left||10,J+=1,`::slotted(column-unit[slot="${le}"]) {
							--column-width: ${G}px;
							--resize-parent-width: ${G}px;
						}`;case"hide":return`::slotted(column-unit[slot="${le}"]) {
							display: none;
						}`;default:return G=U[J+(ie+-1)]?.right-U[J]?.left||10,J+=ie,`::slotted(column-unit[slot="${le}"]) {
							${G<0?`
								margin-right: ${G+N}px;
								--column-width: 0px;
								--resize-parent-width: 0px;
							`:`
								--column-width: ${G}px;
								--resize-parent-width: ${G}px;							
							`}

						}`}}).join(`
				`)}return E.forEach((W,U)=>{W.setAttribute("slot",U)}),it(S(he,{children:[S(ca,{adminMode:i,baseNode:n,customElementMode:!0,scrollContext:this.props.scrollContext,children:[S("style",{children:`
						:host{
							visibility: ${m?"visible":"hidden"};
			 				--columns-gutter: ${N}px;
							margin-top: calc(var(--gutter-expand, 0) * ${N}px);
		
							width: 100%;
							position: relative;
							contain: layout;
							clear: both;							

							${c&&s?`
									display: flex;
									align-items: start;
									justify-content: flex-start;
									flex-direction: column;
									flex-wrap: nowrap;
									height: auto;
								`:`
									display: flex;
								    align-items: stretch;
								    justify-content: flex-start;							
									flex-direction: row;
									flex-wrap: nowrap;							
								`}
						}
		
					`}),S("style",{children:`
		
						::slotted(column-unit:not(:last-child)) {
						    margin-right: ${c&&s?0:N+"px"};
						}
		
						::slotted(column-unit) {
							display: block;
							word-wrap: break-word;
							position: relative;
						    max-width: 100%;   
						    flex-grow: 0;
						    flex-shrink: 0;
						    flex-basis: ${c&&s?"auto":"var(--column-width)"};
						    width: var(--column-width);
						}
		
						::slotted(column-unit:last-child) {
						    flex-grow: 1;
						}
		
						${F}				
					`}),S(tn,{values:{elWidth:"100%",gutterWidth:x},style:{position:"absolute",inset:"0 auto"},onResize:this.onResize}),E.map((W,U)=>S("slot",{name:U}))]}),i&&o.isEditing&&!de&&S(rB,{elWidth:v,gutterWidth:f,emptyColumns:D,isMobile:c,mobileStack:s,mobileHideEmpty:a,layoutColumns:q,units:p,columnSpans:M,unitsToRemove:P,displaySpans:L,gutter:x,columnInstance:n})]}),this.props.baseNode.shadowRoot)}onResize=(e,r)=>{this.setState(i=>{let n={...i};return n[e]=r,n.hasSizes=!0,n})};onMobileChange=e=>{this.setState({mobileActive:e})};componentDidMount(){nt.on("mobile-change",this.onMobileChange)}componentWillUnmount(){nt.off("mobile-change",this.onMobileChange)}};ev.defaultProps={units:12,gutter:"1rem","mobile-stack":!0,"mobile-hide-empty":!1,"mobile-gutter":void 0};$le=jt(Ue((t,e)=>({adminMode:t.frontendState.adminMode}))(ev));lr($le,"column-set",["units","gutter","mobile-gutter","mobile-stack","mobile-hide-empty"])});var dFe,iS,sB,aB=$(()=>{ke();Ye();Ut();ko();Wr();dFe=ye(Pe(),1);Jn();fe();iS=class extends me{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1}}render(e,r){let{audioPlayerInstance:i}=e,{draggingOver:n,showInsertionIndicator:o,buttonHovered:s,focused:a}=r,l=23;return S(he,{children:[S("style",{id:"audio-player-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),S(Pi,{hasFocus:a,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.audioPlayerInstance,render:p=>{let{pointerAttention:f,overlayPosition:c}=p,m=0;return c.y<=1&&(m=Math.min(-c.y+1,c.height+-l+1)),S(he,{children:[S(Jr,{baseNode:i,overlayPosition:c,inFront:!1,overlayMode:!0}),S("div",{className:`editor-overlay editor-outline${f?" hover":""}${f?" button-hover":""}${a?" focus":""}`,style:{transform:`translate3d(${c.x}px, ${c.y}px, 0)`,width:c.width+"px",height:c.height+"px",display:f||s||a?"block":"none",minHeight:"27px"},children:[S("div",{className:"in-editor-buttons audio-player",style:{transform:`translateY(${m}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[S("button",{onMouseDown:v=>{this.launchUIWindow(v)},ref:this.AudioPlayerButtonRef,className:"text",children:"Audio Player"}),e.children]}),e.otherUI]})]})}})]})}launchUIWindow=(e,r)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.props.audioPlayerInstance.getBoundingClientRect(),n={x:i.x,y:i.y,left:i.right,right:i.right,top:i.top-10,bottom:i.top+27,width:i.width,height:10};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"audioplayer-ineditor",windowAlias:"audioplayer",positionRect:n,closeButton:!1,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,closeOnSingleClickout:!0,supportsMobile:!1,props:{audioPlayerNode:this.props.audioPlayerInstance}})};scrollIntoView=()=>{let e=this.props.audioPlayerInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.audioPlayerInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount=()=>{this.props.audioPlayerInstance._editorInterface=this};componentWillUnmount=()=>{this.state.UIWindow?.closeWindow?.(),delete this.props.audioPlayerInstance._editorInterface}},sB=iS});var xFe,nS,wp,oS,jle,lB=$(()=>{ke();Ye();js();xFe=ye(Pe(),1);Fe();gt();Qr();qr();aB();fe();de||(nS=new ResizeObserver(t=>{t.forEach(e=>{if(wp.has(e.target)){let r=wp.get(e.target),i=e.borderBoxSize[0]||e.borderBoxSize;r.setState({size:{width:i.inlineSize,height:i.blockSize}})}})}));wp=new Map,oS=class extends me{constructor(e){super(e);let r=this.getFiletype(e.src);this.audio_track=Se(),this.bar=Se(),this.track_buffer=Se(),this.current_time=Se(),this.progressIndicator=Se(),this.state={size:{width:100,height:100},mounted:r!=="stream",filetype:r,seeking:!1,mouseInteractionDisabled:!1,mouseMoveActive:!1,dragging:!1,streaming:!1,paused:void 0,playing:!1,started:!1,ended:!1,preventTransition:!1,currentProgress:0,currentBuffer:0,remainingBuffer:0,currentTime:"0:00",rawTimeStamp:0,totalTime:"0:00",progress:0,hasError:!1,hasMetadata:!1}}render(e,r){let{baseNode:i,adminMode:n,label:o,loop:s,"total-time":a,"playback-time":l,"seek-controls":p,"browser-default":f,pageInfo:c}=e,{visible:m}=r,v=!this.state.paused||this.state.started,g=this.props.src?this.props.src:null;return it(S(he,{children:[n&&c.isEditing&&S(sB,{audioPlayerInstance:i}),S("style",{children:`
					* {
				    	box-sizing: border-box;						
					}

					:host {
						--audio-player-progress: ${this.state.currentProgress/100||0};
						--audio-player-buffer-progress: ${this.state.currentBuffer/100||0};
						--audio-player-buffer-remaining: ${this.state.remainingBuffer/100||0};
						max-width: 100%;
						${f?`
						    width: 400px;
						    `:`
						    position: relative;
						    display: inline-flex;
						    align-items: stretch;
						    width: 100%;`}
					}

					${f&&`
					audio {
						width: 100%;
					}

					[part="time-bar"], 
					[part="button"],
					[part="separator"]{
						display:none!important;
					}						
					`}



					[part="buffer"],
					[part="progress"] {
						display: ${v&&!this.state.streaming?"block":"none"};
					}

					[part="label"] {
						display: ${this.state.paused&&!this.state.started?"block":"none"};
					}

					[part="current-time"] {
						display: ${this.state.filetype=="file"&&this.state.started?"block":"none"};
					}

					[part="stream-anim"] {
						display: ${v&&this.state.filetype=="stream"?"block":"none"};
					}

					[part="total-time"] {
						display: ${v&&this.state.filetype=="file"?"block":"none"};
					}

					[part="buffer"]{
						left: calc( var(--audio-player-buffer-progress, 0) * 100% );
						width: calc( var(--audio-player-buffer-remaining, 0) * 100% );
					}

					[part="progress"]{
						width: calc( var(--audio-player-progress, 0) * 100% );
					}

					[part="stream-anim"] > span {
					  animation-name: period;
					  animation-duration: 1.5s;
					  animation-iteration-count: infinite;
					  animation-timing-function: steps(2, end);  
					}

					[part="stream-anim"] > span:before {
						content: '.';
					}

					[part="stream-anim"] > span:nth-child(1){
					  animation-delay: -.4s;
					}

					[part="stream-anim"] > span:nth-child(2){
					  animation-delay: -.2s;
					}

					[part="stream-anim"] > span:nth-child(3){
					  animation-delay: 0s;
					}

					@keyframes period {
					  from {
					    visibility: hidden;
					  }
					  to {
					    visibility: visible;
					  }
					   
					}					
				
					`}),S("div",{part:"button",onClick:x=>this.togglePlay(x),children:S("svg",{"vector-effect":"non-scaling-stroke",part:this.state.paused?"play-icon icon":"pause-icon icon",x:"0px",y:"0px",viewBox:this.state.paused?"0 0 11.3 12":"0 0 10 12",children:this.state.paused?S("polygon",{points:"0 0 0 12 11.3 6 0 0",part:"play-icon-path icon-path"}):S(he,{children:[S("polygon",{part:"pause-icon-path icon-path",points:"0 0 0 12 1 12 4 12 4 0 1 0 0 0"}),S("polygon",{part:"pause-icon-path icon-path",points:"9 0 6 0 6 12 9 12 10 12 10 0 9 0"})]})})}),S("div",{part:"separator",children:"\xA0"}),S("div",{draggable:this.props.adminMode?"true":null,part:"time-bar",ref:this.bar,onMouseDown:x=>this.onMouseDown(x),onTouchStart:x=>this.onMouseDown(x),onTouchEnd:x=>this.onMouseUp(x),children:[S("div",{ref:this.track_buffer,part:"buffer",children:" "}),S("div",{part:"progress",children:S("div",{ref:this.progressIndicator,part:"progress-indicator"})}),S("div",{part:"label",children:this.state.hasError?"Unable to load file":S(he,{children:this.props.label})}),S("div",{part:"current-time",ref:this.current_time,children:this.state.currentTime}),S("div",{part:"stream-anim",children:[S("span",{part:"animated-period period-one"}),S("span",{part:"animated-period period-two"}),S("span",{part:"animated-period period-three"})]}),this.state.filetype=="file"?S("div",{part:"total-time",children:this.state.hasMetadata?this.state.totalTime:""}):null]}),S("audio",{draggable:this.props.adminMode?"true":null,part:"audio-element",controls:f===!0,src:this.state.mounted?g:null,ref:this.audio_track,loop:this.props.loop===!0||this.props.loop==="true"?!0:void 0,preload:this.state.filetype==="file"?"metadata":null,onLoadedMetaData:x=>this.onLoadedMetadata(x),onTimeUpdate:x=>this.updatePlayerTime(x),onSeeking:x=>this.onSeekStart(x),onSeeked:x=>this.onSeekEnd(x),onEnded:x=>this.onTrackEnd(x),onError:x=>this.onError(x),onCanPlay:x=>this.clearError(x)})]}),i.shadowRoot)}disableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!0})};enableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!1})};setPlayState=e=>{this.setState({playing:!0,paused:!1,started:!0,streaming:this.state.filetype==="stream"})};setPauseState=e=>{this.setState({paused:!0}),this.state.filetype=="stream"&&this.setInitialState()};setInitialState=(e,r)=>{this.state.filetype=="stream"&&this.setState({started:!1}),this.setState({playing:!1,paused:!0,animIndex:0,currentTime:0,currentProgress:0,currentBuffer:0,remainingBuffer:0,rawTimeStamp:0})};onMouseDown=e=>{this.state.mouseInteractionDisabled||this.state.streaming||e.button===2||this.state.started===!1||(e.preventDefault(),document.body.classList.add("audio-player-dragging"),this.calculateProgressPosition(e),this.setState({mouseMoveActive:!0,preventTransition:!0,dragging:!1}),this.bar.current.addEventListener("mousemove",this.onMouseInteraction),this.bar.current.addEventListener("touchmove",this.onMouseInteraction),window.addEventListener("mousemove",this.onMouseInteraction),window.addEventListener("mouseup",this.onMouseUp))};calculateProgressPosition=e=>{let r=this.bar.current.getBoundingClientRect(),i=e.clientX||e.touches[0].clientX;i<r.left?this.audio_track.current.currentTime=0:i>r.right?this.audio_track.current.currentTime=this.audio_track.current.duration:this.audio_track.current.currentTime=this.audio_track.current.duration*((i-r.left)/this.state.size.width),this.updatePlayerTime()};onMouseInteraction=e=>{this.state.mouseInteractionDisabled||this.state.streaming||!this.state.started||!this.state.mouseMoveActive||this.audio_track.current.readyState===this.audio_track.current.HAVE_NOTHING||(this.calculateProgressPosition(e),this.setState({dragging:!0}))};onMouseUp=e=>{document.body.classList.remove("audio-player-dragging"),this.state.dragging===!0&&(!this.state.mouseInteractionDisabled&&!this.state.streaming&&this.state.started&&this.state.mouseMoveActive&&this.audio_track.current.readyState!==this.audio_track.current.HAVE_NOTHING&&this.calculateProgressPosition(e),this.state.paused===!1&&this.state.started===!0&&(this.audio_track.current.currentTime>=this.audio_track.current.duration-.001?this.setPauseState():this.audio_track.current.play())),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseInteraction),this.bar.current.removeEventListener("mousemove",this.onMouseInteraction),this.bar.current.removeEventListener("touchmove",this.onMouseInteraction),this.setState({dragging:!1,mouseMoveActive:!1})};onSeekStart=e=>{this.setState({seeking:!0})};onSeekEnd=e=>{this.setState({seeking:!1})};togglePlay=e=>{if(!(this.state.mouseInteractionDisabled||!this.state.mounted))if(this.audio_track.current.paused){let r=this.audio_track.current.play();wp.forEach((i,n)=>{i!==this&&(i.audio_track.current.pause(),i.setPauseState())}),r?r.then(function(){this.setPlayState(),this.setState({preventTransition:!1})}.bind(this)).catch(this.onError).finally(function(){this.setState({preventTransition:!0})}.bind(this)):this.setPlayState()}else this.audio_track.current.pause(),this.setPauseState()};onError=e=>{this.props.adminMode||(this.setState({hasError:!0},()=>{this.setInitialState(null,{error:!0})}),e instanceof DOMException&&console.error(e))};clearError=e=>{this.state.hasError&&this.setState({hasError:!1},()=>{this.setInitialState(null,{error:!1})})};onTrackEnd=e=>{this.state.dragging!==!0&&(this.setState({ended:!0}),this.setPauseState())};onLoadedMetadata=e=>{if(!this.audio_track.current)return;let r=this.timestampToHumanReadable(this.audio_track.current.duration);this.setState({totalTime:r,hasMetadata:!0})};updatePlayerTime=e=>{if(cancelAnimationFrame(this.updateFrame),!this.state.started||!this.audio_track.current||this.audio_track.current.readyState===this.audio_track.current.HAVE_NOTHING)return;this.setState({rawTimeStamp:this.audio_track.current.currentTime});let{"browser-default":r}=this.props;if(r)return;let i=!1,n=this.audio_track.current.currentTime,o=this.timestampToHumanReadable(n),s=n/this.audio_track.current.duration*100,a=this.state.size.width,l=parseInt(window.getComputedStyle(this.progressIndicator.current).width);(this.props.loop==="true"||this.props.loop===!0)&&(s>=99.5||s===0)&&(i=!0),a*(s/100)<l&&(s=(100-s)*(l/a)),this.setState(p=>{let f=s;return p.dragging&&Math.abs(p.currentProgress-s)>1&&(f=s*.1+p.currentProgress*.9),this.updateBufferSize(.01*f*this.audio_track.current.duration),{currentTime:o,currentBuffer:f,currentProgress:f,preventTransition:i}}),this.state.dragging&&(this.updateFrame=requestAnimationFrame(this.updatePlayerTime))};getFiletype=(e="")=>{let r=!1,i=!1;try{let o=new URL(e);(o.host.includes("asurahosting")||o.host.includes("radio.co")||o.host.includes("centova.com"))&&(i=!0),r=o.pathname.split("/").pop()?.indexOf(".")>-1}catch(o){console.error(o)}return r&&["m3u","pls","m3u8","asx"].some(o=>e.toLowerCase().endsWith(o))?"playlist":r&&!i?"file":"stream"};updateBufferSize=e=>{if(!this.audio_track.current)return;let r,i=e||this.audio_track.current.currentTime,n=0;for(var o=0;o<this.audio_track.current.buffered.length;o++)if(i>=this.audio_track.current.buffered.start(o)&&i<=this.audio_track.current.buffered.end(o)){r=Math.max(this.audio_track.current.buffered.end(o)-i,0),n=r/this.audio_track.current.duration*100;break}n!==0&&(n+=1),this.setState({remainingBuffer:n})};timestampToHumanReadable=e=>{if(isNaN(e))return"0:00";var r=Math.floor(e%60),i=Math.floor(e/60),n=Math.floor(i/60);return r<10&&(r="0"+r),n>0?(i=i-n*60,i<10&&(i="0"+i),n+":"+i+":"+r):i+":"+r};onDragStart=e=>{this.setState({started:!1}),this.audio_track.current.pause(),this.setInitialState(),e.dataTransfer.setData("audio-player-drag","true")};componentDidMount(){this.setPauseState(),this.state.mounted||setTimeout(()=>{this.setState({mounted:!0})},this.state.filetype==="stream"?2e3:0),de||(this.props.baseNode.addEventListener("dragstart",this.onDragStart),wp.set(this.bar.current,this),nS.observe(this.bar.current))}componentDidUpdate(e,r){if(this.state.paused!=r.paused||this.state.playing!=r.playing||this.state.hasError!=r.hasError||this.props.status!=e.status){let i="playing";this.state.hasError?i="error":this.state.paused?i="stopped":this.state.playing&&(i=this.state.filetype==="stream"?"streaming":"playing"),this.props.status!==i&&this.props.baseNode.setAttribute("status",i)}e.src!==this.props.src&&(this.setState({filetype:this.getFiletype(this.props.src)}),e.src&&e.src.substring(0,5)==="blob:"&&(this.state.rawTimeStamp!==0&&(this.audio_track.current.currentTime=this.state.rawTimeStamp),this.state.paused===!1&&this.audio_track.current.play()))}componentWillUnmount(){de||(this.props.baseNode.removeEventListener("dragstart",this.onDragStart),wp.delete(this.bar.current),nS.unobserve(this.bar.current)),window.removeEventListener("mouseup",this.onMouseUp)}},jle=jt(Ue((t,e)=>({adminMode:t.frontendState.adminMode}))(oS));lr(jle,"audio-player",["src","label","loop","total-time","playback-time","seek-controls","browser-default"])});var cB=oe((TFe,uB)=>{"use strict";uB.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var i,n,o;if(Array.isArray(e)){if(i=e.length,i!=r.length)return!1;for(n=i;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),i=o.length,i!==Object.keys(r).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=i;n--!==0;){var s=o[n];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}});function Fo(){return Fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Fo.apply(null,arguments)}function Qu(t,e){if(t==null)return{};var r={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;r[i]=t[i]}return r}function Gle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kle(t){var e=Gle(t,"string");return typeof e=="symbol"?e:e+""}function Jle(){let[t,e]=_i({});return{mapInstances:t,addMapInstance:(o,s="default")=>{e(a=>Fo({},a,{[s]:o}))},removeMapInstance:(o="default")=>{e(s=>Qu(s,[o].map(Kle)))},clearMapInstances:()=>{e({})}}}function eue(t){let{onLoad:e,apiKey:r,version:i,libraries:n=[]}=t,o=Qu(t,Xle),[s,a]=_i(gl.loadingStatus),[l,p]=$n((v,g)=>Fo({},v,{[g.name]:g.value}),{}),f=er(()=>n?.join(","),[n]),c=er(()=>JSON.stringify(Fo({apiKey:r,version:i},o)),[r,i,o]),m=$s(async v=>{var g;if(l[v])return l[v];if(!((g=google)!=null&&(g=g.maps)!=null&&g.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");let x=await window.google.maps.importLibrary(v);return p({name:v,value:x}),x},[l]);return Ht(()=>{(async()=>{try{let v=Fo({key:r},o);i&&(v.v=i),f?.length>0&&(v.libraries=f),v.solutionChannel===void 0?v.solutionChannel=Qle:v.solutionChannel===""&&delete v.solutionChannel,await gl.load(v,g=>a(g));for(let g of["core","maps",...n])await m(g);e&&e()}catch(v){console.error("<ApiProvider> failed to load the Google Maps JavaScript API",v)}})()},[r,f,c]),{status:s,loadedLibraries:l,importLibrary:m}}function tue(t,e){for(let r of oue){let i=e[r],n=mB[r];Ht(()=>{if(!t||!i)return;let o=google.maps.event.addListener(t,n,s=>{i(rue(n,t,s))});return()=>o.remove()},[t,n,i])}}function rue(t,e,r){let i={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(iue.includes(t)){let o=i,s=e.getCenter(),a=e.getZoom(),l=e.getHeading()||0,p=e.getTilt()||0,f=e.getBounds();return(!s||!f||!Number.isFinite(a))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),o.detail={center:s?.toJSON()||{lat:0,lng:0},zoom:a||0,heading:l,tilt:p,bounds:f?.toJSON()||{north:90,east:180,south:-90,west:-180}},o}else if(nue.includes(t)){var n;if(!r)throw new Error("[createEvent] mouse events must provide a srcEvent");let o=i;return o.domEvent=r.domEvent,o.stoppable=!0,o.stop=()=>r.stop(),o.detail={latLng:((n=r.latLng)==null?void 0:n.toJSON())||null,placeId:r.placeId},o}return i}function sue(t,e){let r=Ei(void 0);(!r.current||!(0,hB.default)(e,r.current))&&(r.current=e),Ht(t,r.current)}function lue(t,e){let r={},i=Object.keys(e);for(let n of i)aue.has(n)&&(r[n]=e[n]);sue(()=>{t&&t.setOptions(r)},[r])}function gB(){var t;return((t=Ur(Sp))==null?void 0:t.status)||Es.NOT_LOADED}function uue(t,e){let{viewport:r,viewState:i}=e,n=!!r;return zi(()=>{if(!t||!i)return;let{latitude:o,longitude:s,bearing:a,pitch:l,zoom:p}=i;t.moveCamera({center:{lat:o,lng:s},heading:a,tilt:l,zoom:p+1})},[t,i]),n}function cue(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function vB(t){return cue(t)?t:t.toJSON()}function due(t,e,r){let i=r.center?vB(r.center):null,n=null,o=null;i&&Number.isFinite(i.lat)&&Number.isFinite(i.lng)&&(n=i.lat,o=i.lng);let s=Number.isFinite(r.zoom)?r.zoom:null,a=Number.isFinite(r.heading)?r.heading:null,l=Number.isFinite(r.tilt)?r.tilt:null;zi(()=>{if(!t)return;let p={},f=!1;n!==null&&o!==null&&(e.current.center.lat!==n||e.current.center.lng!==o)&&(p.center={lat:n,lng:o},f=!0),s!==null&&e.current.zoom!==s&&(p.zoom=s,f=!0),a!==null&&e.current.heading!==a&&(p.heading=a,f=!0),l!==null&&e.current.tilt!==l&&(p.tilt=l,f=!0),f&&t.moveCamera(p)})}function hue(){let[t,e]=_i(null),r=$s(i=>e(i),[e]);return[t,r]}function yB(){return gB()===Es.LOADED}function fue(){let[,t]=$n(e=>e+1,0);return t}function mue(t,e){let r=t.getCenter(),i=t.getZoom(),n=t.getHeading()||0,o=t.getTilt()||0,s=t.getBounds();(!r||!s||!Number.isFinite(i))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:r?.toJSON()||{lat:0,lng:0},zoom:i||0,heading:n,tilt:o})}function gue(t){let e=fue(),r=Ei({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return Ht(()=>{if(!t)return;let i=google.maps.event.addListener(t,"bounds_changed",()=>{mue(t,r),e()});return()=>i.remove()},[t,e]),r}function bue(t,e){let r=yB(),[i,n]=_i(null),[o,s]=hue(),a=gue(i),{id:l,defaultBounds:p,defaultCenter:f,defaultZoom:c,defaultHeading:m,defaultTilt:v,reuseMaps:g,renderingType:x,colorScheme:E}=t,_=Qu(t,vue),D=t.zoom!==void 0||t.defaultZoom!==void 0,M=t.center!==void 0||t.defaultCenter!==void 0;!p&&(!D||!M)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!_.center&&f&&(_.center=f),!_.zoom&&Number.isFinite(c)&&(_.zoom=c),!_.heading&&Number.isFinite(m)&&(_.heading=m),!_.tilt&&Number.isFinite(v)&&(_.tilt=v);for(let L of Object.keys(_))_[L]===void 0&&delete _[L];let P=Ei();return Ht(()=>{if(!o||!r)return;let{addMapInstance:L,removeMapInstance:I}=e,{mapId:q}=t,N=`${q||"default"}:${x||"default"}:${E||"LIGHT"}`,F,W;if(g&&Zu.has(N)?(W=Zu.pop(N),F=W.getDiv(),o.appendChild(F),W.setOptions(_),setTimeout(()=>W.setCenter(W.getCenter()),0)):(F=document.createElement("div"),F.style.height="100%",o.appendChild(F),W=new google.maps.Map(F,Fo({},_,x?{renderingType:x}:{},E?{colorScheme:E}:{}))),n(W),L(W,l),p){let{padding:U}=p,Z=Qu(p,yue);W.fitBounds(Z,U)}else(!D||!M)&&W.fitBounds({east:180,west:-180,south:-90,north:90});if(P.current){let{mapId:U,cameraState:Z}=P.current;U!==q&&W.setOptions(Z)}return()=>{P.current={mapId:q,cameraState:a.current},F.remove(),g?Zu.push(N,W):google.maps.event.clearInstanceListeners(W),n(null),I(l)}},[o,r,l,t.mapId,t.renderingType,t.colorScheme]),[i,s,a]}function wue(...t){let e=JSON.stringify(t);dB.has(e)||(dB.add(e),console.error(...t))}function xue(t){let e=yB(),r=Ur(Sp);return Ht(()=>{!e||!r||r.importLibrary(t)},[e,r,t]),r?.loadedLibraries[t]||null}function Sue(t,e,r){if(e!=null&&typeof e!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");let i=t.style;if(r==null){if(e==null)return;for(let n in e)e.hasOwnProperty(n)&&pB(i,n,e[n]);return}for(let n in r)r.hasOwnProperty(n)&&(e==null||!e.hasOwnProperty(n))&&(n.indexOf("--")===0?i.setProperty(n,""):n==="float"?i.cssFloat="":i[n]="");if(e!=null)for(let n in e){let o=e[n];e.hasOwnProperty(n)&&r[n]!==o&&pB(i,n,o)}}function pB(t,e,r){let i=e.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,r):typeof r=="number"&&r!==0&&!Eue(e)?t[e]=r+"px":e==="float"?t.cssFloat=r:t[e]=(""+r).trim()}function Eue(t){return _ue.has(t)}function tv(t,e,r){Ht(()=>{if(!t||!e||!r)return;let i=google.maps.event.addListener(t,e,r);return()=>i.remove()},[t,e,r])}function xp(t,e,r){Ht(()=>{t&&(t[e]=r)},[t,e,r])}function Pue(t){let[e,r]=_i(null),[i,n]=_i(null),o=Ei(null),s=rv(),a=xue("marker"),{children:l,className:p,style:f,onClick:c,onDrag:m,onDragStart:v,onDragEnd:g,collisionBehavior:x,clickable:E,draggable:_,position:D,title:M,zIndex:P}=t,L=Ba.count(l);return Ht(()=>{if(!s||!a)return;let I=new a.AdvancedMarkerElement;I.map=s,r(I);let q=null;return L>0&&(q=document.createElement("div"),I.content=q,n(q)),()=>{var N;I.map=null,(N=q)==null||N.remove(),r(null),n(null)}},[s,a,L]),Ht(()=>{!e||!e.content||(e.content.className=p||"")},[e,p]),xp(i,"className",p??""),Ht(()=>{i&&(Sue(i,f||null,o.current),o.current=f||null)},[i,p,f]),xp(e,"position",D),xp(e,"title",M??""),xp(e,"zIndex",P),xp(e,"collisionBehavior",x),Ht(()=>{e&&(_!==void 0?e.gmpDraggable=_:m||v||g?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,_,m,g,v]),Ht(()=>{e&&(E!==void 0?e.gmpClickable=E:c?e.gmpClickable=!0:e.gmpClickable=!1)},[e,E,c]),tv(e,"click",c),tv(e,"drag",m),tv(e,"dragstart",v),tv(e,"dragend",g),[e,i]}function Aue(t){let[e,r]=_i(null),i=rv(),{onClick:n,onDrag:o,onDragStart:s,onDragEnd:a,onMouseOver:l,onMouseOut:p}=t,f=Qu(t,Iue),{position:c,draggable:m}=f;return Ht(()=>{if(!i){i===void 0&&console.error("<Marker> has to be inside a Map component.");return}let v=new google.maps.Marker(f);return v.setMap(i),r(v),()=>{v.setMap(null),r(null)}},[i]),Ht(()=>{if(!e)return;let v=e,g=google.maps.event;return n&&g.addListener(v,"click",n),o&&g.addListener(v,"drag",o),s&&g.addListener(v,"dragstart",s),a&&g.addListener(v,"dragend",a),l&&g.addListener(v,"mouseover",l),p&&g.addListener(v,"mouseout",p),e.setDraggable(!!m),()=>{g.clearInstanceListeners(v)}},[e,m,n,o,s,a,l,p]),Ht(()=>{e&&f&&e.setOptions(f)},[e,f]),Ht(()=>{m||!c||!e||e.setPosition(c)},[m,c,e]),e}var hB,Es,Yle,gl,Xle,Zle,Qle,Sp,fB,mB,iue,nue,oue,aue,pue,vue,yue,Zu,bB,sS,dB,rv,_ue,Cue,wB,Iue,kFe,xB=$(()=>{Ye();Ye();hB=ye(cB(),1);Es={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},Yle="https://maps.googleapis.com/maps/api/js",gl=class{static async load(e,r){var i;let n=e.libraries?e.libraries.split(","):[],o=this.serializeParams(e);this.listeners.push(r),(i=window.google)!=null&&(i=i.maps)!=null&&i.importLibrary?(this.serializedApiParams||(this.loadingStatus=Es.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=o,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==o&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");let s=["maps",...n];await Promise.all(s.map(a=>google.maps.importLibrary(a)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let r=null,i=()=>r||(r=new Promise((n,o)=>{var s;let a=document.createElement("script"),l=new URLSearchParams;for(let[p,f]of Object.entries(e)){let c=p.replace(/[A-Z]/g,m=>"_"+m[0].toLowerCase());l.set(c,f)}l.set("loading","async"),l.set("callback","__googleMapsCallback__"),a.async=!0,a.src=Yle+"?"+l.toString(),a.nonce=((s=document.querySelector("script[nonce]"))==null?void 0:s.nonce)||"",a.onerror=()=>{this.loadingStatus=Es.FAILED,this.notifyLoadingStatusListeners(),o(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=Es.LOADED,this.notifyLoadingStatusListeners(),n()},window.gm_authFailure=()=>{this.loadingStatus=Es.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=Es.LOADING,this.notifyLoadingStatusListeners(),document.head.append(a)}),r);google.maps.importLibrary=n=>i().then(()=>google.maps.importLibrary(n))}static notifyLoadingStatusListeners(){for(let e of this.listeners)e(this.loadingStatus)}};gl.loadingStatus=Es.NOT_LOADED;gl.serializedApiParams=void 0;gl.listeners=[];Xle=["onLoad","apiKey","version","libraries"],Zle=["children"],Qle="GMP_visgl_rgmlibrary_v1_default",Sp=ze.createContext(null);fB=t=>{let{children:e}=t,r=Qu(t,Zle),{mapInstances:i,addMapInstance:n,removeMapInstance:o,clearMapInstances:s}=Jle(),{status:a,loadedLibraries:l,importLibrary:p}=eue(r),f=er(()=>({mapInstances:i,addMapInstance:n,removeMapInstance:o,clearMapInstances:s,status:a,loadedLibraries:l,importLibrary:p}),[i,n,o,s,a,l,p]);return ze.createElement(Sp.Provider,{value:f},e)};mB={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},iue=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],nue=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],oue=Object.keys(mB);aue=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);pue=()=>{let t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return ze.createElement("div",{style:t},ze.createElement("h2",null,"Error: AuthFailure"),ze.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",ze.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};vue=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"],yue=["padding"],Zu=class{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,r){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(r)}};Zu.entries={};bB=ze.createContext(null),sS=t=>{let{children:e,id:r,className:i,style:n}=t,o=Ur(Sp),s=gB();if(!o)throw new Error("<Map> can only be used inside an <ApiProvider> component.");let[a,l,p]=bue(t,o);due(a,p,t),tue(a,t),lue(a,t);let f=uue(a,t),c=!!t.controlled;Ht(()=>{if(a)return f&&a.setOptions({disableDefaultUI:!0}),(f||c)&&a.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{a.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[a,f,c,t.gestureHandling,t.keyboardShortcuts]);let m=t.center?vB(t.center):null,v=null,g=null;m&&Number.isFinite(m.lat)&&Number.isFinite(m.lng)&&(v=m.lat,g=m.lng);let x=er(()=>{var D,M,P,L,I;return{center:{lat:(D=v)!=null?D:0,lng:(M=g)!=null?M:0},zoom:(P=t.zoom)!=null?P:0,heading:(L=t.heading)!=null?L:0,tilt:(I=t.tilt)!=null?I:0}},[v,g,t.zoom,t.heading,t.tilt]);zi(()=>{if(!a||!c)return;a.moveCamera(x);let D=a.addListener("bounds_changed",()=>{a.moveCamera(x)});return()=>D.remove()},[a,c,x]);let E=er(()=>Fo({width:"100%",height:"100%",position:"relative",zIndex:f?-1:0},n),[n,f]),_=er(()=>({map:a}),[a]);return s===Es.AUTH_FAILURE?ze.createElement("div",{style:Fo({position:"relative"},i?{}:E),className:i},ze.createElement(pue,null)):ze.createElement("div",Fo({ref:l,"data-testid":"map",style:i?void 0:E,className:i},r?{id:r}:{}),a?ze.createElement(bB.Provider,{value:_},e):null)};sS.deckGLViewProps=!0;dB=new Set;rv=(t=null)=>{let e=Ur(Sp),{map:r}=Ur(bB)||{};if(e===null)return wue("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;let{mapInstances:i}=e;return t!==null?i[t]||null:r||i.default||null};_ue=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);Cue=ze.createContext(null);wB=Bi((t,e)=>{let{children:r}=t,[i,n]=Pue(t),o=er(()=>i?{marker:i}:null,[i]);return Vs(e,()=>i,[i]),n?ze.createElement(Cue.Provider,{value:o},it(r,n)):null}),Iue=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];kFe=Bi((t,e)=>{let r=Aue(t);return Vs(e,()=>r,[r]),ze.createElement(ze.Fragment,null)})});var Ep,_p,Tue,Ju,SB,aS,OFe,DFe,zo,LFe,FFe,zFe,BFe,UFe,_B=$(()=>{Ep=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return t},Out:function(t){return t},InOut:function(t){return t}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-Ep.Bounce.Out(1-t)},Out:function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375},InOut:function(t){return t<.5?Ep.Bounce.In(t*2)*.5:Ep.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),_p=function(){return performance.now()},Tue=function(){function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(){for(var e,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var n=0,o=r;n<o.length;n++){var s=o[n];(e=s._group)===null||e===void 0||e.remove(s),s._group=this,this._tweens[s.getId()]=s,this._tweensAddedDuringUpdate[s.getId()]=s}},t.prototype.remove=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var i=0,n=e;i<n.length;i++){var o=n[i];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},t.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},t.prototype.update=function(e,r){e===void 0&&(e=_p()),r===void 0&&(r=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<i.length;n++){var o=this._tweens[i[n]],s=!r;o&&o.update(e,s)===!1&&!r&&this.remove(o)}i=Object.keys(this._tweensAddedDuringUpdate)}},t}(),Ju={Linear:function(t,e){var r=t.length-1,i=r*e,n=Math.floor(i),o=Ju.Utils.Linear;return e<0?o(t[0],t[1],i):e>1?o(t[r],t[r-1],r-i):o(t[n],t[n+1>r?r:n+1],i-n)},Bezier:function(t,e){for(var r=0,i=t.length-1,n=Math.pow,o=Ju.Utils.Bernstein,s=0;s<=i;s++)r+=n(1-e,i-s)*n(e,s)*t[s]*o(i,s);return r},CatmullRom:function(t,e){var r=t.length-1,i=r*e,n=Math.floor(i),o=Ju.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(n=Math.floor(i=r*(1+e))),o(t[(n-1+r)%r],t[n],t[(n+1)%r],t[(n+2)%r],i-n)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[r]-(o(t[r],t[r],t[r-1],t[r-1],i-r)-t[r]):o(t[n?n-1:0],t[n],t[r<n+1?r:n+1],t[r<n+2?r:n+2],i-n)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=Ju.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:function(){var t=[1];return function(e){var r=1;if(t[e])return t[e];for(var i=e;i>1;i--)r*=i;return t[e]=r,r}}(),CatmullRom:function(t,e,r,i,n){var o=(r-t)*.5,s=(i-e)*.5,a=n*n,l=n*a;return(2*e-2*r+o+s)*l+(-3*e+3*r-2*o-s)*a+o*n+e}}},SB=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),aS=new Tue,OFe=function(){function t(e,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ep.Linear.None,this._interpolationFunction=Ju.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=SB.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=aS,aS.add(this))}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.getDuration=function(){return this._duration},t.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},t.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},t.prototype.start=function(e,r){if(e===void 0&&(e=_p()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var n={};for(var o in this._valuesEnd)n[o]=this._valuesEnd[o];this._valuesEnd=n}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,r,i,n,o){for(var s in i){var a=e[s],l=Array.isArray(a),p=l?"array":typeof a,f=!l&&Array.isArray(i[s]);if(!(p==="undefined"||p==="function")){if(f){var c=i[s];if(c.length===0)continue;for(var m=[a],v=0,g=c.length;v<g;v+=1){var x=this._handleRelativeValue(a,c[v]);if(isNaN(x)){f=!1,console.warn("Found invalid interpolation list. Skipping.");break}m.push(x)}f&&(i[s]=m)}if((p==="object"||l)&&a&&!f){r[s]=l?[]:{};var E=a;for(var _ in E)r[s][_]=E[_];n[s]=l?[]:{};var c=i[s];if(!this._isDynamic){var D={};for(var _ in c)D[_]=c[_];i[s]=c=D}this._setupProperties(E,r[s],c,n[s],o)}else(typeof r[s]>"u"||o)&&(r[s]=a),l||(r[s]*=1),f?n[s]=i[s].slice().reverse():n[s]=r[s]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},t.prototype.pause=function(e){return e===void 0&&(e=_p()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},t.prototype.resume=function(e){return e===void 0&&(e=_p()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},t.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},t.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=Ep.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=Ju.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,r){var i=this,n;if(e===void 0&&(e=_p()),r===void 0&&(r=t.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var s=e-this._startTime,a=this._duration+((n=this._repeatDelayTime)!==null&&n!==void 0?n:this._delayTime),l=this._duration+this._repeat*a,p=function(){if(i._duration===0||s>l)return 1;var x=Math.trunc(s/a),E=s-x*a,_=Math.min(E/i._duration,1);return _===0&&s===i._duration?1:_},f=p(),c=this._easingFunction(f);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,c),this._onUpdateCallback&&this._onUpdateCallback(this._object,f),this._duration===0||s>=this._duration)if(this._repeat>0){var m=Math.min(Math.trunc((s-this._duration)/a)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=m);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=a*m,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var v=0,g=this._chainedTweens.length;v<g;v++)this._chainedTweens[v].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,r,i,n){for(var o in i)if(r[o]!==void 0){var s=r[o]||0,a=i[o],l=Array.isArray(e[o]),p=Array.isArray(a),f=!l&&p;f?e[o]=this._interpolationFunction(a,n):typeof a=="object"&&a?this._updateProperties(e[o],s,a,n):(a=this._handleRelativeValue(s,a),typeof a=="number"&&(e[o]=s+(a-s)*n))}},t.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},t.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},t.autoStartOnUpdate=!1,t}(),DFe=SB.nextId,zo=aS,LFe=zo.getAll.bind(zo),FFe=zo.removeAll.bind(zo),zFe=zo.add.bind(zo),BFe=zo.remove.bind(zo),UFe=zo.update.bind(zo)});var EB,lS,CB,PB=$(()=>{ke();Ye();Ut();ko();Wr();EB=ye(Pe(),1);Jn();fe();lS=class extends me{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1,map:null,markers:[]},this.onMutate=EB.default.debounce(this.onMutate,0),this.changeObserver=new MutationObserver(this.onMutate)}handleMarkerDragEnd=e=>{let{index:r,lat:i,lng:n}=e.detail;if(isNaN(i)||isNaN(n))return;let o=[...this.state.markers];o[r]={...o[r],lat:i,lng:n},CargoEditor.mutationManager.execute(()=>{this.state.map.setAttribute("markers",encodeURIComponent(JSON.stringify(o)))})};onChange(e){CargoEditor.mutationManager.execute(()=>{if(Object.keys(e)[0]==="markers")if(!this.state.markers||e.markers.length!==this.state.markers.length)this.state.map.setAttribute("markers",encodeURIComponent(JSON.stringify(e.markers)));else{let r=this.state.markers.map((i,n)=>e.markers[n]?{...i,...e.markers[n]}:i);console.log("newMarkers",r),this.state.map.setAttribute("markers",encodeURIComponent(JSON.stringify(r)))}})}render(e,r){let{mapInstance:i}=e,{draggingOver:n,showInsertionIndicator:o,buttonHovered:s,focused:a}=r,l=23;return S(he,{children:[S("style",{id:"map-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),S(Pi,{hasFocus:a,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.mapInstance,render:p=>{let{pointerAttention:f,overlayPosition:c}=p,m=0;return c.y<=1&&(m=Math.min(-c.y+1,c.height+-l+1)),S(he,{children:S("div",{className:`editor-overlay ${f?" button-hover":""}${a?" focus":""}`,style:{transform:`translate3d(${c.x}px, ${c.y}px, 0)`,width:c.width+"px",height:c.height+"px",display:f||s||a?"block":"none",minHeight:"27px"},children:[S("div",{className:"in-editor-buttons map",style:{transform:`translateY(${m}px)`,padding:"10px"},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[S("button",{onMouseDown:v=>{let g=this.state.map.map.getCenter(),x="",E=g.lat(),_=g.lng(),D=this.state.markers?[...this.state.markers,{purl:x,scrollToPage:!1,lat:E,lng:_}]:[{purl:x,scrollToPage:!1,lat:E,lng:_}];this.onChange({markers:D});let M=D.length-1;setTimeout(()=>{this.state.map.dispatchEvent(new CustomEvent("marker-click",{detail:{index:D.length-1,clientY:null,clientX:null}}))},200)},ref:this.MapButtonRef,className:"text",children:"Add Marker"}),S("button",{onMouseDown:v=>{this.launchMapUIWindow(v)},ref:this.MapButtonRef,className:"text",children:"Settings"}),e.children]}),e.otherUI]})})}})]})}handleMarkerClick=e=>{this.launchMarkerUIWindow(e.detail)};launchMarkerUIWindow=({clientX:e,clientY:r,index:i})=>{let o=(this.state.map?.shadowRoot?.querySelectorAll(`.marker-${i}`)[0]).getBoundingClientRect(),s={x:o.x,y:o.y,left:o.right,right:o.right,top:o.top-10,bottom:o.top+27,width:o.width,height:10};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"map-ineditor",windowAlias:"map",positionRect:s,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{mapNode:this.props.mapInstance,markerIndex:i}})};launchMapUIWindow=(e,r)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.props.mapInstance.getBoundingClientRect(),n={x:i.x-10,y:i.y,left:i.right-10,right:i.right-10,top:i.top-10,bottom:i.top+27,width:i.width,height:10};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"map-ineditor",windowAlias:"map",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{mapNode:this.props.mapInstance}})};scrollIntoView=()=>{let e=this.props.mapInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.mapInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};onMutate=()=>{this.getSettingsFromNodes()};getSettingsFromNodes(){this.setState({...this.state,map:this.props.mapInstance,markers:JSON.parse(decodeURIComponent(this.props.mapInstance.getAttribute("markers")||"[]"))})}componentDidUpdate=(e,r)=>{this.changeObserver.disconnect(),this.changeObserver.observe(this.state.map,{attributes:!0})};componentDidMount=()=>{this.props.mapInstance._editorInterface=this,this.canMutateTimeout=setTimeout(()=>{this.setState({...this.state,canMutate:!0})},300),this.getSettingsFromNodes(),this.props.mapInstance.addEventListener("marker-dragend",this.handleMarkerDragEnd),this.props.mapInstance.addEventListener("marker-click",this.handleMarkerClick)};componentWillUnmount=()=>{this.props.mapInstance.removeEventListener("marker-dragend",this.handleMarkerDragEnd),this.props.mapInstance.removeEventListener("marker-click",this.handleMarkerClick),this.state.UIWindow?.closeWindow?.(),delete this.props.mapInstance._editorInterface,clearTimeout(this.canMutateTimeout),this.onMutate.cancel(),this.changeObserver.disconnect()}},CB=lS});var s5e,uS,Mue,iv,IB,Rue,nv,cS,kue,AB=$(()=>{ke();Ye();s5e=ye(Pe(),1);Fe();gt();Qr();Ut();kr();xB();_B();js();qr();PB();h1();fe();Mue=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,iv=(t,e,r,i={})=>{r=Math.round(r);let{duration:n=1e3,easing:o=Mue}=i,s=performance.now(),a=t.getCenter(),l=t.getZoom(),p=t.getProjection(),f=new google.maps.LatLng(e),c=p.fromLatLngToPoint(f),m=p.fromLatLngToPoint(a),v=r-l;function g(E,_,D){return E+(_-E)*D}function x(){let _=performance.now()-s,D=Math.min(_/n,1),M=o(D),P=g(l,r,M),L=new google.maps.Point(g(m.x,c.x,M),g(m.y,c.y,M)),I,q;v>0&&(I=Math.pow(2,Math.abs(P-l)),q=new google.maps.Point(c.x+(L.x-c.x)/I,c.y+(L.y-c.y)/I)),v<0&&(I=Math.pow(2,Math.abs(P-r)),q=new google.maps.Point(m.x+(L.x-m.x)/I,m.y+(L.y-m.y)/I)),v===0&&(Math.sqrt(Math.pow(f.lat()-a.lat(),2)+Math.pow(f.lng()-a.lng(),2))*Math.pow(2,P-l)<4?q=L:q=c);let N=p.fromPointToLatLng(q);t.moveCamera({center:N,zoom:P});let F={x:c.x-q.x,y:c.y-q.y};(v!==0||F.x!==0||F.y!==0)&&D<1&&requestAnimationFrame(x)}x()},IB=()=>S("svg",{width:"58",height:"50",viewBox:"0 0 2 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S("path",{d:"M0.112305 0.460083L28.9258 14.1374L2.10889 24.6191V49.701H0.108887V22.9724H0.112305V0.460083Z",fill:"#FF0026"})}),Rue=({targetNode:t,activePurl:e})=>{let r=rv();return Ht(()=>{r&&(google.maps.event.addListenerOnce(r,"idle",()=>{let i=t.hasAttribute("follow-navigation")?t.getAttribute("follow-navigation")==="true":!1;if(e&&i){let o=(t.hasAttribute("markers")?JSON.parse(decodeURIComponent(t.getAttribute("markers"))):[]).find(s=>s.purl===e);o&&r.moveCamera({center:{lat:o.lat,lng:o.lng},zoom:17})}}),t.map=r)},[r]),null};de||(uS=new ResizeObserver(t=>{t.forEach(e=>{if(nv.has(e.target)){let r=nv.get(e.target),i=e.borderBoxSize[0]||e.borderBoxSize;r.setState({size:{width:i.inlineSize,height:i.blockSize}})}})}));nv=new Map,cS=class extends me{constructor(e){super(e),this.state={mounted:!1,tagText:null,isInCrossOriginIFrame:!0,mapId:this.getMobileMapId(e["map-id"])},this.mapRef=Se()}parseMarkersAttr(e){return JSON.parse(decodeURIComponent(e))}encodeMarkersAttr(e){return""}render(e,r){let{baseNode:i,adminMode:n,isEditing:o,pageInfo:s,markers:a,width:l="100%",height:p="50vh","map-id":f="6f83276caebd115a",isMobile:c,"default-bounds":m,"show-zoom-controls":v=!1,"show-street-view-controls":g=!1,"show-map-type-controls":x=!1,"follow-navigation":E=!1}=e,_="AIzaSyAuHt0V0nJ5qTiUoWwsOwDfkTv0n1PJUNA",D=m?JSON.parse(decodeURIComponent(m)):{north:34.199298711595,east:-118.20583547095032,west:34.0103546000496,south:-118.33143248997767,padding:0},M=[];if(a&&(M=this.parseMarkersAttr(a)),this.state.tagText!==null&&E===!0){let L=this.state.tagText.split(",").reduce((I,q)=>{let N=this.props.purlsByTag[q];if(!N||N.length===0)return I;for(let F of N)I.includes(F)||I.push(F);return I},[]);M=M.filter(I=>L.includes(I.purl))}return it(S(he,{children:[n&&s.isEditing&&S(CB,{mapInstance:i}),S("style",{children:`
					* {
				    	box-sizing: border-box;						
					}

					:host {
                        width: ${l};
                        height: ${p};
                        max-width: 100%;
                        max-height: var(--fit-height);
                        display: inline-block;
                        overflow: hidden;
					}

                    .gm-style iframe + div { border:none!important; }
				
					`}),_?S(fB,{apiKey:_,children:S(sS,{defaultBounds:D,mapId:this.state.mapId,ref:this.mapRef,fullscreenControl:!1,gestureHandling:"greedy",streetViewControl:g==="true"||g===!0,mapTypeControl:x==="true"||x===!0,zoomControl:v==="true"||v===!0,clickableIcons:!1,children:[M&&M.length?M.map((P,L)=>!P.lat||!P.lng?null:S(wB,{className:`marker-${L} ${P.id?`mid-${P.id}`:""}`,draggable:!!(n&&s.isEditing),onClick:n&&s.isEditing?I=>{this.props.baseNode.dispatchEvent(new CustomEvent("marker-click",{detail:{index:L}}))}:n===!1?()=>{}:null,onDragEnd:I=>{this.props.baseNode.dispatchEvent(new CustomEvent("marker-dragend",{detail:{index:L,lat:I.latLng.lat(),lng:I.latLng.lng()}}))},position:{lat:P.lat,lng:P.lng},children:n||P.purl==="default"||P.purl===""?S(IB,{}):S("a",{href:`${P.scrollToPage?"#":""}${P.purl}`,rel:"history",style:{fontSize:"24px",lineHeight:1,marginBottom:"-4px"},onClick:()=>{iv(this.props.baseNode.map,{lat:P.lat,lng:P.lng},17)},children:S(IB,{})})},L)):null,S(Rue,{targetNode:i,activePurl:this.props.activePurl})]})}):S("div",{style:{width:"100%",height:"100%",background:"gray",color:"red",fontSize:"24px"},children:"API key is required for Google Maps"})]}),i.shadowRoot)}disableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!0})};enableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!1})};getBoundsZoomLevel(e,r){var i={height:256,width:256},n=21;function o(g){var x=Math.sin(g*Math.PI/180),E=Math.log((1+x)/(1-x))/2;return Math.max(Math.min(E,Math.PI),-Math.PI)/2}function s(g,x,E){return Math.floor(Math.log(g/x/E)/Math.LN2)}var a=e.getNorthEast(),l=e.getSouthWest(),p=(o(a.lat())-o(l.lat()))/Math.PI,f=a.lng()-l.lng(),c=(f<0?f+360:f)/360,m=s(r.height,i.height,p),v=s(r.width,i.width,c);return Math.min(m,v,n)}resetMap=()=>{let e=this.props["default-bounds"]?JSON.parse(decodeURIComponent(this.props["default-bounds"])):{north:34.24028483839939,east:-118.16102709664018,west:-118.32410540683625,south:33.994992380212196,padding:0},r=new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.west),new google.maps.LatLng(e.north,e.east)),i=this.getBoundsZoomLevel(r,{width:this.state.size.width,height:this.state.size.height});iv(this.props.baseNode.map,r.getCenter(),i)};handleGlobalClick=(e,r)=>{if(!this.props.markers||this.props.adminMode===!0)return;let i=JSON.parse(decodeURIComponent(this.props.markers));if(r.getAttribute("rel")==="map-marker"){let s=r.getAttribute("href");if(s){let a=i.find(l=>l.id===s);a&&iv(this.props.baseNode.map,{lat:a.lat,lng:a.lng},17);return}else return}let n=r.getAttribute("href");if(!n)return;r.hasAttribute("tag-text")?this.setState({tagText:r.getAttribute("tag-text")}):this.setState({tagText:null});let o=null;for(let s of i)if(s.purl===n){o=s;break}o?iv(this.props.baseNode.map,{lat:o.lat,lng:o.lng},17):this.resetMap()};componentDidMount(){if(de)return;nv.set(this.props.baseNode,this),uS.observe(this.props.baseNode),this.props.baseNode.handleGlobalClick=this.handleGlobalClick;let e=!1;try{e=!!(window.parent?.location?.host&&window.location.host!==window.parent.location.host)}catch{e=!0}this.setState({mounted:!0,isInCrossOriginIFrame:e})}getMobileMapId=(e="6f83276caebd115a")=>(console.log("getMobileMapId",e),{"6f83276caebd115a":"253a84a7bd441322","88cce47d0e4397ad":"ed1c36f3c0173c73"}[e]||e);componentDidUpdate(e,r){r.mapId!==this.state.mapId&&console.log("Map ID changed",this.state.mapId),!(e.isMobile===this.props.isMobile&&r.isInCrossOriginIFrame===this.state.isInCrossOriginIFrame)&&(e.isMobile!==this.props.isMobile&&(this.props.isMobile?this.setState({mapId:this.getMobileMapId(this.props["map-id"])}):this.setState({mapId:this.props["map-id"]||"6f83276caebd115a"})),r.isInCrossOriginIFrame!==this.state.isInCrossOriginIFrame&&(this.state.isInCrossOriginIFrame&&mapIdMobileLookup[this.props["map-id"]]?this.setState({mapId:this.getMobileMapId(this.props["map-id"])}):this.setState({mapId:this.props["map-id"]||"6f83276caebd115a"})))}componentWillUnmount(){de||(nv.delete(this.props.baseNode),uS.unobserve(this.props.baseNode))}},kue=jt(Ue((t,e)=>{let r=t.pages.byId,o=(e.markers?JSON.parse(decodeURIComponent(e.markers)).map(a=>a?.purl):[]).map(a=>Object.values(r).find(l=>l.purl===a)).reduce((a,l)=>(l&&l.tags&&l.tags.forEach(p=>{a[p.url]||(a[p.url]=[]),a[p.url].push(l.purl)}),a),{}),s=t.pages.byId[t.frontendState.activePID]?.purl;return{purlsByTag:o,activePurl:s,adminMode:t.frontendState.adminMode,isMobile:t.frontendState.isMobile}})(cS));lr(kue,"cargo-map",["api-key"])});var pS,Nue,Oue,ec,dS,hS,TB,MB=$(()=>{ke();Ye();Ut();ko();Wr();Jn();Fe();pS=ye(Pe(),1);fe();Nue=["{day}, {month-name} {day-of-month}, {year} {hour}:{minute} {period}","{hour}:{minute}:{second} {period}","{hour}:{minute}:{second}","{day-of-month}-{month}-{year}","{day-of-month} {month-name} {year}","{month-name} {day-of-month}, {year}","{month}/{day-of-month}/{year}","{day-of-month}/{month}/{year}","{time-of-day} of the {ordinal}"],Oue={day:"Day","day-of-month":"Day of Month",ordinal:"Ordinal Date",month:"Month","month-name":"Name of Month",period:"AM/PM",year:"Year",hour:"Hour",minute:"Minute",second:"Second",centisecond:"Centisecond","roman-year":"Year in Roman Numerals","time-of-day":"Time of Day"},ec=new Set,dS=pS.default.debounce(()=>{let t=Array.from(ec),e=[],r=t.filter(o=>o.state.selected).length>1,i=0;if(r){let o=t.map(a=>{let l;return a.state.selected?l=a.props.baseNode.getBoundingClientRect():l={top:-9e9},{component:a,rect:l}});e=pS.default.sortBy(o,(a,l)=>a.rect.top);let s=e.filter(a=>a.component.state.selected);i=s[s.length-1].rect.bottom+-s[0].rect.top,e=e.map(a=>a.component)}else e=t;let n=!1;e.forEach(o=>{!r||!o.state.selected?o.setState({pointerProxyAttention:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,multiSelectHeight:null}):n?o.setState({partOfMultipleSelection:!0,showMultipleSelectionButton:!1,multiSelectHeight:null}):(o.setState({pointerProxyAttention:!0,partOfMultipleSelection:!0,showMultipleSelectionButton:!0,multiSelectHeight:i}),n=!0)})},100);de||(CargoEditor&&Object.keys(CargoEditor||{}).length>0?CargoEditor.events.on("cursor-activity",dS):window.addEventListener("CargoEditor-load",function(){CargoEditor.events.on("cursor-activity",dS)}),document.addEventListener("selectionchange",dS));hS=class extends me{constructor(e){super(e),this.state={UIWindow:!1,showMultipleSelectionButton:!1,partOfMultipleSelection:!1,fontSizePx:16,lineHeightPx:24,selected:!1}}render(e,r){let{}=e,{UIWindow:i,showMultipleSelectionButton:n,partOfMultipleSelection:o,pointerProxyAttention:s,fontSizePx:a,lineHeightPx:l}=r,p,f=0,c=this.state.showMultipleSelectionButton&&this.state.multiSelectHeight;return S(he,{children:[S("style",{id:"digital-clock-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),S(Jr,{baseNode:this.props.clockInstance,overlayMode:!1,onSelectionChange:this.onSelectionChange}),S(Pi,{hasFocus:!!i,trackResize:!0,buttonMode:"inside",baseNode:this.props.clockInstance,buttonHeight:0,onPointerIn:this.pointerIn,onPointerOut:this.pointerOut,render:m=>{let{pointerAttention:v,overlayPosition:g}=m,x=0;return g.y<=1&&(x=Math.min(-g.y+1,g.height+-f+1)),n&&o?p=S("button",{style:{transform:`translateY(${x}px)`},"data-editor-overlay":"true",class:`${g.height<30?"small":""} clock-button multiple`,onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,onMouseUp:this.onOptionsButtonContextMenu,children:"Edit Multiple"}):!n&&!o&&(p=S("button",{style:{transform:`translateY(${x}px)`},"data-editor-overlay":"true",class:`${g.height<30?"small":""} clock-button`,onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,children:S("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[S("circle",{className:"inner-circle",cx:"8.5",cy:"8.65747",r:"7.5"}),S("circle",{className:"outer-circle",cx:"8.5",cy:"8.65747",r:"8"}),S("circle",{className:"dot",cx:"8.49977",cy:"8.65747",r:"1"}),S("circle",{className:"dot",cx:"5.07",cy:"8.65747",r:"1"}),S("circle",{className:"dot",cx:"11.9295",cy:"8.65747",r:"1"})]})})),S(he,{children:S("div",{className:`editor-overlay ${n?"edit-multiple":""} digital-clock editor-outline${v||i?" hover":""}${v||i?" button-hover":""}${i?" focus":""}`,style:{transform:`translate3d(${g.x}px, ${g.y}px, 0)`,width:g.width+"px",height:c?this.state.multiSelectHeight:g.height+"px"},children:[p,e.children]})})}})]})}onOptionsButtonContextMenu=e=>{e.metaKey||e.preventDefault()};onMouseDown=e=>{e.button==2&&!e.metaKey&&(e.preventDefault(),this.launchUIWindow(e))};onOptionsButtonClick=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation(),this.launchUIWindow()}};launchUIWindow=e=>{let r=this.props.clockInstance.getBoundingClientRect(),i=document.documentElement.clientHeight,n=document.documentElement.clientWidth,o=this.props.clockInstance.getAttribute("value"),a=Nue.includes(o)||o?.indexOf?.("{")===-1?270:360,l=220,p=15,f=r.left,c=r.top,m={x:r.left,y:r.top,left:r.left,right:r.left,top:r.top,bottom:r.top+27,width:0,height:10};i-r.bottom>a+p?c=r.top+r.height+p:i-(r.bottom+-r.height*.5)>a+p?c=r.top+r.height*.5+p:r.top>a+-p&&(c=r.top+-a+-p),n-r.left<l&&(f=r.left-l),m.x=f,m.left=f,m.right=f,m.width=0,m.height=0,m.y=c,m.top=c,m.bottom=c,be.adminWindow.UIWindowOpener.openUIWindow({windowName:"digital-clock",positionRect:m,closeButton:!1,closeOnSingleClickout:!0,ignoreEditorWindowClickout:!1,supportsMobile:!1,props:{clickedElement:this.props.clockInstance,elements:Array.from(ec).filter(v=>v.state.selected||v.props.clockInstance===this.props.clockInstance).map(v=>v.props.clockInstance)}})};pointerIn=()=>{this.state.selected&&ec.forEach(r=>{r.state.showMultipleSelectionButton&&r.setState({pointerProxyAttention:!0})});let e=window.getComputedStyle(this.props.clockInstance);this.setState({fontSizePx:e.getPropertyValue("font-size"),lineHeightPx:e.getPropertyValue("line-height"),pointerAttention:!0})};pointerOut=()=>{this.state.selected&&ec.forEach(e=>{e.state.pointerProxyAttention&&e.setState({pointerProxyAttention:!1})}),this.setState({pointerAttention:!1})};onSelectionChange=e=>{!e&&this.state.showMultipleSelectionButton&&this.setState({pointerProxyAttention:!1,showMultipleSelectionButton:!1}),this.setState({selected:e})};setUIWindow=e=>{this.setState({UIWindow:e})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidMount(){ec.add(this),this.props.clockInstance._editorInterface=this,this.props.clockInstance._newClock&&(delete this.props.clockInstance._newClock,setTimeout(()=>{this.launchUIWindow()},10)),this.props.clockInstance.addEventListener("contextmenu",this.onMouseDown)}componentWillUnmount(){this.props.clockInstance.removeEventListener("contextmenu",this.onMouseDown),ec.delete(this),this.state.UIWindow?.closeWindow?.(),delete this.props.clockInstance._editorInterface}componentDidUpdate(e,r){this.props.value!==e.value&&this.props.clockInstance.getAttribute("value")&&this.state.UIWindow?.setState?.({customVal:Oue.hasOwnProperty(this.props.value)?"{"+this.props.value+"}":this.props.value})}},TB=hS});var J5e,Cp,ov,Due,Lue,Fue,RB,sv,zue,kB=$(()=>{ke();Ye();Fe();gt();Fe();qr();Ar();MB();J5e=ye(Pe(),1);Qr();fe();Cp=new Set,ov=null,Due=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Lue=["january","february","march","april","may","june","july","august","september","october","november","december"],Fue=["time-of-day","day","day-of-month","ordinal","month","month-name","period","roman-year","year","hour","minute","second","centisecond"],RB=t=>{Cp.forEach(e=>{let r=new Date;e.updateTime(r)}),ov=requestAnimationFrame(RB)},sv=class extends me{constructor(e){super(e),this.state={}}romanize(e){if(isNaN(e))return NaN;for(var r=String(+e).split(""),i=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],n="",o=3;o--;)n=(i[+r.pop()+o*10]||"")+n;return Array(+r.join("")+1).join("M")+n}pad=e=>e<10?"0"+e:e.toString();dateTerms=(e,r)=>{switch(e){case"{time-of-day}":return S("span",{part:"time-of-day section"},"time-of-day-"+r);case"{day-of-month}":return S("span",{part:"day-of-month section",children:this.state["day-of-month"]},"day-of-month-"+r);case"{ordinal}":return S("span",{part:"ordinal section"},"ordinal"+r);case"{month}":return S("span",{part:"month section",children:this.state.month},"month-"+r);case"{day}":return S("span",{part:"day section"},"day-"+r);case"{roman-year}":return S("span",{part:"roman-year section",children:this.state.romanYear},"roman-year-"+r);case"{centisecond}":return S("span",{part:"centisecond section",children:this.state.centisecond},"roman-year-"+r);case"{year}":return S("span",{part:"year section",children:this.state.year},"year-"+r);case"{month-name}":return S("span",{part:"month-name section"},"month-name-"+r);case"{hour}":return S("span",{part:"hour section",children:this.props["twentyfour-hour"]?this.state["24hour"]:this.state["12hour"]},"hour-"+r);case"{minute}":return S("span",{part:"minute section",children:this.state.minute},"minute-"+r);case"{second}":return S("span",{part:"second section",children:this.state.second},"second-"+r);case"{period}":return S("span",{part:"period section"},"period-"+r)}return null};updateTime=e=>{let r=this.props["pad-hour"]||this.props.pad,i=this.props["pad-minute"]||this.props.pad,n=this.props["pad-second"]||this.props.pad,o=this.props["pad-day-of-month"]||this.props.pad,s=this.props["pad-month"]||this.props.pad;if(this.props.timezone!=="local"){let E=e.getTimezoneOffset(),_=this.props.timezone;if(this.props.timezone.indexOf(":")>-1){let P=this.props.timezone.split(":");P.length=2,_=parseFloat(P[0])+parseFloat(P[1]||0)/60}let D=-(-E-parseFloat(_*60))||0,M=Date.now();e=new Date(M+D*6e4)}let a=o?this.pad(e.getDate()):e.getDate(),l=Due[e.getDay()],p=e.getMonth(),f=e.getFullYear(),c=e.getHours(),m=e.getMinutes(),v=e.getSeconds(),g=e.getMilliseconds(),x=Math.floor(c/3)*3;this.setState({day:l,"day-of-month":a,"time-of-day":x+"-"+(parseInt(x)+3),ordinal:a,"month-name":Lue[p],month:s?this.pad(p+1):p+1,romanYear:this.romanize(f),year:this.props["truncate-year"]?f.toString().substring(2,4):f,period:c>=12?"pm":"am","12hour":r?this.pad(c%12==0?12:c%12):c%12==0?12:c%12,"24hour":r?this.pad(c):c,minute:i?this.pad(m):m,second:n?this.pad(v):v,centisecond:this.pad(Math.floor(g/10))})};render(e,r){let{pageInfo:i,adminMode:n,value:o}=this.props,s=[],a;if(o.indexOf("{")==-1&&(a=this.dateTerms("{"+o+"}")),a)s.push(a);else{let l=new RegExp("{"+Fue.join("}|{")+"}","gi"),p=[...o.matchAll(l)],f=0;p.length==0?s.push(this.dateTerms("{second}")):p.forEach((c,m)=>{let v=this.dateTerms(c[0],c.index);v&&(f!=c.index&&s.push(S("span",{part:"text",children:o.substring(f,c.index)},c.index)),f=c.index+c[0].length,s.push(v)),m===p.length-1&&s.push(S("span",{part:"text",children:o.substring(f,o.length)},c.index+"-last"))})}return it(S(he,{children:[n&&i.isEditing&&!de&&S(TB,{...this.props,clockInstance:this.props.baseNode}),S("style",{children:`

					:host {

						--0-3: "late night";
						--3-6: "early morning";
						--6-9: "morning";
						--9-12: "late morning";
						--12-15: "afternoon";
						--15-18: "late afternoon";
						--18-21: "evening";
						--21-24: "late evening";

						--am: "AM";
						--pm: "PM";

						--sunday: "Sunday";
						--monday: "Monday";
						--tuesday: "Tuesday";
						--wednesday: "Wednesday";
						--thursday: "Thursday";
						--friday: "Friday";
						--saturday: "Saturday";

						--january: "January";
						--february: "February";
						--march: "March";
						--april: "April";
						--may: "May";
						--june: "June";
						--july: "July";
						--august: "August";
						--september: "September";
						--october: "October";
						--november: "November";
						--december: "December";

						--ordinal-1: "first";
						--ordinal-2: "second";
						--ordinal-3: "third";
						--ordinal-4: "fourth";
						--ordinal-5: "fifth";
						--ordinal-6: "sixth";
						--ordinal-7: "seventh";
						--ordinal-8: "eighth";
						--ordinal-9: "ninth";
						--ordinal-10: "tenth";
						--ordinal-11: "eleventh";
						--ordinal-12: "twelfth";
						--ordinal-13: "thirteenth";
						--ordinal-14: "fourteenth";
						--ordinal-15: "fifteenth";
						--ordinal-16: "sixteenth";
						--ordinal-17: "seventeenth";
						--ordinal-18: "eighteenth";
						--ordinal-19: "nineteenth";
						--ordinal-20: "twentieth";
						--ordinal-21: "twenty-first";
						--ordinal-22: "twenty-second";
						--ordinal-23: "twenty-third";
						--ordinal-24: "twenty-fourth";
						--ordinal-25: "twenty-fifth";
						--ordinal-26: "twenty-sixth";
						--ordinal-27: "twenty-seventh";
						--ordinal-28: "twenty-eighth";
						--ordinal-29: "twenty-ninth";
						--ordinal-30: "thirtieth";
						--ordinal-31: "thirty-first";

						cursor: inherit;
					    display: inline-block;
					    position: relative;
					}

					[part*="section"]{
						font-variant: tabular-nums;
					}

					[part="ordinal section"]:after {
						content: var(--ordinal-${this.state["day-of-month"]}, "${this.state["day-of-month"]}");
					}

					[part="time-of-day section"]:before {
						content: var(--${this.state["time-of-day"]});
					}

					[part="period section"]:before {
						content: var(--${this.state.period});
					}				

					[part="day section"]:before {
						content: var(--${this.state.day});
					}

					[part="time-of-day section"]:before {
						content: var(--${this.state["time-of-day"]});
					}

					span[part="month-name section"]:before {
						content: var(--${this.state["month-name"]});
					}

					
				`}),s]}),this.props.baseNode.shadowRoot)}onViewportIntersectionChange=e=>{let r=e.position==="inside";this.setState({visible:r})};componentDidMount(){if(yt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),Cp.size==0&&(cancelAnimationFrame(ov),ov=requestAnimationFrame(RB),ui)){let e=this.props.baseNode.parentElement;e.tagName==="SPAN"&&Array.from(e.childNodes).filter(i=>i!==this.props.baseNode).length>0&&(e.style.display="inline-block",requestAnimationFrame(()=>{e.style.display=""}))}this.updateTime(new Date),Cp.add(this)}componentDidUpdate(e,r){}componentWillUnmount(){wt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),Cp.delete(this),Cp.size==0&&cancelAnimationFrame(ov)}};sv.defaultProps={pad:!1,"pad-day-of-month":!1,"pad-hour":!1,"pad-month":!1,"pad-minute":!0,"pad-second":!0,"twentyfour-hour":!1,"truncate-year":!1,timezone:"local",value:"second"};zue=jt(Ue((t,e)=>({adminMode:t.frontendState.adminMode}))(sv));lr(zue,"digital-clock",["pad-day-of-month","pad-hour","pad-month","pad-minute","pad-second","twentyfour-hour","truncate-year","pad","timezone","analogue","value"],{renderIntoShadow:!0})});var fze,fS,mS,NB=$(()=>{ke();Ye();Ut();ko();Wr();fze=ye(Pe(),1);Jn();fe();fS=class extends me{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1}}render(e,r){let{shopProductInstance:i}=e,{draggingOver:n,showInsertionIndicator:o,buttonHovered:s,focused:a}=r;return S(he,{children:S(Pi,{hasFocus:a,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.shopProductInstance,render:l=>{let{pointerAttention:p,overlayPosition:f}=l;return S(he,{children:[S(Jr,{baseNode:i,overlayPosition:f,inFront:!1,overlayMode:!0}),S("div",{className:`editor-overlay editor-outline${p?" hover":""}${p?" button-hover":""}${a?" focus":""}`,style:{transform:`translate3d(${f.x}px, ${f.y}px, 0)`,width:f.width+"px",height:f.height+"px",display:p||s||a?"block":"none",minHeight:"27px"},children:[S("div",{className:"in-editor-buttons audio-player",style:{transform:`translateY(${f.dip}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[S("button",{onMouseDown:c=>{this.launchUIWindow(c)},ref:this.AudioPlayerButtonRef,className:"text",children:"Product"}),e.children]}),e.otherUI]})]})}})})}launchUIWindow=(e,r)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let i=this.props.shopProductInstance.getBoundingClientRect(),n={x:i.x,y:i.y,left:i.right,right:i.right,top:i.top-10,bottom:i.top+27,width:i.width,height:20};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"shopproduct-ineditor",windowAlias:"commerce",positionRect:n,closeButton:!1,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,closeOnSingleClickout:!0,supportsMobile:!0,props:{shopProductNode:this.props.shopProductInstance}})};scrollIntoView=()=>{let e=this.props.shopProductInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.shopProductInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount=()=>{this.props.shopProductInstance._editorInterface=this};componentWillUnmount=()=>{this.state.UIWindow?.closeWindow?.(),delete this.props.shopProductInstance._editorInterface}},mS=fS});function Wue(t,e,r,i){var n;if(i!==void 0&&(t=t*i),typeof e!="string")n=t/100+"";else{var o=["BIF","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","VND","VUV","XAF","XOF","XPF"],s={AED:"\u062F.\u0625",AFN:"\u060B",ALL:"L",AMD:"\u058F",ANG:"\u0192",AOA:"Kz",ARS:"$",AUD:"$",AWG:"\u0192",AZN:"\u20BC",BAM:"KM",BBD:"$",BDT:"\u09F3",BGN:"\u043B\u0432",BHD:".\u062F.\u0628",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BRL:"R$",BSD:"$",BTC:"\u0E3F",BTN:"Nu.",BWP:"P",BYR:"p.",BZD:"BZ$",CAD:"$",CDF:"FC",CHF:"CHF",CLP:"$",CNY:"\xA5",COP:"$",CRC:"\u20A1",CUC:"$",CUP:"\u20B1",CVE:"$",CZK:"K\u010D",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"\u062F\u062C",EEK:"kr",EGP:"\xA3",ERN:"Nfk",ETB:"Br",ETH:"\u039E",EUR:"\u20AC",FJD:"$",FKP:"\xA3",GBP:"\xA3",GEL:"\u20BE",GGP:"\xA3",GHC:"\u20B5",GHS:"GH\u20B5",GIP:"\xA3",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"\u20AA",IMP:"\xA3",INR:"\u20B9",IQD:"\u0639.\u062F",IRR:"\uFDFC",ISK:"kr",JEP:"\xA3",JMD:"J$",JOD:"JD",JPY:"\xA5",KES:"KSh",KGS:"\u043B\u0432",KHR:"\u17DB",KMF:"CF",KPW:"\u20A9",KRW:"\u20A9",KWD:"KD",KYD:"$",KZT:"\u043B\u0432",LAK:"\u20AD",LBP:"\xA3",LKR:"\u20A8",LRD:"$",LSL:"M",LTC:"\u0141",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"\u0434\u0435\u043D",MMK:"K",MNT:"\u20AE",MOP:"MOP$",MRO:"UM",MUR:"\u20A8",MVR:"Rf",MWK:"MK",MXN:"$",MYR:"RM",MZN:"MT",NAD:"$",NGN:"\u20A6",NIO:"C$",NOK:"kr",NPR:"\u20A8",NZD:"$",OMR:"\uFDFC",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"\u20B1",PKR:"\u20A8",PLN:"z\u0142",PYG:"Gs",QAR:"\uFDFC",RMB:"\uFFE5",RON:"lei",RSD:"\u0414\u0438\u043D.",RUB:"\u20BD",RWF:"R\u20A3",SAR:"\uFDFC",SBD:"$",SCR:"\u20A8",SDG:"\u062C.\u0633.",SEK:"kr",SGD:"$",SHP:"\xA3",SLL:"Le",SOS:"S",SRD:"$",SSP:"\xA3",STD:"Db",SVC:"$",SYP:"\xA3",SZL:"E",THB:"\u0E3F",TJS:"SM",TMT:"T",TND:"\u062F.\u062A",TOP:"T$",TRL:"\u20A4",TRY:"\u20BA",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"\u20B4",UGX:"USh",USD:"$",UYU:"$U",UZS:"\u043B\u0432",VEF:"Bs",VND:"\u20AB",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"\u0243",XCD:"$",XOF:"CFA",XPF:"\u20A3",YER:"\uFDFC",ZAR:"R",ZWD:"Z$"};e=e.toUpperCase(),o.indexOf(e)===-1&&(t/=100),typeof Intl<"u"?n=new Intl.NumberFormat(r,{style:"currency",currency:e,currencyDisplay:"symbol",useGrouping:!0,minimumFractionDigits:0}).format(t):n=(s.hasOwnProperty(e)?s[e]:e+" ")+""+t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}if(typeof n=="string"&&n.indexOf(".")!==-1){var a=n.split(".");a.length===2&&a[1].length===1&&(a[1]=a[1]+"0",n=a.join("."))}return n}var Ti,OB,Bue,Uue,que,vl,gS,av,Hue,vS,Vue,DB=$(()=>{ke();Ye();js();Ti=ye(Pe(),1);Fe();gt();Pr();Qr();qr();fa();NB();ll();fe();OB="Product not found",Bue="Out of Stock",Uue="Add to Cart",que="Unavailable",vl={buttonInStockText:"button-text",showPrice:"show-price",mergevariantdropdowns:"combine-variants",product:"product"},gS=[],av=null,Hue=t=>(av||(av=new Promise((e,r)=>{requestAnimationFrame(()=>{Vt.dispatch(actions.fetchCommerceProducts({idArray:gS})).then(e).catch(r),gS.length=0,av=null})})),gS.push(t),av);vS=class extends me{constructor(e){super(e),this.uid=Ti.default.uniqueId(),this.state={loading:!0,selectedVariant:null},this.props.fetchShopModel().finally(()=>{this.fetchProduct().finally(()=>{this.setState({loading:!1})})}),this.props.baseNode.__commerce_widget__=this}render(){let e=this.getOptions(),{baseNode:r,adminMode:i}=this.props;if(!this.props.productData)return this.state.loading?null:it(S(he,{children:[this.props.adminMode&&this.props.pageInfo.isEditing&&S(mS,{shopProductInstance:this.props.baseNode}),S("div",{draggable:this.props.adminMode?"true":null,style:{display:"inline-block",width:"100%"},children:OB})]}),this.props.baseNode.shadowRoot);let n=this.state.selectedVariant?.inventory!==null&&this.state.selectedVariant?.inventory<=0,o=this.props.uses||"";return it(S(ca,{scrollContext:this.props.scrollContext,uses:o,adminMode:i,customElementMode:!0,baseNode:r,children:S("div",{draggable:this.props.adminMode?"true":null,style:{display:"inline-block",width:"100%"},children:[this.props.adminMode&&S(mS,{shopProductInstance:this.props.baseNode}),this.props.productData?S(he,{children:[e.showPrice&&this.state.selectedVariant&&S("div",{part:"price",class:"price",children:Wue(this.state.selectedVariant.price,this.props.currency,this.props.locale)}),this.props.productData.attributes?e.mergevariantdropdowns?S("select",{part:"dropdown",class:"dropdown","variant-list":!0,onChange:this.getSelectedVariant,children:this.props.productData.variants.map(s=>s.is_default?null:S("option",{value:s.variant_id,dangerouslySetInnerHTML:{__html:Ti.default.values(s.attributes).join(", ").replace(/</g,"&lt;")}}))}):Ti.default.keys(this.props.productData.attributes).map(s=>S("select",{"variant-option":s,part:"dropdown",class:"dropdown",onChange:this.getSelectedVariant,children:[S("option",{disabled:!0,dangerouslySetInnerHTML:{__html:s?.replace?.(/</g,"&lt;")}}),this.getAttributeVariations(s).map(a=>S("option",{selected:this.state.selectedVariant?.attributes[s]===a,value:a,dangerouslySetInnerHTML:{__html:a?.replace?.(/</g,"&lt;")}}))]})):null,S("a",{part:"button",className:`button${n?" out-of-stock":""}`,onClick:s=>{n||this.addToCart(s)},children:n?Bue:this.state.selectedVariant?e.buttonInStockText:que})]}):OB]})},"shop-product-host"),this.props.baseNode.shadowRoot)}onDragStart=e=>{e.dataTransfer.setData("shop-product-drag","true")};getAttributeVariations(e){var r=Ti.default.without(Ti.default.uniq(this.props.productData.variants.map(function(n){if(n.is_available===!0&&n.is_default!==!0)return n.attributes[e]})),void 0),i=this.props.productData.attributes[e];return i&&r.sort(function(n,o){var s=i.indexOf(n),a=i.indexOf(o);return s<a?-1:s==a?0:1}),r}getProduct(){return this.props.productData}getOptions(){if(this.props.baseNode.hasAttribute("data-options"))try{let r=JSON.parse(Ti.default.unescape(this.props.baseNode.getAttribute("data-options")));Ti.default.each(r,(i,n)=>{vl[n]&&!this.props.baseNode.hasAttribute(vl[n])&&this.props.baseNode.setAttribute(vl[n],Ti.default.escape(i))}),this.props.baseNode.removeAttribute("data-options")}catch{console.error("Unable to read old product widget options",this.props.baseNode)}let e=Ti.default.mapValues(vl,(r,i)=>{if(!this.props.baseNode.hasAttribute(r))return;let n=Ti.default.unescape(this.props.baseNode.getAttribute(r));return(i==="showPrice"||i==="mergevariantdropdowns")&&(n=n=="true"),n});return Ti.default.defaults(e,{showPrice:!0,mergevariantdropdowns:!1,buttonInStockText:Uue}),e}setOptions(e){Ti.default.each(e,(r,i)=>{vl.hasOwnProperty(i)&&this.props.baseNode.setAttribute(vl[i],Ti.default.escape(r))})}addToCart=e=>{this.props.adminMode||(this.props.addCommerceProductToCart(this.state.selectedVariant.product_id,this.state.selectedVariant.variant_id),so.push("/cart",{preventScrollReset:!0}))};fetchProduct(){return this.props.productData&&this.props.productData.product_id==this.props.product||!this.props.product||!this.props.shopId?Promise.resolve():Hue(this.props.product)}getSelectedVariant=()=>{let e=null;if(this.props.productData)if(this.props.productData.use_default_variant)e=this.props.productData.variants.find(i=>i.is_default===!0);else if(this.getOptions().mergevariantdropdowns){let i=this.props.baseNode.shadowRoot.querySelector("select[variant-list]")?.value;e=this.props.productData.variants.find(n=>n.variant_id==i)}else{var r=Ti.default.reduce(this.props.baseNode.shadowRoot.querySelectorAll("select[variant-option]"),function(i,n){return i[n.getAttribute("variant-option")]=n.value,i},{});e=this.props.productData.variants.find(i=>Ti.default.isEqual(i.attributes,r))}this.state.selectedVariant!==e&&this.setState({selectedVariant:e})};componentDidUpdate(e,r){this.state.selectedVariant===r.selectedVariant&&this.getSelectedVariant()}componentDidMount(){this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.getSelectedVariant()}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}},Vue=jt(Ue((t,e)=>({adminMode:t.frontendState.adminMode,productData:t.commerce.products[e.product],currency:t.commerce.shop.currency||"USD",locale:t.commerce.shop.locale||"en-US",shopId:t.site.shop_id}),t=>Wt({addCommerceProductToCart:actions.addCommerceProductToCart,fetchShopModel:actions.fetchShopModel},t))(vS));lr(Vue,"shop-product",Object.values(vl),{renderIntoShadow:!0})});var yS,LB,FB=$(()=>{ke();fe();yS=class extends me{constructor(e){super(e),this.caveRef=Se(),this.shadowRef=Se()}render(){return S("div",{"aria-hidden":"true",ref:this.caveRef,tabIndex:"-1","data-nosnippet":!0,style:{position:"absolute",top:"0",left:"50px",right:"50px",margin:"0 auto 0 auto",height:"10px",lineHeight:"0",fontSize:0,pointerEvents:"none",zIndex:-99},children:S("div",{ref:this.shadowRef,tabIndex:"-1","data-nosnippet":!0,style:{display:"inline-block",margin:"0 -20px 0 -50px",width:"40px",height:"10px"}})})}componentDidMount(e,r){this.observer=new IntersectionObserver(i=>{i.forEach(n=>{let o="right";switch(n.intersectionRatio){case 0:o="left";break;case 1:o="center";break}this.props.onTextAlignmentChange?.(o)})},{root:this.caveRef.current,rootMargin:"0px",threshold:[0,.6]}),this.observer.observe(this.shadowRef.current)}componentWillUnmount(){this.observer.disconnect()}},LB=yS});var zB,bS,BB,UB=$(()=>{ke();Ye();Ut();ko();Wr();Jn();Ar();zB=ye(Pe(),1);fe();bS=class extends me{constructor(e){super(e),this.state={UIWindow:!1,marqueeIsEmpty:!1,draggingInEditor:!1},this.observer=new MutationObserver(this.onMutation),this.innerObserver=new MutationObserver(this.onInnerMutation)}render(e,r){let{}=e,{UIWindow:i}=r,n=23;return S(he,{children:S(Pi,{hasFocus:!!i,trackResize:!0,buttonMode:"inside",baseNode:this.props.marqueeInstance,buttonHeight:23,render:o=>{let{pointerAttention:s,overlayPosition:a}=o,l=0;return a.y<=1&&(l=Math.min(-a.y+1,a.height+-n+1)),S(he,{children:[S(Jr,{baseNode:this.props.marqueeInstance,overlayPosition:a,overlayMode:!0}),S("div",{className:`editor-overlay editor-outline${s||i?" hover":""}${s||i?" button-hover":""}${i?" focus":""}`,style:{transform:`translate3d(${a.x}px, ${a.y}px, 0)`,width:a.width+"px",height:a.height+"px",display:s||i?"block":"none",minHeight:"27px"},children:[S("div",{className:"in-editor-buttons marquee",style:{transform:`translateY(${l}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[S("button",{onMouseDown:p=>{this.launchUIWindow(p)},className:"text",children:"Marquee"}),e.children]}),e.otherUI]})]})}})})}launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.marqueeInstance.getBoundingClientRect(),i={x:r.x+-10,y:r.y,left:r.right+-10,right:r.right+-10,top:r.top+0,bottom:r.top+27,width:r.width,height:20};be.adminWindow.UIWindowOpener.openUIWindow({windowName:"marquee-ineditor",windowAlias:"marquee",positionRect:i,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{activeMarquee:this.props.marqueeInstance}})};onMouseDown=e=>{if(this.state.UIWindow||e.button===2)return;let r={x:e.clientX,y:e.clientY};this.props.marqueeInstance.built&&(this.mouseDownTimeout=setTimeout(()=>{this.props.isDragging||(this.props.marqueeInstance.built=!1,setTimeout(()=>{let i=this.props.marqueeInstance.querySelector("marquee-inner"),n=CargoEditor.helpers.createRangeAtCoordinates(r.x,r.y);(!n||!i.contains(n.commonAncestorContainer))&&(n=CargoEditor.rangy.createRange(),n.setStart(i,0),n.setEnd(i,0)),CargoEditor.helpers.setActiveRange(n),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor(),e)},20))},120))};onInnerMutation=e=>{if(this.dispatchVisibility(),Array.from(e).filter(s=>{if(s.type==="attributes"){if(s.target.nodeName==="MEDIA-ITEM")return!0;if(s.target.nodeName==="MARQUEE-INNER")return!1}else return!s.target.closest?.("media-item")}).length==0)return;let i=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(s=>!s.hasAttribute("slot")||s.getAttribute("slot")==="contents");if(!i)return;let n=Array.from(i?.childNodes??[])[0],o=!0;for(;n&&o;)(n.nodeName==="IMG"||n.nodeName==="VIDEO"||n.nodeName==="IFRAME"||n.nodeName==="MEDIA-ITEM"||n.textContent.trim()!=="")&&(o=!1),n=n.nextSibling;this.setState({marqueeIsEmpty:o})};dispatchVisibility=zB.default.debounce(()=>{Array.from(this.props.marqueeInstance.querySelectorAll("*")).forEach(e=>{Pt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1}),Pt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})},30);onMutation=e=>{this.observer.disconnect(),this.innerObserver.disconnect();let r=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(n=>!n.hasAttribute("slot")||n.getAttribute("slot")==="contents"),i=this.props.marqueeInstance.querySelector('marquee-inner[slot="contents-clone"]');r&&i?Array.from(this.props.marqueeInstance.childNodes).forEach(n=>{n!==r&&n!==i&&n.remove()}):r&&!i&&(this.props.marqueeInstance.dirty=!0),this.observer.observe(this.props.marqueeInstance,{childList:!0,subtree:!1,characterData:!0,attributes:!1}),r&&this.innerObserver.observe(r,{childList:!0,subtree:!0,characterData:!0,attributes:!0})};onDragOver=(e,r,i)=>{this.state.draggingInEditor||(this.setState({draggingInEditor:!0}),et.activateHoverElement(this.props.marqueeInstance),this.props.marqueeInstance.built=!1)};onDragStart=(e,r,i)=>{this.setState({draggingInEditor:!0}),et.activateHoverElement(this.props.marqueeInstance),this.props.marqueeInstance.built=!1};onDragFinish=()=>{this.dragFinishTimeout=setTimeout(()=>{this.setState({draggingInEditor:!1})},100),this.props.marqueeInstance.built=!0,this.dispatchVisibility()};setUIWindow=e=>{this.setState({UIWindow:e})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidMount(){this.observer.observe(this.props.marqueeInstance,{childList:!0,subtree:!1,characterData:!0,attributes:!1});let e=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(r=>!r.hasAttribute("slot")||r.getAttribute("slot")==="contents");e&&this.innerObserver.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.props.marqueeInstance.addEventListener("mousedown",this.onMouseDown),be.globalDragEventController.on("dragover",this.onDragOver),be.globalDragEventController.on("dragstart",this.onDragStart),be.globalDragEventController.on("dragend",this.onDragFinish),be.globalDragEventController.on("drop",this.onDragFinish),this.props.marqueeInstance._editorInterface=this,this.props.marqueeInstance._newMarqueeSet&&(delete this.props.marqueeInstance._newMarqueeSet,setTimeout(()=>{this.launchUIWindow()},120))}componentWillUnmount(){this.dispatchVisibility.cancel(),clearTimeout(this.mouseDownTimeout),clearTimeout(this.dragFinishTimeout),this.observer.disconnect(),this.innerObserver.disconnect(),this.props.marqueeInstance.removeEventListener("mousedown",this.onMouseDown),be.globalDragEventController.off("dragover",this.onDragOver),be.globalDragEventController.off("dragstart",this.onDragStart),be.globalDragEventController.off("dragend",this.onDragFinish),be.globalDragEventController.off("drop",this.onDragFinish),this.state.UIWindow?.closeWindow?.(),delete this.props.marqueeInstance._editorInterface}componentDidUpdate(e,r){this.props.isBuilt!=e.isBuilt&&this.props.isBuilt&&this.dispatchVisibility(),this.props.adminMode!==e.adminMode&&(this.props.marqueeInstance.dirty=!0),this.props.isDragging!==e.isDragging&&clearTimeout(this.mouseDownTimeout),(r.marqueeIsEmpty!==this.state.marqueeIsEmpty||r.draggingInEditor!==this.state.draggingInEditor)&&!this.state.draggingInEditor&&this.state.marqueeIsEmpty&&CargoEditor?.mutationManager?.execute(()=>{this.props.marqueeInstance.remove()})}},BB=bS});var lv,Pp,Ip,tc,uv,$ue,qB=$(()=>{ke();Ye();gt();Fe();qr();da();FB();UB();Ar();lw();lv=ye(Pe(),1);Qr();fe();Pp=new Map,Ip=new Map;de||(tc=new ResizeObserver(t=>{t.forEach(e=>{Ip.has(e.target)?Ip.get(e.target).onMarqueeInnerResize(e):Pp.has(e.target)&&Pp.get(e.target).onElementResize(e)})}),window.addEventListener("dom-binding-initialized",t=>{Pp.forEach((e,r)=>{t.target.contains(r)&&(r.dirty=!0)})}));uv=class extends me{constructor(e){super(e),this.uid=lv.default.uniqueId(),this.initialSizeSet=!1,this.state={dirty:!0,built:!0,marqueeHeight:100,gutterPixelWidth:0,mediaItemLocations:{},contentRect:{marginLeft:0,width:0,height:0,contentWidth:0},elementRect:{horizPad:0,vertPad:0,width:0,height:0},paused:!1,pointerInfo:{type:"mouse",pointerDown:!1,dragging:!1},marqueeInner:null,visible:!0},this.pointerMovement={initial:{x:0,y:0},accumulatedDelta:{x:0,y:0},current:{x:0,y:0},delta:{x:0,y:0},inertia:{x:0,y:0}},this.marqueePositionerRef=Se(),this.marqueePositionerCloneRef=Se(),this.contentRef=Se(),this.contentsObserver=new MutationObserver(this.onContentsChange),this.resetPosition(),this.pauseCount=0,Object.defineProperty(this.props.baseNode,"dragging",{get:()=>this.state.pointerInfo.dragging,configurable:!0}),Object.defineProperty(this.props.baseNode,"paused",{get:()=>this.state.paused,set:r=>{this.setState({paused:!!r})},configurable:!0}),Object.defineProperty(this.props.baseNode,"built",{get:()=>this.state.built,set:r=>{this.setState({built:!!r})},configurable:!0}),Object.defineProperty(this.props.baseNode,"dirty",{get:()=>this.state.dirty,set:r=>{this.setState({dirty:!!r})},configurable:!0})}render(e,r){let i=e.behavior==="bounce",n=e.behavior==="scroll",o=e.direction==="vertical",s=e.direction==="horizontal",a=e.direction==="diagonal";a&&n&&(a=!1,s=!0);let{adminMode:l,pageInfo:p,baseNode:f,"vertical-height":c,gutter:m=0}=e,{contentRect:v,elementRect:g,built:x,marqueeHeight:E,gutterPixelWidth:_}=r,D=dr(c,""),M=m!==void 0?dr(m,"rem").join(""):"0px",P={marqueeHeight:D[1]===""?`calc( var(--fit-height) * ${D[0]*.01} )`:D.join("")};m!==void 0&&m!==0&&(P.gutterPixelWidth=M);let L=_,I=_;s&&(L=0),o&&(I=0);let q=n&&o?0:2,N=n&&s?0:2;return it(S(he,{children:[l&&p.isEditing&&S(LB,{onTextAlignmentChange:this.onTextAlignmentChange}),S("style",{children:`

					:host {
						--marquee-vertical-padding: ${q}rem;
						--marquee-horizontal-padding: ${N}rem;
						--marquee-vertical-margin: ${-q}rem;
						--marquee-horizontal-margin: ${-N}rem;
						contain: layout;
						${x?`
							cursor: default;
							min-height: .5em;
							${l&&p.isEditing?`
							-moz-user-select:none;
							-webkit-user-select:none;

							user-select: none;`:""}
						`:`
							min-height: ${i&&!s?E+"px":"auto"};
						`}
						box-sizing: border-box;
						height: ${x?o||a?E+"px":v.height+g.vertPad+"px":"auto"};
					    display: block;
					    
					    position: relative;
						--resize-parent-width: ${g.width}px;				    
					}

					.marquee-margin {
						position: relative;
						${x?`
							pointer-events:none;
							margin-top: var(--marquee-vertical-margin);
							margin-left: var(--marquee-horizontal-margin);
							margin-right: var(--marquee-horizontal-margin);
							margin-bottom: var(--marquee-vertical-margin);
							
							${o||a?"height: "+E+"px;":""}
							padding-top: var(--marquee-vertical-padding);
							padding-bottom: var(--marquee-vertical-padding);
							padding-left: var(--marquee-horizontal-padding);
							padding-right: var(--marquee-horizontal-padding);						
							overflow: hidden;
					
						`:""}
					}

					:host .marquee-contents {
						${x?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;
						`:`
							-moz-user-select:text;
							-webkit-user-select:text;
							user-select: text;
						`}
						-webkit-backface-visibility: hidden;
						backface-visibility: hidden;
						will-change: transform;
						position: relative;

					    display: ${x?"block":"none"};
					}

					::slotted(marquee-inner){
						pointer-events:auto;
						white-space:${x&&s?"nowrap":"normal"};					
						display: ${x?"inline-block":"block"};
						${!x&&(o||a)?"min-height: "+E+"px;":""}
						min-width: ${g.width}px;
						${x?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;
						`:`
						`}
										
					}

					.marquee-positioner {
						position: relative;		
						white-space:nowrap;
						${n?"min-width: 100%;":""}					
					}

					/** scroll mode css **/	
					.marquee-positioner.clone {
						display: ${i||!x?"none":"block"};
						left: ${s?Math.max(v.contentWidth,g.width)+I:0}px;
						top: ${o?Math.max(v.height,g.height)+L:0}px;			
					    position: absolute;
					}

					
				`}),S("div",{className:"marquee-margin",children:[!x&&S("slot",{name:"contents"}),l&&p.isEditing&&!de&&S(BB,{...this.props,marqueeInstance:f,isDragging:this.state.pointerInfo.dragging,isBuilt:this.state.built}),S(tn,{values:P,onResize:this.onResize}),S("div",{className:"marquee-contents",style:{willChange:"transform",transform:"translate("+this.lastXClamp+"px, "+(this.lastYClamp+g.vertPad*.5)+"px)"},ref:this.contentRef,children:[S("div",{className:"marquee-positioner",ref:this.marqueePositionerRef,children:x&&S("slot",{name:"contents"})}),S("div",{"aria-hidden":"true",className:"marquee-positioner clone",ref:this.marqueePositionerCloneRef,children:x&&n&&S("slot",{name:"contents-clone"})})]})]})]}),f.shadowRoot)}onClickCapture=e=>{(this.state.pointerInfo.dragging||this.wasDragging)&&this.state.built&&e.preventDefault()};onDragStartCapture=e=>{this.state.built&&this.props["pointer-interaction"]==!0&&(e.preventDefault(),e.stopPropagation())};onViewportIntersectionChange=e=>{Array.from(this.props.baseNode.querySelectorAll("*")).forEach(r=>{Pt(r,"viewportIntersectionChange",e,{bubbles:!1})})};onLazyloadIntersectionChange=e=>{Array.from(this.props.baseNode.querySelectorAll("*")).forEach(r=>{Pt(r,"lazyLoadIntersectionChange",e,{bubbles:!1})})};componentDidMount(){this.props.baseNode.addEventListener("click",this.onClickCapture,{capture:!0}),this.props.baseNode.addEventListener("dragstart",this.onDragStartCapture,{capture:!0}),this.props.baseNode.addEventListener("mousedown",this.onMouseDown),this.props.baseNode.addEventListener("touchstart",this.onMouseDown),yt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),yt(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),rl.set(this.props.baseNode,this),Pp.set(this.props.baseNode,this),tc.observe(this.props.baseNode),this.innerMarqueeChange()}componentDidUpdate(e,r){(this.props.behavior!==e.behavior||this.props.speed!==e.speed||this.props["vertical-height"]!==e["vertical-height"])&&(this.resetPosition(),this.setState({built:!0})),this.state.dirty!==r.dirty&&this.state.dirty&&this.innerMarqueeChange(),this.state.built!==r.built&&this.state.built&&(this.state.dirty&&this.innerMarqueeChange(),this.resetPosition()),e.adminMode!==this.props.adminMode&&this.setState({built:!0})}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStartCapture,{capture:!0}),this.props.baseNode.removeEventListener("mousedown",this.onMouseDown),this.props.baseNode.removeEventListener("touchstart",this.onMouseDown),this.props.baseNode.removeEventListener("click",this.onClickCapture,{capture:!0}),wt(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),wt(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),tc.unobserve(this.props.baseNode),Pp.delete(this.props.baseNode),rl.delete(this.props.baseNode),cancelAnimationFrame(this.resizeFrame),clearTimeout(this.afterPointerUp);let e=this.props.baseNode.querySelector("marquee-inner");e&&(Ip.delete(e),tc.unobserve(e)),this.contentsObserver.disconnect()}innerMarqueeChange=()=>{if(!this.state.dirty||!this.state.built||!this.marqueePositionerRef.current||!this.marqueePositionerCloneRef.current)return;let e=Array.from(this.props.baseNode.querySelectorAll("marquee-inner")).find(i=>!i.hasAttribute("slot")||i.getAttribute("slot")==="contents");e?(Ip.delete(e),tc.unobserve(e)):(e=document.createElement("marquee-inner"),e.setAttribute("slot","contents"),Array.from(this.props.baseNode.childNodes).forEach(i=>{e.appendChild(i)}),this.props.baseNode.appendChild(e)),Array.from(e.querySelectorAll("marquee-inner")).forEach(i=>{i.remove()}),e.setAttribute("slot","contents"),e.setSaveable(!0),Ip.set(e,this),tc.observe(e),this.contentsObserver.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!0});let r=this.props.baseNode.querySelector('marquee-inner[slot="contents-clone"]');for(r||(r=document.createElement("marquee-inner"),r.setAttribute("slot","contents-clone"),this.props.baseNode.appendChild(r));r.lastChild;)r.lastChild.remove();Array.from(e.childNodes).forEach(i=>{r.appendChild(i.cloneNode(!0))}),Array.from(this.props.baseNode.childNodes).forEach(i=>{i!==e&&i!==r&&i.remove()}),Array.from(r.querySelectorAll("[thumbnail-index]")).forEach(i=>{i.innerHTML=""}),this.setState({dirty:!1,marqueeInner:e})};onContentsChange=e=>{e.some(i=>i.target.tagName=="MARQUEE-INNER"&&i.type=="attributes"?!1:i.target.closest("[thumbnail-index]")?!!(i.target.hasAttribute("thumbnail-index")&&i.type=="attributes"):!(i.type=="attributes"&&(i.attributeName=="class"||i.attributeName=="slot")))>0&&this.setState({dirty:!0})};resetPosition=()=>{this.pauseCount=this.props.adminMode?-30:0,this.movingDown=this.props.speed>0,this.movingRight=this.props.speed>0,this.lastXClamp=0,this.lastYClamp=0,this.positionX=0,this.positionY=0,this.translateX=0,this.translateY=0,this.pointerMovement={initial:{x:0,y:0},accumulatedDelta:{x:0,y:0},current:{x:0,y:0},inertia:{x:0,y:0},delta:{x:0,y:0}},this.props.behavior==="bounce"?((this.props.direction==="diagonal"||this.props.direction==="vertical")&&(this.translateY=this.positionY=this.state.elementRect.height*.5+-this.state.contentRect.height*.5),(this.props.direction==="diagonal"||this.props.direction==="horizontal")&&(this.translateX=this.positionX=this.state.elementRect.width*.5+-this.state.contentRect.width*.5+this.state.elementRect.vertPad*.5)):this.translateX=this.positionX=this.translateY=this.positionY=0};onResize=(e,r)=>{this.setState(i=>{let n={...i};return n[e]=r,n})};onTextAlignmentChange=e=>{this.resetPosition(),this.requestTick()};requestTick=()=>{this.ticking||(this.ticking=!0,this.rAf=requestAnimationFrame(()=>{this.getContentWidthAndMargin(),this.ticking=!1}))};getContentWidthAndMargin=lv.default.debounce(()=>{let{marqueeInner:e}=this.state;if(!e)return;let{contentWidth:r,marginLeft:i,width:n}=this.state.contentRect,o=e.childNodes[0],s=e.childNodes[e.childNodes.length-1];if(o&&s){let a=document.createRange();a.setStartBefore(o),a.setEndAfter(s);let l=a.getBoundingClientRect(),p=e.getBoundingClientRect();i=l.left-p.left,r=l.width}else i=0,r=n;this.setState(a=>({contentRect:{...a.contentRect,marginLeft:i,contentWidth:r}}),()=>{this.initialSizeSet||(this.resetPosition(),this.initialSizeSet=!0)})},this.initialSizeSet?300:0,{leading:!0,trailing:!0});onMarqueeInnerResize=e=>{let r=e.borderBoxSize[0]||e.borderBoxSize,i=r.inlineSize;this.setState(n=>({contentRect:{...n.contentRect,width:r.inlineSize,height:r.blockSize}}),()=>{this.requestTick()})};onElementResize=e=>{let r=e.borderBoxSize[0]||e.borderBoxSize,i=e.contentBoxSize[0]||e.contentBoxSize;this.setState({elementRect:{width:r.inlineSize,height:r.blockSize,vertPad:r.blockSize-i.blockSize,horizPad:r.inlineSize-i.inlineSize}})};onMouseDown=e=>{if(!this.state.built||!this.props["pointer-interaction"]||e.button==2)return;this.wasDragging=!1;let r=e.touches?e.touches[0].clientX:e.clientX,i=e.touches?e.touches[0].clientY:e.clientY,n=e.touches?.length>0;!e.target.closest("a, media-item[href]")&&!n&&e.preventDefault(),this.lockTouchAxis=void 0,this.pointerMovement={accumulatedDelta:{x:0,y:0},initial:{x:r,y:i},current:{x:r,y:i},inertia:{x:0,y:0},delta:{x:0,y:0}},this.setState({pointerInfo:{type:e.touches?.length>0?"touch":"mouse",pointerDown:!0,dragging:!1}}),this.props.baseNode.addEventListener("touchmove",this.onTouchMove),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerUp)};onTouchMove=e=>{let r=this.props.direction==="vertical",i=this.props.direction==="horizontal",n=this.props.direction==="diagonal",o=n?2:10;this.lockTouchAxis==null&&(this.pointerMovement.accumulatedDelta.x>o||this.pointerMovement.accumulatedDelta.y>o)&&(this.pointerMovement.accumulatedDelta.x>this.pointerMovement.accumulatedDelta.y?this.lockTouchAxis="x":this.lockTouchAxis="y"),this.lockTouchAxis=="x"?i||n?e.preventDefault():this.onPointerUp(e):this.lockTouchAxis=="y"&&(r||n?e.preventDefault():this.onPointerUp(e))};onPointerMove=e=>{let r={x:e.clientX-this.pointerMovement.current.x+this.pointerMovement.delta.x,y:e.clientY-this.pointerMovement.current.y+this.pointerMovement.delta.y},i=this.state.pointerInfo.dragging||Math.abs(e.clientX-this.pointerMovement.current.x)>3||Math.abs(e.clientY-this.pointerMovement.current.y)>3;this.wasDragging=i,this.pointerMovement={...this.pointerMovement,accumulatedDelta:{x:this.pointerMovement.accumulatedDelta.x+Math.abs(r.x),y:this.pointerMovement.accumulatedDelta.y+Math.abs(r.y)},current:{x:e.clientX,y:e.clientY},inertia:r,delta:r},this.setState({pointerInfo:{type:e.pointerType=="touch"?"touch":"mouse",pointerDown:!0,dragging:i}})};onPointerUp=e=>{this.props.baseNode.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerUp),this.state.pointerInfo.dragging&&(this.wasDragging=!0),this.setState({pointerInfo:{type:e.pointerType=="touch"?"touch":"mouse",dragging:!1,pointerDown:!1}})};animate=e=>{let{built:r,paused:i,elementRect:n,contentRect:o,pointerInfo:s,mediaItemLocations:a,gutterPixelWidth:l}=this.state,{positionX:p,positionY:f,movingRight:c,movingDown:m,translateX:v,translateY:g,pointerMovement:x}=this,{speed:E,friction:_}=this.props;if(!r||!this.contentRef.current)return;let D=!1;E=i||s.dragging?0:E,this.pauseCount<0&&(this.pauseCount++,E=0),E=E*(e/16.6667);let M=this.props.behavior==="bounce",P=this.props.behavior==="scroll",L=this.props.direction==="vertical",I=this.props.direction==="horizontal",q=this.props.direction==="diagonal",N=l,F=l;q&&P&&(q=!1,I=!0),_=1-parseFloat(_)*.01,E=parseFloat(E)*.1;let W=E,U=E,Z=!1,J=Math.abs(x.inertia.y)>.01||Math.abs(x.inertia.x)>.01;s.pointerDown||s.dragging?(D=!0,U=x.delta.x,W=x.delta.y,Z=!0):J&&(D=!0,M?(m?W=Math.abs(W)+Math.abs(x.inertia.y):W=-Math.abs(W)+-Math.abs(x.inertia.y),c?U=Math.abs(U)+Math.abs(x.inertia.x):U=-Math.abs(U)+-Math.abs(x.inertia.x)):(U=U+x.inertia.x,W=W+x.inertia.y)),M&&!s.dragging&&(m?W=Math.abs(W):W=-Math.abs(W),c?U=Math.abs(U):U=-Math.abs(U)),W!==0&&(m=W>0),U!==0&&(c=U>0),(L||q)&&(f=W+f),(I||q)&&(p=U+p);let ie=!1,le=!1;if(M){let ee=o.contentWidth,ae=o.height,se=-o.marginLeft,ce=n.width+-ee+-o.marginLeft,_e=0,Ie=n.height-ae;ee>=n.width&&(se=n.width-ee,ce=0),ae>=n.height&&(_e=n.height-ae,Ie=0),c&&p>ce&&(I||q)?(ie="right",p=ce,c=!1):!c&&p<se&&(I||q)&&(ie="left",p=se,c=!0),m&&f>Ie&&(L||q)?(ie="bottom",f=Ie,m=!1):!m&&f<_e&&(L||q)&&(ie="top",f=_e,m=!0),I?g=0:g=f,L?v=0:v=p}else if(P){I&&(F=0),L&&(N=0);let ee=Math.max(o.contentWidth,n.width)+N,ae=Math.max(o.height,n.height)+F;ee>0&&(p=(p-ee)%ee),ae>0&&(f=(f-ae)%ae),L?(v=0,g=f):I&&(v=p,g=0)}ie&&this.dispatchBounceEvent(ie);let G=Math.max(o.height,n.height)+F;this.positionX=p,this.positionY=f,this.translateX=v,this.translateY=g,this.movingRight=c,this.movingDown=m;let K=Math.abs(E)>1?2:4,Q=Math.floor(this.translateX*K)/K,re=Math.floor(this.translateY*K)/K;(Q!==this.lastXClamp||re!==this.lastYClamp)&&(this.contentRef.current.style.transform="translate("+Q+"px, "+(re+this.state.elementRect.vertPad*.5)+"px)"),this.lastXClamp=Q,this.lastYClamp=re,D&&(this.pointerMovement={...this.pointerMovement,inertia:{x:x.inertia.x*_,y:x.inertia.y*_},delta:Z?{x:0,y:0}:{...x.delta}})};dispatchBounceEvent=lv.default.debounce(e=>{this.props.baseNode.dispatchEvent(new CustomEvent("marquee-bounce",{detail:{edge:e},bubbles:!1,composed:!0}))},40,{leading:!0,tailing:!1})};uv.defaultProps={speed:-10,direction:"horizontal",behavior:"scroll","pointer-interaction":!0,"vertical-height":"100",friction:5};$ue=jt(Ue((t,e)=>({adminMode:t.frontendState.adminMode}))(uv));lr($ue,"marquee-set",["gutter","speed","direction","behavior","pointer-interaction","vertical-height","friction"],{renderIntoShadow:!0})});var b3e,rc,cv,jue,HB=$(()=>{ke();Ye();gt();Fe();Rx();Jn();b3e=ye(Pe(),1);Qr();qr();fe();rc=new Map,cv=class extends me{constructor(){super(),this.state={iconElement:{imgVdom:null,customDimensions:{width:32,height:32}}}}render(e,r){let i=r.iconElement.customDimensions.width/r.iconElement.customDimensions.height;return S(he,{children:it(S(he,{children:[S("style",{id:"text-icon",children:`
		:host {
			cursor: ${e.adminMode?"text":"unset"};
			aspect-ratio: ${i};
			height: 1.2em;
			width: auto;
		    contain: layout;
		    margin-top: -1em;
		    margin-bottom: -.25em;
		    display: inline-block;
		    vertical-align: baseline;
			position: relative;
		}

		:host, *{
		    -moz-user-select: text;
		    -webkit-user-select: text;
		    -ms-user-select: text;
		    user-select: text; 		
		}

		img {
			pointer-events:none;
		}
		
		svg, img {
			object-fit: cover;
			display: block;
			position: absolute;
			inset: 0;
			width: 100%;
			height: 100%;
			fill: currentColor;
		}
					`}),this.state.iconElement.imgVdom,this.props.adminMode?S(Jr,{baseNode:this.props.baseNode,inFront:!1}):null]}),this.props.baseNode.shadowRoot)})}getIconSVG=()=>{new Promise((e,r)=>{let i=this.props.icon||null;if(i)if(rc.has(i))e(rc.get(i));else{let o=i.indexOf("https://")===0?i:"https://build.cargo.site/frontend/4ede51/icon/icons/"+i+".svg",s=o.split(".")?.pop()||"";if(["jpeg","jpg","png","gif","webp"].indexOf(s.toLowerCase())!=-1){let a=document.createElement("img");a.src=o,a.onload=()=>{let l=S("img",{part:"img",src:i,width:a.naturalWidth,height:a.naturalHeight});rc.set(i,{imgVdom:l,customDimensions:{width:a.naturalWidth,height:a.naturalHeight}}),a.onload=null,e(rc.get(i))}}else s=="svg"?fetch(o,{mode:"cors"}).then(a=>a.ok?a.text():r("bad response")).then(a=>{let l=document.createElement("div");l.innerHTML=a;let p={width:32,height:32},f=Array.from(l.children).map((c,m)=>{let v=c.tagName.toLowerCase()=="svg";return v&&c.hasAttribute("width")&&c.hasAttribute("height")&&(p.width=c.getAttribute("width"),p.height=c.getAttribute("height")),Bu(c,null,{part:v?"svg":m,key:i+"-"+m,draggable:!0})});if(f.length>0){if(rc.set(i,{imgVdom:f,customDimensions:p}),i!==this.props.icon){r("Icon name mismatch");return}e(rc.get(i))}else r("Icon not found at ",o)}).catch(a=>{r(a)}):r("Invalid url")}else r("Icon not found",i)}).then(e=>{this.setState({iconElement:e})}).catch(e=>{console.log("icon loading failed:",e)})};onDragStart=e=>{e.dataTransfer.setData("text-icon-drag","true")};componentDidMount(){for(this.props.baseNode.addEventListener("dragstart",this.onDragStart);this.props.baseNode.childNodes[0];)this.props.baseNode.childNodes[0].remove();this.getIconSVG()}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}componentDidUpdate(e){e.icon!==this.props.icon&&this.getIconSVG()}};cv.defaultProps={icon:null};jue=jt(Ue((t,e)=>({adminMode:t.frontendState.adminMode}))(cv));lr(jue,"text-icon",["icon"],{delegatesFocus:!0})});var wS,WB,VB=$(()=>{Ye();$d();fe();wS=class extends ze.Component{constructor(e){super(e)}render(){return S(he,{children:[S("div",{className:"colorfilter-color"}),S("div",{className:"colorfilter-base"})]})}componentDidMount(){Ge.isSafari()&&(document.querySelector("#editor-overlay")?.classList.add("safari"),document.querySelector("#cargo-dotsite")?.classList.add("safari"),document.querySelector(".colorfilter-base")?.classList.add("safari"),document.querySelector(".colorfilter-color")?.classList.add("safari"))}componentWillUnmount(){document.querySelector("#editor-overlay")?.classList.remove("safari"),document.querySelector("#cargo-dotsite")?.classList.remove("safari")}},WB=wS});function Kue(t){let e=de?t.site?.is_template:t.site?.is_template&&parent===window;return{hasSitePackage:t.frontendState.hasSitePackage,adminInitialized:t.adminState?.initialized||!1,inAdminFrame:t.frontendState.inAdminFrame,isMobile:t.frontendState.isMobile,adminMode:t.frontendState.adminMode,showCargoLogo:!e&&t.site?.show_cargo_logo,customHTML:t.site?.custom_html,access_level:t.site?.access_level,website_title:t.site?.website_title,domain_active:t.site?.domain_active,domain:t.site?.domain,site_url:t.site?.site_url,site_id:t.site?.id,fonts:t.site?.fonts,fontsLoaded:t.frontendState.fontsLoaded,stylesheet:t.frontendState.pageNotFound?" ":t.css?.stylesheet,hasAuth:t.auth.authenticated,canDuplicate:e,activePID:t.frontendState.activePID,itemsInCart:uo.default.values(t.commerce.cart).reduce((r,i)=>r+=i?.quantity||0,0),enableColorFilter:!!t.siteDesign.site?.enableColorFilter}}function Yue(t){return Wt({fetchSitePackage:Ke.fetchSitePackage,updateFrontendState:Ke.updateFrontendState,getAuthToken:Ke.getAuthToken},t)}var $B,uo,jB,dv,pv,xS,Gue,SS,GB,KB=$(()=>{ke();Pr();gt();$B=ye(Xh(),1),uo=ye(Pe(),1);ea();Fe();Lk();rr();Qa();_1();Io();d3();Hr();p3();vg();_3();t1();T3();Qr();$3();Yg();gg();X1();Q1();tS();oB();lB();AB();kB();DB();qB();HB();Wr();Ji();VB();fe();jB=!1,dv=!1,pv=!0,xS=(t=!1)=>{(t||jB&&dv&&pv)&&setTimeout(()=>{pv&&window.dispatchEvent(new CustomEvent("initial-content-visible",{detail:{screenshots:{hiddenIds:["dl-duplicate-site"]}}}))},1500)},Gue=async t=>{let e=[];if(t.hasSitePackage!==!0&&e.push(t.fetchSitePackage()),de&&t.fonts&&uo.default.isArray(t.fonts)){let r=[...t.fonts].filter(n=>n.provider!=="google"),i=F1({context:"server",families:r});i.then(n=>{t.updateFrontendState({fontsLoaded:uo.default.uniq(t.fontsLoaded.concat(r.map(o=>o.family))),serverRenderedFontCSS:n.filter(o=>o??!1)})}),e.push(i)}await Promise.allSettled(e),jB=!0,xS()},SS=class extends me{constructor(e){if(super(e),this.state={checkedExistingAuth:!!de,checkedCookieAuth:!!de,mobileOffsetsString:null,inheritableFontSizesString:null,linkStylesString:null,fontFeatureSettingsStylesString:null},!de){if(Promise.resolve().then(()=>(fp(),P1)).then(({default:n})=>{this.setState({QuickView:n})}),e.inAdminFrame===!0){let n=document.getElementsByTagName("head")[0],o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href="https://build.cargo.site/frontend/4ede51/css/front-end/frontend-interface.css",o.id="frontend-interface",n.appendChild(o)}this.setMobileClass(this.props.isMobile),this.setOSClass();let r=0,i=0;window.addEventListener("backdrop-load-start",()=>{pv=!1,r++}),window.addEventListener("backdrop-load-complete",()=>{i++,i===r&&(pv=!0,xS())})}this.globalStyleRef=Se(),this.customHTMLRef=Se(),this.scrollingElement={current:de?null:window},this.setWindowTitle()}setWindowTitle=()=>{if(de)return;let e=this.props.store.getState(),r,i="";this.props.activePID&&this.props.activePID!==e.site.homepage_id&&this.props.activePID!==e.site.mobile_homepage_id&&this.props.activePID!=="root"&&(e.pages.byId[this.props.activePID]?r=e.pages.byId[this.props.activePID]:e.sets.byId[this.props.activePID]&&(r=e.sets.byId[this.props.activePID])),this.props.website_title&&(i=`${r?.title?`${r.title} \u2014 `:""}${this.props.website_title}`),i!==document.title&&(document.title=i)};onFirstSiteLoad(){let e=!1;try{e=parent.__c3_admin__===!0}catch{}window.dispatchEvent(new CustomEvent("cargo-site-load",{detail:{editing:e}}))}render(){if(this.props.hasSitePackage!==!0)return null;if(!de&&!Dr&&this.props.domain_active===!0&&this.props.domain!==window.location.host&&!as)return window.location.hostname=this.props.domain,null;if(this.props.access_level==="password"||this.props.access_level==="private"){let r=null;return this.props.hasAuth&&this.state.checkedExistingAuth===!1?this.fetchingSitePackage||(this.fetchingSitePackage=!0,this.props.fetchSitePackage().finally(()=>{delete this.fetchingSitePackage,this.setState({checkedExistingAuth:!0})})):this.state.checkedCookieAuth===!1?this.checkingAuth||(this.checkingAuth=!0,this.props.getAuthToken({timeout:1500,site_url:this.props.site_url,site_id:this.props.site_id}).then(()=>{this.props.fetchSitePackage().finally(()=>{delete this.checkingAuth,this.setState({checkedCookieAuth:!0})})}).catch(i=>{this.setState({checkedCookieAuth:!0})}).finally(()=>{delete this.checkingAuth})):(this.props.access_level==="password"?r=S(Wu,{target:"site",onSucces:()=>{this.props.fetchSitePackage()}}):this.props.access_level==="private"&&(r=S(_g,{message:"This site is private."})),this.onFontLoad(!0)),S(he,{children:S(T1,{children:r})})}let e=this.props.customHTML;return S(he,{children:[this.props.enableColorFilter?S(WB,{}):null,S("customhtml",{ref:this.customHTMLRef,dangerouslySetInnerHTML:{__html:e}}),S(S3,{}),S(T1,{}),S("style",{ref:this.globalStyleRef,dangerouslySetInnerHTML:{__html:this.props.stylesheet}}),S("style",{id:"mobile-offset-styles",dangerouslySetInnerHTML:{__html:this.state.mobileOffsetsString}}),S("style",{id:"text-style-font-sizes",dangerouslySetInnerHTML:{__html:this.state.inheritableFontSizesString}}),S("style",{id:"link-styles",dangerouslySetInnerHTML:{__html:this.state.linkStylesString}}),S("style",{id:"font-feature-settings-styles",dangerouslySetInnerHTML:{__html:this.state.fontFeatureSettingsStylesString}}),S(hu,{scrollingElement:this.scrollingElement,children:[S(t3,{}),this.state.QuickView&&S(this.state.QuickView,{isMobile:this.props.isMobile}),this.props.inAdminFrame&&S(iN,{}),this.state.loginBeforeDuplicatingSite&&S(Dk,{loginToUdotCargoOnly:!0,canCreateNewAccount:!this.props.isMobile,animateIn:!0,canClickout:!0,templateID:this.props.site_id,onClickout:()=>{this.setState({loginBeforeDuplicatingSite:!1})},onLoginSuccess:r=>{window.location.href=`${ou}?duplicate=${this.props.site_id}`}}),S(Ao,{portalHost:de?null:document.body})]})]})}componentDidMount(){this.loadNewFonts(),this.inPreviewMode=this.props.inAdminFrame&&this.props.adminMode===!1,this.showHideAdminInterface(),nt.on("mobile-change",this.onMobileChange),this.onMobileChange(nt.data.mobile.active&&nt.data.mobile.portrait),this.updateCartCounter(),this.props.hasSitePackage&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.onFirstSiteLoad()})}),R1.on("change",this.onPointerTypeChange)}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){console.error(e)}onPointerTypeChange=e=>{this.props.updateFrontendState({pointerType:e})};onMobileChange=()=>{this.props.updateFrontendState({isMobile:nt.data.mobile.active})};onFontLoad=(e=!1)=>{de||dv||(dv=!0,document.documentElement.classList.remove("wf-initial-load"),xS(e))};componentWillUnmount(){nt.off("mobile-change",this.onMobileChange)}showHideAdminInterface=()=>{this.inPreviewMode?document.querySelector("#frontend-interface")?.setAttribute("disabled",""):document.querySelector("#frontend-interface")?.removeAttribute("disabled")};setOSClass=()=>{!dd()&&!pd()&&document.body.classList.add("f-f")};setMobileClass=e=>{e?(document.body.classList.add("mobile"),document.documentElement.classList.add("mobile")):(document.body.classList.remove("mobile"),document.documentElement.classList.remove("mobile"))};setEditingClass=e=>{e?document.body.classList.add("editing"):document.body.classList.remove("editing")};loadNewFonts=()=>{if(!this.props.fonts)return;let e=this.props.fonts.filter(r=>!this.props.fontsLoaded.includes(r.family));e&&e.length>0?(this.props.updateFrontendState({fontsLoaded:uo.default.uniq(this.props.fontsLoaded.concat(e.map(r=>r.family)))}),F1({families:e}).then(()=>{dv||document.fonts.ready.then(()=>{this.onFontLoad()})})):document.fonts.ready.then(()=>{this.onFontLoad()})};componentDidUpdate(e,r){if(!de){if(this.setWindowTitle(),this.inPreviewMode=this.props.inAdminFrame&&this.props.adminMode===!1,typeof this.props.customHTML=="string"&&this.props.customHTML!==e.customHTML&&this.customHTMLRef.current){let i=document.createRange().createContextualFragment(this.props.customHTML);this.customHTMLRef.current.innerHTML="",this.customHTMLRef.current.appendChild(i)}this.props.stylesheet!==e.stylesheet&&(this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles(),this.setFontFeatureSettingsStyles(),this.setBrokenOPSZValues()),this.props.fonts!==e.fonts&&uo.default.isArray(this.props.fonts)&&this.loadNewFonts(),this.props.inAdminFrame===!0?(this.setEditingClass(this.props.adminMode),this.props.adminInitialized!==e.adminInitialized&&(this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles(),this.setFontFeatureSettingsStyles(),this.setBrokenOPSZValues())):this.setEditingClass(!1),e.isMobile!==this.props.isMobile&&(this.setMobileClass(this.props.isMobile),this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles(),this.setFontFeatureSettingsStyles(),this.setBrokenOPSZValues()),this.props.itemsInCart!==e.itemsInCart&&this.updateCartCounter(),this.showHideAdminInterface(),this.props.hasSitePackage&&!e.hasSitePackage&&requestAnimationFrame(()=>{this.onFirstSiteLoad()})}}updateCartCounter=()=>{document.documentElement.style.setProperty("--cart-item-count",this.props.itemsInCart||""),document.documentElement.style.setProperty("--cart-item-count-display",this.props.itemsInCart?"inline":"")};setBrokenOPSZValues=()=>{if(de||!ui()||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let r=e.sheet;if(!r)return;let i=[];for(let n of r.cssRules)if(!(!n||!n.selectorText||!n.style)&&n.type===CSSRule.STYLE_RULE&&n.style.getPropertyValue("font-variation-settings")){let o=n.style.getPropertyValue("font-family")?.replace(/['\"]/g,"").trim(),s=n.style.getPropertyValue("font-weight")?.trim(),a=n.style.getPropertyValue("font-variation-settings");o&&o.includes("Gramercy")&&s==="400"&&a.match(/["']opsz["']\s*12(\D|$)/)&&(i.includes(n.selectorText)||i.push(n.selectorText))}if(i.length){let n="";i.forEach(s=>{n+=`${s} { font-variation-settings: 'opsz' 12.01 !important; }
`});let o=document.getElementById("broken-opsz-override");o||(o=document.createElement("style"),o.id="broken-opsz-override",document.head.appendChild(o)),o.innerHTML=n}else{let n=document.getElementById("broken-opsz-override");n&&document.head.removeChild(n)}};setFontFeatureSettingsStyles=()=>{if(de||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let r=e.sheet;if(!r)return null;let i=!1;for(let l of r.cssRules)if(l.selectorText==="bodycopy"&&l.style.getPropertyValue("font-feature-settings")){i=!0;break}else continue;if(!i)return;let n="",o=[],s=[];uo.default.each(r.rules,l=>{!l||!l.selectorText||l.selectorText.includes(" ")||((l.style.getPropertyValue("--text-style")||l.selectorText===".caption")&&!l.style.getPropertyValue("font-feature-settings")&&o.push(l.selectorText),l.selectorText.match(/h[1-6]/gi)&&!l.style.getPropertyValue("font-feature-settings")&&s.push(l.selectorText))});for(let l of o)n+=l+" { font-feature-settings: normal; } ";for(let l of s)n+=l+" { font-feature-settings: normal; } ";n+=["audio-player::part(label)","audio-player::part(current-time)","audio-player::part(total-time)","shop-product::part(button)","shop-product::part(price)","shop-product::part(dropdown)"].join(", ")+" { font-feature-settings: normal; } ",this.setState({fontFeatureSettingsStylesString:n})};setLinkStyles=()=>{if(de||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let r=e.sheet;if(!r)return null;let i="",n=[],o=[];uo.default.each(r.rules,s=>{!s||!s.selectorText||((s.style.getPropertyValue("--text-style")||s.selectorText===".caption")&&n.push(s.selectorText),s.selectorText.match(/h[1-6]/gi)&&o.push(s.selectorText))}),uo.default.each(r.rules,s=>{!s||!s.selectorText||(n.forEach(a=>{if(s.selectorText.startsWith(a)&&s.selectorText.includes(" a")){let l=s.selectorText.replace(/^(.*)\s(\a(?:[:.]\S*)?)$/i,(c,m,v)=>v+m);s.selectorText!==l&&(i+=l+" { "+(s.style.cssText||"")+" } ");let p=!!(s.selectorText.includes(" a::")||s.selectorText.includes(" a:")),f=s.style.getPropertyValue("text-decoration-color")===""?" text-decoration-color: unset;":"";f!==""&&!p&&(i+=l+" { "+(s.style.cssText||"")+f+" } ",i+=s.selectorText+" { "+f+" } ")}}),o.forEach(a=>{if(s.selectorText.startsWith(a)&&s.selectorText.includes(" a")){let l=!!(s.selectorText.includes(" a::")||s.selectorText.includes(" a:")),p=s.style.getPropertyValue("text-decoration-color")===""?" text-decoration-color: unset;":"";p!==""&&!l&&(i+=s.selectorText+" { "+p+" } ")}}))}),this.setState({linkStylesString:i})};setInheritableFontSizes=()=>{if(de||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let r=e.sheet;if(!r)return null;let i="";uo.default.each(r.rules,n=>{if(n.style?.fontSize&&n.style?.fontSize!==""){let o=n.style.fontSize,s=n.selectorText==="bodycopy"?", "+n.selectorText+" *":"";i+=n.selectorText+" {--font-size: "+o+`;}
`,i+=n.selectorText+s+` {font-size: calc(var(--font-scale) * var(--font-size));}
`}}),this.setState({inheritableFontSizesString:i})};setMobileOffsets=()=>{if(de)return;if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let r=au(e.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ul.lineated","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","blockquote","small-caps","match:audio-player","match:cargo-map","match:shop-product",".quick-view",".quick-view .caption",".quick-view .caption-background",".mobile .quick-view",".mobile .quick-view .caption"]},{properties:["margin-top","margin-right","margin-bottom","margin-left"],allowList:[".content",".mobile .content"]}]);this.setState({mobileOffsetsString:r})};getIsolatedStyleSheet=uo.default.once(()=>{let e=document.implementation.createDocument("http://www.w3.org/1999/xhtml","body",null),r=document.createElement("style");return e.children[0].appendChild(r),r})};GB=Dn(Ue(Kue,Yue)((0,$B.frontloadConnect)(Gue,{onMount:!0,onUpdate:!1})(SS)))});var YB,XB=$(()=>{YB=ye(Nn(),1);YB.default.defaults.validateStatus=function(t){return t>=200&&t<300}});var hv,fv,ZB,QB=$(()=>{hv=ye(Nn(),1);Fe();fa();fv=new Map,ZB=t=>{let e;t.subscribe(()=>{let r=t.getState();if(!r.adminState||!r.adminState.crdt)return;let i=r.adminState.crdt.publishedAt;i!==e&&fv.clear(),e=i})};de||(hv.default.interceptors.request.use(async t=>{if(t.use_cache===!0){let e=hv.default.getUri(t);fv.has(e)?t.adapter=function(r){return fv.get(e).cachedResponsePromise}:(t.cachedResponsePromise=new Promise((r,i)=>{t.resolveCachedResponsePromise=r,t.rejectCachedResponsePromise=i}),t.cachedResponsePromise.catch(r=>r),fv.set(e,t))}return t}),hv.default.interceptors.response.use(t=>(t.config.resolveCachedResponsePromise&&t.config.resolveCachedResponsePromise(t),t),t=>(t.config?.rejectCachedResponsePromise&&t.config.rejectCachedResponsePromise(t),Promise.reject(t))))});var _S,JB=$(()=>{_S=ye(Nn(),1);Fe();fa();rr();de||(_S.default.interceptors.request.use(async t=>{if(t.use_auth!==!1){let e=Vt?.getState();t.headers.Authorization===void 0&&e&&e.auth.data&&e.auth.data.access_token&&(t.headers.Authorization=`Bearer ${e.auth.data.access_token}`)}return t}),_S.default.interceptors.response.use(void 0,t=>(t.response?.status===403&&Vt.dispatch({type:Oe.AUTHENTICATE_USER_REJECTED,payload:{}}),Promise.reject(t))))});var eU=$(()=>{});var tU=$(()=>{});var rU,iU=$(()=>{Yg();X1();gg();Q1();tS();rU={grid:ao,columnized:_s,slideshow:xr,freeform:ti,justify:lo}});var Xue={};var nU,oU=$(()=>{kr();fa();nU=ye(p0(),1);Pr();U0();rr();Ut();iU();Wr();Tg();window.getClientAPI=()=>({actions:R0,reducers:B0,selectors:We,history:so,store:Vt,globals:A0,addReduxMiddleWare:nU.addMiddleware,combineReducers:Xn,galleryData:rU,editorOverlayAPI:et,toggleOverlay:ei.toggleOverlay,openOverlay:ei.openOverlay,closeOverlay:ei.closeOverlay})});var sU,aU,NBe,Vt,so,lU,Ap,fa=$(()=>{ke();gt();sU=ye(Xh(),1);ss();Fe();tf();aU=ye(Pe(),1),NBe=ye(Nn(),1);Tk();rr();Mk();KB();Hr();Ji();XB();QB();JB();eU();tU();fe();!de&&Dr&&(oU(),Fc(Xue));({store:Vt}=Ak()),lU=!1,Ap=Vt.getState().site;!de&&Ap&&!Dr&&!as&&Ap.domain_active===!0&&Ap.domain&&Ap.domain!==window.location.host&&(console.log("Redirecting to correct domain"),window.location.hostname=Ap.domain,lU=!0);if(!de&&!lU){so=ef(),nt.setupStore(Vt),ZB(Vt);let t;try{t=localStorage.getItem("c3-auth")}catch(o){console.log("unable to retrieve stored auth",o)}let e=new URLSearchParams(window.location.search);if(e.has("auth"))try{Vt.dispatch({type:Oe.AUTHENTICATE_USER_FULFILLED,payload:{authenticated:!0,data:JSON.parse(e.get("auth"))}}),e.delete("auth");let o=e.toString();o.length>0&&(o="?"+o),window.history.replaceState({},document.title,window.location.origin+window.location.pathname+o)}catch(o){console.error("unable to use querystring auth",o)}else if(t)try{Vt.dispatch({type:Oe.AUTHENTICATE_USER_FULFILLED,payload:{authenticated:!0,data:JSON.parse(t)}})}catch(o){console.error("unable to retrieve stored auth",o)}window.history.scrollRestoration&&(window.history.scrollRestoration="manual");let r={};so.push=aU.default.wrap(so.push,function(o){r[window.location.pathname]=document.scrollingElement.scrollTop;var s=Array.prototype.slice.call(arguments);let a=s[1]||"";if(!(a.startsWith("#")&&a.length>1||s.some(l=>l.preventScrollReset===!0))){let l=Vt.getState().frontendState.activePID,p=Vt.getState().frontendState.activeTag,f=null,c=Vt.subscribe(()=>{clearTimeout(f);let m=Vt.getState();if(m.frontendState.activePID&&m.frontendState.activePID!==l||m.frontendState.activeTag&&m.frontendState.activeTag.url!==p?.url){document.scrollingElement.scrollTo({top:0,left:0,behavior:"instant"});let v=document.scrollingElement.scrollHeight;$0(10,()=>{let g=document.scrollingElement.scrollHeight;v!==g&&(document.scrollingElement.scrollTo({top:0,left:0,behavior:"instant"}),v=g)}),c()}else f=setTimeout(()=>{c()},4e3)})}s.shift(),o.apply(this,s)}),window.addEventListener("popstate",o=>{let s=window.location.pathname,a=so.location.pathname;if(window.location.hash.length>1)return;r[a]=document.scrollingElement.scrollTop;let l=Vt.getState().frontendState.activePID,p=Vt.getState().frontendState.activeTag,f=Vt.subscribe(()=>{let c=Vt.getState();if((c.frontendState.activePID&&c.frontendState.activePID!==l||c.frontendState.activeTag&&c.frontendState.activeTag.url!==p?.url)&&r.hasOwnProperty(s)){let m=c.frontendState.activePID;setTimeout(async()=>{let v=0,g=!0;for(;g&&c.frontendState.activePID===m;)v>10&&(g=!1),document.scrollingElement.scrollHeight>=r[s]&&(document.scrollingElement.scrollTo({top:r[s],left:0,behavior:"instant"}),g=!1),v++,await new Promise(x=>setTimeout(x,100))}),f()}})});let i=S(Gy,{store:Vt,children:S(Ys,{history:so,children:S(sU.Frontload,{noServerRender:!0,children:S(GB,{})})})}),n=document.body;n.querySelector(".content")!==null?Wc(i,n):Ws(i,n),requestAnimationFrame(()=>{document.body.style.opacity=""})}});fa();export{so as history,Vt as store};
/*! lightbox - v1.0.0 Build date: 2017-10-10
	Wrapper for PhotoSwipe (http://photoswipe.com) Copyright (c) 2015 Dmitry Semenov
	*/
/*! PhotoSwipe - v4.1.2 - 2017-04-05
* http://photoswipe.com
* Copyright (c) 2017 Dmitry Semenov; */
/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24
 * http://photoswipe.com
 * Copyright (c) 2015 Dmitry Semenov; */
/*! Bundled license information:

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=https://build.cargo.site/frontend/4ede51/index.js.map
